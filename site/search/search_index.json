{"config":{"lang":["en","zh"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u9996\u9875","text":"<p>\u672c\u77e5\u8bc6\u5e93\u57fa\u4e8e Material for MkDocs \u8fdb\u884c\u90e8\u7f72\uff0c\u5176\u7ad9\u70b9\u6587\u7ae0\u4e3b\u8981\u8bb0\u5f55\u4e2a\u4eba\u7684 \u65e5\u5e38\uff0c\u5305\u542b\u5bf9\u4e8e\u4e92\u8054\u7f51 IT\u3001\u8fd0\u7ef4\u3001\u5de5\u4f5c\u751f\u6d3b\u7684\u76f8\u5173\u6587\u7ae0\u6c47\u603b\u3002</p> <p></p> <p> </p> <p>\u5e0c\u671b\u6240\u6709\u8bfb\u5230\u6b64\u535a\u5ba2\u6587\u7ae0\u7684\u8bfb\u8005\u90fd\u6709\u6240\u6536\u83b7</p> <p>\u613f\u4e0a\u5e1d\u8d50\u4e88\u6211\u5e73\u9759\uff0c\u8ba9\u6211\u80fd\u63a5\u7eb3\u6211\u65e0\u6cd5\u6539\u53d8\u7684\u4e8b\uff1b</p> <p>\u613f\u4e0a\u5e1d\u8d50\u4e88\u6211\u52c7\u6c14\uff0c\u8ba9\u6211\u80fd\u6539\u53d8\u6211\u53ef\u4ee5\u6539\u53d8\u7684\u4e8b\uff1b</p> <p>\u5e76\u8d50\u4e88\u6211\u667a\u6167\uff0c\u8ba9\u6211\u80fd\u5206\u8fa8\u8fd9\u4e24\u8005\u7684\u4e0d\u540c\u3002\u7528\u5fc3\u751f\u6d3b\u6bcf\u4e00\u5929\uff1b</p> <p>\u7528\u7075\u9b42\u4eab\u53d7\u6bcf\u4e2a\u65f6\u523b\uff1b\u627f\u53d7\u78e8\u96be\uff0c\u56e0\u4e3a\u5b83\u662f\u901a\u5411\u5b89\u5b81\u7684\u5fc5\u7ecf\u4e4b\u8def\u3002</p> <p>\u6548\u6cd5\u8036\u7a23\uff0c\u770b\u6e05\u8fd9\u4e2a\u7f6a\u6076\u7684\u4e16\u754c\uff0c</p> <p>\u63a5\u53d7\u5b83\u539f\u672c\u7684\u6837\u5b50\uff0c\u800c\u4e0d\u662f\u6211\u6240\u671f\u76fc\u7684\u6837\u5b50\uff1b</p> <p>\u76f8\u4fe1\u53ea\u8981\u670d\u4ece\u795e\u7684\u65e8\u610f\uff0c\u795e\u5c31\u80fd\u5e87\u4f51\u4e00\u5207\uff1b</p> <p>\u8fd9\u6837\uff0c\u8fd9\u4e00\u751f\u6211\u5c31\u6709\u7406\u7531\u5f97\u5230\u5feb\u4e50\uff0c\u5e76\u5728\u5929\u5802\u4e0e\u60a8\u4e00\u8d77\u5f97\u5230\u6781\u4e50\u3002</p>"},{"location":"#\u7279\u522b\u8bf4\u660e","title":"\u7279\u522b\u8bf4\u660e","text":"<p>\u4e3a\u4ec0\u4e48\u9009\u62e9 Mkdocs\uff0c\u5c24\u5176\u662f Material for MkDocs\uff0c\u4e3b\u8981\u57fa\u4e8e\u4e0b\u9762\u51e0\u70b9\u8003\u8651\uff1a</p> <ol> <li>\u8fd9\u662f\u4e00\u4e2a\u57fa\u4e8e Python \u7684\u9759\u6001\u7ad9\u70b9\u751f\u6210\u5668\uff0c\u800c\u81ea\u5df1\u5bf9 Python \u4e5f\u6bd4\u8f83\u719f\u6089\uff1b</li> <li>\u652f\u6301 Markdown\uff1b</li> <li>\u652f\u6301\u5168\u6587\u641c\u7d22\uff1b</li> <li>\u63d2\u4ef6\u4e30\u5bcc\uff1b</li> <li>\u53ef\u4ee5\u76f4\u63a5\u6258\u7ba1\u5728 GitHub\uff1b</li> <li>Material for MkDocs \u7684\u4e00\u4e9b\u7406\u5ff5(\u5982, Insiders)\u3002</li> <li>Material for MkDocs \u7684\u793e\u533a\u6d3b\u8dc3\uff0c\u5f88\u591a\u95ee\u9898\u5728 Discussions \u90fd\u80fd\u5f97\u5230\u53ca\u65f6\u53cb\u597d\u7684\u89e3\u51b3\u3002</li> </ol>"},{"location":"bat/","title":"Bat\u4ecb\u7ecd","text":"<p>\u5728\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u4e2d\uff0cBat \u6a21\u5757\u662f\u8bb0\u5f55\u6211\u5728 Windows \u73af\u5883\u4e0b\u4f7f\u7528\u6279\u5904\u7406\u811a\u672c (Bat) \u8fdb\u884c\u81ea\u52a8\u5316\u4efb\u52a1\u5904\u7406\u7684\u7ecf\u9a8c\u4e4b\u5730\u3002Bat \u6587\u4ef6\u662f Windows \u7cfb\u7edf\u4e2d\u7684\u4e00\u79cd\u811a\u672c\u6587\u4ef6\uff0c\u80fd\u591f\u901a\u8fc7\u7b80\u5355\u7684\u547d\u4ee4\u884c\u6307\u4ee4\u5b9e\u73b0\u81ea\u52a8\u5316\u4efb\u52a1\u3002\u901a\u8fc7 Bat \u811a\u672c\uff0c\u6211\u53ef\u4ee5\u7f16\u5199\u5e76\u6267\u884c\u4e00\u7cfb\u5217\u64cd\u4f5c\uff0c\u4f8b\u5982\u6587\u4ef6\u7ba1\u7406\u3001\u7cfb\u7edf\u914d\u7f6e\u548c\u5b9a\u65f6\u4efb\u52a1\u7b49\uff0c\u6781\u5927\u5730\u7b80\u5316\u4e86\u65e5\u5e38\u64cd\u4f5c\u6d41\u7a0b\u3002\u65e0\u8bba\u662f\u5feb\u901f\u90e8\u7f72\u5de5\u5177\uff0c\u8fd8\u662f\u6279\u91cf\u5904\u7406\u6587\u4ef6\uff0cBat \u90fd\u5e2e\u52a9\u6211\u5728 Windows \u73af\u5883\u4e2d\u5b9e\u73b0\u4e86\u9ad8\u6548\u7684\u4efb\u52a1\u81ea\u52a8\u5316\u3002</p>"},{"location":"bat/git/","title":"Git","text":"Text Only<pre><code>@echo off\nchcp 65001 &gt;null\n:: Git Account Switcher Script\n:: Date: %date%\n\n:: \u5b9a\u4e49\u8d26\u53f7\u4fe1\u606f\n:: \u5728\u8fd9\u91cc\u6dfb\u52a0\u4f60\u7684 Git \u8d26\u53f7\u540d\u79f0\u548c\u5bf9\u5e94\u7684\u90ae\u7bb1\nsetlocal EnableDelayedExpansion\n\n:: \u6dfb\u52a0\u8d26\u53f7 - \u683c\u5f0f\uff1a\u8d26\u53f7\u6807\u8bc6=\u7528\u6237\u540d,\u90ae\u7bb1\nset accounts[1]=31314,zhongjinlin31314@sunline.cn\nset accounts[2]=joshzhong66,josh.zhong66@gmail.com\nset accounts[3]=YourPersonalName,personal@example.com\n\n:: \u663e\u793a\u53ef\u7528\u8d26\u53f7\necho ===========================================\necho          Git Account Switcher\necho ===========================================\necho.\necho git\u8d26\u53f7\u5217\u8868\u5982\u4e0b:\nfor %%i in (1,2,3) do (\n    set \"value=!accounts[%%i]!\"\n    for /f \"tokens=1,2 delims=,\" %%a in (\"!value!\") do (\n        echo   %%i. %%a [%%b]\n    )\n)\necho.\necho   0. Exit\necho.\n\n:: \u63d0\u793a\u7528\u6237\u9009\u62e9\n:choice\nset /p \"selection=\u8bf7\u9009\u62e9\u8981\u4f7f\u7528\u7684\u8d26\u53f7 [0-3]: \"\n\n:: \u9a8c\u8bc1\u8f93\u5165\nif \"%selection%\"==\"0\" (\n    echo Exiting.\n    goto end\n) else if \"%selection%\"==\"\" (\n    echo [Error] \u8bf7\u8f93\u5165\u6709\u6548\u7684\u6570\u5b57.\n    goto choice\n) else if %selection% GTR 3 (\n    echo [Error] \u9009\u62e9\u8d85\u51fa\u8303\u56f4\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165.\n    goto choice\n) else (\n    set \"selected_value=!accounts[%selection%]!\"\n    for /f \"tokens=1,2 delims=,\" %%a in (\"!selected_value!\") do (\n        set \"selected_name=%%a\"\n        set \"selected_email=%%b\"\n    )\n)\n\n:: \u9009\u62e9\u914d\u7f6e\u8303\u56f4\necho.\necho Configuration Scope:\n:: 1. \u5168\u5c40\u914d\u7f6e (\u5f71\u54cd\u6240\u6709\u4ed3\u5e93)\necho   1. Global (affects all repositories)\n:: 2. \u5f53\u524d\u4ed3\u5e93 (\u4ec5\u5f71\u54cd\u5f53\u524d\u4ed3\u5e93)\necho   2. Current Repository (only affects this repository)\necho.\n:scope_choice\nset /p \"scope=Select a configuration scope [1-2]: \"\n\nif \"%scope%\"==\"1\" (\n    set \"config_scope=--global\"\n) else if \"%scope%\"==\"2\" (\n    set \"config_scope=\"\n) else (\n    echo [Error] Please enter a valid option.\n    goto scope_choice\n)\n\n:: \u5e94\u7528\u914d\u7f6e\ngit config %config_scope% user.name \"%selected_name%\"\ngit config %config_scope% user.email \"%selected_email%\"\n\n:: \u663e\u793a\u7ed3\u679c\necho.\necho [Success] \u5df2\u5c06 Git \u8d26\u53f7\u5207\u6362\u4e3a:\necho   Name: %selected_name%\necho   Email: %selected_email%\necho.\necho Current Git configuration:\ngit config %config_scope% --list\necho.\n\n:end\npause\n</code></pre>"},{"location":"blog/","title":"Jerion \u7684\u4e2a\u4eba\u535a\u5ba2","text":"<p>\u6b22\u8fce\u6765\u5230\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\uff01\u8fd9\u662f\u4e00\u4e2a\u8bb0\u5f55\u6211\u5728\u6280\u672f\u9886\u57df\u63a2\u7d22\u4e0e\u751f\u6d3b\u4e2d\u70b9\u6ef4\u611f\u609f\u7684\u6570\u5b57\u7a7a\u95f4\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u5c06\u5206\u4eab\u5173\u4e8e Linux \u7cfb\u7edf\u7684\u6df1\u5ea6\u5b66\u4e60\u3001\u7f51\u7edc\u4e16\u754c\u7684\u63a2\u7d22\u5fc3\u5f97\uff0c\u4ee5\u53ca\u6211\u5bf9\u751f\u6d3b\u548c\u4e2a\u4eba\u6210\u957f\u7684\u70b9\u6ef4\u601d\u8003\u3002\u65e0\u8bba\u4f60\u662f\u5bf9\u6280\u672f\u5145\u6ee1\u70ed\u60c5\uff0c\u8fd8\u662f\u60f3\u5728\u5fd9\u788c\u4e2d\u5bfb\u627e\u4e00\u4e1d\u5b81\u9759\uff0c\u6211\u90fd\u5e0c\u671b\u4f60\u80fd\u5728\u8fd9\u91cc\u627e\u5230\u5171\u9e23\u548c\u542f\u53d1\u3002</p>"},{"location":"blog/#-linux-\u63a2\u7d22\u4e4b\u65c5","title":"\ud83d\udda5\ufe0f Linux \u63a2\u7d22\u4e4b\u65c5","text":"<p>Linux \u662f\u6211\u804c\u4e1a\u751f\u6daf\u548c\u4e2a\u4eba\u5174\u8da3\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\u3002\u5728\u8fd9\u4e2a\u7248\u5757\uff0c\u6211\u5c06\u5206\u4eab\u591a\u5e74\u6765\u79ef\u7d2f\u7684\u7ecf\u9a8c\u3001\u6559\u7a0b\u548c\u6700\u4f73\u5b9e\u8df5\u3002\u4ece\u638c\u63e1\u547d\u4ee4\u884c\u5de5\u5177\u5230\u914d\u7f6e\u590d\u6742\u7684\u670d\u52a1\u5668\u73af\u5883\uff0cLinux \u7248\u5757\u662f\u4e00\u4e2a\u4e3a\u521d\u5b66\u8005\u548c\u8d44\u6df1\u7cfb\u7edf\u7ba1\u7406\u5458\u63d0\u4f9b\u77e5\u8bc6\u7684\u5b9d\u5e93\u3002\u4f60\u53ef\u4ee5\u671f\u5f85\uff1a</p> <ul> <li>\u64cd\u4f5c\u6307\u5357\uff1a\u6db5\u76d6\u5e38\u89c1\u548c\u9ad8\u7ea7 Linux \u4efb\u52a1\u7684\u9010\u6b65\u64cd\u4f5c\u6307\u5357\u3002</li> <li>\u6545\u969c\u6392\u9664\u6280\u5de7\uff1a\u5e2e\u52a9\u4f60\u89e3\u51b3\u5728\u4f7f\u7528 Linux \u8fc7\u7a0b\u4e2d\u53ef\u80fd\u9047\u5230\u7684\u5e38\u89c1\u95ee\u9898\u3002</li> <li>\u811a\u672c\u4e0e\u81ea\u52a8\u5316\uff1a\u5206\u4eab\u4e00\u4e9b\u5b9e\u7528\u7684 Shell \u811a\u672c\u548c\u81ea\u52a8\u5316\u6280\u5de7\uff0c\u5e2e\u52a9\u4f60\u4f18\u5316\u5de5\u4f5c\u6d41\u7a0b\u3002</li> <li>\u5b89\u5168\u5b9e\u8df5\uff1a\u63d0\u4f9b\u5982\u4f55\u4fdd\u62a4\u4f60\u7684 Linux \u7cfb\u7edf\u514d\u53d7\u6f0f\u6d1e\u548c\u5a01\u80c1\u7684\u5efa\u8bae\u3002</li> </ul>"},{"location":"blog/#-\u7f51\u7edc\u4e16\u754c\u63a2\u7d22","title":"\ud83c\udf10 \u7f51\u7edc\u4e16\u754c\u63a2\u7d22","text":"<p>\u4e92\u8054\u7f51\u662f\u73b0\u4ee3\u901a\u4fe1\u7684\u57fa\u77f3\uff0c\u7406\u89e3\u7f51\u7edc\u5bf9\u4e8e\u5f53\u4eca\u4e92\u8054\u4e16\u754c\u81f3\u5173\u91cd\u8981\u3002\u5728\u8fd9\u4e2a\u90e8\u5206\uff0c\u6211\u5c06\u590d\u6742\u7684\u7f51\u7edc\u6982\u5ff5\u5206\u89e3\u4e3a\u6613\u4e8e\u7406\u89e3\u7684\u5185\u5bb9\uff0c\u7ed3\u5408\u7406\u8bba\u4e0e\u5b9e\u8df5\uff0c\u5e26\u4f60\u4e00\u8d77\u63a2\u7d22\u7f51\u7edc\u7684\u5965\u79d8\u3002\u4e3b\u8981\u5185\u5bb9\u5305\u62ec\uff1a</p> <ul> <li>\u7f51\u7edc\u914d\u7f6e\uff1a\u8be6\u7ec6\u7684\u7f51\u7edc\u914d\u7f6e\u6307\u5357\uff0c\u4ece\u57fa\u7840\u8bbe\u7f6e\u5230\u9ad8\u7ea7\u4f18\u5316\u3002</li> <li>\u534f\u8bae\u4e0e\u67b6\u6784\uff1a\u6df1\u5165\u89e3\u6790 TCP/IP \u7b49\u6838\u5fc3\u7f51\u7edc\u534f\u8bae\u53ca\u5176\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u7684\u91cd\u8981\u6027\u3002</li> <li>\u6545\u969c\u6392\u67e5\uff1a\u5982\u4f55\u8bca\u65ad\u548c\u89e3\u51b3\u7f51\u7edc\u6545\u969c\uff0c\u786e\u4fdd\u7cfb\u7edf\u7684\u9ad8\u6548\u8fd0\u884c\u3002</li> <li>\u5b89\u5168\u4e0e\u9632\u62a4\uff1a\u4ecb\u7ecd\u7f51\u7edc\u5b89\u5168\u7b56\u7565\u548c\u9632\u706b\u5899\u8bbe\u7f6e\uff0c\u4ee5\u4fdd\u62a4\u4f60\u7684\u7f51\u7edc\u73af\u5883\u3002</li> </ul>"},{"location":"blog/#-\u4e2a\u4eba\u968f\u7b14","title":"\u270d\ufe0f \u4e2a\u4eba\u968f\u7b14","text":"<p>\u5728\u8fd9\u91cc\uff0c\u6211\u5c06\u5206\u4eab\u751f\u6d3b\u4e2d\u7684\u70b9\u6ef4\u611f\u609f\u548c\u601d\u8003\u3002\u8fd9\u4e9b\u968f\u7b14\u53ef\u80fd\u662f\u5bf9\u67d0\u4e2a\u4e8b\u4ef6\u7684\u53cd\u601d\uff0c\u4e5f\u53ef\u80fd\u662f\u5bf9\u672a\u6765\u7684\u5c55\u671b\uff0c\u751a\u81f3\u662f\u4e00\u4e9b\u5173\u4e8e\u4eba\u751f\u7684\u54f2\u7406\u3002\u751f\u6d3b\u4e0d\u4ec5\u4ec5\u662f\u6280\u672f\uff0c\u66f4\u662f\u5185\u5fc3\u7684\u6210\u957f\u4e0e\u4f53\u609f\u3002</p>"},{"location":"blog/#-\u751f\u6d3b\u70b9\u6ef4","title":"\ud83c\udf31 \u751f\u6d3b\u70b9\u6ef4","text":"<p>\u751f\u6d3b\u4e0d\u4ec5\u9650\u4e8e\u5de5\u4f5c\uff0c\u8fd8\u6709\u8bb8\u591a\u503c\u5f97\u8bb0\u5f55\u7684\u77ac\u95f4\u3002\u5728\u8fd9\u4e2a\u90e8\u5206\uff0c\u6211\u4f1a\u5206\u4eab\u4e00\u4e9b\u4e0e\u5bb6\u4eba\u670b\u53cb\u7684\u76f8\u5904\u3001\u65c5\u884c\u4e2d\u7684\u7f8e\u597d\u77ac\u95f4\u3001\u6216\u8005\u662f\u65e5\u5e38\u751f\u6d3b\u4e2d\u7684\u4e00\u4e9b\u5c0f\u786e\u5e78\u3002\u5e0c\u671b\u8fd9\u4e9b\u8bb0\u5f55\u80fd\u591f\u4e3a\u4f60\u5e26\u6765\u4e00\u4e1d\u6e29\u6696\u548c\u5feb\u4e50\u3002</p> <p>\u611f\u8c22\u4f60\u8bbf\u95ee\u6211\u7684\u535a\u5ba2\uff0c\u5e0c\u671b\u4f60\u5728\u8fd9\u91cc\u5ea6\u8fc7\u6109\u5feb\u7684\u65f6\u5149\u3002\u5982\u679c\u4f60\u6709\u4efb\u4f55\u95ee\u9898\u6216\u5efa\u8bae\uff0c\u6b22\u8fce\u968f\u65f6\u4e0e\u6211\u8054\u7cfb\uff01</p>"},{"location":"docker/","title":"Docker\u4ecb\u7ecd","text":"<p>\u5728\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u4e2d\uff0cDocker \u6a21\u5757\u662f\u8bb0\u5f55\u6211\u5728\u5bb9\u5668\u5316\u6280\u672f\u548c\u5e94\u7528\u90e8\u7f72\u4e2d\u7684\u5b9e\u8df5\u7ecf\u9a8c\u7684\u5730\u65b9\u3002Docker \u662f\u4e00\u79cd\u5f00\u6e90\u7684\u5bb9\u5668\u5e73\u53f0\uff0c\u5b83\u4f7f\u5f97\u5e94\u7528\u7a0b\u5e8f\u7684\u6253\u5305\u3001\u5206\u53d1\u548c\u8fd0\u884c\u53d8\u5f97\u66f4\u52a0\u8f7b\u677e\u548c\u9ad8\u6548\u3002\u901a\u8fc7\u5c06\u5e94\u7528\u53ca\u5176\u4f9d\u8d56\u5c01\u88c5\u5728\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u5bb9\u5668\u4e2d\uff0cDocker \u5e2e\u52a9\u6211\u5728\u4e0d\u540c\u73af\u5883\u4e0b\u5b9e\u73b0\u4e00\u81f4\u7684\u8fd0\u884c\u6548\u679c\uff0c\u4ece\u5f00\u53d1\u5230\u751f\u4ea7\u90e8\u7f72\uff0c\u4e00\u5207\u90fd\u53d8\u5f97\u66f4\u52a0\u7b80\u5355\u548c\u53ef\u63a7\u3002\u65e0\u8bba\u662f\u5355\u4e2a\u670d\u52a1\u7684\u5bb9\u5668\u5316\uff0c\u8fd8\u662f\u590d\u6742\u7684\u5fae\u670d\u52a1\u67b6\u6784\uff0cDocker \u90fd\u4e3a\u6211\u7684\u9879\u76ee\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u652f\u6301\u548c\u7075\u6d3b\u6027\u3002</p>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/","title":"docker compose\u5b89\u88c5\u53ca\u53c2\u6570\u8bf4\u660e","text":""},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#\u4e00\u5b89\u88c5docker-copose-v1","title":"\u4e00\u3001\u5b89\u88c5docker-copose v1","text":""},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#1\u4e0b\u8f7ddocker-compose","title":"1.\u4e0b\u8f7dDocker Compose","text":"<p>\u53ef\u4ee5\u8bbf\u95ee\u5b98\u65b9GitHub\u4ed3\u5e93\u67e5\u627e\u6700\u65b0\u7248\u672c\u3002\u4ee5\u4e0b\u547d\u4ee4\u4e0b\u8f7d\u4e00\u4e2a\u5e38\u7528\u7684\u7248\u672c\uff0c\u4f46\u8bf7\u786e\u8ba4\u662f\u5426\u6709\u66f4\u65b0\u7684\u7248\u672c\u53ef\u7528\uff1a</p> Bash<pre><code>curl -L \"https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#2\u8d4b\u6743\u4f7f\u4e8c\u8fdb\u5236\u6587\u4ef6\u53ef\u6267\u884c","title":"2.\u8d4b\u6743\u4f7f\u4e8c\u8fdb\u5236\u6587\u4ef6\u53ef\u6267\u884c","text":"Bash<pre><code>chmod +x /usr/local/bin/docker-compose\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#3\u6d4b\u8bd5\u5b89\u88c5","title":"3.\u6d4b\u8bd5\u5b89\u88c5","text":"Bash<pre><code>docker-compose --version\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#4\u542f\u52a8\u505c\u6b62","title":"4.\u542f\u52a8\u505c\u6b62","text":"<p>\uff081\uff09\u5728\u540e\u53f0\u542f\u52a8\u6240\u6709\u670d\u52a1\uff1a</p> Bash<pre><code>docker-compose up -d\n</code></pre> <p>\uff082\uff09\u505c\u6b62\u5e76\u79fb\u9664\u6240\u6709\u670d\u52a1\uff0c\u4ee5\u53ca\u9ed8\u8ba4\u521b\u5efa\u7684\u7f51\u7edc\u3002\u5982\u679c\u52a0\u4e0a-v\u53c2\u6570\uff0c\u5219\u540c\u65f6\u79fb\u9664\u76f8\u5173\u7684\u5377\uff1a</p> Bash<pre><code>docker-compose down\n</code></pre> <p>\uff083\uff09\u67e5\u770b\u540e\u53f0\u542f\u52a8\u65e5\u5fd7\uff1a</p> Bash<pre><code>docker-comose logs \u5bb9\u5668id\n</code></pre> <p>\uff084\uff09\u5378\u8f7ddocker compose v1\uff1a</p> Bash<pre><code>rm -rf /usr/local/bin/docker-compose\n</code></pre> <p>\u4e0a\u8ff0\u4e3a\u4e8c\u8fdb\u5236\u5b89\u88c5\uff0c\u76f4\u63a5\u5220\u9664\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5373\u53ef\u5378\u8f7ddocker-compose v1\u3002</p>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#\u4e8c\u5b89\u88c5docker-compose-v2","title":"\u4e8c\u3001\u5b89\u88c5docker compose v2","text":""},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#1compose\u5b98\u7f51\u4e0b\u8f7d\u5730\u5740","title":"1.compose\u5b98\u7f51\u4e0b\u8f7d\u5730\u5740","text":"<p>\u4e0b\u8f7dcompose v2\uff1a</p> Bash<pre><code>DOCKER_CONFIG=${DOCKER_CONFIG:-$HOME/.docker}\n\nmkdir -p $DOCKER_CONFIG/cli-plugins\n\ncurl -SL  https://github.com/docker/compose/releases/download/v2.3.4/docker-compose-linux-x86_64 -o $DOCKER_CONFIG/cli-plugins/docker-compose\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#2\u8d4b\u6743","title":"2.\u8d4b\u6743","text":"Bash<pre><code>chmod +x $DOCKER_CONFIG/cli-plugins/docker-compose\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#3\u6d4b\u8bd5\u5b89\u88c5\u662f\u5426\u6210\u529f","title":"3.\u6d4b\u8bd5\u5b89\u88c5\u662f\u5426\u6210\u529f","text":"Bash<pre><code>[root@zhongjl-test-01 /root]# docker compose version\nDocker Compose version v2.3.4\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#4\u542f\u52a8\u65b9\u5f0f","title":"4.\u542f\u52a8\u65b9\u5f0f","text":"Bash<pre><code>docker compose up -d   # \u4f7f\u7528\u6b64\u547d\u4ee4\u9700\u8981\u5728\u62e5\u6709yml\u6587\u4ef6\u7684\u76ee\u5f55\u4e0b\u6267\u884c\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#\u4e09\u76f8\u5173\u8bf4\u660e","title":"\u4e09\u3001\u76f8\u5173\u8bf4\u660e","text":""},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#1docker-compose-up--d-\u548c-docker-compose-up--d-\u7684\u533a\u522b","title":"1.<code>docker-compose up -d</code> \u548c <code>docker compose up -d</code> \u7684\u533a\u522b","text":"<p>\u200b       \u4e3b\u8981\u533a\u522b\u5728\u4e8e\u547d\u4ee4\u7684\u4e66\u5199\u683c\u5f0f\u3002</p> <ul> <li><code>docker-compose up -d</code>\uff1a\u8fd9\u662f\u65e7\u7248\u672c\u7684 Docker Compose \u547d\u4ee4\u683c\u5f0f\u3002\u5728\u8f83\u65e9\u7684\u7248\u672c\u4e2d\uff0c\u4f7f\u7528 <code>docker-compose</code> \u547d\u4ee4\u6765\u64cd\u4f5c Docker Compose \u76f8\u5173\u7684\u529f\u80fd\u3002\u56e0\u6b64\uff0c<code>docker-compose up -d</code> \u8868\u793a\u4f7f\u7528 <code>docker-compose</code> \u5de5\u5177\u6765\u542f\u52a8\u5bb9\u5668\u670d\u52a1\u5e76\u5728\u540e\u53f0\u8fd0\u884c\u3002</li> <li><code>docker compose up -d</code>\uff1a\u8fd9\u662f\u65b0\u7248\u672c Docker Compose \u7684\u547d\u4ee4\u683c\u5f0f\u3002\u5728\u8f83\u65b0\u7684\u7248\u672c\u4e2d\uff0cDocker \u5c06 Docker Compose \u7684\u529f\u80fd\u6574\u5408\u5230\u4e86 Docker CLI \u4e2d\uff0c\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 <code>docker compose</code> \u547d\u4ee4\u6765\u64cd\u4f5c Docker Compose \u76f8\u5173\u7684\u529f\u80fd\u3002\u6240\u4ee5\uff0c<code>docker compose up -d</code> \u8868\u793a\u4f7f\u7528 Docker CLI \u4e2d\u7684 <code>compose</code> \u5b50\u547d\u4ee4\u6765\u542f\u52a8\u5bb9\u5668\u670d\u52a1\u5e76\u5728\u540e\u53f0\u8fd0\u884c\u3002</li> </ul> <p>\u200b       \u603b\u7684\u6765\u8bf4\uff0c\u4e24\u8005\u7684\u529f\u80fd\u662f\u76f8\u540c\u7684\uff0c\u53ea\u662f\u547d\u4ee4\u683c\u5f0f\u7565\u6709\u4e0d\u540c\u3002\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u8f83\u65b0\u7248\u672c\u7684 Docker \u548c Docker Compose\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>docker compose up -d</code> \u6765\u542f\u52a8\u5bb9\u5668\u670d\u52a1\u3002\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u8f83\u65e7\u7248\u672c\u7684 Docker Compose\uff0c\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528 <code>docker-compose up -d</code> \u547d\u4ee4\u3002</p>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#2docker-compose-up--d-\u547d\u4ee4","title":"2.<code>docker compose up -d</code> \u547d\u4ee4","text":"<p>\u200b       \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u67e5\u627e <code>docker-compose.yml</code> \u6216 <code>docker-compose.yaml</code> \u6587\u4ef6\uff0c\u5e76\u57fa\u4e8e\u8be5\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u670d\u52a1\u914d\u7f6e\u6765\u542f\u52a8\u5bb9\u5668\u670d\u52a1\u3002\u5982\u679c\u5f53\u524d\u76ee\u5f55\u4e0b\u6709\u591a\u4e2a\u4e0d\u540c\u7684 yml \u6587\u4ef6\uff0c\u53ea\u6709\u6700\u5148\u627e\u5230\u7684\u6587\u4ef6\u4f1a\u88ab\u7528\u6765\u542f\u52a8\u670d\u52a1\u3002</p> <p>\u200b       \u5982\u679c\u60f3\u5728\u4e0d\u540c\u8def\u5f84\u4e0b\u8fd0\u884c\u4e0d\u540c\u7684 <code>docker-compose.yml</code> \u6587\u4ef6\uff0c\u53ef\u4ee5\u5728\u8fd0\u884c\u547d\u4ee4\u65f6\u6307\u5b9a\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u4f8b\u5982\uff1a</p> Bash<pre><code>docker compose -f /path/to/your/docker-compose.yml up -d\n</code></pre> <p>\u200b       \u8fd9\u6837\u5c31\u53ef\u4ee5\u6307\u5b9a\u8981\u4f7f\u7528\u7684 <code>docker-compose.yml</code> \u6587\u4ef6\u8def\u5f84\uff0c\u4ece\u800c\u786e\u4fdd\u4f60\u8fd0\u884c\u7684\u662f\u7279\u5b9a\u8def\u5f84\u4e0b\u7684\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u670d\u52a1\u3002</p>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#3docker-compose\u4e2d\u7684version\u53c2\u6570\u8bf4\u660e","title":"3.<code>docker compose</code>\u4e2d\u7684<code>version</code>\u53c2\u6570\u8bf4\u660e","text":"<p>\u200b       \u7528\u4e8e\u6307\u5b9a Docker Compose \u6587\u4ef6\u7684\u8bed\u6cd5\u7248\u672c\u3002\u4e0d\u540c\u7248\u672c\u7684 Docker Compose \u6587\u4ef6\u683c\u5f0f\u548c\u652f\u6301\u7684\u529f\u80fd\u53ef\u80fd\u6709\u6240\u4e0d\u540c\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4e3b\u8981\u7248\u672c\u7684\u8bf4\u660e\uff1a</p> <ul> <li>Version 1\uff1a\u521d\u59cb\u7248\u672c\uff0c\u529f\u80fd\u6709\u9650\uff0c\u914d\u7f6e\u8f83\u7b80\u5355\u3002</li> <li>Version 2\uff1a\u5f15\u5165\u4e86\u66f4\u591a\u9ad8\u7ea7\u529f\u80fd\uff0c\u5982\u591a\u5bb9\u5668\u5e94\u7528\u7684\u7f16\u6392\u3001\u7f51\u7edc\u548c\u5377\u7684\u7ba1\u7406\u7b49\u3002</li> <li>Version 3\uff1a\u8fdb\u4e00\u6b65\u6269\u5c55\u4e86\u529f\u80fd\uff0c\u589e\u52a0\u4e86\u5bf9 Swarm \u6a21\u5f0f\u7684\u652f\u6301\uff0c\u66f4\u9002\u5408\u4e8e\u751f\u4ea7\u73af\u5883\u3002</li> </ul> <p>\u200b       \u5728\u4f7f\u7528 Docker Compose \u6587\u4ef6\u65f6\uff0c\u5efa\u8bae\u9075\u5faa\u4ee5\u4e0b\u539f\u5219\uff1a</p> <ul> <li>\u7248\u672c\u9009\u62e9: \u6839\u636e\u4f60\u7684\u9700\u6c42\u548c Docker Compose \u7684\u7248\u672c\u9009\u62e9\u5408\u9002\u7684\u7248\u672c\u3002\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u8f83\u65b0\u7684Docker Compose\uff0c\u5efa\u8bae\u4f7f\u7528 <code>version: \"3.3\"</code> \u6216\u66f4\u65b0\u7248\u672c\u3002</li> <li>\u517c\u5bb9\u6027: \u786e\u4fdd Docker \u5f15\u64ce\u548c Docker Compose \u7248\u672c\u652f\u6301\u4f60\u6307\u5b9a\u7684\u7248\u672c\u3002\u4f8b\u5982\uff0cDocker Compose 1.25.0 \u53ca\u4ee5\u4e0a\u7248\u672c\u652f\u6301 Compose file 3.8\u3002</li> </ul> <p>\u200b       \u4e0d\u5efa\u8bae\u968f\u4fbf\u66f4\u6539 <code>version</code> \u53c2\u6570\uff0c\u7279\u522b\u662f\u4ece\u4f4e\u7248\u672c\u66f4\u6539\u5230\u9ad8\u7248\u672c\uff0c\u56e0\u4e3a\u9ad8\u7248\u672c\u53ef\u80fd\u5305\u542b\u4e00\u4e9b\u65b0\u7279\u6027\u6216\u6539\u53d8\uff0c\u800c\u4f4e\u7248\u672c\u4e0d\u652f\u6301\u8fd9\u4e9b\u7279\u6027\u3002</p>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#4\u901a\u8fc7docker-compose\u521b\u5efa\u540e\u7684\u5bb9\u5668\u7f51\u7edc","title":"4.\u901a\u8fc7Docker Compose\u521b\u5efa\u540e\u7684\u5bb9\u5668\u7f51\u7edc","text":"<p>\u200b       \u901a\u8fc7 Docker Compose \u521b\u5efa\u7684\u5bb9\u5668\u4f1a\u9ed8\u8ba4\u52a0\u5165\u4e00\u4e2a\u65b0\u7684\u7f51\u7edc\uff0c\u7f51\u7edc\u540d\u79f0\u662f\u57fa\u4e8e\u9879\u76ee\u540d\u751f\u6210\u7684\u3002\u9664\u975e\u4f60\u5728Compose\u6587\u4ef6\u4e2d\u660e\u786e\u6307\u5b9a\u4e86\u7f51\u7edc\u914d\u7f6e\u3002</p> <ul> <li>\u9ed8\u8ba4\u884c\u4e3a: \u5982\u679c\u6ca1\u6709\u5728 Compose \u6587\u4ef6\u4e2d\u5b9a\u4e49\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0cDocker Compose \u4f1a\u4e3a\u6bcf\u4e2a\u9879\u76ee\u521b\u5efa\u4e00\u4e2a\u9ed8\u8ba4\u7684\u6865\u63a5\u7f51\u7edc\uff0c\u7f51\u7edc\u540d\u79f0\u901a\u5e38\u662f <code>\u9879\u76ee\u540d_default</code>\u3002</li> <li>\u81ea\u5b9a\u4e49\u7f51\u7edc: \u4f60\u53ef\u4ee5\u5728 Compose \u6587\u4ef6\u4e2d\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0c\u660e\u786e\u5b9a\u4e49\u7f51\u7edc\u540d\u79f0\u548c\u7c7b\u578b\u3002</li> </ul> <p>\u200b       \u5728Docker Compose\u6587\u4ef6\u4e2d\uff0c\u5b9a\u4e49\u7f51\u7edc\u914d\u7f6e\u65f6\uff0c\u8fd8\u53ef\u4ee5\u5728<code>\u670d\u52a1\u7ea7\u522b</code>\u6216<code>\u5168\u5c40\u7ea7\u522b</code>\u8fdb\u884c\u914d\u7f6e\uff0c\u5206\u522b\u4e3a\u4ee5\u4e0b\u4e24\u79cd\u7ba1\u7406\u7f51\u7edc\u7684\u65b9\u5f0f\uff1a</p> <ul> <li>\u663e\u5f0f\u5f15\u7528\u7f51\u7edc\uff1a\u5728\u6bcf\u4e2a\u670d\u52a1\u4e2d\u660e\u786e\u6307\u5b9a\u4f7f\u7528\u7684\u7f51\u7edc\u3002</li> <li>\u5168\u5c40\u5b9a\u4e49\u7f51\u7edc\uff1a\u5728\u5168\u5c40\u7f51\u7edc\u5b9a\u4e49\u90e8\u5206\u96c6\u4e2d\u7ba1\u7406\uff0c\u7136\u540e\u5728\u6bcf\u4e2a\u670d\u52a1\u4e2d\u5f15\u7528\u3002</li> </ul> <p>\u200b       \u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e24\u79cd\u65b9\u5f0f\u5728 Docker Compose \u6587\u4ef6\u4e2d\u7684\u914d\u7f6e\u975e\u5e38\u76f8\u4f3c\uff0c\u4ee5\u81f3\u4e8e\u5728\u6587\u4ef6\u4e2d\u770b\u8d77\u6765\u51e0\u4e4e\u4e00\u6a21\u4e00\u6837\u3002</p>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#5docker-compose\u4e2d\u7684-\u7b26\u53f7","title":"5.docker-compose\u4e2d\u7684<code>-</code>\u7b26\u53f7","text":""},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#51-\u4ec0\u4e48\u60c5\u51b5\u4e0b\u6bcf\u4e2a\u5c5e\u6027\u524d\u8981\u52a0-","title":"5.1 \u4ec0\u4e48\u60c5\u51b5\u4e0b\u6bcf\u4e2a\u5c5e\u6027\u524d\u8981\u52a0<code>-</code>","text":"<p>\u200b       \u5728 YAML \u6587\u4ef6\u4e2d\uff0c\u6bcf\u4e2a\u5c5e\u6027\u524d\u662f\u5426\u9700\u8981\u52a0 <code>-</code> \u53d6\u51b3\u4e8e\u8be5\u5c5e\u6027\u662f\u5355\u72ec\u7684\u952e\u503c\u5bf9\u8fd8\u662f\u5217\u8868\u9879\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u57fa\u672c\u89c4\u5219\u548c\u793a\u4f8b\u3002</p> <p>\u200b       \u57fa\u672c\u89c4\u5219\uff1a</p> <ul> <li>\u952e\u503c\u5bf9\uff1a\u5f53\u5c5e\u6027\u662f\u666e\u901a\u7684\u952e\u503c\u5bf9\u65f6\uff0c\u4e0d\u9700\u8981\u5728\u524d\u9762\u52a0 <code>-</code>\u3002</li> <li>\u5217\u8868\u9879\uff1a\u5f53\u5c5e\u6027\u662f\u5217\u8868\u4e2d\u7684\u4e00\u9879\u65f6\uff0c\u9700\u8981\u5728\u524d\u9762\u52a0 <code>-</code>\u3002</li> </ul> <p>\u200b       \u952e\u503c\u5bf9\u793a\u4f8b\uff1a</p> <p>\u200b       \u666e\u901a\u7684\u952e\u503c\u5bf9\u4e0d\u9700\u8981\u5728\u524d\u9762\u52a0 <code>-</code>\u3002</p> Bash<pre><code>version: '3'\nservices:\n  app:\n    image: myapp:latest\n    environment:\n      MODE: production\n      LOG_LEVEL: INFO\n    networks:\n      - my_custom_network\n</code></pre> <p>\u200b       \u5217\u8868\u9879\u793a\u4f8b\uff1a</p> <p>\u200b       \u5f53\u5c5e\u6027\u662f\u5217\u8868\u4e2d\u7684\u4e00\u9879\u65f6\uff0c\u9700\u8981\u5728\u524d\u9762\u52a0 <code>-</code>\u3002</p> Bash<pre><code>networks:\n  my_custom_network:\n    driver: bridge\n    ipam:\n      config:\n        - subnet: 172.20.0.0/16  # \u5217\u8868\u9879\uff0c\u9700\u8981\u52a0 -\n          gateway: 172.20.0.1\n        - subnet: 172.21.0.0/16  # \u5217\u8868\u9879\uff0c\u9700\u8981\u52a0 -\n          gateway: 172.21.0.1\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#52-\u5982\u4f55\u53db\u53d8\u662f\u5426\u4e3a\u5217\u8868\u9879","title":"5.2 \u5982\u4f55\u53db\u53d8\u662f\u5426\u4e3a\u5217\u8868\u9879","text":"<p>\u200b       \u5224\u65ad\u662f\u5426\u662f\u5217\u8868\u9879\u4e3b\u8981\u770b\u4e0a\u4e0b\u6587\uff0c\u5177\u4f53\u6709\u4ee5\u4e0b\u51e0\u79cd\u60c5\u51b5\uff1a</p> <ul> <li>\u76f4\u63a5\u5b9a\u4e49\u5217\u8868\uff1a\u5982\u679c\u4e00\u4e2a\u952e\u5bf9\u5e94\u7684\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u90a3\u4e48\u5217\u8868\u4e2d\u7684\u6bcf\u4e00\u9879\u524d\u90fd\u9700\u8981\u52a0 <code>-</code>\u3002</li> <li>\u5217\u8868\u4e2d\u7684\u5b57\u5178\uff1a\u5217\u8868\u4e2d\u7684\u6bcf\u4e00\u9879\u5982\u679c\u662f\u5b57\u5178\uff0c\u5219\u6bcf\u4e2a\u5b57\u5178\u524d\u4e5f\u9700\u8981\u52a0 <code>-</code>\u3002</li> </ul> <p>\u200b       \u5224\u65ad\u65b9\u6cd5\u548c\u793a\u4f8b\uff1a</p> <ul> <li>\u76f4\u63a5\u5b9a\u4e49\u5217\u8868\uff1a\u5f53\u67d0\u4e2a\u952e\u7684\u503c\u662f\u4e00\u4e2a\u5217\u8868\u65f6\uff0c\u6bcf\u4e2a\u5217\u8868\u9879\u524d\u9700\u8981\u52a0 <code>-</code>\u3002</li> </ul> Bash<pre><code>services:\n  app:\n    image: myapp:latest\n    networks:\n      - my_custom_network  # \u8fd9\u662f\u4e00\u4e2a\u5217\u8868\u9879\n      - another_network  # \u8fd9\u662f\u4e00\u4e2a\u5217\u8868\u9879\n</code></pre> <p>\u200b       \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c<code>networks</code> \u662f\u4e00\u4e2a\u5217\u8868\uff0c\u56e0\u6b64\u5b83\u7684\u6bcf\u4e2a\u9879\u90fd\u9700\u8981\u52a0 <code>-</code>\u3002</p> <ul> <li>\u5217\u8868\u4e2d\u7684\u5b57\u5178\uff1a\u5f53\u67d0\u4e2a\u5217\u8868\u4e2d\u7684\u6bcf\u4e00\u9879\u662f\u4e00\u4e2a\u5b57\u5178\u65f6\uff0c\u6bcf\u4e2a\u5b57\u5178\u524d\u4e5f\u9700\u8981\u52a0 <code>-</code>\u3002</li> </ul> Bash<pre><code>networks:\n  my_custom_network:\n    driver: bridge\n    ipam:\n      config:\n        - subnet: 172.20.0.0/16  # \u8fd9\u662f\u4e00\u4e2a\u5217\u8868\u4e2d\u7684\u5b57\u5178\u9879\n          gateway: 172.20.0.1\n        - subnet: 172.21.0.0/16  # \u8fd9\u662f\u4e00\u4e2a\u5217\u8868\u4e2d\u7684\u5b57\u5178\u9879\n          gateway: 172.21.0.1\n</code></pre> <p>\u200b       \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>config</code> \u662f\u4e00\u4e2a\u5217\u8868\uff0c\u56e0\u6b64\u6bcf\u4e2a\u5b57\u5178\u9879\u524d\u9700\u8981\u52a0 <code>-</code>\u3002</p>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#53-\u5b9a\u4e49\u670d\u52a1\u4f7f\u7528\u81ea\u5b9a\u4e49\u7f51\u7edc\u7684\u60c5\u51b5","title":"5.3 \u5b9a\u4e49\u670d\u52a1\u4f7f\u7528\u81ea\u5b9a\u4e49\u7f51\u7edc\u7684\u60c5\u51b5","text":"<p>\u200b       \u5728 Docker Compose \u6587\u4ef6\u4e2d\uff0c\u5b9a\u4e49\u670d\u52a1\u4f7f\u7528\u81ea\u5b9a\u4e49\u7f51\u7edc\u65f6\uff0c\u5982\u679c\u53ea\u662f\u7b80\u5355\u5730\u5c06\u670d\u52a1\u8fde\u63a5\u5230\u4e00\u4e2a\u7f51\u7edc\uff0c\u90a3\u4e48\u9700\u8981\u4f7f\u7528\u5217\u8868\u7684\u65b9\u5f0f\uff1b\u5982\u679c\u8981\u5728\u7f51\u7edc\u4e0a\u8bbe\u7f6e\u5176\u4ed6\u5c5e\u6027\uff08\u4f8b\u5982 <code>ipv4_address</code>\uff09\uff0c\u5219\u4e0d\u9700\u8981\u4f7f\u7528\u5217\u8868\uff0c\u800c\u662f\u76f4\u63a5\u5b9a\u4e49\u952e\u503c\u5bf9\u3002\u4e0b\u9762\u5177\u4f53\u89e3\u91ca\u8fd9\u4e24\u79cd\u60c5\u51b5\uff1a</p> <ul> <li>\u7b80\u5355\u8fde\u63a5\u7f51\u7edc\uff1a</li> </ul> <p>\u200b       \u5f53\u4f60\u53ea\u662f\u5c06\u670d\u52a1\u8fde\u63a5\u5230\u4e00\u4e2a\u7f51\u7edc\uff0c\u4e0d\u9700\u8981\u8bbe\u7f6e\u989d\u5916\u7684\u5c5e\u6027\u65f6\uff0c\u4f7f\u7528\u5217\u8868\u5f62\u5f0f\uff1a</p> Bash<pre><code>services:\n  app:\n    image: myapp:latest\n    networks:\n      - my_custom_network  # \u8fd9\u91cc\u662f\u5217\u8868\u9879\n</code></pre> <ul> <li>\u8fde\u63a5\u7f51\u7edc\u5e76\u8bbe\u7f6e\u5c5e\u6027\uff1a</li> </ul> <p>\u200b       \u5f53\u4f60\u9700\u8981\u4e3a\u7f51\u7edc\u914d\u7f6e\u989d\u5916\u7684\u5c5e\u6027\uff08\u4f8b\u5982 <code>ipv4_address</code>\uff09\u65f6\uff0c\u76f4\u63a5\u5728\u7f51\u7edc\u4e0b\u5b9a\u4e49\u952e\u503c\u5bf9\uff1a</p> Bash<pre><code>services:\n  app:\n    image: myapp:latest\n    networks:\n      my_custom_network:\n        ipv4_address: 172.20.0.2  # \u8fd9\u91cc\u662f\u952e\u503c\u5bf9\n</code></pre> <p>\u200b       \u4e3a\u4ec0\u4e48\u4e0d\u540c\u7684\u60c5\u51b5\u4e0b\u662f\u5426\u9700\u8981 <code>-</code>\uff1a</p> <ul> <li>\u5728 \u7b80\u5355\u8fde\u63a5\u7f51\u7edc \u7684\u60c5\u51b5\u4e0b\uff0c<code>networks</code> \u662f\u4e00\u4e2a\u5217\u8868\uff0c\u6bcf\u4e2a\u7f51\u7edc\u662f\u5217\u8868\u4e2d\u7684\u4e00\u4e2a\u9879\uff0c\u56e0\u6b64\u6bcf\u4e2a\u9879\u524d\u9700\u8981 <code>-</code>\u3002</li> <li>\u5728 \u8bbe\u7f6e\u7f51\u7edc\u5c5e\u6027 \u7684\u60c5\u51b5\u4e0b\uff0c<code>networks</code> \u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u5176\u4e2d\u952e\u662f\u7f51\u7edc\u540d\uff0c\u503c\u662f\u53e6\u4e00\u4e2a\u5b57\u5178\uff08\u8fd9\u4e2a\u5b57\u5178\u5305\u542b\u4e86\u7f51\u7edc\u7684\u914d\u7f6e\uff09\uff0c\u6240\u4ee5\u4e0d\u9700\u8981 <code>-</code>\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#\u56dbdomain-admin\u7684yml\u53c2\u6570\u8bf4\u660e","title":"\u56db\u3001Domain Admin\u7684yml\u53c2\u6570\u8bf4\u660e","text":"Bash<pre><code>version: '3.3'\nservices:\n  domain-admin:\n    volumes:\n      - './database:/app/database'\n      - './logs:/app/logs'\n    ports:\n      - '8000:8000'\n    container_name: domain-admin\n    image: mouday/domain-admin:latest\n    network:\n      - domain_admin\nnetworks:\n  domain_admin:\n    name: halo_network\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.196.0.0/16\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#1version","title":"1.version","text":"<p>\u200b       \u8fd9\u662f Docker Compose \u6587\u4ef6\u7684\u7248\u672c\uff0c\u5b9a\u4e49\u4e86\u4f7f\u7528\u7684\u8bed\u6cd5\u7248\u672c\u3002</p>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#2services","title":"2.services","text":"<p>\u200b       \u8fd9\u662f\u4e00\u4e2a\u9876\u5c42\u952e\uff0c\u8868\u793a\u5c06\u8981\u5b9a\u4e49\u4e00\u7ec4\u670d\u52a1\u3002</p>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#3domain-admin","title":"3.domain-admin","text":"<p>\u200b       \u8fd9\u662f\u670d\u52a1\u7684\u540d\u79f0\u3002\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u540d\u79f0\u6765\u5f15\u7528\u8fd9\u4e2a\u670d\u52a1\u3002</p>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#4volumes","title":"4.volumes","text":"<p>\u200b       \u8fd9\u90e8\u5206\u5b9a\u4e49\u4e86\u8981\u6302\u8f7d\u5230\u5bb9\u5668\u4e2d\u7684\u76ee\u5f55\u3002</p> <ul> <li><code>'./database:/app/database'</code>: \u5c06\u4e3b\u673a\u4e0a\u7684 <code>./database</code> \u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u4e2d\u7684 <code>/app/database</code> \u76ee\u5f55\u3002\u8fd9\u901a\u5e38\u7528\u4e8e\u6301\u4e45\u5316\u6570\u636e\u3002</li> <li><code>'./logs:/app/logs'</code>: \u5c06\u4e3b\u673a\u4e0a\u7684 <code>./logs</code> \u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u4e2d\u7684 <code>/app/logs</code> \u76ee\u5f55\u3002\u8fd9\u901a\u5e38\u7528\u4e8e\u5b58\u50a8\u65e5\u5fd7\u6587\u4ef6\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#5ports","title":"5.ports","text":"<p>\u200b       \u8fd9\u90e8\u5206\u5b9a\u4e49\u4e86\u7aef\u53e3\u6620\u5c04\u3002</p> <ul> <li><code>'8000:8000'</code>: \u5c06\u4e3b\u673a\u4e0a\u7684 8000 \u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u5185\u7684 8000 \u7aef\u53e3\u3002\u8fd9\u6837\u4f60\u53ef\u4ee5\u901a\u8fc7\u4e3b\u673a\u7684 8000 \u7aef\u53e3\u8bbf\u95ee\u5bb9\u5668\u5185\u7684\u670d\u52a1\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#6container_name","title":"6.container_name","text":"<p>\u200b       \u5b9a\u4e49\u4e86\u5bb9\u5668\u7684\u540d\u79f0\uff0c\u8fd9\u91cc\u5c06\u5bb9\u5668\u547d\u540d\u4e3a <code>domain-admin</code>\u3002</p>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#7image","title":"7.image","text":"<p>\u200b       \u6307\u5b9a\u4e86\u8981\u4f7f\u7528\u7684 Docker \u955c\u50cf\u3002</p> <ul> <li><code>mouday/domain-admin:latest</code>: \u4f7f\u7528 <code>mouday</code> \u4ed3\u5e93\u4e2d\u7684 <code>domain-admin</code> \u955c\u50cf\uff0c\u5e76\u4f7f\u7528\u6700\u65b0\u7248\u672c\uff08<code>latest</code> \u6807\u7b7e\uff09\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#8network","title":"8.network","text":"<p>\u200b       \u6307\u5b9a\u8be5\u670d\u52a1\u4f7f\u7528\u7684\u7f51\u7edc\uff0c\u8fd9\u91cc\u662f <code>domain_admin</code>\u3002</p> <ul> <li><code>name</code>\uff1a\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7f51\u7edc\u540d\u79f0\uff0c\u8fd9\u91cc\u5b9a\u4e49\u4e3a<code>halo_network</code>\uff0c\u5982\u679c\u4e0d\u914d\u7f6e<code>name</code>\u53c2\u6570\uff0c\u53ea\u6307\u5b9a\u4e86\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0cDocker Compose \u4f1a\u5c06\u8be5\u540d\u79f0\u4e0e\u9879\u76ee\u540d\u79f0\uff08project name\uff09\u7ed3\u5408\u8d77\u6765\u4f5c\u4e3a\u5b9e\u9645\u521b\u5efa\u7684\u7f51\u7edc\u7684\u540d\u79f0\uff0c\u9879\u76ee\u540d\u79f0\u901a\u5e38\u662f\u5f53\u524d\u76ee\u5f55\u7684\u540d\u79f0\uff0c\u6bd4\u5982\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5982\u679c\u4e0d\u6dfb\u52a0<code>name</code>\u53c2\u6570\u540e\uff0c\u6700\u7ec8\u521b\u5efa\u7684\u7f51\u7edc\u540d\u79f0\u4f1a\u662f <code>halo_halo_network</code>\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#9ipam","title":"9.ipam","text":"<p>\u200b       \u662fIP \u5730\u5740\u7ba1\u7406\u3002</p> <ul> <li><code>driver: default</code>\uff1a\u4f7f\u7528\u9ed8\u8ba4\u9a71\u52a8<code>bridge</code>\u3002</li> <li><code>config: - subnet</code>\uff1a\u8bbe\u7f6e\u5b50\u7f51\u4e3a <code>172.196.0.0/16</code>\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#\u4e94halo\u7684yml\u53c2\u6570\u8bf4\u660e","title":"\u4e94\u3001Halo\u7684yml\u53c2\u6570\u8bf4\u660e","text":"Bash<pre><code>version: \"3\"\nservices:\n  halo:\n    image: halohub/halo:2.14\n    container_name: halo2\n    networks:\n      - halo_network\n    restart: on-failure:3\n    depends_on:\n      halodb:\n        condition: service_healthy\n    volumes:\n      - /data/Halo/halo2:/root/.halo2\n    ports:\n      - \"8090:8090\"\n    healthcheck:\n      # test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8090/actuator/health/readiness\"]\n      test: [\"CMD-SHELL\", \"curl -f http://localhost:8090/actuator/health/readiness || exit 1\"]\n      interval: 1m\n      timeout: 10s\n      retries: 3\n      start_period: 1m\n    command:\n      - --spring.r2dbc.url=r2dbc:pool:postgresql://halodb/halo\n      - --spring.r2dbc.username=halo\n      # #\u8bbe\u7f6e\u4f60\u7684\u6570\u636e\u5e93PostgreSQL\u7684\u5bc6\u7801\uff0c\u8bf7\u4fdd\u8bc1\u4e0e\u4e0b\u65b9POSTGRES_PASSWORD\u7684\u53d8\u91cf\u503c\u4e00\u81f4\u3002\n      - --spring.r2dbc.password=dream13889\n      - --spring.sql.init.platform=postgresql\n      # \u5916\u90e8\u8bbf\u95ee\u5730\u5740\uff0c\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u8981\u4fee\u6539\n      - --halo.external-url=https://blog.jerion.cn/\n      - --halo.security.initializer.superadminusername=admin\n      - --halo.security.initializer.superadminpassword=dream13889\n  halodb:\n    image: postgres:15.4\n    container_name: halodb2\n    networks:\n      - halo_network\n    restart: on-failure:3\n    volumes:\n      - /data/Halo/db:/var/lib/postgresql/data\n    healthcheck:\n      # test: [ \"CMD\", \"pg_isready\" ]\n      test: [\"CMD-SHELL\", \"pg_isready -U halo -d halo -h localhost\"]\n      interval: 30s\n      timeout: 5s\n      retries: 5\n    environment:\n      - POSTGRES_PASSWORD=dream13889  #\u8bbe\u7f6e\u4f60\u7684\u6570\u636e\u5e93\u5bc6\u7801\n      - POSTGRES_USER=halo\n      - POSTGRES_DB=halo\n      - PGUSER=halo\nnetworks:\n  halo_network:\n    name: halo_network\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.197.0.0/16\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#1\u7248\u672c","title":"1.\u7248\u672c","text":"<ul> <li><code>version</code>\uff1a\u6307\u5b9a\u4e86 Docker Compose \u6587\u4ef6\u7684\u7248\u672c\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u7248\u672c 3\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#2halo\u670d\u52a1","title":"2.halo\u670d\u52a1","text":"<ul> <li><code>image</code>: \u6307\u5b9a\u4f7f\u7528\u7684 Docker \u955c\u50cf\uff0c\u8fd9\u91cc\u662f <code>halohub/halo:2.14</code>\u3002</li> <li><code>container_name</code>: \u5bb9\u5668\u7684\u540d\u79f0\uff0c\u8fd9\u91cc\u662f <code>halo2</code>\u3002</li> <li><code>networks</code>: \u6307\u5b9a\u8be5\u670d\u52a1\u4f7f\u7528\u7684\u7f51\u7edc\uff0c\u8fd9\u91cc\u662f <code>halo_network</code>\u3002</li> <li><code>restart</code>: \u6307\u5b9a\u91cd\u542f\u7b56\u7565\uff0c\u5f53\u5bb9\u5668\u5931\u8d25\u65f6\u6700\u591a\u91cd\u8bd5 3 \u6b21\u3002</li> <li><code>depends_on</code>: \u6307\u5b9a\u670d\u52a1\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u8fd9\u91cc <code>halo</code> \u670d\u52a1\u4f9d\u8d56\u4e8e <code>halodb</code> \u670d\u52a1\uff0c\u5e76\u4e14\u8981\u6c42 <code>halodb</code> \u670d\u52a1\u5904\u4e8e\u5065\u5eb7\u72b6\u6001\u3002</li> <li><code>volumes</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 <code>/data/Halo/halo2</code> \u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u7684 <code>/root/.halo2</code> \u76ee\u5f55\u3002</li> <li><code>ports</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 8090 \u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u7684 8090 \u7aef\u53e3\u3002</li> <li><code>healthcheck</code>: \u5065\u5eb7\u68c0\u67e5\u914d\u7f6e\u3002</li> <li><code>test</code>: \u68c0\u67e5\u547d\u4ee4\uff0c\u8fd9\u91cc\u4f7f\u7528 <code>curl</code> \u68c0\u67e5 <code>http://localhost:8090/actuator/health/readiness</code>\u3002</li> <li><code>interval</code>: \u68c0\u67e5\u95f4\u9694\u4e3a 1 \u5206\u949f\u3002</li> <li><code>timeout</code>: \u68c0\u67e5\u8d85\u65f6\u65f6\u95f4\u4e3a 10 \u79d2\u3002</li> <li><code>retries</code>: \u5931\u8d25\u91cd\u8bd5\u6b21\u6570\u4e3a 3 \u6b21\u3002</li> <li><code>start_period</code>: \u5f00\u59cb\u68c0\u67e5\u7684\u521d\u59cb\u7b49\u5f85\u65f6\u95f4\u4e3a 1 \u5206\u949f\u3002</li> <li><code>command</code>: \u5bb9\u5668\u542f\u52a8\u65f6\u6267\u884c\u7684\u547d\u4ee4\u548c\u53c2\u6570\u3002</li> <li><code>--spring.r2dbc.url</code>: \u6570\u636e\u5e93\u8fde\u63a5 URL\u3002</li> <li><code>--spring.r2dbc.username</code>: \u6570\u636e\u5e93\u7528\u6237\u540d\u3002</li> <li><code>--spring.r2dbc.password</code>: \u6570\u636e\u5e93\u5bc6\u7801\u3002</li> <li><code>--spring.sql.init.platform</code>: \u6570\u636e\u5e93\u5e73\u53f0\u7c7b\u578b\u3002</li> <li><code>--halo.external-url</code>: \u5916\u90e8\u8bbf\u95ee\u5730\u5740\u3002</li> <li><code>--halo.security.initializer.superadminusername</code>: \u8d85\u7ea7\u7ba1\u7406\u5458\u7528\u6237\u540d\u3002</li> <li><code>--halo.security.initializer.superadminpassword</code>: \u8d85\u7ea7\u7ba1\u7406\u5458\u5bc6\u7801\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#3halodb\u670d\u52a1","title":"3.halodb\u670d\u52a1","text":"<ul> <li><code>image</code>: \u6307\u5b9a\u4f7f\u7528\u7684 Docker \u955c\u50cf\uff0c\u8fd9\u91cc\u662f <code>postgres:15.4</code>\u3002</li> <li><code>container_name</code>: \u5bb9\u5668\u7684\u540d\u79f0\uff0c\u8fd9\u91cc\u662f <code>halodb2</code>\u3002</li> <li><code>networks</code>: \u6307\u5b9a\u8be5\u670d\u52a1\u4f7f\u7528\u7684\u7f51\u7edc\uff0c\u8fd9\u91cc\u662f <code>halo_network</code>\u3002</li> <li><code>restart</code>: \u6307\u5b9a\u91cd\u542f\u7b56\u7565\uff0c\u5f53\u5bb9\u5668\u5931\u8d25\u65f6\u6700\u591a\u91cd\u8bd5 3 \u6b21\u3002</li> <li><code>volumes</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 <code>/data/Halo/db</code> \u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u7684 <code>/var/lib/postgresql/data</code> \u76ee\u5f55\u3002</li> <li><code>healthcheck</code>: \u5065\u5eb7\u68c0\u67e5\u914d\u7f6e\u3002</li> <li><code>test</code>: \u68c0\u67e5\u547d\u4ee4\uff0c\u8fd9\u91cc\u4f7f\u7528 <code>pg_isready</code> \u68c0\u67e5\u6570\u636e\u5e93\u670d\u52a1\u7684\u53ef\u7528\u6027\u3002</li> <li><code>interval</code>: \u68c0\u67e5\u95f4\u9694\u4e3a 30 \u79d2\u3002</li> <li><code>timeout</code>: \u68c0\u67e5\u8d85\u65f6\u65f6\u95f4\u4e3a 5 \u79d2\u3002</li> <li><code>retries</code>: \u5931\u8d25\u91cd\u8bd5\u6b21\u6570\u4e3a 5 \u6b21\u3002</li> <li><code>environment</code>: \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u3002</li> <li><code>POSTGRES_PASSWORD</code>: \u8bbe\u7f6e\u6570\u636e\u5e93\u5bc6\u7801\u3002</li> <li><code>POSTGRES_USER</code>: \u8bbe\u7f6e\u6570\u636e\u5e93\u7528\u6237\u540d\u3002</li> <li><code>POSTGRES_DB</code>: \u8bbe\u7f6e\u6570\u636e\u5e93\u540d\u79f0\u3002</li> <li><code>PGUSER</code>: \u8bbe\u7f6e PostgreSQL \u7528\u6237\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#4\u7f51\u7edc\u5b9a\u4e49","title":"4.\u7f51\u7edc\u5b9a\u4e49","text":"<ul> <li><code>halo_network</code>\uff1a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>halo_network</code> \u7684\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0c\u4f9b <code>halo</code> \u548c <code>halodb</code> \u670d\u52a1\u4f7f\u7528\u3002</li> <li><code>name</code>\uff1a\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7f51\u7edc\u540d\u79f0\uff0c\u8fd9\u91cc\u5b9a\u4e49\u4e3a<code>halo_network</code>\uff0c\u5982\u679c\u4e0d\u914d\u7f6e<code>name</code>\u53c2\u6570\uff0c\u53ea\u6307\u5b9a\u4e86\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0cDocker Compose \u4f1a\u5c06\u8be5\u540d\u79f0\u4e0e\u9879\u76ee\u540d\u79f0\uff08project name\uff09\u7ed3\u5408\u8d77\u6765\u4f5c\u4e3a\u5b9e\u9645\u521b\u5efa\u7684\u7f51\u7edc\u7684\u540d\u79f0\uff0c\u9879\u76ee\u540d\u79f0\u901a\u5e38\u662f\u5f53\u524d\u76ee\u5f55\u7684\u540d\u79f0\uff0c\u6bd4\u5982\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5982\u679c\u4e0d\u6dfb\u52a0<code>name</code>\u53c2\u6570\u540e\uff0c\u6700\u7ec8\u521b\u5efa\u7684\u7f51\u7edc\u540d\u79f0\u4f1a\u662f <code>halo_halo_network</code>\u3002</li> <li><code>ipam</code>\uff1aIP \u5730\u5740\u7ba1\u7406\u3002</li> <li><code>driver: default</code>\uff1a\u4f7f\u7528\u9ed8\u8ba4\u9a71\u52a8<code>bridge</code>\u3002</li> <li><code>config: - subnet</code>\uff1a\u8bbe\u7f6e\u5b50\u7f51\u4e3a <code>172.197.0.0/16</code>\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#\u516doneapi\u7684yml\u53c2\u6570\u8bf4\u660e","title":"\u516d\u3001OneAPI\u7684yml\u53c2\u6570\u8bf4\u660e","text":"Bash<pre><code>version: '3.3'\nservices:\n  mysql:\n    image: mysql:8.0.36\n    container_name: mysql\n    restart: always\n    ports:\n      - 3307:3306\n    networks:\n      - oneapi\n    command: --default-authentication-plugin=mysql_native_password\n    environment:\n      MYSQL_ROOT_PASSWORD: dream13889\n      MYSQL_DATABASE: oneapi\n    volumes:\n      - ./mysql:/var/lib/mysql\n  oneapi:\n    container_name: oneapi\n    image: ghcr.io/songquanpeng/one-api:latest\n    ports:\n      - 3000:3000\n    depends_on:\n      - mysql\n    networks:\n      - oneapi\n    restart: always\n    environment:\n      - SQL_DSN=root:dream13889@tcp(mysql:3306)/oneapi\n      # \u767b\u5f55\u51ed\u8bc1\u52a0\u5bc6\u5bc6\u94a5\n      - SESSION_SECRET=oneapikey\n      # \u5185\u5b58\u7f13\u5b58\n      - MEMORY_CACHE_ENABLED=true\n      # \u542f\u52a8\u805a\u5408\u66f4\u65b0\uff0c\u51cf\u5c11\u6570\u636e\u4ea4\u4e92\u9891\u7387\n      - BATCH_UPDATE_ENABLED=true\n      # \u805a\u5408\u66f4\u65b0\u65f6\u957f\n      - BATCH_UPDATE_INTERVAL=10\n      # \u521d\u59cb\u5316\u7684 root \u5bc6\u94a5\uff08\u5efa\u8bae\u90e8\u7f72\u5b8c\u540e\u66f4\u6539\uff0c\u5426\u5219\u5bb9\u6613\u6cc4\u9732\uff09\n      - INITIAL_ROOT_TOKEN=dream13889\n    volumes:\n      - ./oneapi:/data\nnetworks:\n  oneapi:\n    name: oneapi\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.198.0.0/16\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#1\u7248\u672c_1","title":"1.\u7248\u672c","text":"<ul> <li><code>version</code>\uff1a\u6307\u5b9a\u4e86 Docker Compose \u6587\u4ef6\u7684\u7248\u672c\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u7248\u672c 3.3\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#2mysql\u670d\u52a1","title":"2.mysql\u670d\u52a1","text":"<ul> <li> <p><code>image</code>\uff1a\u4f7f\u7528 <code>mysql</code> \u955c\u50cf\u7684 <code>8.0.36</code> \u7248\u672c\u3002</p> </li> <li> <p><code>container_name</code>\uff1a\u5bb9\u5668\u540d\u79f0\u4e3a \u201cmysql\u201d\u3002</p> </li> <li> <p><code>restart</code>\uff1a\u5bb9\u5668\u603b\u662f\u91cd\u65b0\u542f\u52a8\u3002</p> </li> <li> <p><code>ports</code>\uff1a\u7aef\u53e3\u6620\u5c04\uff0c\u5c06\u4e3b\u673a\u7684 <code>3307</code> \u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u7684 <code>3306</code> \u7aef\u53e3\u3002</p> </li> <li> <p><code>networks</code>\uff1a\u4f7f\u7528\u540d\u4e3a <code>oneapi</code> \u7684\u7f51\u7edc\u3002</p> </li> <li> <p><code>command</code>\uff1a\u8fd0\u884c\u5bb9\u5668\u65f6\u6267\u884c\u7684\u547d\u4ee4\uff0c\u8fd9\u91cc\u8bbe\u7f6e MySQL \u7684\u9ed8\u8ba4\u8ba4\u8bc1\u63d2\u4ef6\u4e3a <code>mysql_native_password</code>\u3002</p> </li> <li> <p><code>environment</code>\uff1a\u73af\u5883\u53d8\u91cf\u3002</p> </li> <li> <p><code>MYSQL_ROOT_PASSWORD</code>\uff1a\u8bbe\u7f6e MySQL \u7684 root \u7528\u6237\u5bc6\u7801\u4e3a <code>dream13889</code>\u3002</p> </li> <li> <p><code>MYSQL_DATABASE</code>\uff1a\u521b\u5efa\u540d\u4e3a <code>oneapi</code> \u7684\u6570\u636e\u5e93\u3002</p> </li> <li> <p><code>volumes</code>\uff1a\u6570\u636e\u5377\u3002</p> </li> <li><code>./mysql:/var/lib/mysql</code>\uff1a\u5c06\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 <code>mysql</code> \u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u7684 <code>/var/lib/mysql</code> \u76ee\u5f55\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#3oneapi\u670d\u52a1","title":"3.oneapi\u670d\u52a1","text":"<ul> <li> <p><code>container_name</code>\uff1a\u5bb9\u5668\u540d\u79f0\u4e3a \u201coneapi\u201d\u3002</p> </li> <li> <p><code>image\uff1a\u4f7f\u7528</code>one-api` \u955c\u50cf\u7684\u6700\u65b0\u7248\u672c\u3002</p> </li> <li> <p><code>ports\uff1a\u7aef\u53e3\u6620\u5c04\uff0c\u5c06\u4e3b\u673a\u7684</code>3000<code>\u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u7684</code>3000` \u7aef\u53e3\u3002</p> </li> <li> <p><code>depends_on\uff1a\u4f9d\u8d56\u5173\u7cfb\uff0c\u786e\u4fdd</code>mysql` \u670d\u52a1\u5148\u542f\u52a8\u3002</p> </li> <li> <p><code>networks</code>\uff1a\u4f7f\u7528\u540d\u4e3a <code>oneapi</code> \u7684\u7f51\u7edc\u3002</p> </li> <li> <p>`restart\uff1a\u5bb9\u5668\u603b\u662f\u91cd\u65b0\u542f\u52a8\u3002</p> </li> <li> <p>`environment\uff1a\u73af\u5883\u53d8\u91cf\u3002</p> </li> <li> <p><code>SQL_DSN=root:dream13889@tcp(mysql:3306)/oneapi</code>\uff1a\u8fde\u63a5 MySQL \u6570\u636e\u5e93\u7684 DSN\uff08\u6570\u636e\u6e90\u540d\u79f0\uff09\u3002</p> </li> <li> <p><code>SESSION_SECRET</code>\uff1a\u7528\u4e8e\u767b\u5f55\u51ed\u8bc1\u52a0\u5bc6\u7684\u5bc6\u94a5\u3002</p> </li> <li> <p><code>MEMORY_CACHE_ENABLED</code>\uff1a\u542f\u7528\u5185\u5b58\u7f13\u5b58\u3002</p> </li> <li> <p><code>BATCH_UPDATE_ENABLED</code>\uff1a\u542f\u7528\u6279\u91cf\u66f4\u65b0\uff0c\u4ee5\u51cf\u5c11\u6570\u636e\u4ea4\u4e92\u9891\u7387\u3002</p> </li> <li> <p><code>BATCH_UPDATE_INTERVAL</code>\uff1a\u6279\u91cf\u66f4\u65b0\u7684\u65f6\u95f4\u95f4\u9694\u4e3a 10 \u79d2\u3002</p> </li> <li> <p><code>INITIAL_ROOT_TOKEN</code>\uff1a\u521d\u59cb\u5316\u7684 root \u5bc6\u94a5\uff08\u5efa\u8bae\u90e8\u7f72\u540e\u66f4\u6539\uff09\u3002</p> </li> <li> <p><code>volumes</code>\uff1a\u6570\u636e\u5377\u3002</p> </li> <li><code>./oneapi:/data</code>\uff1a\u5c06\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 <code>oneapi</code> \u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u7684 <code>/data</code> \u76ee\u5f55\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#4\u7f51\u7edc\u5b9a\u4e49_1","title":"4.\u7f51\u7edc\u5b9a\u4e49","text":"<ul> <li><code>oneapi</code>\uff1a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>oneapi</code> \u7684\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0c\u4f9b <code>oneapi</code> \u548c <code>mysql</code> \u670d\u52a1\u4f7f\u7528\u3002</li> <li><code>name</code>\uff1a\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7f51\u7edc\u540d\u79f0\uff0c\u8fd9\u91cc\u5b9a\u4e49\u4e3a<code>oneapi</code>\uff0c\u5982\u679c\u4e0d\u914d\u7f6e<code>name</code>\u53c2\u6570\uff0c\u53ea\u6307\u5b9a\u4e86\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0cDocker Compose \u4f1a\u5c06\u8be5\u540d\u79f0\u4e0e\u9879\u76ee\u540d\u79f0\uff08project name\uff09\u7ed3\u5408\u8d77\u6765\u4f5c\u4e3a\u5b9e\u9645\u521b\u5efa\u7684\u7f51\u7edc\u7684\u540d\u79f0\uff0c\u9879\u76ee\u540d\u79f0\u901a\u5e38\u662f\u5f53\u524d\u76ee\u5f55\u7684\u540d\u79f0\uff0c\u6bd4\u5982\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5982\u679c\u4e0d\u6dfb\u52a0<code>name</code>\u53c2\u6570\u540e\uff0c\u6700\u7ec8\u521b\u5efa\u7684\u7f51\u7edc\u540d\u79f0\u4f1a\u662f <code>oneapi_oneapi</code>\u3002</li> <li><code>ipam</code>\uff1aIP \u5730\u5740\u7ba1\u7406\u3002</li> <li><code>driver: default</code>\uff1a\u4f7f\u7528\u9ed8\u8ba4\u9a71\u52a8<code>bridge</code>\u3002</li> <li><code>config: - subnet</code>\uff1a\u8bbe\u7f6e\u5b50\u7f51\u4e3a <code>172.198.0.0/16</code>\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#\u4e03fastgpt\u7684yml\u53c2\u6570\u8bf4\u660e","title":"\u4e03\u3001FastGPT\u7684yml\u53c2\u6570\u8bf4\u660e","text":"Bash<pre><code>version: '3.3'\nservices:\n  pg:\n    image: pgvector/pgvector:0.7.0-pg15 # docker hub\n    # image: ankane/pgvector:v0.5.0 # git\n    # image: registry.cn-hangzhou.aliyuncs.com/fastgpt/pgvector:v0.5.0 # \u963f\u91cc\u4e91\n    container_name: pg\n    restart: always\n    ports: \n      - 5432:5432\n    networks:\n      - fastgpt\n    environment:\n      - POSTGRES_USER=hongzelong\n      - POSTGRES_PASSWORD=dream13889\n      - POSTGRES_DB=postgres\n    volumes:\n      - ./pg/data:/var/lib/postgresql/data\n  mongo:\n    image: mongo:5.0.18  # dockerhub\n    container_name: mongo\n    restart: always\n    ports:\n      - 27017:27017\n    networks:\n      - fastgpt\n    command: mongod --keyFile /data/mongodb.key --replSet rs0\n    environment:\n      - MONGO_INITDB_ROOT_USERNAME=hongzelong\n      - MONGO_INITDB_ROOT_PASSWORD=dream13889\n    volumes:\n      - ./mongo/data:/data/db\n    entrypoint:\n      - bash\n      - -c\n      - |\n        openssl rand -base64 128 &gt; /data/mongodb.key\n        chmod 400 /data/mongodb.key\n        chown 999:999 /data/mongodb.key\n        echo 'const isInited = rs.status().ok === 1\n        if(!isInited){\n          rs.initiate({\n              _id: \"rs0\",\n              members: [\n                  { _id: 0, host: \"mongo:27017\" }\n              ]\n          })\n        }' &gt; /data/initReplicaSet.js\n        exec docker-entrypoint.sh \"$$@\" &amp;\n\n        until mongo -u hongzelong -p dream13889 --authenticationDatabase admin --eval \"print('waited for connection')\" &gt; /dev/null 2&gt;&amp;1; do\n          echo \"Waiting for MongoDB to start...\"\n          sleep 2\n        done\n\n        mongo -u hongzelong -p dream13889 --authenticationDatabase admin /data/initReplicaSet.js\n\n        wait $$!\n  fastgpt:\n    container_name: fastgpt\n    image: ghcr.io/labring/fastgpt:v4.8.2 # git\n    ports:\n      - 9898:3000\n    networks:\n      - fastgpt\n    depends_on:\n      - mongo\n      - pg\n    restart: always\n    environment:\n      - DEFAULT_ROOT_PSW=dream13889\n      - OPENAI_BASE_URL=http://172.18.0.104:3000/v1\n      - CHAT_API_KEY=sk-Vz6HDEC74r73Y0F312E39d1072B443Fa935e766434FcD97e\n      - DB_MAX_LINK=30\n      - TOKEN_KEY=any\n      - ROOT_KEY=root_key\n      - FILE_TOKEN_KEY=filetoken\n      - MONGODB_URI=mongodb://hongzelong:dream13889@mongo:27017/fastgpt?authSource=admin\n      - PG_URL=postgresql://hongzelong:dream13889@pg:5432/postgres\n    volumes:\n      - ./config.json:/app/data/config.json\n      - ./fastgpt/tmp:/app/tmp\nnetworks:\n  fastgpt:\n    name: fastgpt\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.199.0.0/16\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#1\u7248\u672c_2","title":"1.\u7248\u672c","text":"<ul> <li><code>version</code>\uff1a\u6307\u5b9a\u4e86 Docker Compose \u6587\u4ef6\u7684\u7248\u672c\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u7248\u672c 3.3\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#2pgpostgresql\u6570\u636e\u5e93\u670d\u52a1","title":"2.pg\uff08PostgreSQL\u6570\u636e\u5e93\uff09\u670d\u52a1","text":"<ul> <li> <p><code>image</code>\uff1a\u6307\u5b9a\u8981\u4f7f\u7528\u7684 Docker \u955c\u50cf\u3002</p> </li> <li> <p><code>container_name</code>\uff1a\u5bb9\u5668\u7684\u540d\u79f0\u3002</p> </li> <li> <p><code>restart</code>\uff1a\u603b\u662f\u91cd\u65b0\u542f\u52a8\u5bb9\u5668\u3002</p> </li> <li> <p><code>ports</code>\uff1a\u5c06\u4e3b\u673a\u7684 5432 \u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u7684 5432 \u7aef\u53e3\u3002</p> </li> <li> <p><code>networks</code>\uff1a\u8fde\u63a5\u5230 <code>fastgpt</code> \u7f51\u7edc\u3002</p> </li> <li> <p><code>environment</code>\uff1a\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u3002</p> </li> <li> <p><code>POSTGRES_USER</code>\uff1aPostgreSQL \u7528\u6237\u540d\u3002</p> </li> <li> <p><code>POSTGRES_PASSWORD</code>\uff1aPostgreSQL \u5bc6\u7801\u3002</p> </li> <li> <p><code>POSTGRES_DB</code>\uff1a\u6570\u636e\u5e93\u540d\u79f0\u3002</p> </li> <li> <p><code>volumes:</code>\u6570\u636e\u5377\u3002</p> </li> <li><code>./pg/data:/var/lib/postgresql/data</code>\uff1a\u5c06\u4e3b\u673a\u7684 <code>./pg/data</code> \u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u7684 <code>/var/lib/postgresql/data</code> \u76ee\u5f55\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#3mongomongodb-\u6570\u636e\u5e93\u670d\u52a1","title":"3.mongo\uff08MongoDB \u6570\u636e\u5e93\uff09\u670d\u52a1","text":"<ul> <li> <p><code>image</code>\uff1a\u6307\u5b9a\u8981\u4f7f\u7528\u7684 Docker \u955c\u50cf\u3002</p> </li> <li> <p><code>container_name</code>\uff1a\u5bb9\u5668\u7684\u540d\u79f0\u3002</p> </li> <li> <p><code>restart</code>\uff1a\u603b\u662f\u91cd\u65b0\u542f\u52a8\u5bb9\u5668\u3002</p> </li> <li> <p><code>ports</code>\uff1a\u5c06\u4e3b\u673a\u7684 27017 \u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u7684 27017 \u7aef\u53e3\u3002</p> </li> <li> <p><code>networks\uff1a\u8fde\u63a5\u5230</code>fastgpt` \u7f51\u7edc\u3002</p> </li> <li> <p><code>command: mongod --keyFile /data/mongodb.key --replSet rs0</code>\uff1a\u6307\u5b9a MongoDB \u542f\u52a8\u547d\u4ee4\uff0c\u542f\u7528\u5bc6\u94a5\u6587\u4ef6\u548c\u526f\u672c\u96c6\u3002</p> </li> <li> <p><code>environment</code>\uff1a\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u3002</p> </li> <li> <p>`MONGO_INITDB_ROOT_USERNAME\uff1aMongoDB \u7528\u6237\u540d\u3002</p> </li> <li> <p><code>MONGO_INITDB_ROOT_PASSWORD</code>\uff1aMongoDB \u5bc6\u7801\u3002</p> </li> <li> <p><code>volumes:</code>\u6570\u636e\u5377\u3002</p> </li> <li> <p><code>- ./mongo/data:/data/db</code>\uff1a\u5c06\u4e3b\u673a\u7684 <code>./mongo/data</code> \u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u7684 <code>/data/db</code> \u76ee\u5f55\u3002</p> </li> <li> <p><code>entrypoint</code>\uff1a\u542f\u52a8\u65f6\u6267\u884c\u7684\u547d\u4ee4\u3002</p> </li> <li> <p><code>bash -c</code>\uff1a\u4f7f\u7528 Bash \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u3002</p> </li> <li> <p><code>openssl rand -base64 128 &gt; /data/mongodb.key</code>\uff1a\u751f\u6210\u4e00\u4e2a\u968f\u673a\u7684\u5bc6\u94a5\u6587\u4ef6\u3002</p> </li> <li> <p><code>chmod 400 /data/mongodb.key</code>\uff1a\u8bbe\u7f6e\u5bc6\u94a5\u6587\u4ef6\u6743\u9650\u4e3a 400\u3002</p> </li> <li> <p><code>chown 999:999 /data/mongodb.key</code>\uff1a\u66f4\u6539\u5bc6\u94a5\u6587\u4ef6\u7684\u6240\u6709\u8005\u3002</p> </li> <li> <p><code>echo '...initReplicaSet.js'</code>\uff1a\u751f\u6210\u521d\u59cb\u5316\u526f\u672c\u96c6\u7684 JavaScript \u6587\u4ef6\u3002</p> </li> <li> <p><code>exec docker-entrypoint.sh \"$$@\" &amp;</code>\uff1a\u6267\u884c Docker \u5165\u53e3\u70b9\u811a\u672c\u5e76\u5c06\u5176\u653e\u5728\u540e\u53f0\u3002</p> </li> <li> <p><code>until mongo -u hongzelong -p dream13889 --authenticationDatabase admin --eval \"print('waited for connection')\"</code>\uff1a\u7b49\u5f85 MongoDB \u542f\u52a8\u5b8c\u6210\u3002</p> </li> <li> <p><code>mongo -u hongzelong -p dream13889 --authenticationDatabase admin /data/initReplicaSet.js</code>\uff1a\u8fd0\u884c\u521d\u59cb\u5316\u526f\u672c\u96c6\u7684\u811a\u672c\u3002</p> </li> <li> <p><code>wait $$!</code>\uff1a\u7b49\u5f85\u540e\u53f0\u8fdb\u7a0b\u7ed3\u675f\u3002</p> </li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#4fastgpt\u670d\u52a1","title":"4.fastgpt\u670d\u52a1","text":"<ul> <li> <p>`container_name\uff1a\u5bb9\u5668\u7684\u540d\u79f0\u3002</p> </li> <li> <p>`image\uff1a\u6307\u5b9a\u8981\u4f7f\u7528\u7684 Docker \u955c\u50cf\u3002</p> </li> <li> <p>`ports\uff1a\u5c06\u4e3b\u673a\u7684 9898 \u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u7684 3000 \u7aef\u53e3\u3002</p> </li> <li> <p><code>networks\uff1a\u8fde\u63a5\u5230</code>fastgpt` \u7f51\u7edc\u3002</p> </li> <li> <p><code>depends_on</code>\uff1a\u4f9d\u8d56\u4e8e <code>mongo</code> \u548c <code>pg</code> \u670d\u52a1\uff0c\u786e\u4fdd\u5b83\u4eec\u5148\u542f\u52a8\u3002</p> </li> <li> <p>`restart\uff1a\u603b\u662f\u91cd\u65b0\u542f\u52a8\u5bb9\u5668\u3002</p> </li> <li> <p><code>environment</code>\uff1a\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u3002</p> </li> <li> <p>`DEFAULT_ROOT_PSW\uff1a\u9ed8\u8ba4\u6839\u5bc6\u7801\u3002</p> </li> <li> <p><code>OPENAI_BASE_URL</code>\uff1aOpenAI \u57fa\u7840 URL\u3002</p> </li> <li> <p>`CHAT_API_KEY\uff1a\u804a\u5929 API \u5bc6\u94a5\u3002</p> </li> <li> <p><code>DB_MAX_LINK</code>\uff1a\u6570\u636e\u5e93\u6700\u5927\u8fde\u63a5\u6570\u3002</p> </li> <li> <p>`TOKEN_KEY\uff1a\u4ee4\u724c\u5bc6\u94a5\u3002</p> </li> <li> <p>`ROOT_KEY\uff1a\u6839\u5bc6\u94a5\u3002</p> </li> <li> <p><code>FILE_TOKEN_KEY</code>\uff1a\u6587\u4ef6\u4ee4\u724c\u5bc6\u94a5\u3002</p> </li> <li> <p><code>MONGODB_URI</code>\uff1aMongoDB URI\u3002</p> </li> <li> <p><code>PG_URL</code>\uff1aPostgreSQL URI\u3002</p> </li> <li> <p><code>volumes</code>\uff1a\u5377\u6302\u8f7d\u3002</p> </li> <li> <p><code>./config.json:/app/data/config.json</code>\uff1a\u5c06\u4e3b\u673a\u7684 <code>./config.json</code> \u6587\u4ef6\u6302\u8f7d\u5230\u5bb9\u5668\u7684 <code>/app/data/config.json</code> \u6587\u4ef6\u3002</p> </li> <li> <p><code>./fastgpt/tmp:/app/tmp</code>\uff1a\u5c06\u4e3b\u673a\u7684 <code>./fastgpt/tmp</code> \u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u7684 <code>/app/tmp</code> \u76ee\u5f55\u3002</p> </li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#5\u7f51\u7edc\u5b9a\u4e49","title":"5.\u7f51\u7edc\u5b9a\u4e49","text":"<ul> <li><code>fastgpt</code>\uff1a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>fastgpt</code> \u7684\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0c\u4f9b <code>pg</code> \u3001<code>mongo</code>\u548c <code>fastgpt</code> \u670d\u52a1\u4f7f\u7528\u3002</li> <li><code>name</code>\uff1a\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7f51\u7edc\u540d\u79f0\uff0c\u8fd9\u91cc\u5b9a\u4e49\u4e3a<code>fastgpt</code>\uff0c\u5982\u679c\u4e0d\u914d\u7f6e<code>name</code>\u53c2\u6570\uff0c\u53ea\u6307\u5b9a\u4e86\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0cDocker Compose \u4f1a\u5c06\u8be5\u540d\u79f0\u4e0e\u9879\u76ee\u540d\u79f0\uff08project name\uff09\u7ed3\u5408\u8d77\u6765\u4f5c\u4e3a\u5b9e\u9645\u521b\u5efa\u7684\u7f51\u7edc\u7684\u540d\u79f0\uff0c\u9879\u76ee\u540d\u79f0\u901a\u5e38\u662f\u5f53\u524d\u76ee\u5f55\u7684\u540d\u79f0\uff0c\u6bd4\u5982\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5982\u679c\u4e0d\u6dfb\u52a0<code>name</code>\u53c2\u6570\u540e\uff0c\u6700\u7ec8\u521b\u5efa\u7684\u7f51\u7edc\u540d\u79f0\u4f1a\u662f <code>fastgpt_fastgpt</code>\u3002</li> <li><code>ipam</code>\uff1aIP \u5730\u5740\u7ba1\u7406\u3002</li> <li><code>driver: default</code>\uff1a\u4f7f\u7528\u9ed8\u8ba4\u9a71\u52a8<code>bridge</code>\u3002</li> <li><code>config: - subnet</code>\uff1a\u8bbe\u7f6e\u5b50\u7f51\u4e3a <code>172.199.0.0/16</code>\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#\u516bdify\u7684yml\u53c2\u6570\u8bf4\u660e","title":"\u516b\u3001Dify\u7684yml\u53c2\u6570\u8bf4\u660e","text":"Bash<pre><code>version: '3'\nservices:\n  api:\n    image: langgenius/dify-api:0.6.9\n    restart: always\n    environment:\n      MODE: api\n      LOG_LEVEL: INFO\n      SECRET_KEY: sk-9f73s3ljTXVcMT3Blb3ljTqtsKiGHXVcMT3BlbkFJLK7U\n      CONSOLE_WEB_URL: ''\n      INIT_PASSWORD: ''\n      CONSOLE_API_URL: ''\n      SERVICE_API_URL: ''\n      APP_WEB_URL: ''\n      FILES_URL: ''\n      FILES_ACCESS_TIMEOUT: 300\n      MIGRATION_ENABLED: 'true'\n      DB_USERNAME: postgres\n      DB_PASSWORD: difyai123456\n      DB_HOST: db\n      DB_PORT: 5432\n      DB_DATABASE: dify\n      REDIS_HOST: redis\n      REDIS_PORT: 6379\n      REDIS_USERNAME: ''\n      REDIS_PASSWORD: difyai123456\n      REDIS_USE_SSL: 'false'\n      REDIS_DB: 0\n      CELERY_BROKER_URL: redis://:difyai123456@redis:6379/1\n      WEB_API_CORS_ALLOW_ORIGINS: '*'\n      CONSOLE_CORS_ALLOW_ORIGINS: '*'\n      STORAGE_TYPE: local\n      STORAGE_LOCAL_PATH: storage\n      S3_ENDPOINT: 'https://xxx.r2.cloudflarestorage.com'\n      S3_BUCKET_NAME: 'difyai'\n      S3_ACCESS_KEY: 'ak-difyai'\n      S3_SECRET_KEY: 'sk-difyai'\n      S3_REGION: 'us-east-1'\n      AZURE_BLOB_ACCOUNT_NAME: 'difyai'\n      AZURE_BLOB_ACCOUNT_KEY: 'difyai'\n      AZURE_BLOB_CONTAINER_NAME: 'difyai-container'\n      AZURE_BLOB_ACCOUNT_URL: 'https://&lt;your_account_name&gt;.blob.core.windows.net'\n      GOOGLE_STORAGE_BUCKET_NAME: 'yout-bucket-name'\n      GOOGLE_STORAGE_SERVICE_ACCOUNT_JSON_BASE64: 'your-google-service-account-json-base64-string'\n      VECTOR_STORE: weaviate\n      WEAVIATE_ENDPOINT: http://weaviate:8080\n      WEAVIATE_API_KEY: WVF5YThaHlkYwhGUSmCRgsX3tD5ngdN8pkih\n      QDRANT_URL: http://qdrant:6333\n      QDRANT_API_KEY: difyai123456\n      QDRANT_CLIENT_TIMEOUT: 20\n      QDRANT_GRPC_ENABLED: 'false'\n      QDRANT_GRPC_PORT: 6334\n      MILVUS_HOST: 127.0.0.1\n      MILVUS_PORT: 19530\n      MILVUS_USER: root\n      MILVUS_PASSWORD: Milvus\n      MILVUS_SECURE: 'false'\n      RELYT_HOST: db\n      RELYT_PORT: 5432\n      RELYT_USER: postgres\n      RELYT_PASSWORD: difyai123456\n      RELYT_DATABASE: postgres\n      PGVECTOR_HOST: pgvector\n      PGVECTOR_PORT: 5432\n      PGVECTOR_USER: postgres\n      PGVECTOR_PASSWORD: difyai123456\n      PGVECTOR_DATABASE: dify\n      MAIL_TYPE: ''\n      MAIL_DEFAULT_SEND_FROM: 'YOUR EMAIL FROM (eg: no-reply &lt;no-reply@dify.ai&gt;)'\n      SMTP_SERVER: ''\n      SMTP_PORT: 465\n      SMTP_USERNAME: ''\n      SMTP_PASSWORD: ''\n      SMTP_USE_TLS: 'true'\n      SMTP_OPPORTUNISTIC_TLS: 'false'\n      RESEND_API_KEY: ''\n      RESEND_API_URL: https://api.resend.com\n      SENTRY_DSN: ''\n      SENTRY_TRACES_SAMPLE_RATE: 1.0\n      SENTRY_PROFILES_SAMPLE_RATE: 1.0\n      NOTION_INTEGRATION_TYPE: public\n      NOTION_CLIENT_SECRET: you-client-secret\n      NOTION_CLIENT_ID: you-client-id\n      NOTION_INTERNAL_SECRET: you-internal-secret\n      CODE_EXECUTION_ENDPOINT: \"http://sandbox:8194\"\n      CODE_EXECUTION_API_KEY: dify-sandbox\n      CODE_MAX_NUMBER: 9223372036854775807\n      CODE_MIN_NUMBER: -9223372036854775808\n      CODE_MAX_STRING_LENGTH: 80000\n      TEMPLATE_TRANSFORM_MAX_LENGTH: 80000\n      CODE_MAX_STRING_ARRAY_LENGTH: 30\n      CODE_MAX_OBJECT_ARRAY_LENGTH: 30\n      CODE_MAX_NUMBER_ARRAY_LENGTH: 1000\n      SSRF_PROXY_HTTP_URL: 'http://ssrf_proxy:3128'\n      SSRF_PROXY_HTTPS_URL: 'http://ssrf_proxy:3128'\n      INDEXING_MAX_SEGMENTATION_TOKENS_LENGTH: 1000\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - ./volumes/app/storage:/app/api/storage\n    networks:\n      dify_ssrf_proxy_network:\n        ipv4_address: 172.20.0.2\n      dify_default:\n        ipv4_address: 172.20.1.2\n\n  worker:\n    image: langgenius/dify-api:0.6.9\n    restart: always\n    environment:\n      CONSOLE_WEB_URL: ''\n      MODE: worker\n      LOG_LEVEL: INFO\n      SECRET_KEY: sk-9f73s3ljTXVcMT3Blb3ljTqtsKiGHXVcMT3BlbkFJLK7U\n      DB_USERNAME: postgres\n      DB_PASSWORD: difyai123456\n      DB_HOST: db\n      DB_PORT: 5432\n      DB_DATABASE: dify\n      REDIS_HOST: redis\n      REDIS_PORT: 6379\n      REDIS_USERNAME: ''\n      REDIS_PASSWORD: difyai123456\n      REDIS_DB: 0\n      REDIS_USE_SSL: 'false'\n      CELERY_BROKER_URL: redis://:difyai123456@redis:6379/1\n      STORAGE_TYPE: local\n      STORAGE_LOCAL_PATH: storage\n      S3_ENDPOINT: 'https://xxx.r2.cloudflarestorage.com'\n      S3_BUCKET_NAME: 'difyai'\n      S3_ACCESS_KEY: 'ak-difyai'\n      S3_SECRET_KEY: 'sk-difyai'\n      S3_REGION: 'us-east-1'\n      AZURE_BLOB_ACCOUNT_NAME: 'difyai'\n      AZURE_BLOB_ACCOUNT_KEY: 'difyai'\n      AZURE_BLOB_CONTAINER_NAME: 'difyai-container'\n      AZURE_BLOB_ACCOUNT_URL: 'https://&lt;your_account_name&gt;.blob.core.windows.net'\n      GOOGLE_STORAGE_BUCKET_NAME: 'yout-bucket-name'\n      GOOGLE_STORAGE_SERVICE_ACCOUNT_JSON_BASE64: 'your-google-service-account-json-base64-string'\n      VECTOR_STORE: weaviate\n      WEAVIATE_ENDPOINT: http://weaviate:8080\n      WEAVIATE_API_KEY: WVF5YThaHlkYwhGUSmCRgsX3tD5ngdN8pkih\n      QDRANT_URL: http://qdrant:6333\n      QDRANT_API_KEY: difyai123456\n      QDRANT_CLIENT_TIMEOUT: 20\n      QDRANT_GRPC_ENABLED: 'false'\n      QDRANT_GRPC_PORT: 6334\n      MILVUS_HOST: 127.0.0.1\n      MILVUS_PORT: 19530\n      MILVUS_USER: root\n      MILVUS_PASSWORD: Milvus\n      MILVUS_SECURE: 'false'\n      MAIL_TYPE: ''\n      MAIL_DEFAULT_SEND_FROM: 'YOUR EMAIL FROM (eg: no-reply &lt;no-reply@dify.ai&gt;)'\n      SMTP_SERVER: ''\n      SMTP_PORT: 465\n      SMTP_USERNAME: ''\n      SMTP_PASSWORD: ''\n      SMTP_USE_TLS: 'true'\n      SMTP_OPPORTUNISTIC_TLS: 'false'\n      RESEND_API_KEY: ''\n      RESEND_API_URL: https://api.resend.com\n      RELYT_HOST: db\n      RELYT_PORT: 5432\n      RELYT_USER: postgres\n      RELYT_PASSWORD: difyai123456\n      RELYT_DATABASE: postgres\n      PGVECTOR_HOST: pgvector\n      PGVECTOR_PORT: 5432\n      PGVECTOR_USER: postgres\n      PGVECTOR_PASSWORD: difyai123456\n      PGVECTOR_DATABASE: dify\n      NOTION_INTEGRATION_TYPE: public\n      NOTION_CLIENT_SECRET: you-client-secret\n      NOTION_CLIENT_ID: you-client-id\n      NOTION_INTERNAL_SECRET: you-internal-secret\n      INDEXING_MAX_SEGMENTATION_TOKENS_LENGTH: 1000\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - ./volumes/app/storage:/app/api/storage\n    networks:\n      dify_ssrf_proxy_network:\n        ipv4_address: 172.20.0.3\n      dify_default:\n        ipv4_address: 172.20.1.3\n\n  web:\n    image: langgenius/dify-web:0.6.9\n    restart: always\n    environment:\n      CONSOLE_API_URL: ''\n      APP_API_URL: ''\n      SENTRY_DSN: ''\n    networks:\n      dify_default:\n        ipv4_address: 172.20.1.4\n\n  db:\n    image: postgres:15-alpine\n    restart: always\n    environment:\n      PGUSER: postgres\n      POSTGRES_PASSWORD: difyai123456\n      POSTGRES_DB: dify\n      PGDATA: /var/lib/postgresql/data/pgdata\n    volumes:\n      - ./volumes/db/data:/var/lib/postgresql/data\n    healthcheck:\n      test: [ \"CMD\", \"pg_isready\" ]\n      interval: 1s\n      timeout: 3s\n      retries: 30\n    networks:\n      dify_default:\n        ipv4_address: 172.20.1.5\n\n  redis:\n    image: redis:6-alpine\n    restart: always\n    volumes:\n      - ./volumes/redis/data:/data\n    command: redis-server --requirepass difyai123456\n    healthcheck:\n      test: [ \"CMD\", \"redis-cli\", \"ping\" ]\n    networks:\n      dify_default:\n        ipv4_address: 172.20.1.6\n\n  weaviate:\n    image: semitechnologies/weaviate:1.19.0\n    restart: always\n    volumes:\n      - ./volumes/weaviate:/var/lib/weaviate\n    environment:\n      QUERY_DEFAULTS_LIMIT: 25\n      AUTHENTICATION_ANONYMOUS_ACCESS_ENABLED: 'false'\n      PERSISTENCE_DATA_PATH: '/var/lib/weaviate'\n      DEFAULT_VECTORIZER_MODULE: 'none'\n      CLUSTER_HOSTNAME: 'node1'\n      # \u6dfb\u52a0\u663e\u5f0f\u7684\u5e7f\u544a\u5730\u5740\n      # CLUSTER_ADVERTISE_ADDR: '172.20.1.7'\n      AUTHENTICATION_APIKEY_ENABLED: 'true'\n      AUTHENTICATION_APIKEY_ALLOWED_KEYS: 'WVF5YThaHlkYwhGUSmCRgsX3tD5ngdN8pkih'\n      AUTHENTICATION_APIKEY_USERS: 'hello@dify.ai'\n      AUTHORIZATION_ADMINLIST_ENABLED: 'true'\n      AUTHORIZATION_ADMINLIST_USERS: 'hello@dify.ai'\n    networks:\n      dify_default:\n        ipv4_address: 172.20.1.7\n\n  sandbox:\n    image: langgenius/dify-sandbox:0.2.0\n    restart: always\n    environment:\n      API_KEY: dify-sandbox\n      GIN_MODE: 'release'\n      WORKER_TIMEOUT: 15\n      ENABLE_NETWORK: 'true'\n      HTTP_PROXY: 'http://ssrf_proxy:3128'\n      HTTPS_PROXY: 'http://ssrf_proxy:3128'\n    volumes:\n      - ./volumes/sandbox/dependencies:/dependencies\n    networks:\n      dify_ssrf_proxy_network:\n        ipv4_address: 172.20.0.4\n\n  ssrf_proxy:\n    image: ubuntu/squid:latest\n    restart: always\n    volumes:\n      - ./volumes/ssrf_proxy/squid.conf:/etc/squid/squid.conf\n    networks:\n      dify_ssrf_proxy_network:\n        ipv4_address: 172.20.0.5\n      dify_default:\n        ipv4_address: 172.20.1.8\n\n  nginx:\n    image: nginx:latest\n    restart: always\n    volumes:\n      - ./nginx/nginx.conf:/etc/nginx/nginx.conf\n      - ./nginx/proxy.conf:/etc/nginx/proxy.conf\n      - ./nginx/conf.d:/etc/nginx/conf.d\n    depends_on:     \n      - api\n      - web\n    ports:\n      - \"80:80\"\n    networks:\n      dify_default:\n        ipv4_address: 172.20.1.9\n\nnetworks:\n  dify_ssrf_proxy_network:\n    name: dify_ssrf_proxy_network\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.20.0.0/24\n          gateway: 172.20.0.1\n    internal: true\n  dify_default:\n    name: dify_default\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.20.1.0/24\n          gateway: 172.20.1.1\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#1\u7248\u672c_3","title":"1.\u7248\u672c","text":"<ul> <li><code>version</code>\uff1a\u6307\u5b9a\u4e86 Docker Compose \u6587\u4ef6\u7684\u7248\u672c\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u7248\u672c 3\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#2api\u670d\u52a1","title":"2.api\u670d\u52a1","text":"<ul> <li><code>image</code>\uff1a\u4f7f\u7528langgenius/dify-api:0.6.9\u955c\u50cf\u3002</li> <li>`restart\uff1a\u603b\u662f\u91cd\u542f\u5bb9\u5668\u3002</li> <li><code>environment</code>\uff1a\u5b9a\u4e49\u4e86\u8bb8\u591a\u73af\u5883\u53d8\u91cf\uff0c\u5982\u6570\u636e\u5e93\u8fde\u63a5\u4fe1\u606f\u3001Redis\u8fde\u63a5\u4fe1\u606f\u3001\u5b58\u50a8\u914d\u7f6e\u7b49\u3002</li> <li><code>depends_on</code>\uff1a\u8868\u793a\u6b64\u670d\u52a1\u4f9d\u8d56\u4e8e<code>db</code>\u548c<code>redis</code>\u670d\u52a1\u3002</li> <li><code>volumes</code>\uff1a\u6620\u5c04\u4e3b\u673a\u7684<code>./volumes/app/storage</code>\u76ee\u5f55\u5230\u5bb9\u5668\u5185\u7684<code>/app/api/storage</code>\u76ee\u5f55\u3002</li> <li><code>networks</code>\uff1a\u914d\u7f6e\u8be5\u670d\u52a1\u6240\u8fde\u63a5\u7684\u7f51\u7edc\u53ca\u5176IP\u5730\u5740\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#3worker\u670d\u52a1","title":"3.worker\u670d\u52a1","text":"<ul> <li>`image\uff1a\u4f7f\u7528\u76f8\u540c\u7684API\u955c\u50cf\u3002</li> <li>`restart\uff1a\u603b\u662f\u91cd\u542f\u5bb9\u5668\u3002</li> <li><code>environment</code>\uff1a\u5b9a\u4e49\u4e86\u8bb8\u591a\u73af\u5883\u53d8\u91cf\uff0c\u4e0e<code>api</code>\u670d\u52a1\u7c7b\u4f3c\uff0c\u4f46\u6a21\u5f0f\u4e3a<code>worker</code>\u3002</li> <li><code>depends_on</code>\uff1a\u8868\u793a\u6b64\u670d\u52a1\u4f9d\u8d56\u4e8e<code>db</code>\u548c<code>redis</code>\u670d\u52a1\u3002</li> <li><code>volumes</code>\uff1a\u6620\u5c04\u4e3b\u673a\u7684<code>./volumes/app/storage</code>\u76ee\u5f55\u5230\u5bb9\u5668\u5185\u7684<code>/app/api/storage</code>\u76ee\u5f55\u3002</li> <li><code>networks</code>\uff1a\u914d\u7f6e\u8be5\u670d\u52a1\u6240\u8fde\u63a5\u7684\u7f51\u7edc\u53ca\u5176IP\u5730\u5740\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#4web\u670d\u52a1","title":"4.web\u670d\u52a1","text":"<ul> <li><code>image</code>\uff1a\u4f7f\u7528langgenius/dify-web:0.6.9\u955c\u50cf\u3002</li> <li>`restart\uff1a\u603b\u662f\u91cd\u542f\u5bb9\u5668\u3002</li> <li><code>environment</code>\uff1a\u5b9a\u4e49\u4e86\u51e0\u4e2a\u73af\u5883\u53d8\u91cf\u3002</li> <li><code>networks</code>\uff1a\u914d\u7f6e\u8be5\u670d\u52a1\u6240\u8fde\u63a5\u7684\u7f51\u7edc\u53ca\u5176IP\u5730\u5740\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#5db\u670d\u52a1","title":"5.db\u670d\u52a1","text":"<ul> <li>`image\uff1a\u4f7f\u7528Postgres 15\u7684\u8f7b\u91cf\u7ea7\u955c\u50cf\u3002</li> <li>`restart\uff1a\u603b\u662f\u91cd\u542f\u5bb9\u5668\u3002</li> <li><code>environment</code>\uff1a\u5b9a\u4e49\u4e86Postgres\u6570\u636e\u5e93\u7684\u7528\u6237\u3001\u5bc6\u7801\u548c\u6570\u636e\u5e93\u540d\u79f0\u3002</li> <li><code>volumes</code>\uff1a\u6620\u5c04\u4e3b\u673a\u7684<code>./volumes/db/data</code>\u76ee\u5f55\u5230\u5bb9\u5668\u5185\u7684<code>/var/lib/postgresql/data</code>\u76ee\u5f55\u3002</li> <li><code>healthcheck</code>\uff1a\u914d\u7f6e\u4e86\u4e00\u4e2a\u5065\u5eb7\u68c0\u67e5\u547d\u4ee4\uff0c\u786e\u4fdd\u6570\u636e\u5e93\u670d\u52a1\u542f\u52a8\u5e76\u8fd0\u884c\u3002</li> <li><code>networks</code>\uff1a\u914d\u7f6e\u8be5\u670d\u52a1\u6240\u8fde\u63a5\u7684\u7f51\u7edc\u53ca\u5176IP\u5730\u5740\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#6redis\u670d\u52a1","title":"6.redis\u670d\u52a1","text":"<ul> <li><code>image</code>\uff1a\u4f7f\u7528Redis 6\u7684\u8f7b\u91cf\u7ea7\u955c\u50cf\u3002</li> <li>`restart\uff1a\u603b\u662f\u91cd\u542f\u5bb9\u5668\u3002</li> <li><code>volumes</code>\uff1a\u6620\u5c04\u4e3b\u673a\u7684<code>./volumes/redis/data</code>\u76ee\u5f55\u5230\u5bb9\u5668\u5185\u7684<code>/data</code>\u76ee\u5f55\u3002</li> <li><code>command</code>\uff1a\u8fd0\u884cRedis\u670d\u52a1\u5668\u5e76\u8bbe\u7f6e\u5bc6\u7801\u3002</li> <li><code>healthcheck</code>\uff1a\u914d\u7f6e\u4e86\u4e00\u4e2a\u5065\u5eb7\u68c0\u67e5\u547d\u4ee4\uff0c\u786e\u4fddRedis\u670d\u52a1\u542f\u52a8\u5e76\u8fd0\u884c\u3002</li> <li><code>networks</code>\uff1a\u914d\u7f6e\u8be5\u670d\u52a1\u6240\u8fde\u63a5\u7684\u7f51\u7edc\u53ca\u5176IP\u5730\u5740\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#7weaviate\u670d\u52a1","title":"7.weaviate\u670d\u52a1","text":"<ul> <li><code>image</code>\uff1a\u4f7f\u7528Weaviate 1.19.0\u955c\u50cf\u3002</li> <li>`restart\uff1a\u603b\u662f\u91cd\u542f\u5bb9\u5668\u3002</li> <li><code>volumes</code>\uff1a\u6620\u5c04\u4e3b\u673a\u7684<code>./volumes/weaviate</code>\u76ee\u5f55\u5230\u5bb9\u5668\u5185\u7684<code>/var/lib/weaviate</code>\u76ee\u5f55\u3002</li> <li><code>environment</code>\uff1a\u5b9a\u4e49\u4e86\u591a\u4e2a\u73af\u5883\u53d8\u91cf\u6765\u914d\u7f6eWeaviate\uff0c\u5305\u62ec\u8eab\u4efd\u9a8c\u8bc1\u3001\u6301\u4e45\u6027\u548c\u96c6\u7fa4\u8bbe\u7f6e\u3002</li> <li><code>networks</code>\uff1a\u914d\u7f6e\u8be5\u670d\u52a1\u6240\u8fde\u63a5\u7684\u7f51\u7edc\u53ca\u5176IP\u5730\u5740\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#8sandbox\u670d\u52a1","title":"8.sandbox\u670d\u52a1","text":"<ul> <li>`image\uff1a\u4f7f\u7528langgenius/dify-sandbox:0.2.0\u955c\u50cf\u3002</li> <li>`restart\uff1a\u603b\u662f\u91cd\u542f\u5bb9\u5668\u3002</li> <li><code>environment</code>\uff1a\u5b9a\u4e49\u4e86\u51e0\u4e2a\u73af\u5883\u53d8\u91cf\u3002</li> <li><code>volumes</code>\uff1a\u6620\u5c04\u4e3b\u673a\u7684<code>./volumes/sandbox/dependencies</code>\u76ee\u5f55\u5230\u5bb9\u5668\u5185\u7684<code>/dependencies</code>\u76ee\u5f55\u3002</li> <li><code>networks</code>\uff1a\u914d\u7f6e\u8be5\u670d\u52a1\u6240\u8fde\u63a5\u7684\u7f51\u7edc\u53ca\u5176IP\u5730\u5740\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#9ssrf_proxy\u670d\u52a1","title":"9.ssrf_proxy\u670d\u52a1","text":"<ul> <li><code>image</code>\uff1a\u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684Squid\u4ee3\u7406\u955c\u50cf\u3002</li> <li><code>restart</code>\uff1a\u603b\u662f\u91cd\u542f\u5bb9\u5668\u3002</li> <li><code>volumes</code>\uff1a\u6620\u5c04\u4e3b\u673a\u7684<code>./volumes/ssrf_proxy/squid.conf</code>\u914d\u7f6e\u6587\u4ef6\u5230\u5bb9\u5668\u5185\u7684<code>/etc/squid/squid.conf</code>\u6587\u4ef6\u3002</li> <li><code>networks</code>\uff1a\u914d\u7f6e\u8be5\u670d\u52a1\u6240\u8fde\u63a5\u7684\u7f51\u7edc\u53ca\u5176IP\u5730\u5740\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#10nginx\u670d\u52a1","title":"10.nginx\u670d\u52a1","text":"<ul> <li><code>image:</code>\uff1a\u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684Nginx\u955c\u50cf\u3002</li> <li>`restart\uff1a\u603b\u662f\u91cd\u542f\u5bb9\u5668\u3002</li> <li><code>volumes</code>\uff1a\u6620\u5c04\u4e3b\u673a\u7684Nginx\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u5230\u5bb9\u5668\u5185\u7684\u76f8\u5e94\u76ee\u5f55\u3002</li> <li><code>depends_on</code>\uff1a\u8868\u793a\u6b64\u670d\u52a1\u4f9d\u8d56\u4e8e<code>api</code>\u548c<code>web</code>\u670d\u52a1\u3002</li> <li><code>ports</code>\uff1a\u6620\u5c04\u4e3b\u673a\u768480\u7aef\u53e3\u5230\u5bb9\u5668\u768480\u7aef\u53e3\u3002</li> <li><code>networks</code>\uff1a\u914d\u7f6e\u8be5\u670d\u52a1\u6240\u8fde\u63a5\u7684\u7f51\u7edc\u53ca\u5176IP\u5730\u5740\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#11\u7f51\u7edc\u5b9a\u4e49","title":"11.\u7f51\u7edc\u5b9a\u4e49","text":"<ul> <li><code>dify_ssrf_proxy_network</code>\uff1a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>dify_ssrf_proxy_network</code> \u7684\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0c\u4f9b <code>api</code> \u3001<code>work</code>\u3001<code>sandbox</code>\u3001<code>ssrf_proxy</code>\u670d\u52a1\u4f7f\u7528\u3002</li> <li><code>name</code>\uff1a\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7f51\u7edc\u540d\u79f0\uff0c\u8fd9\u91cc\u5b9a\u4e49\u4e3a<code>dify_ssrf_proxy_network</code>\uff0c\u5982\u679c\u4e0d\u914d\u7f6e<code>name</code>\u53c2\u6570\uff0c\u53ea\u6307\u5b9a\u4e86\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0cDocker Compose \u4f1a\u5c06\u8be5\u540d\u79f0\u4e0e\u9879\u76ee\u540d\u79f0\uff08project name\uff09\u7ed3\u5408\u8d77\u6765\u4f5c\u4e3a\u5b9e\u9645\u521b\u5efa\u7684\u7f51\u7edc\u7684\u540d\u79f0\uff0c\u9879\u76ee\u540d\u79f0\u901a\u5e38\u662f\u5f53\u524d\u76ee\u5f55\u7684\u540d\u79f0\uff0c\u6bd4\u5982\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5982\u679c\u4e0d\u6dfb\u52a0<code>name</code>\u53c2\u6570\u540e\uff0c\u6700\u7ec8\u521b\u5efa\u7684\u7f51\u7edc\u540d\u79f0\u4f1a\u662f <code>docker_dify_ssrf_proxy_network</code>\u3002</li> <li><code>ipam</code>\uff1aIP \u5730\u5740\u7ba1\u7406\u3002</li> <li><code>driver: default</code>\uff1a\u4f7f\u7528\u9ed8\u8ba4\u9a71\u52a8<code>bridge</code>\u3002</li> <li><code>config</code>: IP\u5730\u5740\u7ba1\u7406\u7684\u914d\u7f6e\u5217\u8868\u9879\u3002<ul> <li><code>- subnet</code>\uff1a\u8bbe\u7f6e\u5b50\u7f51\u4e3a <code>172.20.0.0/24</code>\uff1b</li> <li><code>gateway</code>\uff1a\u8bbe\u7f6e\u7f51\u5173\u4e3a<code>172.20.0.1</code>\u3002</li> </ul> </li> <li><code>dify_default</code>\uff1a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>dify_default</code> \u7684\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0c\u4f9b <code>api</code> \u3001<code>work</code>\u3001<code>web</code>\u3001<code>db</code>\u3001<code>redis</code>\u3001<code>weaviate</code>\u3001<code>ssra_proxy</code>\u3001<code>nginx</code>\u670d\u52a1\u4f7f\u7528\u3002</li> <li><code>name</code>\uff1a\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7f51\u7edc\u540d\u79f0\uff0c\u8fd9\u91cc\u5b9a\u4e49\u4e3a<code>dify_default</code>\uff0c\u5982\u679c\u4e0d\u914d\u7f6e<code>name</code>\u53c2\u6570\uff0c\u53ea\u6307\u5b9a\u4e86\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0cDocker Compose \u4f1a\u5c06\u8be5\u540d\u79f0\u4e0e\u9879\u76ee\u540d\u79f0\uff08project name\uff09\u7ed3\u5408\u8d77\u6765\u4f5c\u4e3a\u5b9e\u9645\u521b\u5efa\u7684\u7f51\u7edc\u7684\u540d\u79f0\uff0c\u9879\u76ee\u540d\u79f0\u901a\u5e38\u662f\u5f53\u524d\u76ee\u5f55\u7684\u540d\u79f0\uff0c\u6bd4\u5982\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5982\u679c\u4e0d\u6dfb\u52a0<code>name</code>\u53c2\u6570\u540e\uff0c\u6700\u7ec8\u521b\u5efa\u7684\u7f51\u7edc\u540d\u79f0\u4f1a\u662f <code>docker_dify_default</code>\u3002</li> <li><code>ipam</code>\uff1aIP \u5730\u5740\u7ba1\u7406\u3002</li> <li><code>driver: default</code>\uff1a\u4f7f\u7528\u9ed8\u8ba4\u9a71\u52a8<code>bridge</code>\u3002</li> <li><code>config</code>: IP\u5730\u5740\u7ba1\u7406\u7684\u914d\u7f6e\u5217\u8868\u9879\u3002<ul> <li><code>- subnet</code>\uff1a\u8bbe\u7f6e\u5b50\u7f51\u4e3a <code>172.21.0.0/24</code>\uff1b</li> <li><code>gateway</code>\uff1a\u8bbe\u7f6e\u7f51\u5173\u4e3a<code>172.21.0.1</code>\u3002</li> </ul> </li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#\u4e5dtypecho\u7684yml\u53c2\u6570\u8bf4\u660e","title":"\u4e5d\u3001typecho\u7684yml\u53c2\u6570\u8bf4\u660e","text":"Bash<pre><code>version: '3'\n\nservices:\n  typecho:\n    image: fukoy/nginx-php-fpm:php7.4\n    container_name: typecho2\n    networks:\n      - typecho_network\n    ports:\n      - '8090:80'  #\u5f00\u653e\u7aef\u53e38090\n    restart: always\n    volumes:\n      - /data/typecho/www:/usr/share/nginx/typecho/   #typecho\u7f51\u7ad9\u6587\u4ef6\n      - /data/typecho/nginx/conf.d:/etc/nginx/conf.d   #nginx\u914d\u7f6e\u6587\u4ef6\u5939\n      - /data/typecho/nginx/nginx.conf:/etc/nginx/nginx.conf  #nginx\u914d\u7f6e\u6587\u4ef6\n    depends_on:\n      - mysql\n\n  typechdb:\n    image: mysql:5.7\n    container_name: typechodb2\n    networks:\n      - typecho_network\n    ports:\n      - '3306:3306'\n    restart: always\n    environment:\n      - MYSQL_ROOT_PASSWORD=123456   # \u66ff\u6362\u4e3a\u4f60\u7684MySQL root\u5bc6\u7801\n      - MYSQL_DATABASE=typecho       # \u66ff\u6362\u4e3a\u4f60\u7684\u6570\u636e\u5e93\u540d\u79f0\n      - MYSQL_USER=typecho           # \u66ff\u6362\u4e3a\u4f60\u7684\u6570\u636e\u5e93\u7528\u6237\n      - MYSQL_PASSWORD=typecho       # \u66ff\u6362\u4e3a\u4f60\u7684\u6570\u636e\u5e93\u7528\u6237\u5bc6\u7801\n    volumes:\n      - /data/typecho/mysql/data:/var/lib/mysql\n      - /data/typecho/mysql/logs:/var/log/mysql\n      - /data/typecho/mysql/conf:/etc/mysql/conf.d\n\nnetworks:\n  typecho_network:\n    name: typecho_network\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.190.0.0/16\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#1\u7248\u672c_4","title":"1.\u7248\u672c","text":"<ul> <li><code>version</code>\uff1a\u6307\u5b9a\u4e86 Docker Compose \u6587\u4ef6\u7684\u7248\u672c\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u7248\u672c 3\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#2typecho\u670d\u52a1","title":"2.typecho\u670d\u52a1","text":"<ul> <li><code>image</code>: \u6307\u5b9a\u5bb9\u5668\u4f7f\u7528 <code>fukoy/nginx-php-fpm:php7.4</code> \u955c\u50cf\u3002</li> <li><code>container_name</code>: \u4e3a\u8be5\u670d\u52a1\u6307\u5b9a\u5bb9\u5668\u540d\u79f0\u4e3a <code>typecho2</code>\u3002</li> <li><code>networks</code>: \u5c06\u8be5\u5bb9\u5668\u8fde\u63a5\u5230\u540d\u4e3a <code>typecho_network</code> \u7684\u7f51\u7edc\u3002</li> <li><code>ports</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 8090 \u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u7684 80 \u7aef\u53e3\uff0c\u5141\u8bb8\u901a\u8fc7\u5bbf\u4e3b\u673a\u7684 8090 \u7aef\u53e3\u8bbf\u95ee\u5bb9\u5668\u5185\u7684\u670d\u52a1\u3002</li> <li><code>restart</code>: \u8bbe\u7f6e\u5bb9\u5668\u5728\u505c\u6b62\u540e\u81ea\u52a8\u91cd\u542f\u3002</li> <li><code>volumes</code>: \u5b9a\u4e49\u4e86\u6302\u8f7d\u5377\uff0c\u5c06\u5bbf\u4e3b\u673a\u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u5185\u5bf9\u5e94\u7684\u76ee\u5f55\u3002</li> <li><code>/data/typecho/www:/usr/share/nginx/typecho/</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 <code>/data/typecho/www</code> \u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u7684 <code>/usr/share/nginx/typecho/</code>\uff0c\u7528\u4e8e\u5b58\u50a8 Typecho \u7f51\u7ad9\u6587\u4ef6\u3002</li> <li><code>/data/typecho/nginx/conf.d:/etc/nginx/conf.d</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 <code>/data/typecho/nginx/conf.d</code> \u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u7684 <code>/etc/nginx/conf.d</code>\uff0c\u7528\u4e8e\u5b58\u50a8 Nginx \u914d\u7f6e\u6587\u4ef6\u3002</li> <li><code>/data/typecho/nginx/nginx.conf:/etc/nginx/nginx.conf</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 <code>/data/typecho/nginx/nginx.conf</code> \u6587\u4ef6\u6620\u5c04\u5230\u5bb9\u5668\u7684 <code>/etc/nginx/nginx.conf</code>\uff0c\u7528\u4e8e\u5b58\u50a8 Nginx \u4e3b\u914d\u7f6e\u6587\u4ef6\u3002</li> <li><code>depends_on</code>: \u6307\u5b9a\u8be5\u670d\u52a1\u4f9d\u8d56 <code>mysql</code> \u670d\u52a1\uff0c\u5373\u5728\u542f\u52a8\u8be5\u670d\u52a1\u524d\u5148\u542f\u52a8 <code>mysql</code> \u670d\u52a1\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#3typechdb\u670d\u52a1","title":"3.typechdb\u670d\u52a1","text":"<ul> <li><code>image</code>: \u6307\u5b9a\u5bb9\u5668\u4f7f\u7528 <code>mysql:5.7</code> \u955c\u50cf\u3002</li> <li><code>container_name</code>: \u4e3a\u8be5\u670d\u52a1\u6307\u5b9a\u5bb9\u5668\u540d\u79f0\u4e3a <code>typechodb2</code>\u3002</li> <li><code>networks</code>: \u5c06\u8be5\u5bb9\u5668\u8fde\u63a5\u5230\u540d\u4e3a <code>typecho_network</code> \u7684\u7f51\u7edc\u3002</li> <li><code>ports</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 3306 \u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u7684 3306 \u7aef\u53e3\uff0c\u5141\u8bb8\u901a\u8fc7\u5bbf\u4e3b\u673a\u7684 3306 \u7aef\u53e3\u8bbf\u95ee\u5bb9\u5668\u5185\u7684 MySQL \u6570\u636e\u5e93\u3002</li> <li>`restart: \u8bbe\u7f6e\u5bb9\u5668\u5728\u505c\u6b62\u540e\u81ea\u52a8\u91cd\u542f\u3002</li> <li><code>environment</code>: \u5b9a\u4e49\u73af\u5883\u53d8\u91cf\u6765\u914d\u7f6e MySQL \u6570\u636e\u5e93\u3002</li> <li><code>MYSQL_ROOT_PASSWORD</code>: \u8bbe\u7f6e MySQL root \u7528\u6237\u7684\u5bc6\u7801\u4e3a <code>123456</code>\u3002</li> <li><code>MYSQL_DATABASE: \u521b\u5efa\u540d\u4e3a</code>typecho` \u7684\u6570\u636e\u5e93\u3002</li> <li><code>MYSQL_USER: \u521b\u5efa\u540d\u4e3a</code>typecho` \u7684\u6570\u636e\u5e93\u7528\u6237\u3002</li> <li><code>MYSQL_PASSWORD: \u8bbe\u7f6e</code>typecho<code>\u7528\u6237\u7684\u5bc6\u7801\u4e3a</code>typecho`\u3002</li> <li><code>volumes</code>: \u5b9a\u4e49\u4e86\u6302\u8f7d\u5377\uff0c\u5c06\u5bbf\u4e3b\u673a\u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u5185\u5bf9\u5e94\u7684\u76ee\u5f55\u3002</li> <li><code>/data/typecho/mysql/data:/var/lib/mysql</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 <code>/data/typecho/mysql/data</code> \u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u7684 <code>/var/lib/mysql</code>\uff0c\u7528\u4e8e\u5b58\u50a8 MySQL \u6570\u636e\u3002</li> <li><code>/data/typecho/mysql/logs:/var/log/mysql</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 <code>/data/typecho/mysql/logs</code> \u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u7684 <code>/var/log/mysql</code>\uff0c\u7528\u4e8e\u5b58\u50a8 MySQL \u65e5\u5fd7\u3002</li> <li><code>/data/typecho/mysql/conf:/etc/mysql/conf.d</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 <code>/data/typecho/mysql/conf</code> \u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u7684 <code>/etc/mysql/conf.d</code>\uff0c\u7528\u4e8e\u5b58\u50a8 MySQL \u914d\u7f6e\u6587\u4ef6\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#4\u7f51\u7edc\u5b9a\u4e49_2","title":"4.\u7f51\u7edc\u5b9a\u4e49","text":"<ul> <li><code>typecho_network</code>\uff1a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>typecho_network</code> \u7684\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0c\u4f9b <code>typecho</code> \u548c <code>typechodb</code> \u670d\u52a1\u4f7f\u7528\u3002</li> <li><code>name</code>\uff1a\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7f51\u7edc\u540d\u79f0\uff0c\u8fd9\u91cc\u5b9a\u4e49\u4e3a<code>typecho_network</code>\uff0c\u5982\u679c\u4e0d\u914d\u7f6e<code>name</code>\u53c2\u6570\uff0c\u53ea\u6307\u5b9a\u4e86\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0cDocker Compose \u4f1a\u5c06\u8be5\u540d\u79f0\u4e0e\u9879\u76ee\u540d\u79f0\uff08project name\uff09\u7ed3\u5408\u8d77\u6765\u4f5c\u4e3a\u5b9e\u9645\u521b\u5efa\u7684\u7f51\u7edc\u7684\u540d\u79f0\uff0c\u9879\u76ee\u540d\u79f0\u901a\u5e38\u662f\u5f53\u524d\u76ee\u5f55\u7684\u540d\u79f0\uff0c\u6bd4\u5982\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5982\u679c\u4e0d\u6dfb\u52a0<code>name</code>\u53c2\u6570\u540e\uff0c\u6700\u7ec8\u521b\u5efa\u7684\u7f51\u7edc\u540d\u79f0\u4f1a\u662f <code>typecho_typecho_network</code>\u3002</li> <li><code>ipam</code>\uff1aIP \u5730\u5740\u7ba1\u7406\u3002</li> <li><code>driver: default</code>\uff1a\u4f7f\u7528\u9ed8\u8ba4\u9a71\u52a8<code>bridge</code>\u3002</li> <li><code>config: - subnet</code>\uff1a\u8bbe\u7f6e\u5b50\u7f51\u4e3a <code>172.190.0.0/16</code>\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#\u5341reader\u7684yml\u53c2\u6570\u8bf4\u660e","title":"\u5341\u3001reader\u7684yml\u53c2\u6570\u8bf4\u660e","text":"Bash<pre><code>version: '3.1'\n\nservices:\n# \u591a\u7528\u6237\u7248\n  read_all:\n    image: hectorqin/reader\n    container_name: reader   #\u5bb9\u5668\u540d,\u53ef\u81ea\u884c\u4fee\u6539\n    networks:\n      - reader_network\n    restart: always\n    ports:\n      - 4396:8080   #4396\u7aef\u53e3\u6620\u5c04\u53ef\u81ea\u884c\u4fee\u6539\n    volumes:\n      - /data/reader/logs:/logs   #log\u6620\u5c04\u76ee\u5f55 /root/data/docker_data/reader/logs \u6620\u5c04\u76ee\u5f55\u53ef\u81ea\u884c\u4fee\u6539\n      - /data/reader/storage:/storage   #\u6570\u636e\u6620\u5c04\u76ee\u5f55 /root/data/docker_data/reader/storage \u6620\u5c04\u76ee\u5f55\u53ef\u81ea\u884c\u4fee\u6539\n    environment:\n      - SPRING_PROFILES_ACTIVE=prod\n      - READER_APP_SECURE=true   #\u5f00\u542f\u767b\u5f55\u9274\u6743\uff0c\u5f00\u542f\u540e\u5c06\u652f\u6301\u591a\u7528\u6237\u6a21\u5f0f\n      - READER_APP_CACHECHAPTERCONTENT=true   #\u662f\u5426\u5f00\u542f\u7f13\u5b58\u7ae0\u8282\u5185\u5bb9 V2.0\n      - READER_APP_SECUREKEY=Sunline@2024   #\u7ba1\u7406\u5458\u5bc6\u7801  \u53ef\u81ea\u884c\u4fee\u6539\n# \u81ea\u52a8\u66f4\u65b0docker\n  watchtower:\n    image: containrrr/watchtower\n    container_name: watchtower\n    networks:\n      - reader_network\n    restart: always\n    # \u73af\u5883\u53d8\u91cf,\u8bbe\u7f6e\u4e3a\u4e0a\u6d77\u65f6\u533a\n    environment:\n        - TZ=Asia/Shanghai\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock\n    command: reader watchtower --cleanup --schedule \"0 0 4 * * *\"\n\nnetworks:\n  reader_network:\n    name: reader_network\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.100.0.0/16\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#1\u7248\u672c_5","title":"1.\u7248\u672c","text":"<ul> <li><code>version</code>\uff1a\u6307\u5b9a\u4e86 Docker Compose \u6587\u4ef6\u7684\u7248\u672c\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u7248\u672c 3.1\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#2read_all\u670d\u52a1","title":"2.read_all\u670d\u52a1","text":"<ul> <li><code>image</code>: \u6307\u5b9a\u5bb9\u5668\u4f7f\u7528 <code>hectorqin/reader</code> \u955c\u50cf\u3002</li> <li><code>container_name</code>: \u4e3a\u8be5\u670d\u52a1\u6307\u5b9a\u5bb9\u5668\u540d\u79f0\u4e3a <code>reader</code>\u3002</li> <li><code>networks</code>: \u5c06\u8be5\u5bb9\u5668\u8fde\u63a5\u5230\u540d\u4e3a <code>reader_network</code> \u7684\u7f51\u7edc\u3002</li> <li><code>restart</code>: \u8bbe\u7f6e\u5bb9\u5668\u5728\u505c\u6b62\u540e\u81ea\u52a8\u91cd\u542f\u3002</li> <li><code>ports</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 4396 \u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u7684 8080 \u7aef\u53e3\uff0c\u5141\u8bb8\u901a\u8fc7\u5bbf\u4e3b\u673a\u7684 4396 \u7aef\u53e3\u8bbf\u95ee\u5bb9\u5668\u5185\u7684\u670d\u52a1\u3002</li> <li><code>volumes</code>: \u5b9a\u4e49\u4e86\u6302\u8f7d\u5377\uff0c\u5c06\u5bbf\u4e3b\u673a\u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u5185\u5bf9\u5e94\u7684\u76ee\u5f55\u3002</li> <li><code>/data/reader/logs:/logs</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 <code>/data/reader/logs</code> \u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u7684 <code>/logs</code>\uff0c\u7528\u4e8e\u5b58\u50a8 Reader \u65e5\u5fd7\u6587\u4ef6\u3002</li> <li><code>/data/reader/storage:/storage</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 <code>/data/reader/storage</code> \u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u7684 <code>/storage</code>\uff0c\u7528\u4e8e\u5b58\u50a8 Reader \u6570\u636e\u3002</li> <li><code>environment</code>: \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u3002</li> <li><code>SPRING_PROFILES_ACTIVE=prod</code>: \u8bbe\u7f6e Spring Boot \u7684\u8fd0\u884c\u73af\u5883\u4e3a\u751f\u4ea7\u73af\u5883\u3002</li> <li><code>READER_APP_SECURE=true</code>: \u5f00\u542f\u767b\u5f55\u9274\u6743\uff0c\u5f00\u542f\u540e\u5c06\u652f\u6301\u591a\u7528\u6237\u6a21\u5f0f\u3002</li> <li><code>READER_APP_CACHECHAPTERCONTENT=true</code>: \u5f00\u542f\u7f13\u5b58\u7ae0\u8282\u5185\u5bb9\uff08V2.0 \u7248\uff09\u3002</li> <li><code>READER_APP_SECUREKEY=Sunline@2024</code>: \u7ba1\u7406\u5458\u5bc6\u7801\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#3watchtower\u670d\u52a1","title":"3.watchtower\u670d\u52a1","text":"<ul> <li><code>image</code>: \u6307\u5b9a\u5bb9\u5668\u4f7f\u7528 <code>containrrr/watchtower</code> \u955c\u50cf\u3002</li> <li><code>container_name</code>: \u4e3a\u8be5\u670d\u52a1\u6307\u5b9a\u5bb9\u5668\u540d\u79f0\u4e3a <code>watchtower</code>\u3002</li> <li><code>networks</code>: \u5c06\u8be5\u5bb9\u5668\u8fde\u63a5\u5230\u540d\u4e3a <code>reader_network</code> \u7684\u7f51\u7edc\u3002</li> <li><code>restart</code>: \u8bbe\u7f6e\u5bb9\u5668\u5728\u505c\u6b62\u540e\u81ea\u52a8\u91cd\u542f\u3002</li> <li><code>environment</code>: \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u3002</li> <li><code>TZ=Asia/Shanghai</code>: \u8bbe\u7f6e\u65f6\u533a\u4e3a\u4e0a\u6d77\u65f6\u533a\u3002</li> <li><code>volumes</code>: \u5b9a\u4e49\u4e86\u6302\u8f7d\u5377\uff0c\u5c06\u5bbf\u4e3b\u673a\u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u5185\u5bf9\u5e94\u7684\u76ee\u5f55\u3002</li> <li><code>/var/run/docker.sock:/var/run/docker.sock</code>\uff1a\u6620\u5c04\u5bbf\u4e3b\u673a\u7684 <code>/var/run/docker.sock</code> \u5230\u5bb9\u5668\u7684 <code>/var/run/docker.sock</code>\uff0c\u4f7f Watchtower \u80fd\u591f\u7ba1\u7406 Docker \u5bb9\u5668\u3002</li> <li><code>command: reader watchtower --cleanup --schedule \"0 0 4 * * *\"</code>\uff1a\u6267\u884c Watchtower \u547d\u4ee4\uff0c\u81ea\u52a8\u66f4\u65b0 <code>reader</code> \u5bb9\u5668\uff0c\u5e76\u6e05\u7406\u65e7\u7248\u672c\uff0c\u6309\u7167\u8ba1\u5212\u4efb\u52a1\uff08\u6bcf\u5929\u51cc\u6668 4 \u70b9\uff09\u8fdb\u884c\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#4\u7f51\u7edc\u5b9a\u4e49_3","title":"4.\u7f51\u7edc\u5b9a\u4e49","text":"<ul> <li><code>reader_network</code>\uff1a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>reader_network</code> \u7684\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0c\u4f9b <code>reader_all</code> \u548c <code>watchtower</code> \u670d\u52a1\u4f7f\u7528\u3002</li> <li><code>name</code>\uff1a\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7f51\u7edc\u540d\u79f0\uff0c\u8fd9\u91cc\u5b9a\u4e49\u4e3a<code>reader_network</code>\uff0c\u5982\u679c\u4e0d\u914d\u7f6e<code>name</code>\u53c2\u6570\uff0c\u53ea\u6307\u5b9a\u4e86\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0cDocker Compose \u4f1a\u5c06\u8be5\u540d\u79f0\u4e0e\u9879\u76ee\u540d\u79f0\uff08project name\uff09\u7ed3\u5408\u8d77\u6765\u4f5c\u4e3a\u5b9e\u9645\u521b\u5efa\u7684\u7f51\u7edc\u7684\u540d\u79f0\uff0c\u9879\u76ee\u540d\u79f0\u901a\u5e38\u662f\u5f53\u524d\u76ee\u5f55\u7684\u540d\u79f0\uff0c\u6bd4\u5982\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5982\u679c\u4e0d\u6dfb\u52a0<code>name</code>\u53c2\u6570\u540e\uff0c\u6700\u7ec8\u521b\u5efa\u7684\u7f51\u7edc\u540d\u79f0\u4f1a\u662f <code>reader_reader_network</code>\u3002</li> <li><code>ipam</code>\uff1aIP \u5730\u5740\u7ba1\u7406\u3002</li> <li><code>driver: default</code>\uff1a\u4f7f\u7528\u9ed8\u8ba4\u9a71\u52a8<code>bridge</code>\u3002</li> <li><code>config: - subnet</code>\uff1a\u8bbe\u7f6e\u5b50\u7f51\u4e3a <code>172.100.0.0/16</code>\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#\u5341\u4e00navidrome\u7684yml\u53c2\u6570\u8bf4\u660e","title":"\u5341\u4e00\u3001navidrome\u7684yml\u53c2\u6570\u8bf4\u660e","text":"Bash<pre><code>version: \"3\"\nservices:\n  navidrome:\n    image: deluan/navidrome:latest\n    container_name: navidrome\n    networks:\n      - music_network\n    restart: unless-stopped\n    ports:\n      - \"4533:4533\"\n    environment:\n      ND_ENABLETRANSCODINGCONFIG: true\n      ND_TRANSCODINGCACHESIZE: 0\n      ND_SCANSCHEDULE: 1h\n      ND_LOGLEVEL: info  \n      ND_SESSIONTIMEOUT: 24h\n      ND_BASEURL: \"\"\n      LANG: C.UTF-8\n      LC_ALL: C.UTF-8\n    volumes:\n      - \"/data/navidrome/data:/data\"\n      - \"/data/navidrome/music:/music:ro\"\n\n  miniserve:\n    image: svenstaro/miniserve:latest\n    container_name: miniserve\n    networks:\n      - music_network\n    restart: unless-stopped\n    depends_on:\n      - navidrome\n    ports:\n      - \"4534:8080\"\n    environment:\n      LANG: C.UTF-8\n      LC_ALL: C.UTF-8\n    volumes:\n      - \"/data/navidrome/music:/downloads\"    # \u4e0a\u4f20\u6587\u4ef6\u7684\u76ee\u6807\u76ee\u5f55\n    command: \"-r -z -u -q -p 8080 -a admin:dream13889 /downloads\"\n\nnetworks:\n  music_network:\n    name: music_network\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.101.0.0/16\n</code></pre>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#1\u7248\u672c_6","title":"1.\u7248\u672c","text":"<ul> <li><code>version</code>\uff1a\u6307\u5b9a\u4e86 Docker Compose \u6587\u4ef6\u7684\u7248\u672c\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u7248\u672c 3\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#2navidrome\u670d\u52a1","title":"2.navidrome\u670d\u52a1","text":"<ul> <li><code>image</code>: \u6307\u5b9a\u5bb9\u5668\u4f7f\u7528 <code>deluan/navidrome:latest</code> \u955c\u50cf\u3002</li> <li><code>container_name</code>: \u4e3a\u8be5\u670d\u52a1\u6307\u5b9a\u5bb9\u5668\u540d\u79f0\u4e3a <code>navidrome</code>\u3002</li> <li><code>networks</code>: \u5c06\u8be5\u5bb9\u5668\u8fde\u63a5\u5230\u540d\u4e3a <code>music_network</code> \u7684\u7f51\u7edc\u3002</li> <li><code>restart</code>: \u5bb9\u5668\u5c06\u5728\u5931\u8d25\u65f6\u91cd\u542f\uff0c\u9664\u975e\u624b\u52a8\u505c\u6b62\u3002</li> <li><code>ports</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 4533 \u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u7684 4533 \u7aef\u53e3\uff0c\u5141\u8bb8\u901a\u8fc7\u5bbf\u4e3b\u673a\u7684 4533 \u7aef\u53e3\u8bbf\u95ee\u5bb9\u5668\u5185\u7684\u670d\u52a1\u3002</li> <li><code>environment</code>\uff1a\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u3002</li> <li><code>ND_ENABLETRANSCODINGCONFIG=true</code>: \u542f\u7528\u8f6c\u7801\u914d\u7f6e\u3002</li> <li><code>ND_TRANSCODINGCACHESIZE=0</code>: \u8bbe\u7f6e\u8f6c\u7801\u7f13\u5b58\u5927\u5c0f\u4e3a 0\u3002</li> <li><code>ND_SCANSCHEDULE=1h</code>: \u6bcf\u5c0f\u65f6\u626b\u63cf\u4e00\u6b21\u3002</li> <li><code>ND_LOGLEVEL=info</code>: \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\u4e3a <code>info</code>\u3002</li> <li><code>ND_SESSIONTIMEOUT=24h</code>: \u4f1a\u8bdd\u8d85\u65f6\u65f6\u95f4\u4e3a 24 \u5c0f\u65f6\u3002</li> <li><code>ND_BASEURL=\"\"</code>: \u57fa\u672c URL\uff08\u7a7a\u5b57\u7b26\u4e32\u8868\u793a\u6ca1\u6709\u7279\u5b9a\u7684\u57fa URL\uff09\u3002</li> <li><code>LANG=C.UTF-8</code> \u548c <code>LC_ALL=C.UTF-8</code>: \u8bbe\u7f6e\u8bed\u8a00\u73af\u5883\u4e3a <code>C.UTF-8</code>\u3002</li> <li><code>volumes</code>: \u5b9a\u4e49\u4e86\u6302\u8f7d\u5377\uff0c\u5c06\u5bbf\u4e3b\u673a\u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u5185\u5bf9\u5e94\u7684\u76ee\u5f55\u3002</li> <li><code>/data/navidrome/data:/data</code>: \u6620\u5c04\u5bbf\u4e3b\u673a\u7684 <code>/data/navidrome/data</code> \u76ee\u5f55\u5230\u5bb9\u5668\u7684 <code>/data</code> \u76ee\u5f55\uff0c\u7528\u4e8e\u5b58\u50a8 Navidrome \u7684\u6570\u636e\u3002</li> <li><code>/data/navidrome/music:/music:ro</code>: \u6620\u5c04\u5bbf\u4e3b\u673a\u7684 <code>/data/navidrome/music</code> \u76ee\u5f55\u5230\u5bb9\u5668\u7684 <code>/music</code> \u76ee\u5f55\uff08\u53ea\u8bfb\uff09\uff0c\u7528\u4e8e\u5b58\u50a8\u97f3\u4e50\u6587\u4ef6\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#3miniserve\u670d\u52a1","title":"3.miniserve\u670d\u52a1","text":"<ul> <li><code>image</code>: \u6307\u5b9a\u5bb9\u5668\u4f7f\u7528 <code>svenstaro/miniserve:latest</code> \u955c\u50cf\u3002</li> <li><code>container_name</code>: \u4e3a\u8be5\u670d\u52a1\u6307\u5b9a\u5bb9\u5668\u540d\u79f0\u4e3a <code>miniserve</code>\u3002</li> <li><code>networks</code>: \u5c06\u8be5\u5bb9\u5668\u8fde\u63a5\u5230\u540d\u4e3a <code>music_network</code> \u7684\u7f51\u7edc\u3002</li> <li><code>restart</code>: \u5bb9\u5668\u5c06\u5728\u5931\u8d25\u65f6\u91cd\u542f\uff0c\u9664\u975e\u624b\u52a8\u505c\u6b62\u3002</li> <li><code>depends_on</code>\uff1a\u8868\u793a <code>miniserve</code> \u670d\u52a1\u4f9d\u8d56\u4e8e <code>navidrome</code> \u670d\u52a1\u3002Docker Compose \u5c06\u786e\u4fdd <code>navidrome</code> \u670d\u52a1\u5148\u542f\u52a8\u3002</li> <li><code>ports</code>: \u5c06\u5bbf\u4e3b\u673a\u7684 4534 \u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u7684 8080 \u7aef\u53e3\uff0c\u5141\u8bb8\u901a\u8fc7\u5bbf\u4e3b\u673a\u7684 4534 \u7aef\u53e3\u8bbf\u95ee\u5bb9\u5668\u5185\u7684\u670d\u52a1\u3002</li> <li><code>environment</code>: \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u3002</li> <li><code>LANG=C.UTF-8</code> \u548c <code>LC_ALL=C.UTF-8</code>: \u8bbe\u7f6e\u8bed\u8a00\u73af\u5883\u4e3a <code>C.UTF-8</code>\u3002</li> <li><code>volumes</code>: \u5b9a\u4e49\u4e86\u6302\u8f7d\u5377\uff0c\u5c06\u5bbf\u4e3b\u673a\u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u5185\u5bf9\u5e94\u7684\u76ee\u5f55\u3002</li> <li><code>/data/navidrome/music:/downloads</code>\uff1a\u6620\u5c04\u5bbf\u4e3b\u673a\u7684 <code>/data/navidrome/music</code> \u76ee\u5f55\u5230\u5bb9\u5668\u7684 <code>/downloads</code> \u76ee\u5f55\u3002</li> <li><code>command: \"-r -z -u -q -p 8080 -a admin:dream13889 /downloads\"</code>\uff1a\u8fd0\u884c <code>miniserve</code> \u547d\u4ee4\u3002</li> <li><code>-r</code>: \u9012\u5f52\u663e\u793a\u76ee\u5f55\u3002</li> <li><code>-z</code>: \u542f\u7528\u538b\u7f29\u4e0b\u8f7d\u3002</li> <li><code>-u</code>: \u663e\u793a\u4e0a\u4f20\u6309\u94ae\u3002</li> <li><code>-q</code>: \u542f\u7528\u5b89\u9759\u6a21\u5f0f\uff0c\u51cf\u5c11\u65e5\u5fd7\u8f93\u51fa\u3002</li> <li><code>-p 8080</code>: \u6307\u5b9a\u7aef\u53e3\u4e3a 8080\u3002</li> <li><code>-a admin:dream13889</code>: \u8bbe\u7f6e\u57fa\u672c\u8eab\u4efd\u9a8c\u8bc1\uff0c\u7528\u6237\u540d\u4e3a <code>admin</code>\uff0c\u5bc6\u7801\u4e3a <code>dream13889</code>\u3002</li> <li><code>/downloads</code>: \u6307\u5b9a\u8981\u5171\u4eab\u7684\u76ee\u5f55\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20compose%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/#4\u7f51\u7edc\u5b9a\u4e49_4","title":"4.\u7f51\u7edc\u5b9a\u4e49","text":"<ul> <li><code>music_network</code>\uff1a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>music_network</code> \u7684\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0c\u4f9b <code>navidrome</code> \u548c <code>miniserve</code> \u670d\u52a1\u4f7f\u7528\u3002</li> <li><code>name</code>\uff1a\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7f51\u7edc\u540d\u79f0\uff0c\u8fd9\u91cc\u5b9a\u4e49\u4e3a<code>music_network</code>\uff0c\u5982\u679c\u4e0d\u914d\u7f6e<code>name</code>\u53c2\u6570\uff0c\u53ea\u6307\u5b9a\u4e86\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0cDocker Compose \u4f1a\u5c06\u8be5\u540d\u79f0\u4e0e\u9879\u76ee\u540d\u79f0\uff08project name\uff09\u7ed3\u5408\u8d77\u6765\u4f5c\u4e3a\u5b9e\u9645\u521b\u5efa\u7684\u7f51\u7edc\u7684\u540d\u79f0\uff0c\u9879\u76ee\u540d\u79f0\u901a\u5e38\u662f\u5f53\u524d\u76ee\u5f55\u7684\u540d\u79f0\uff0c\u6bd4\u5982\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5982\u679c\u4e0d\u6dfb\u52a0<code>name</code>\u53c2\u6570\u540e\uff0c\u6700\u7ec8\u521b\u5efa\u7684\u7f51\u7edc\u540d\u79f0\u4f1a\u662f <code>music_music_network</code>\u3002</li> <li><code>ipam</code>\uff1aIP \u5730\u5740\u7ba1\u7406\u3002</li> <li><code>driver: default</code>\uff1a\u4f7f\u7528\u9ed8\u8ba4\u9a71\u52a8<code>bridge</code>\u3002</li> <li><code>config: - subnet</code>\uff1a\u8bbe\u7f6e\u5b50\u7f51\u4e3a <code>172.101.0.0/16</code>\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20%E5%AE%89%E8%A3%85KeyManager/","title":"docker \u5b89\u88c5KeyManager","text":"<p>\u670d\u52a1\u5668IP\uff1a10.22.51.65</p> <p>http://10.22.51.65:8201/ui/vault/dashboard</p> <p>\u5e2e\u52a9\u6587\u6863</p> <p>https://docs.certcloud.cn/docs/cert-tools/keymanager/</p>"},{"location":"docker/docker-deploy/docker%20%E5%AE%89%E8%A3%85KeyManager/#4\u5b89\u88c5keymanager","title":"\uff084\uff09\u5b89\u88c5KeyManager","text":"Text Only<pre><code>mkdir -p /etc/vault/config\n\n#\u521b\u5efa\u914d\u7f6e\u6587\u4ef6 vault.hcl\uff1a\nvi /etc/vault/config/vault.hcl\n\n\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a\nstorage \"file\" {\n  path = \"/vault/data\"\n}\n\nlistener \"tcp\" {\n  address     = \"0.0.0.0:8201\"\n  tls_disable = 1\n}\n\n#\u542f\u52a8\u5bb9\u5668\uff08\u6dfb\u52a0 --cap-add IPC_LOCK \u53c2\u6570\u6765\u542f\u7528 IPC_LOCK \u6743\u9650\uff09\ndocker run -d --name=vault \\\n  --cap-add IPC_LOCK \\\n  -e 'VAULT_ADDR=http://127.0.0.1:8201' \\\n  -e 'VAULT_LOCAL_CONFIG={\"backend\": {\"file\": {\"path\": \"/vault/data\"}}, \"listener\": {\"tcp\": {\"address\": \"0.0.0.0:8201\", \"tls_disable\": 1}}, \"ui\": true}' \\\n  -v /etc/vault/config:/vault/config \\\n  -v /etc/vault/data:/vault/data \\\n  -p 8201:8201 \\\n  hashicorp/vault server\n\n\ndocker exec -it vault /bin/sh\n</code></pre> Text Only<pre><code>#\u521d\u59cb\u5316 Vault  \u547d\u4ee4\uff1avault operator init\n\n\n/ # vault operator init\nUnseal Key 1: 4+PfzWlhYD9zBD9zRMVP8pj+8qMfV2iLjYtLGUImqeVA\nUnseal Key 2: blyOYOJUbdfGWJt4XsGGdgujOaoS9/2qzkabhsGplAd0\nUnseal Key 3: 27lCWdfQnWurNtAKe2bwKxfmkR6n8VW47JvGjnJR9Kj7\nUnseal Key 4: yhmybMr7Hf2cCppI9S0w/yuh+ctvnJwyOYJ6kZkgG3T/\nUnseal Key 5: o3YvYA6z961RAEswnCs6MqH48K/IrfuPxgzededdqm05\n\nInitial Root Token: hvs.fjs7SDom4gcpivKcj0pnyy0M\n\nVault initialized with 5 key shares and a key threshold of 3. Please securely\ndistribute the key shares printed above. When the Vault is re-sealed,\nrestarted, or stopped, you must supply at least 3 of these keys to unseal it\nbefore it can start servicing requests.\n\nVault does not store the generated root key. Without at least 3 keys to\nreconstruct the root key, Vault will remain permanently sealed!\n\nIt is possible to generate new unseal keys, provided you have a quorum of\nexisting unseal keys shares. See \"vault operator rekey\" for more information.\n</code></pre> <p>\u521d\u59cb\u5316\u8f93\u51fa\u5c06\u5305\u542b 5 \u4e2a\u5bc6\u94a5\u7247\u6bb5\u548c\u4e00\u4e2a\u521d\u59cb\u7684 Root Token\u3002\u8bf7\u59a5\u5584\u4fdd\u5b58\u8fd9\u4e9b\u4fe1\u606f\u3002</p> <p>\u89e3\u5c01 Vault</p> <p>Vault \u9700\u8981\u81f3\u5c11 3 \u4e2a\u5bc6\u94a5\u7247\u6bb5\u6765\u89e3\u5c01\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u89e3\u5c01 Vault\uff08\u91cd\u590d\u4e09\u6b21\uff0c\u6bcf\u6b21\u4f7f\u7528\u4e00\u4e2a\u4e0d\u540c\u7684\u5bc6\u94a5\u7247\u6bb5\uff09\uff1a</p> Text Only<pre><code>vault operator unseal &lt;\u5bc6\u94a5\u7247\u6bb51&gt;\nvault operator unseal &lt;\u5bc6\u94a5\u7247\u6bb52&gt;\nvault operator unseal &lt;\u5bc6\u94a5\u7247\u6bb53&gt;\n\n\u5982\u4e0b\uff1a\n/ # vault operator unseal 4+PfzWlhYD9zBD9zRMVP8pj+8qMfV2iLjYtLGUImqeVA\nKey                Value\n---                -----\nSeal Type          shamir\nInitialized        true\nSealed             true\nTotal Shares       5\nThreshold          3\nUnseal Progress    1/3\nUnseal Nonce       d758c1d5-f78e-b7d9-32e7-8abfa60fa5dc\nVersion            1.16.2\nBuild Date         2024-04-22T16:25:54Z\nStorage Type       file\nHA Enabled         false\n/ # vault operator unseal blyOYOJUbdfGWJt4XsGGdgujOaoS9/2qzkabhsGplAd0\nKey                Value\n---                -----\nSeal Type          shamir\nInitialized        true\nSealed             true\nTotal Shares       5\nThreshold          3\nUnseal Progress    2/3\nUnseal Nonce       d758c1d5-f78e-b7d9-32e7-8abfa60fa5dc\nVersion            1.16.2\nBuild Date         2024-04-22T16:25:54Z\nStorage Type       file\nHA Enabled         false\n/ # vault operator unseal 27lCWdfQnWurNtAKe2bwKxfmkR6n8VW47JvGjnJR9Kj7\nKey             Value\n---             -----\nSeal Type       shamir\nInitialized     true\nSealed          false\nTotal Shares    5\nThreshold       3\nVersion         1.16.2\nBuild Date      2024-04-22T16:25:54Z\nStorage Type    file\nCluster Name    vault-cluster-f0a7e1ef\nCluster ID      caf98291-72c1-6797-9cbd-ae46ce0db609\nHA Enabled      false\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E5%AE%89%E8%A3%85KeyManager/#\u767b\u5f55-vault","title":"&lt;4&gt;\u767b\u5f55 Vault","text":"<p>\u4f7f\u7528\u521d\u59cb\u5316\u8fc7\u7a0b\u4e2d\u63d0\u4f9b\u7684 Root Token \u767b\u5f55 Vault\uff1a</p> Text Only<pre><code>/ # vault login hvs.fjs7SDom4gcpivKcj0pnyy0M\nSuccess! You are now authenticated. The token information displayed below\nis already stored in the token helper. You do NOT need to run \"vault login\"\nagain. Future Vault requests will automatically use this token.\n\nKey                  Value\n---                  -----\ntoken                hvs.fjs7SDom4gcpivKcj0pnyy0M\ntoken_accessor       iwZJyB2nA331ZcmBL2TPa1n6\ntoken_duration       \u221e\ntoken_renewable      false\ntoken_policies       [\"root\"]\nidentity_policies    []\npolicies             [\"root\"]\n</code></pre> <p>\u6216\u8005\u901a\u8fc7\u7f51\u9875\u767b\u5f55</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2IT-Tools/","title":"docker \u90e8\u7f72IT-Tools","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2IT-Tools/#\u65b9\u6cd5\u4e00\u901a\u8fc7-docker-hub","title":"\u65b9\u6cd5\u4e00\uff1a\u901a\u8fc7 Docker Hub","text":"Bash<pre><code>docker network create --driver bridge --subnet=172.195.20.0/23 itools-bridge\ndocker run -d --name it-tools \\\n    -p 9090:80 \\\n    --restart unless-stopped \\\n    --network itools-bridge \\\n    corentinth/it-tools:latest\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2IT-Tools/#\u65b9\u6cd5\u4e8c\u901a\u8fc7github-packages","title":"\u65b9\u6cd5\u4e8c\uff1a\u901a\u8fc7github packages","text":"Bash<pre><code>docker network create --driver bridge --subnet=172.195.20.0/23 itools-bridge\ndocker run -d --name it-tools \\\n    -p 9090:80 \\\n    --restart unless-stopped \\\n    --network itools-bridge \\\n    ghcr.io/corentinth/it-tools:latest\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/","title":"docker \u90e8\u7f72django","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#1django\u5b89\u88c5\u76ee\u5f55\u7ed3\u6784","title":"\uff081\uff09django\u5b89\u88c5\u76ee\u5f55\u7ed3\u6784","text":"Python<pre><code>[root@zhongjl-test-02 /]# tree /data/compose \n/data/compose\n\u251c\u2500\u2500 deploy.sh\n\u251c\u2500\u2500 myproject                   #django\u542f\u52a8\u76ee\u5f55\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 docker-compose.yml\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Dockerfile\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 media\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 myproject               #django\u9879\u76ee\u76ee\u5f55\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 manage.py           #\u542f\u52a8\u811a\u672c\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 myproject\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 asgi.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 settings.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 urls.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 wsgi.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pip.conf\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 requirements.txt        #\u5b89\u88c5\u4f9d\u8d56\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 start.sh\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 static\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 uwsgi.ini\n\u251c\u2500\u2500 mysql                       #\u6570\u636e\u5e93\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 conf\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 my.cnf\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 init\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 init.sql\n\u251c\u2500\u2500 nginx\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Dockerfile\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 log\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 access.log\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 error.log\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 nginx.conf\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 ssl\n\u251c\u2500\u2500 recruitment\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 docker-compose.yml\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Dockerfile\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 media\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pip.conf\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 requirements.txt\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 start.sh\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 static\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 uwsgi.ini\n\u251c\u2500\u2500 redis\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 redis.conf\n\u2514\u2500\u2500 uwsgi\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#2dockerfile\u4e0e\u5404\u9879\u914d\u7f6e","title":"\uff082\uff09Dockerfile\u4e0e\u5404\u9879\u914d\u7f6e","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#1\u7f16\u5199docker-composeyml","title":"\uff081\uff09\u7f16\u5199docker-compose.yml","text":"<p>\u4fee\u6539\u8fc7\u7684docker-compose.yml\u7684\u5185\u5bb9:</p> Text Only<pre><code>mkdir -p /data/compose/myproject\nvim /data/compose/myproject/docker-compose.yml\n</code></pre> <p>\u5185\u5bb9\u5982\u4e0b\uff1a</p> Python<pre><code>version: \"3\"\n\nvolumes: # \u81ea\u5b9a\u4e49\u6570\u636e\u5377\n  db_vol: #\u5b9a\u4e49\u6570\u636e\u5377\u540c\u6b65\u5b58\u653e\u5bb9\u5668\u5185mysql\u6570\u636e\n  redis_vol: #\u5b9a\u4e49\u6570\u636e\u5377\u540c\u6b65\u5b58\u653eredis\u6570\u636e\n  media_vol: #\u5b9a\u4e49\u6570\u636e\u5377\u540c\u6b65\u5b58\u653eweb\u9879\u76ee\u7528\u6237\u4e0a\u4f20\u5230media\u6587\u4ef6\u5939\u7684\u6570\u636e\n  static_vol: #\u5b9a\u4e49\u6570\u636e\u5377\u540c\u6b65\u5b58\u653eweb\u9879\u76eestatic\u6587\u4ef6\u5939\u7684\u6570\u636e\n\nnetworks: # \u81ea\u5b9a\u4e49\u7f51\u7edc(\u9ed8\u8ba4\u6865\u63a5), \u4e0d\u4f7f\u7528links\u901a\u4fe1\n  nginx_network:\n    driver: bridge\n  db_network:\n    driver: bridge\n  redis_network: \n    driver: bridge\n\nservices:\n  redis:\n    image: redis:latest\n    command: redis-server /etc/redis/redis.conf # \u5bb9\u5668\u542f\u52a8\u540e\u542f\u52a8redis\u670d\u52a1\u5668\n    networks:\n      - redis_network\n    volumes:\n      - redis_vol:/data # \u901a\u8fc7\u6302\u8f7d\u7ed9redis\u6570\u636e\u5907\u4efd\n      - /data/compose/redis/redis.conf:/etc/redis/redis.conf # \u6302\u8f7dredis\u914d\u7f6e\u6587\u4ef6\n    ports:\n      - \"6379:6379\"\n    restart: always # always\u8868\u5bb9\u5668\u8fd0\u884c\u53d1\u751f\u9519\u8bef\u65f6\u4e00\u76f4\u91cd\u542f\n\n  db:\n    image: mysql\n    env_file:  \n      - /data/compose/myproject/.env # \u4f7f\u7528\u4e86\u73af\u5883\u53d8\u91cf\u6587\u4ef6\n    networks:  \n      - db_network\n    volumes:\n      - db_vol:/var/lib/mysql:rw # \u6302\u8f7d\u6570\u636e\u5e93\u6570\u636e, \u53ef\u8bfb\u53ef\u5199\n      - /data/compose/mysql/conf/my.cnf:/etc/mysql/my.cnf # \u6302\u8f7d\u914d\u7f6e\u6587\u4ef6\n      - /data/compose/mysql/init:/docker-entrypoint-initdb.d/ # \u6302\u8f7d\u6570\u636e\u521d\u59cb\u5316sql\u811a\u672c\n    ports:\n      - \"3306:3306\" # \u4e0e\u914d\u7f6e\u6587\u4ef6\u4fdd\u6301\u4e00\u81f4\n    restart: always\n\n  web:\n    build: /data/compose/myproject\n    ports:\n      - \"8000:8000\"\n    volumes:\n      - /data/compose/myproject:/var/www/html/myproject # \u6302\u8f7d\u9879\u76ee\u4ee3\u7801\n      - static_vol:/var/www/html/myproject/static # \u4ee5\u6570\u636e\u5377\u6302\u8f7d\u5bb9\u5668\u5185static\u6587\u4ef6\n      - media_vol:/var/www/html/myproject/media # \u4ee5\u6570\u636e\u5377\u6302\u8f7d\u5bb9\u5668\u5185\u7528\u6237\u4e0a\u4f20\u5a92\u4f53\u6587\u4ef6\n      - /data/compose/uwsgi:/tmp # \u6302\u8f7duwsgi\u65e5\u5fd7\n    networks:\n      - nginx_network\n      - db_network  \n      - redis_network \n    depends_on:\n      - db\n      - redis\n    restart: always\n    tty: true\n    stdin_open: true\n\n  nginx:\n    build: /data/compose/nginx\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    expose:\n      - \"80\"\n    volumes:\n      - /data/compose/nginx/nginx.conf:/etc/nginx/conf.d/nginx.conf # \u6302\u8f7dnginx\u914d\u7f6e\u6587\u4ef6\n      - /data/compose/nginx/ssl:/usr/share/nginx/ssl # \u6302\u8f7dssl\u8bc1\u4e66\u76ee\u5f55\n      - /data/compose/nginx/log:/var/log/nginx # \u6302\u8f7d\u65e5\u5fd7\n      - static_vol:/usr/share/nginx/html/static # \u6302\u8f7d\u9759\u6001\u6587\u4ef6\n      - media_vol:/usr/share/nginx/html/media # \u6302\u8f7d\u7528\u6237\u4e0a\u4f20\u5a92\u4f53\u6587\u4ef6\n    networks:\n      - nginx_network\n    depends_on:\n      - web\n    restart: always\n</code></pre> <p>1\u3001\u5b9a\u4e49\u4e864\u4e2a\u6570\u636e\u5377\uff0c\u7528\u4e8e\u6302\u8f7d\u5404\u4e2a\u5bb9\u5668\u5185\u52a8\u6001\u751f\u6210\u7684\u6570\u636e\uff0c\u6bd4\u5982MySQL\u7684\u5b58\u50a8\u6570\u636e\uff0credis\u751f\u6210\u7684\u5feb\u7167\u3001django+uwsgi\u5bb9\u5668\u4e2d\u6536\u96c6\u7684\u9759\u6001\u6587\u4ef6\u4ee5\u53ca\u7528\u6237\u4e0a\u4f20\u7684\u5a92\u4f53\u8d44\u6e90\u3002\u8fd9\u6837\u5373\u4f7f\u5220\u9664\u5bb9\u5668\uff0c\u5bb9\u5668\u5185\u4ea7\u751f\u7684\u6570\u636e\u4e5f\u4e0d\u4f1a\u4e22\u5931\u3002</p> <p>2\u3001\u5b9a\u4e49\u4e863\u4e2a\u7f51\u7edc\uff0c\u5206\u522b\u4e3a<code>nginx_network</code>(\u7528\u4e8enginx\u548cweb\u5bb9\u5668\u95f4\u7684\u901a\u4fe1)\uff0c<code>db_network</code>(\u7528\u4e8edb\u548cweb\u5bb9\u5668\u95f4\u7684\u901a\u4fe1)\u548c<code>redis_network</code>(\u7528\u4e8eredis\u548cweb\u5bb9\u5668\u95f4\u7684\u901a\u4fe1)\u3002</p> <p>\u521b\u5efa\u6587\u4ef6\u4e4b\u540e\uff0c\u786e\u4fdd\u4f60\u7684<code>docker-compose.yml</code>\u6587\u4ef6\u8def\u5f84\u4e0e\u670d\u52a1\u4e2d\u5b9a\u4e49\u7684\u6784\u5efa\u8def\u5f84\u548c\u5377\u6302\u8f7d\u8def\u5f84\u76f8\u5339\u914d\u3002\u5982\u679c\u4f60\u7684<code>web</code>\u670d\u52a1\u4e2d\u6709<code>build: /data/compose/myproject</code>\uff0c\u90a3\u4e48\u4f60\u7684Django\u9879\u76ee\u5e94\u8be5\u4f4d\u4e8e<code>/data/compose/myproject</code>\u8def\u5f84\u4e0b\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#2\u7f16\u5199djangouwsgi\u7684dockerfile","title":"\uff082\uff09\u7f16\u5199Django+Uwsgi\u7684Dockerfile\uff1a","text":"<ul> <li>\u5728<code>/data/compose/myproject</code>\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a<code>Dockerfile</code>\u7684\u6587\u4ef6\u3002</li> <li>\u590d\u5236\u4f60\u4e4b\u524d\u63d0\u4f9b\u7684Django+Uwsgi Dockerfile\u5185\u5bb9\u5230\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u3002</li> </ul> Text Only<pre><code>vim /data/compose/myproject/Dockerfile\n</code></pre> <p>\u6784\u5efaWeb\u955c\u50cf(Django+Uwsgi)\u7684\u6240\u4f7f\u7528\u7684Dockerfile\u5982\u4e0b\u6240\u793a:</p> Text Only<pre><code># \u57fa\u4e8eCentOS 7\u7684Python 3.9\u73af\u5883\nFROM centos:7\n\n# \u5b89\u88c5\u5fc5\u8981\u7684\u8f6f\u4ef6\u548c\u5f00\u53d1\u5de5\u5177\nRUN yum -y update &amp;&amp; \\\n    yum -y install epel-release &amp;&amp; \\\n    yum -y install python3 python3-pip nc mysql-devel gcc-c++ python3-devel libjpeg-devel zlib-devel libffi-devel openssl-devel &amp;&amp; \\\n    yum -y groupinstall \"Development Tools\" &amp;&amp; \\\n    yum clean all\n\n# \u8bbe\u7f6e python \u73af\u5883\u53d8\u91cf\nENV PYTHONDONTWRITEBYTECODE 1\nENV PYTHONUNBUFFERED 1\n\n# \u53ef\u9009\uff1a\u8bbe\u7f6e\u955c\u50cf\u6e90\u4e3a\u56fd\u5185\nCOPY pip.conf /root/.pip/pip.conf\n\n# \u5bb9\u5668\u5185\u521b\u5efa myproject \u6587\u4ef6\u5939\nENV APP_HOME=/var/www/html/myproject\nRUN mkdir -p $APP_HOME\nWORKDIR $APP_HOME\n\n# \u5c06\u5f53\u524d\u76ee\u5f55\u52a0\u5165\u5230\u5de5\u4f5c\u76ee\u5f55\u4e2d\nADD . $APP_HOME\n\n# \u66f4\u65b0pip\u7248\u672c\nRUN python3 -m pip install --upgrade pip\n\n# \u5b89\u88c5\u9879\u76ee\u4f9d\u8d56\nRUN pip install -r requirements.txt\n\n# \u590d\u5236 start.sh \u5230 /data/compose \u5e76\u786e\u4fdd\u6587\u4ef6\u6743\u9650\u548c\u683c\u5f0f\nCOPY start.sh /data/compose/start.sh\nRUN chmod +x /data/compose/start.sh &amp;&amp; sed -i 's/\\r$//' /data/compose/start.sh\n\n# \u590d\u5236 uwsgi.ini \u914d\u7f6e\u6587\u4ef6\nCOPY uwsgi.ini $APP_HOME/uwsgi.ini\n\n# \u8bbe\u7f6e\u5de5\u4f5c\u76ee\u5f55\u5e76\u542f\u52a8\u670d\u52a1\nWORKDIR /data/compose\nENTRYPOINT [\"/bin/bash\", \"/data/compose/start.sh\"]\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#3\u7f16\u5199startsh\u542f\u52a8\u811a\u672c\u6587\u4ef6","title":"\uff083\uff09\u7f16\u5199<code>start.sh</code>\u542f\u52a8\u811a\u672c\u6587\u4ef6","text":"<p>\u4f7f\u7528uwsgi.ini\u914d\u7f6e\u6587\u4ef6\u542f\u52a8Django\u670d\u52a1\u3002</p> Text Only<pre><code>vim /data/compose/myproject/start.sh\n</code></pre> <p>\u5185\u5bb9\u5982\u4e0b\u6240\u793a\uff1a</p> Text Only<pre><code>#!/bin/bash\n# \u5b9a\u4e49 MySQL \u4e3b\u673a\u548c\u7aef\u53e3\nMYSQL_HOST=db\nMYSQL_PORT=3306\n\n# \u7b49\u5f85 MySQL \u670d\u52a1\u542f\u52a8\nwhile ! nc -z $MYSQL_HOST $MYSQL_PORT; do\n    echo \"Waiting for the MySQL Server\"\n    sleep 3\ndone\n\n# \u5982\u679c\u9700\u8981\u521d\u59cb\u5316Django\u5e94\u7528\u6216\u6267\u884c\u6570\u636e\u8fc1\u79fb\uff0c\u8fd9\u91cc\u53ef\u4ee5\u6267\u884c\u76f8\u5173\u547d\u4ee4\n# \u793a\u4f8b\uff1apython manage.py migrate --noinput\n# \u793a\u4f8b\uff1apython manage.py collectstatic --noinput\npython manage.py migrate --noinput\npython manage.py collectstatic --noinput\n\n\n# \u542f\u52a8 UWSGI \u670d\u52a1\nuwsgi --ini /var/www/html/myproject/uwsgi.ini\n\n# \u4fdd\u6301\u5bb9\u5668\u8fd0\u884c\ntail -f /dev/null\n\nexec \"$@\"\n</code></pre> <p>\u8d4b\u6743</p> Text Only<pre><code>chmod +x /data/compose/myproject/start.sh\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#4\u914d\u7f6e-uwsgiini-\u914d\u7f6e\u6587\u4ef6","title":"\uff084\uff09\u914d\u7f6e <code>uwsgi.ini</code> \u914d\u7f6e\u6587\u4ef6","text":"<p>\u521b\u5efa <code>uwsgi.ini</code>\uff1a</p> <ul> <li>\u5728 <code>/data/compose/myproject</code> \u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>uwsgi.ini</code> \u7684\u6587\u4ef6\u3002</li> <li>\u7f16\u8f91\u8be5\u6587\u4ef6\uff0c\u586b\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a<code>vim /data/compose/myproject/uwsgi.ini</code></li> </ul> Python<pre><code>[uwsgi]\n\nproject=myproject\nuid=www-data\ngid=www-data\nbase=/var/www/html\n\nchdir=%(base)/%(project)\nmodule=%(project).wsgi:application\nmaster=True\nprocesses=2\n\nsocket=0.0.0.0:8000\nchown-socket=%(uid):www-data\nchmod-socket=664\n\nvacuum=True\nmax-requests=5000\n\npidfile=/tmp/%(project)-master.pid\ndaemonize=/tmp/%(project)-uwsgi.log\n\n#\u8bbe\u7f6e\u4e00\u4e2a\u8bf7\u6c42\u7684\u8d85\u65f6\u65f6\u95f4(\u79d2)\uff0c\u5982\u679c\u4e00\u4e2a\u8bf7\u6c42\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u65f6\u95f4\uff0c\u5219\u8bf7\u6c42\u88ab\u4e22\u5f03\nharakiri = 60\npost buffering = 8192\nbuffer-size= 65535\n#\u5f53\u4e00\u4e2a\u8bf7\u6c42\u88abharakiri\u6740\u6389\u4f1a\uff0c\u4f1a\u8f93\u51fa\u4e00\u6761\u65e5\u5fd7\nharakiri-verbose = true\n\n#\u5f00\u542f\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u62a5\u544a\nmemory-report = true\n\n#\u8bbe\u7f6e\u5e73\u6ed1\u7684\u91cd\u542f\uff08\u76f4\u5230\u5904\u7406\u5b8c\u63a5\u6536\u5230\u7684\u8bf7\u6c42\uff09\u7684\u957f\u7b49\u5f85\u65f6\u95f4(\u79d2)\nreload-mercy = 10\n\n#\u8bbe\u7f6e\u5de5\u4f5c\u8fdb\u7a0b\u4f7f\u7528\u865a\u62df\u5185\u5b58\u8d85\u8fc7N MB\u5c31\u56de\u6536\u91cd\u542f\nreload-on-as= 1024\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#5\u7f16\u8f91env\u6587\u4ef6","title":"\uff085\uff09\u7f16\u8f91.env\u6587\u4ef6","text":"<p>\u521b\u5efa.env\u6587\u4ef6\uff1a</p> Text Only<pre><code>vim /data/compose/myproject/.env\n</code></pre> <p><code>.env</code>\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\u6240\u793a\uff1a</p> Text Only<pre><code>MYSQL_ROOT_PASSWORD=123456\nMYSQL_USER=dbuser\nMYSQL_DATABASE=myproject\nMYSQL_PASSWORD=password\n</code></pre> <p>\u786e\u4fdd\u5728<code>docker-compose.yml</code>\u4e2d\u4f7f\u7528env\u7684\u8fd9\u4e9b\u73af\u5883\u53d8\u91cf</p> <p>\u901a\u5e38\u5728\u670d\u52a1\u7684\u5b9a\u4e49\u4e2d\u901a\u8fc7<code>env_file</code>\u6216\u76f4\u63a5\u4f7f\u7528<code>environment</code>\u5c5e\u6027\u6765\u5b9e\u73b0\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8eMySQL\u670d\u52a1\uff0c\u4f60\u53ef\u4ee5\u8fd9\u6837\u914d\u7f6e\uff1a</p> Python<pre><code>yamlCopy codedb:\n  image: mysql\n  env_file:\n    - /data/compose/project/.env\n  volumes:\n    - db_vol:/var/lib/mysql\n    - /data/compose/mysql/conf/my.cnf:/etc/mysql/my.cnf\n    - /data/compose/mysql/init:/docker-entrypoint-initdb.d/\n  ports:\n    - \"3306:3306\"\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#6django\u9879\u76ee\u6240\u4f9d\u8d56requirementstxt","title":"\uff086\uff09Django\u9879\u76ee\u6240\u4f9d\u8d56requirements.txt","text":"<p>Django\u9879\u76ee\u6240\u4f9d\u8d56\u7684<code>requirements.txt</code> \u6587\u4ef6\u4f4d\u4e8e\u4f60\u7684\u9879\u76ee\u76ee\u5f55\u4e2d\uff0c\u5e76\u4e14\u4e0e Dockerfile \u5904\u5728\u540c\u4e00\u76ee\u5f55\u4e0b\u3002</p> <p>\u6267\u884c\u547d\u4ee4<code>vim /data/compose/myproject/requirements.txt</code></p> Python<pre><code># django\ndjango==3.2\n# uwsgi\nuwsgi==2.0.18\n# mysql\nmysqlclient==1.4.6\n# redis\ndjango-redis==4.12.1\nredis==3.5.3\n# for images\nPillow==8.2.0 \n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#7\u7f16\u5199nginx\u955c\u50cf\u548c\u5bb9\u5668\u6240\u9700\u6587\u4ef6","title":"\uff087\uff09\u7f16\u5199Nginx\u955c\u50cf\u548c\u5bb9\u5668\u6240\u9700\u6587\u4ef6","text":"<p>\u9700\u8981\u4e3aNginx\u521b\u5efa\u4e00\u4e2aDockerfile\u3002\u8fd9\u4e2a\u6587\u4ef6\u5b9a\u4e49\u4e86\u5982\u4f55\u6784\u5efaNginx\u7684Docker\u955c\u50cf\u3002</p> Text Only<pre><code>mkdir -p /data/compose/nginx\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#1\u521b\u5efa\u6216\u7f16\u8f91dockerfile","title":"1.\u521b\u5efa\u6216\u7f16\u8f91Dockerfile\uff1a","text":"<p>\u521b\u5efa\u6216\u7f16\u8f91<code>/data/compose/nginx/Dockerfile</code>\uff0c</p> Text Only<pre><code>vim /data/compose/nginx/Dockerfile\n</code></pre> <p>\u590d\u5236\u5e76\u7c98\u8d34\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Text Only<pre><code># nginx\u955c\u50cfcompose/nginx/Dockerfile\n\nFROM nginx:latest\n\n# \u5220\u9664\u539f\u6709\u914d\u7f6e\u6587\u4ef6\uff0c\u521b\u5efa\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u5939\u548cssl\u8bc1\u4e66\u4fdd\u5b58\u6587\u4ef6\u5939\nRUN rm /etc/nginx/conf.d/default.conf \\\n&amp;&amp; mkdir -p /usr/share/nginx/html/static \\\n&amp;&amp; mkdir -p /usr/share/nginx/html/media \\\n&amp;&amp; mkdir -p /usr/share/nginx/ssl\n\n# \u8bbe\u7f6eMedia\u6587\u4ef6\u5939\u7528\u6237\u548c\u7528\u6237\u7ec4\u4e3aLinux\u9ed8\u8ba4www-data, \u5e76\u7ed9\u4e88\u53ef\u8bfb\u548c\u53ef\u6267\u884c\u6743\u9650,\n# \u5426\u5219\u7528\u6237\u4e0a\u4f20\u7684\u56fe\u7247\u65e0\u6cd5\u6b63\u786e\u663e\u793a\u3002\nRUN chown -R www-data:www-data /usr/share/nginx/html/media \\\n&amp;&amp; chmod -R 775 /usr/share/nginx/html/media\n\n# \u6dfb\u52a0\u914d\u7f6e\u6587\u4ef6\nADD ./nginx.conf /etc/nginx/conf.d/\n\n# \u5173\u95ed\u5b88\u62a4\u6a21\u5f0f\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#2-\u521b\u5efanginx\u914d\u7f6e\u6587\u4ef6nginxconf","title":"2. \u521b\u5efaNginx\u914d\u7f6e\u6587\u4ef6\uff08nginx.conf\uff09","text":"<ol> <li>\u521b\u5efa\u6216\u7f16\u8f91nginx.conf\u914d\u7f6e\u6587\u4ef6\uff0c\u786e\u4fdd\u6b63\u786e\u5730\u4ee3\u7406\u5230\u4f60\u7684Django\u5e94\u7528\u3002</li> </ol> Text Only<pre><code>vim /data/compose/nginx/nginx.conf\n</code></pre> <ul> <li>\u5728<code>/data/compose/nginx</code>\u76ee\u5f55\u4e0b\u521b\u5efa\u6216\u7f16\u8f91<code>nginx.conf</code>\u6587\u4ef6\u3002</li> <li>\u590d\u5236\u5e76\u7c98\u8d34\u4ee5\u4e0b\u5185\u5bb9\uff1a</li> </ul> Python<pre><code># nginx\u914d\u7f6e\u6587\u4ef6\n# compose/nginx/nginx.conf\n\nupstream django {\n    ip_hash;\n    server web:8000; # Docker-compose web\u670d\u52a1\u7aef\u53e3\n}\n\n# \u914d\u7f6ehttp\u8bf7\u6c42\uff0c80\u7aef\u53e3\nserver {\n    listen 80; # \u76d1\u542c80\u7aef\u53e3\n    server_name 127.0.0.1; # \u53ef\u4ee5\u662fnginx\u5bb9\u5668\u6240\u5728ip\u5730\u5740\u6216127.0.0.1\uff0c\u4e0d\u80fd\u5199\u5bbf\u4e3b\u673a\u5916\u7f51ip\u5730\u5740\n\n    charset utf-8;\n    client_max_body_size 10M; # \u9650\u5236\u7528\u6237\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\n\n    access_log /var/log/nginx/access.log main;\n    error_log /var/log/nginx/error.log warn;\n\n    location /static {\n        alias /usr/share/nginx/html/static; # \u9759\u6001\u8d44\u6e90\u8def\u5f84\n    }\n\n    location /media {\n        alias /usr/share/nginx/html/media; # \u5a92\u4f53\u8d44\u6e90\uff0c\u7528\u6237\u4e0a\u4f20\u6587\u4ef6\u8def\u5f84\n    }\n\n    location / {\n        include /etc/nginx/uwsgi_params;\n        uwsgi_pass django;\n        uwsgi_read_timeout 600;\n        uwsgi_connect_timeout 600;\n        uwsgi_send_timeout 600;\n\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_redirect off;\n        proxy_set_header X-Real-IP  $remote_addr;\n    }\n}\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#8\u7f16\u5199db-mysql\u5bb9\u5668\u914d\u7f6e\u6587\u4ef6","title":"\uff088\uff09\u7f16\u5199Db (MySQL)\u5bb9\u5668\u914d\u7f6e\u6587\u4ef6","text":"<ol> <li>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\uff1a</li> </ol> Text Only<pre><code>mkdir -p /data/compose/mysql/conf\n</code></pre> <ol> <li>\u521b\u5efa\u6216\u7f16\u8f91MySQL\u7684\u914d\u7f6e\u6587\u4ef6 (<code>my.cnf</code>)\uff1a</li> </ol> <p>\u5728<code>/data/compose/mysql/conf</code>\u76ee\u5f55\u4e0b\u521b\u5efa\u6216\u7f16\u8f91\u540d\u4e3a<code>my.cnf</code>\u7684\u6587\u4ef6\u3002</p> Text Only<pre><code>vim /data/compose/mysql/conf/my.cnf\n</code></pre> <ul> <li>\u590d\u5236\u5e76\u7c98\u8d34\u4ee5\u4e0b\u914d\u7f6e\u5185\u5bb9\uff1a</li> </ul> Text Only<pre><code>#/data/compose/mysql/conf/my.cnf\n[mysqld]\nuser=mysql\ndefault-storage-engine=INNODB\ncharacter-set-server=utf8\nsecure-file-priv=NULL # mysql 8 \u65b0\u589e\u8fd9\u884c\u914d\u7f6e\ndefault-authentication-plugin=mysql_native_password  # mysql 8 \u65b0\u589e\u8fd9\u884c\u914d\u7f6e\n\nport            = 3306 # \u7aef\u53e3\u4e0edocker-compose\u91cc\u6620\u5c04\u7aef\u53e3\u4fdd\u6301\u4e00\u81f4\n#bind-address= localhost #\u4e00\u5b9a\u8981\u6ce8\u91ca\u6389\uff0cmysql\u6240\u5728\u5bb9\u5668\u548cdjango\u6240\u5728\u5bb9\u5668\u4e0d\u540cIP\n\nbasedir         = /usr\ndatadir         = /var/lib/mysql\ntmpdir          = /tmp\npid-file        = /var/run/mysqld/mysqld.pid\nsocket          = /var/run/mysqld/mysqld.sock\nskip-name-resolve  # \u8fd9\u4e2a\u53c2\u6570\u662f\u7981\u6b62\u57df\u540d\u89e3\u6790\u7684\uff0c\u8fdc\u7a0b\u8bbf\u95ee\u63a8\u8350\u5f00\u542fskip_name_resolve\u3002\n\n[client]\nport = 3306\ndefault-character-set=utf8\n\n[mysql]\nno-auto-rehash\ndefault-character-set=utf8\n</code></pre> <ol> <li>\u51c6\u5907MySQL\u521d\u59cb\u5316\u811a\u672c</li> </ol> <p>\u521d\u59cb\u5316\u811a\u672c\u5728MySQL\u7b2c\u4e00\u6b21\u542f\u52a8\u65f6\u8fd0\u884c\uff0c\u7528\u4e8e\u8bbe\u7f6e\u6570\u636e\u5e93\u7684\u521d\u59cb\u72b6\u6001\uff0c\u5305\u62ec\u7528\u6237\u6743\u9650\u7b49\u3002</p> <ol> <li>\u521b\u5efa\u521d\u59cb\u5316\u811a\u672c\u76ee\u5f55\uff1a</li> </ol> <p><code>mkdir -p /data/compose/mysql/init</code></p> <ol> <li> <p>\u521b\u5efa\u6216\u7f16\u8f91\u521d\u59cb\u5316\u811a\u672c (<code>init.sql</code>)\uff1a</p> </li> <li> <p>\u5728<code>/data/compose/mysql/init</code>\u76ee\u5f55\u4e0b\u521b\u5efa\u6216\u7f16\u8f91\u540d\u4e3a<code>init.sql</code>\u7684\u6587\u4ef6\u3002</p> VimL<pre><code>vim /data/compose/mysql/init/init.sql\n</code></pre> </li> <li> <p>\u6211\u4eec\u8fd8\u9700\u8bbe\u7f6eMySQL\u670d\u52a1\u542f\u52a8\u65f6\u9700\u8981\u6267\u884c\u7684\u811a\u672c\u547d\u4ee4, \u6ce8\u610f\u8fd9\u91cc\u7684\u7528\u6237\u540d\u548cpassword\u5fc5\u9700\u548cmyproject\u76ee\u5f55\u4e0b<code>.env</code>\u6587\u4ef6\u4e2d\u7684\u73af\u5883\u53d8\u91cf\u4fdd\u6301\u4e00\u81f4\u3002\u590d\u5236\u5e76\u7c98\u8d34\u4ee5\u4e0b\u5185\u5bb9\uff0c\u4fdd\u5b58\u6587\u4ef6\uff1a</p> </li> </ol> Text Only<pre><code># compose/mysql/init/init.sql\nALTER USER 'dbuser'@'%' IDENTIFIED WITH mysql_native_password BY 'password';\nGRANT ALL PRIVILEGES ON myproject.* TO 'dbuser'@'%';\nFLUSH PRIVILEGES;\n</code></pre> <p>\u786e\u4fdd\u5df2\u7ecf\u6b63\u786e\u521b\u5efa\u548c\u914d\u7f6e\u4e86MySQL\u7684<code>my.cnf</code>\u548c<code>init.sql</code>\u6587\u4ef6\u3002\u8fd9\u4e9b\u8bbe\u7f6e\u5c06\u786e\u4fdd\u4f60\u7684MySQL\u6570\u636e\u5e93\u6309\u9884\u671f\u8fd0\u884c\uff0c\u5e76\u5177\u6709\u9002\u5f53\u7684\u5b89\u5168\u914d\u7f6e\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#9\u7f16\u5199redis-\u5bb9\u5668\u914d\u7f6e\u6587\u4ef6","title":"\uff089\uff09\u7f16\u5199Redis \u5bb9\u5668\u914d\u7f6e\u6587\u4ef6","text":"<p>\u4e3a\u4e86\u786e\u4fddRedis\u670d\u52a1\u6b63\u5e38\u8fd0\u884c\u5e76\u6ee1\u8db3Django\u9879\u76ee\u7684\u9700\u8981\uff0c\u6211\u4eec\u5c06\u914d\u7f6eRedis\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u786e\u4fdd\u5b83\u80fd\u591f\u4e0eDjango\u987a\u5229\u96c6\u6210\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#1-\u521b\u5efaredis\u914d\u7f6e\u6587\u4ef6","title":"1. \u521b\u5efaRedis\u914d\u7f6e\u6587\u4ef6","text":"<p>Redis\u914d\u7f6e\u6587\u4ef6\u5141\u8bb8\u4f60\u81ea\u5b9a\u4e49\u5404\u79cd\u8bbe\u7f6e\uff0c\u4f8b\u5982\u6301\u4e45\u5316\u9009\u9879\u3001\u5bc6\u7801\u4fdd\u62a4\u7b49\u3002</p> <ol> <li>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\uff08\u5982\u679c\u5c1a\u672a\u521b\u5efa\uff09\uff1a</li> </ol> Text Only<pre><code>mkdir -p /data/compose/redis\n</code></pre> <ol> <li> <p>\u521b\u5efa\u6216\u7f16\u8f91Redis\u7684\u914d\u7f6e\u6587\u4ef6\uff1a</p> </li> <li> <p>\u5728<code>/data/compose/redis</code>\u76ee\u5f55\u4e0b\u521b\u5efa\u6216\u7f16\u8f91\u540d\u4e3a<code>redis.conf</code>\u7684\u6587\u4ef6\u3002</p> Text Only<pre><code>vim /data/compose/redis/redis.conf\n</code></pre> </li> <li> <p>\u590d\u5236\u5e76\u7c98\u8d34\u4ee5\u4e0b\u5185\u5bb9\uff08\u5305\u62ec\u8bbe\u7f6e\u5bc6\u7801\uff0c\u8fd9\u5f88\u91cd\u8981\uff0c\u56e0\u4e3a\u5b83\u5c06\u4e0eDjango\u8bbe\u7f6e\u4e2d\u7684\u5bc6\u7801\u76f8\u5339\u914d\uff09\uff1a</p> </li> </ol> Text Only<pre><code># Redis\u914d\u7f6e\u6587\u4ef6\n# compose/redis/redis.conf\n\n# \u8bf7\u6ce8\u91ca\u6389\u4e0b\u9762\u4e00\u884c\uff0c\u53d8\u6210#bind 127.0.0.1,\u8fd9\u6837\u5176\u5b83\u673a\u5668\u6216\u5bb9\u5668\u4e5f\u53ef\u8bbf\u95ee\nbind 127.0.0.1\n\n# \u53d6\u6d88\u4e0b\u884c\u6ce8\u91ca\uff0c\u7ed9redis\u8bbe\u7f6e\u767b\u5f55\u5bc6\u7801\u3002\u8fd9\u4e2a\u5bc6\u7801django settings.py\u4f1a\u7528\u5230\u3002\nrequirepass yourpassword\n</code></pre> <ul> <li>\u5728<code>yourpassword</code>\u5904\u66ff\u6362\u4e3a\u4f60\u5b9e\u9645\u60f3\u4f7f\u7528\u7684\u5bc6\u7801\uff0c\u786e\u4fdd\u5b83\u4e0eDjango\u914d\u7f6e\u4e2d\u7684\u5bc6\u7801\u76f8\u5339\u914d\u3002</li> <li>\u4fdd\u5b58\u6587\u4ef6\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#2-\u786e\u4fdddocker-compose\u4f7f\u7528redis\u914d\u7f6e\u6587\u4ef6","title":"2. \u786e\u4fddDocker-compose\u4f7f\u7528Redis\u914d\u7f6e\u6587\u4ef6","text":"<p>\u5728<code>docker-compose.yml</code>\u4e2d\u914d\u7f6eRedis\u670d\u52a1\uff0c\u786e\u4fdd\u5b83\u4f7f\u7528\u4e86\u521a\u624d\u7f16\u8f91\u7684\u914d\u7f6e\u6587\u4ef6\uff1a</p> Text Only<pre><code>redis:\n  image: redis:latest\n  command: redis-server /usr/local/etc/redis/redis.conf\n  volumes:\n    - redis_vol:/data\n    - /data/compose/redis/redis.conf:/usr/local/etc/redis/redis.conf\n  ports:\n    - \"6379:6379\"\n</code></pre> <p>\u8fd9\u5c06\u786e\u4fddRedis\u5728\u542f\u52a8\u65f6\u52a0\u8f7d\u4f60\u6307\u5b9a\u7684\u914d\u7f6e\u6587\u4ef6\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#10\u914d\u7f6epip","title":"\uff0810\uff09\u914d\u7f6ePip","text":"<ol> <li>\u9009\u62e9\u4f4d\u7f6e\uff1a\u4e3a\u4e86\u65b9\u4fbf\u7ba1\u7406\uff0c\u5e94\u8be5\u5c06 <code>pip.conf</code> \u653e\u7f6e\u5728\u5305\u542bDockerfile\u7684\u540c\u4e00\u76ee\u5f55\u4e0b\u3002</li> <li>\u521b\u5efa\u6587\u4ef6\uff1a\u5728 <code>/data/compose/myproject</code> \u76ee\u5f55\uff08\u5373\u4f60\u7684Dockerfile\u6240\u5728\u7684\u76ee\u5f55\uff09\u4e2d\u521b\u5efa <code>pip.conf</code> \u6587\u4ef6\u3002</li> </ol> <p>\u521b\u5efa<code>pip.conf</code>\u6587\u4ef6</p> Text Only<pre><code>vim /data/compose/myproject/pip.conf\n</code></pre> <p>\u586b\u5145\u6587\u4ef6\u5185\u5bb9\uff1a\u5728\u7f16\u8f91\u5668\u4e2d\uff0c\u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\uff0c\u8fd9\u91cc\u4ee5\u963f\u91cc\u4e91\u7684Python\u955c\u50cf\u6e90\u4e3a\u4f8b\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u9009\u62e9\u5176\u4ed6\u5982\u6e05\u534e\u5927\u5b66\u7b49\u955c\u50cf\u6e90\uff1a</p> Text Only<pre><code>[global]\nindex-url = https://mirrors.aliyun.com/pypi/simple/\n\n[install]\ntrusted-host = mirrors.aliyun.com\n</code></pre> <p>\u5b8c\u6210\u8fd9\u4e9b\u6b65\u9aa4\u540e\uff0c\u6240\u6709\u7684\u914d\u7f6e\u5c31\u914d\u7f6e\u597d\u4e86\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#3\u6784\u5efa\u955c\u50cf","title":"\uff083\uff09\u6784\u5efa\u955c\u50cf","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#\u8fdb\u5165\u5230\u5305\u542b-docker-composeyml\u7684\u76ee\u5f55","title":"\u8fdb\u5165\u5230\u5305\u542b docker-compose.yml\u7684\u76ee\u5f55","text":"Text Only<pre><code>cd /data/compose/myproject       \n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#\u6784\u5efa\u955c\u50cf","title":"\u6784\u5efa\u955c\u50cf","text":"Text Only<pre><code>docker-compose build\n</code></pre> <p>\u5982\u679c\u6784\u5efa\u6ca1\u6709\u51fa\u9519\uff0c\u53ef\u4ee5\u67e5\u770b\u5df2\u751f\u6210\u7684\u955c\u50cf</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#\u67e5\u770b\u5df2\u751f\u6210\u7684\u955c\u50cf","title":"\u67e5\u770b\u5df2\u751f\u6210\u7684\u955c\u50cf","text":"Text Only<pre><code>docker images\n</code></pre> Text Only<pre><code>REPOSITORY                     TAG       IMAGE ID       CREATED         SIZE\nmyproject_nginx                latest    4754c26b94db   2 hours ago     188MB\nmyproject_web                  latest    2d7f60435555   2 hours ago     757MB\nredis                          latest    7fc37b47acde   2 weeks ago     116MB\nmysql                          latest    6f343283ab56   4 weeks ago     632MB\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#4\u542f\u52a8django\u5bb9\u5668","title":"\uff084\uff09\u542f\u52a8django\u5bb9\u5668","text":"<p>\u8fdb\u5165docker-compose.yml\u6240\u5728\u6587\u4ef6\u5939\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Text Only<pre><code>#\u542f\u52a8\u5bb9\u5668\u7ec4\u670d\u52a1\ndocker-compose up\n\ndocker-compose down         # \u505c\u6b62\u5e76\u79fb\u9664\u5f53\u524d\u5bb9\u5668\ndocker-compose up -d        # \u4ee5\u5206\u79bb\u6a21\u5f0f\u91cd\u65b0\u542f\u52a8\u5bb9\u5668\ndocker-compose logs         # \u67e5\u770b\u6240\u6709\u670d\u52a1\u7684\u65e5\u5fd7\ndocker-compose logs web     # \u53ea\u67e5\u770b web \u670d\u52a1\u7684\u65e5\u5fd7\n</code></pre> <p>\u542f\u52a8\u8fdb\u7a0b\u5982\u4e0b\uff1a</p> Text Only<pre><code>[root@zhongjl-test-02 /data/compose/myproject]# docker ps\nCONTAINER ID   IMAGE               COMMAND                  CREATED          STATUS                PORTS                                                                      NAMES\n2c8dffdea778   myproject_nginx     \"/docker-entrypoint.\u2026\"   37 minutes ago   Up 37 minutes         0.0.0.0:80-&gt;80/tcp, :::80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp, :::443-&gt;443/tcp   myproject_nginx_1\nf8fa4584492a   myproject_web       \"/bin/bash /data/com\u2026\"   37 minutes ago   Up 37 minutes         0.0.0.0:8000-&gt;8000/tcp, :::8000-&gt;8000/tcp                                  myproject_web_1\n9ed8a88e19cf   redis:latest        \"docker-entrypoint.s\u2026\"   37 minutes ago   Up 37 minutes         0.0.0.0:6379-&gt;6379/tcp, :::6379-&gt;6379/tcp                                  myproject_redis_1\n1c1c7224efee   mysql               \"docker-entrypoint.s\u2026\"   37 minutes ago   Up 37 minutes         0.0.0.0:3306-&gt;3306/tcp, :::3306-&gt;3306/tcp, 33060/tcp                       myproject_db_1\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#5\u521b\u5efadjango\u9879\u76ee","title":"\uff085\uff09\u521b\u5efaDjango\u9879\u76ee","text":"<p>django\u9879\u76ee\uff08myproject\uff09\u7684\u76ee\u5f55\u7ed3\u6784</p> Text Only<pre><code>[root@zhongjl-test-02 /data/compose/myproject]# tree myproject/\nmyproject/\n\u251c\u2500\u2500 manage.py\n\u2514\u2500\u2500 myproject\n    \u251c\u2500\u2500 asgi.py\n    \u251c\u2500\u2500 __init__.py\n    \u251c\u2500\u2500 settings.py\n    \u251c\u2500\u2500 urls.py\n    \u2514\u2500\u2500 wsgi.py\n\n1 directory, 6 files\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#1\u8fde\u63a5\u5bb9\u5668web","title":"1.\u8fde\u63a5\u5bb9\u5668web","text":"Python<pre><code>docker exec -it f8fa4584492a bash\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#2\u67e5\u770bdjango\u7248\u672c","title":"2.\u67e5\u770bdjango\u7248\u672c","text":"Text Only<pre><code>python3 -m django --version\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#3\u521b\u5efadjango\u9879\u76ee\u9879\u76ee\u540d\u79f0","title":"3.\u521b\u5efadjango\u9879\u76ee\uff0c\u9879\u76ee\u540d\u79f0","text":"Text Only<pre><code>django-admin startproject myproject\n</code></pre> <p>\u521b\u5efa\u540e\uff0c\u9879\u76ee\u6587\u4ef6\u5939\u5185\uff0c\u4f1a\u6709django\u7684\u6587\u4ef6</p> Text Only<pre><code>[root@zhongjl-test-02 /data/compose/myproject/myproject/myproject]# ll\ntotal 16\n-rw-r--r-- 1 root root  395 Apr 25 15:54 asgi.py\n-rw-r--r-- 1 root root    0 Apr 25 15:54 __init__.py\n-rw-r--r-- 1 root root 3407 Apr 25 16:15 settings.py\n-rw-r--r-- 1 root root  751 Apr 25 15:54 urls.py\n-rw-r--r-- 1 root root  395 Apr 25 15:54 wsgi.py\n</code></pre> <p>\u800cmange.py\u6587\u4ef6\u5219\u5728\uff1a<code>/data/compose/myproject/myproject</code></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#4\u8fd0\u884cdjango\u9879\u76ee","title":"4.\u8fd0\u884cdjango\u9879\u76ee","text":"<p>\u6ce8\u610f\uff1a\u5728\u8fd0\u884cdjango\u9879\u76ee\u524d\uff0c\u8bf7\u5148django\u9879\u76ee\u76ee\u5f55\u4e0b\u7684settings\u7684mysql\u914d\u7f6e\u4fe1\u606f(redis\u6682\u4e0d\u9700\u4fee\u6539)</p> <p><code>vim /data/compose/myproject/myproject/myproject/settings.py</code></p> Text Only<pre><code>DATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': 'myproject',\n        'USER': 'dbuser',\n        'PASSWORD': 'password',\n        'HOST': 'db',  # Use the Docker service name as the hostname\n        'PORT': '3306',\n    }\n}\n</code></pre> <p>\u542f\u52a8django</p> Text Only<pre><code>\u524d\u53f0\u542f\u52a8\npython3 /var/www/html/myproject/manage.py runserver 0.0.0.0:8000\n\n\n\u540e\u53f0\u542f\u52a8\nnohup python3 /var/www/html/myproject/manage.py runserver 0.0.0.0:8000 &amp;\n</code></pre> <ul> <li><code>nohup</code>: \u8868\u793a\u5ffd\u7565\u6302\u8d77\u4fe1\u53f7\uff0c\u5141\u8bb8\u8fdb\u7a0b\u5728\u540e\u53f0\u8fd0\u884c\u3002</li> <li><code>&amp;</code>: \u5728\u547d\u4ee4\u672b\u5c3e\u52a0\u4e0a <code>&amp;</code> \u8868\u793a\u5c06\u8fdb\u7a0b\u653e\u5230\u540e\u53f0\u8fd0\u884c\u3002</li> </ul> <p>\u4f7f\u7528 <code>ps</code> \u547d\u4ee4\u67e5\u627e\u8fdb\u7a0b ID\uff08PID\uff09</p> Bash<pre><code>ps aux | grep python3\n</code></pre> <p>\u4f7f\u7528 <code>kill</code> \u547d\u4ee4\u7ec8\u6b62\u8fdb\u7a0b\uff1a</p> Bash<pre><code>kill -9 &lt;PID&gt;\n</code></pre> <p>\u5982\u679c\u542f\u52a8\u9047\u5230\u62a5\u9519\uff0c\u53ef\u4ee5\u6839\u636e\u9519\u8bef\u6587\u4ef6python\u9879\u76ee\u8c03\u6574\u914d\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u5bf9\u7167\u4ee5\u4e0bdjango\u7684\u9879\u76ee\u6587\u4ef6\u4fee\u6539\uff0c\u4fee\u6539\u7684\u6587\u4ef6\u53ef\u4ee5\u5728\u5bb9\u5668\u5185\uff0c\u4e5f\u53ef\u4ee5\u5728\u5bbf\u4e3b\u673a\uff0c\u6709\u6620\u5c04\u5b58\u50a8\uff0c\u662f\u5171\u901a\u7684\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#6django\u9879\u76ee\u6587\u4ef6\u53c2\u8003","title":"\uff086\uff09django\u9879\u76ee\u6587\u4ef6\u53c2\u8003","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#1__init__py","title":"1.<code>__init__.py</code>\uff1a","text":"<p>\u9879\u76ee\u7684\u65e9\u671f\u9636\u6bb5\uff0c\u4e00\u822c\u5c31\u662f\u7a7a\u6587\u4ef6</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#2vim-wsgipy","title":"2.vim wsgi.py","text":"Text Only<pre><code>\"\"\"\nWSGI config for myproject project.\n\nIt exposes the WSGI callable as a module-level variable named ``application``.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/4.0/howto/deployment/wsgi/\n\"\"\"\n\nimport os\n\nfrom django.core.wsgi import get_wsgi_application\n\n# Set the settings module for the 'myproject' project:\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'myproject.settings')\n\napplication = get_wsgi_application()\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#3settingspy","title":"3.settings.py","text":"<p>\u4fee\u6539mysql\u548credis\u670d\u52a1\u7684\u914d\u7f6e\u4fe1\u606f\u3002\u6700\u91cd\u8981\u7684\u51e0\u9879\u914d\u7f6e\u5982\u4e0b\u6240\u793a\uff1a</p> Text Only<pre><code>\"\"\"\nDjango settings for myproject project.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/4.0/topics/settings/\n\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/4.0/ref/settings/\n\"\"\"\n\nimport os\n\n# Build paths inside the project like this: BASE_DIR / 'subdir'.\nBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = 'your-secret-key'  # Replace 'your-secret-key' with your actual Django secret key\n\n# SECURITY WARNING: don't run with debug turned on in production!\n\n#\u6839\u636e\u9700\u8981\u81ea\u884c\u4fee\u6539\nDEBUG = False\n\n#\u586b\u5199\u670d\u52a1\u5668\u672c\u673aiP,\u57df\u540d\u53ef\u4e0d\u586b\u5199\nALLOWED_HOSTS = ['10.22.51.65', 'josh.com']  \n\n# Application definition\n#APP\u5f15\u5165\uff0c\u6682\u65f6\u6ca1\u6709\u53ef\u4e0d\u6539\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n]\n\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\n\nROOT_URLCONF = 'myproject.urls'\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nWSGI_APPLICATION = 'myproject.wsgi.application'\n\n# \u6570\u636e\u5e93Database\uff0c\u8bbe\u7f6e\u4e3amysql\uff0c\u9ed8\u8ba4\u662f\u4f7f\u7528sqlite\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': 'myproject',\n        'USER': 'dbuser',\n        'PASSWORD': 'password',\n        'HOST': 'db',  # Use the Docker service name as the hostname\n        'PORT': '3306',\n    }\n}\n\n# Password validation\nAUTH_PASSWORD_VALIDATORS = [\n    {\n        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',\n    },\n]\n\n# Internationalization\n\n#\u8bbe\u7f6e\u8bed\u8a00\uff0c\u9ed8\u8ba4\u662f\u82f1\u6587\uff0c\u4e2d\u6587\u4e3a'zh-hans'\nLANGUAGE_CODE = 'en-us'\nTIME_ZONE = 'UTC'\nUSE_I18N = True\nUSE_L10N = True\nUSE_TZ = True\n\n# Static files (CSS, JavaScript, Images)\nSTATIC_URL = '/static/'\nSTATIC_ROOT = os.path.join(BASE_DIR, 'static')\n\n# Media files\nMEDIA_URL = '/media/'\nMEDIA_ROOT = os.path.join(BASE_DIR, 'media')\n\n# Redis Configuration\nCACHES = {\n    \"default\": {\n        \"BACKEND\": \"django_redis.cache.RedisCache\",\n        \"LOCATION\": \"redis://192.168.42.131:6379/1\",\n        \"OPTIONS\": {\n            \"CLIENT_CLASS\": \"django_redis.client.DefaultClient\",\n            \"PASSWORD\": \"yourpassword\",  # Use the actual password\n        },\n    }\n}\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#4managepy","title":"4.manage.py","text":"Text Only<pre><code>#!/usr/bin/env python\n\"\"\"Django's command-line utility for administrative tasks.\"\"\"\nimport os\nimport sys\n\ndef main():\n    \"\"\"Run administrative tasks.\"\"\"\n    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'myproject.settings')\n    try:\n        from django.core.management import execute_from_command_line\n    except ImportError as exc:\n        raise ImportError(\n            \"Couldn't import Django. Are you sure it's installed and \"\n            \"available on your PYTHONPATH environment variable? Did you \"\n            \"forget to activate a virtual environment?\"\n        ) from exc\n    execute_from_command_line(sys.argv)\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#7\u811a\u672c\u90e8\u7f72","title":"\uff087\uff09\u811a\u672c\u90e8\u7f72","text":"<p>\u811a\u672c\u6267\u884c\u524d\u63d0\uff1a</p> <p>1\u3001\u786e\u4fdd\u670d\u52a1\u5668\u65f6\u95f4\u6821\u51c6\u540e</p> <p>2\u3001\u5b89\u88c5docker\u548cdocker-compose</p> <p>3\u3001\u6267\u884c\u540e\uff0c\u81ea\u52a8\u521b\u5efa\u76ee\u5f55\uff0c\u5b89\u88c5\u955c\u50cf\uff0c\u6784\u5efa\u955c\u50cf\u3001\u542f\u52a8\u5bb9\u5668</p> <p>\u811a\u672c\u8f83\u4e3a\u7c97\u7cd9\uff0c\u4f46\u662f\u80fd\u7528\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> Text Only<pre><code>#!/bin/bash\n\n# \u521b\u5efa\u9879\u76ee\u7ed3\u6784\nmkdir -p /data/compose/{myproject,mysql/{conf,init},nginx,redis}\nmkdir -p /data/compose/nginx/{log,ssl}\nmkdir -p /data/compose/myproject/{static,media}\n\n# \u521b\u5efa\u548c\u5199\u5165 Docker-compose \u914d\u7f6e\ncat &gt; /data/compose/myproject/docker-compose.yml &lt;&lt;EOF\nversion: \"3\"\n\nvolumes: \n  db_vol:\n  redis_vol:\n  media_vol:\n  static_vol:\n\nnetworks:\n  nginx_network:\n    driver: bridge\n  db_network:\n    driver: bridge\n  redis_network: \n    driver: bridge\n\nservices:\n  redis:\n    image: redis:latest\n    command: redis-server /etc/redis/redis.conf\n    networks:\n      - redis_network\n    volumes:\n      - redis_vol:/data\n      - /data/compose/redis/redis.conf:/etc/redis/redis.conf\n    ports:\n      - \"6379:6379\"\n    restart: always\n\n  db:\n    image: mysql\n    env_file:  \n      - /data/compose/myproject/.env\n    networks:  \n      - db_network\n    volumes:\n      - db_vol:/var/lib/mysql:rw\n      - /data/compose/mysql/conf/my.cnf:/etc/mysql/my.cnf\n      - /data/compose/mysql/init:/docker-entrypoint-initdb.d/\n    ports:\n      - \"3306:3306\"\n    restart: always\n\n  web:\n    build: /data/compose/myproject\n    expose:\n      - \"8000\"\n    volumes:\n      - /data/compose/myproject:/var/www/html/myproject\n      - static_vol:/var/www/html/myproject/static\n      - media_vol:/var/www/html/myproject/media\n      - /data/compose/uwsgi:/tmp\n    networks:\n      - nginx_network\n      - db_network  \n      - redis_network \n    depends_on:\n      - db\n      - redis\n    restart: always\n    tty: true\n    stdin_open: true\n\n  nginx:\n    build: /data/compose/nginx\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    expose:\n      - \"80\"\n    volumes:\n      - /data/compose/nginx/nginx.conf:/etc/nginx/conf.d/nginx.conf\n      - /data/compose/nginx/ssl:/usr/share/nginx/ssl\n      - /data/compose/nginx/log:/var/log/nginx\n      - static_vol:/usr/share/nginx/html/static\n      - media_vol:/usr/share/nginx/html/media\n    networks:\n      - nginx_network\n    depends_on:\n      - web\n    restart: always\nEOF\n\n# \u521b\u5efa Django+Uwsgi Dockerfile\n# \u521b\u5efa Django+Uwsgi Dockerfile\ncat &gt; /data/compose/myproject/Dockerfile &lt;&lt;EOF\nFROM centos:7\n\n# \u66f4\u65b0\u7cfb\u7edf\u5e76\u5b89\u88c5\u5fc5\u8981\u7684\u5305\nRUN yum -y update &amp;&amp; \\\n    yum -y install epel-release &amp;&amp; \\\n    yum -y install python3 python3-pip nc mysql-devel gcc-c++ python3-devel libjpeg-devel zlib-devel libffi-devel openssl-devel &amp;&amp; \\\n    yum -y groupinstall \"Development Tools\" &amp;&amp; \\\n    yum clean all\n\n# \u8bbe\u7f6ePython\u73af\u5883\u53d8\u91cf\nENV PYTHONDONTWRITEBYTECODE 1\nENV PYTHONUNBUFFERED 1\n\n# \u914d\u7f6epip\u56fd\u5185\u6e90\nCOPY pip.conf /root/.pip/pip.conf\n\n# \u8bbe\u7f6e\u5e94\u7528\u7684\u5de5\u4f5c\u76ee\u5f55\nENV APP_HOME=/var/www/html/myproject\nRUN mkdir -p \\$APP_HOME\nWORKDIR \\$APP_HOME\n\n# \u5c06\u5f53\u524d\u76ee\u5f55\u7684\u5185\u5bb9\u6dfb\u52a0\u5230\u5de5\u4f5c\u76ee\u5f55\u4e2d\nADD . \\$APP_HOME\n\n# \u66f4\u65b0pip\u5e76\u5b89\u88c5\u9879\u76ee\u4f9d\u8d56\nRUN python3 -m pip install --upgrade pip\nRUN pip install -r requirements.txt\n\n# \u590d\u5236\u5e76\u8c03\u6574start.sh\u811a\u672c\u7684\u6743\u9650\nCOPY start.sh /data/compose/start.sh\nRUN chmod +x /data/compose/start.sh &amp;&amp; sed -i 's/\\r$//' /data/compose/start.sh\n\n# \u590d\u5236uwsgi\u914d\u7f6e\u6587\u4ef6\nCOPY uwsgi.ini \\$APP_HOME/uwsgi.ini\n\n# \u8bbe\u7f6e\u6700\u7ec8\u7684\u5de5\u4f5c\u76ee\u5f55\u548c\u5165\u53e3\u70b9\nWORKDIR /data/compose\nENTRYPOINT [\"/bin/bash\", \"/data/compose/start.sh\"]\nEOF\n\n\n\n# \u521b\u5efa\u542f\u52a8\u811a\u672c\ncat &gt; /data/compose/myproject/start.sh &lt;&lt;EOF\n#!/bin/bash\nMYSQL_HOST=db\nMYSQL_PORT=3306\n\nwhile ! nc -z $MYSQL_HOST $MYSQL_PORT; do\n    echo \"Waiting for the MySQL Server\"\n    sleep 3\ndone\n\npython manage.py migrate --noinput\npython manage.py collectstatic --noinput\n\nuwsgi --ini /var/www/html/myproject/uwsgi.ini\n\ntail -f /dev/null\n\nexec \"\\$@\"\nEOF\nchmod +x /data/compose/myproject/start.sh\n\n# \u521b\u5efa uwsgi \u914d\u7f6e\u6587\u4ef6\ncat &gt; /data/compose/myproject/uwsgi.ini &lt;&lt;EOF\n[uwsgi]\nproject=myproject\nuid=www-data\ngid=www-data\nbase=/var/www/html\n\nchdir=%(base)/%(project)\nmodule=%(project).wsgi:application\nmaster=True\nprocesses=2\n\nsocket=0.0.0.0:8000\nchown-socket=%(uid):www-data\nchmod-socket=664\n\nvacuum=True\nmax-requests=5000\n\npidfile=/tmp/%(project)-master.pid\ndaemonize=/tmp/%(project)-uwsgi.log\n\nharakiri = 60\npost buffering = 8192\nbuffer-size= 65535\nharakiri-verbose = true\n\nmemory-report = true\n\nreload-mercy = 10\n\nreload-on-as= 1024\nEOF\n\n# \u521b\u5efa\u73af\u5883\u53d8\u91cf\u6587\u4ef6\ncat &gt; /data/compose/myproject/.env &lt;&lt;EOF\nMYSQL_ROOT_PASSWORD=123456\nMYSQL_USER=dbuser\nMYSQL_DATABASE=myproject\nMYSQL_PASSWORD=password\nEOF\n\n# \u521b\u5efa Requirements \u6587\u4ef6\ncat &gt; /data/compose/myproject/requirements.txt &lt;&lt;EOF\ndjango==3.2\nuwsgi==2.0.18\nmysqlclient==1.4.6\ndjango-redis==4.12.1\nredis==3.5.3\nPillow==8.2.0\nEOF\n\n# \u521b\u5efa Nginx \u955c\u50cf Dockerfile\ncat &gt; /data/compose/nginx/Dockerfile &lt;&lt;EOF\nFROM nginx:latest\n\nRUN rm /etc/nginx/conf.d/default.conf \\\n&amp;&amp; mkdir -p /usr/share/nginx/html/static \\\n&amp;&amp; mkdir -p /usr/share/nginx/html/media \\\n&amp;&amp; mkdir -p /usr/share/nginx/ssl\n\nRUN chown -R www-data:www-data /usr/share/nginx/html/media \\\n&amp;&amp; chmod -R 775 /usr/share/nginx/html/media\n\nADD ./nginx.conf /etc/nginx/conf.d/\n\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\nEOF\n\n# \u521b\u5efa Nginx \u914d\u7f6e\u6587\u4ef6\ncat &gt; /data/compose/nginx/nginx.conf &lt;&lt;EOF\n# nginx\u914d\u7f6e\u6587\u4ef6\n# compose/nginx/nginx.conf\n\nupstream django {\n    ip_hash;\n    server web:8000; # Docker-compose web\u670d\u52a1\u7aef\u53e3\n}\n\n# \u914d\u7f6ehttp\u8bf7\u6c42\uff0c80\u7aef\u53e3\nserver {\n    listen 80; # \u76d1\u542c80\u7aef\u53e3\n    server_name 192.168.4; # \u53ef\u4ee5\u662fnginx\u5bb9\u5668\u6240\u5728ip\u5730\u5740\u6216127.0.0.1\uff0c\u4e0d\u80fd\u5199\u5bbf\u4e3b\u673a\u5916\u7f51ip\u5730\u5740\n\n    charset utf-8;\n    client_max_body_size 10M; # \u9650\u5236\u7528\u6237\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\n\n    access_log /var/log/nginx/access.log main;\n    error_log /var/log/nginx/error.log warn;\n\n    location /static {\n        alias /usr/share/nginx/html/static; # \u9759\u6001\u8d44\u6e90\u8def\u5f84\n    }\n\n    location /media {\n        alias /usr/share/nginx/html/media; # \u5a92\u4f53\u8d44\u6e90\uff0c\u7528\u6237\u4e0a\u4f20\u6587\u4ef6\u8def\u5f84\n    }\n\n    location / {\n        include /etc/nginx/uwsgi_params;\n        uwsgi_pass django;\n        uwsgi_read_timeout 600;\n        uwsgi_connect_timeout 600;\n        uwsgi_send_timeout 600;\n\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_redirect off;\n        proxy_set_header X-Real-IP  $remote_addr;\n    }\n}\nEOF\n\n# \u521b\u5efa MySQL \u914d\u7f6e\u6587\u4ef6\ncat &gt; /data/compose/mysql/conf/my.cnf &lt;&lt;EOF\n[mysqld]\nuser=mysql\ndefault-storage-engine=INNODB\ncharacter-set-server=utf8\nsecure-file-priv=NULL\ndefault-authentication-plugin=mysql_native_password\n\nport            = 3306\nbasedir         = /usr\ndatadir         = /var/lib/mysql\ntmpdir          = /tmp\npid-file        = /var/run/mysqld/mysqld.pid\nsocket          = /var/run/mysqld/mysqld.sock\nskip-name-resolve\n\n[client]\nport = 3306\ndefault-character-set=utf8\n\n[mysql]\nno-auto-rehash\ndefault-character-set=utf8\nEOF\n\n# \u521b\u5efa MySQL \u521d\u59cb\u5316\u811a\u672c\ncat &gt; /data/compose/mysql/init/init.sql &lt;&lt;EOF\nALTER USER 'dbuser'@'%' IDENTIFIED WITH mysql_native_password BY 'password';\nGRANT ALL PRIVILEGES ON myproject.* TO 'dbuser'@'%';\nFLUSH PRIVILEGES;\nEOF\n\n# \u521b\u5efa Redis \u914d\u7f6e\u6587\u4ef6\ncat &gt; /data/compose/redis/redis.conf &lt;&lt;EOF\nbind 127.0.0.1\nrequirepass yourpassword\nEOF\n\n# \u751f\u6210 pip \u914d\u7f6e\u6587\u4ef6\ncat &gt; /data/compose/myproject/pip.conf &lt;&lt;EOF\n[global]\nindex-url = https://mirrors.aliyun.com/pypi/simple/\n\n[install]\ntrusted-host = mirrors.aliyun.com\nEOF\n\n# \u6784\u5efa\u955c\u50cf\u5e76\u542f\u52a8\u5bb9\u5668\ncd /data/compose/myproject\ndocker-compose build\ndocker-compose up -d\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#8django\u5176\u5b83\u64cd\u4f5c","title":"\uff088\uff09django\u5176\u5b83\u64cd\u4f5c","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#1\u542f\u52a8django","title":"1.\u542f\u52a8django","text":"<p>\u8fde\u63a5docker\u5bb9\u5668</p> Text Only<pre><code>docker exec -it id bash\n</code></pre> <p>\u67e5\u770b\u7248\u672c</p> Text Only<pre><code>python3 -m django --version\n</code></pre> <p>\u521b\u5efa\u9879\u76ee</p> Text Only<pre><code>django-admin startproject mysite\n</code></pre> <p>\u8fd0\u884c\u65b9\u5f0f\uff0c\u7aef\u53e3\u53ef\u4ee5\u81ea\u5b9a\u4e49</p> Text Only<pre><code>python3 /var/www/html/myproject/manage.py runserver 0.0.0.0:8000\n</code></pre> <p>\u4f7f\u7528 <code>nohup</code> \u547d\u4ee4\u6765\u540e\u53f0\u8fd0\u884c Django \u9879\u76ee\uff1a</p> Bash<pre><code>nohup python3 /var/www/html/myproject/manage.py runserver 0.0.0.0:8000 &amp;\n</code></pre> <ul> <li><code>nohup</code>: \u8868\u793a\u5ffd\u7565\u6302\u8d77\u4fe1\u53f7\uff0c\u5141\u8bb8\u8fdb\u7a0b\u5728\u540e\u53f0\u8fd0\u884c\u3002</li> <li><code>&amp;</code>: \u5728\u547d\u4ee4\u672b\u5c3e\u52a0\u4e0a <code>&amp;</code> \u8868\u793a\u5c06\u8fdb\u7a0b\u653e\u5230\u540e\u53f0\u8fd0\u884c\u3002</li> </ul> <p>\u4f7f\u7528 <code>ps</code> \u547d\u4ee4\u67e5\u627e\u8fdb\u7a0b ID\uff08PID\uff09</p> Bash<pre><code>ps aux | grep python3\n</code></pre> <p>\u4f7f\u7528 <code>kill</code> \u547d\u4ee4\u7ec8\u6b62\u8fdb\u7a0b\uff1a</p> Bash<pre><code>kill -9 &lt;PID&gt;\n</code></pre> <p>\u6210\u529f\u5219\u8fd4\u56de</p> <p>Performing system checks\u2026</p> <p>System check identified no issues (0 silenced).</p> <p>You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions. Run \u2018python manage.py migrate\u2019 to apply them. April 16, 2024 - 04:02:48 Django version 3.2, using settings \u2018myproject.settings\u2019 Starting development server at http://0.0.0.0:8000/</p> <p>\u901a\u8fc7\u670d\u52a1\u5668IP+\u7aef\u53e38000\u8fdb\u884c\u8bbf\u95ee\uff0c\u5982\u8fd4\u56de\uff0c\u5728django\u4e2d\uff0curls.py\u5b9a\u4e49\u5982\u4f55\u8bf7\u6c42\u6620\u5c04\u5230\u89c6\u56fe\u51fd\u6570\u3002</p> <p></p> <p>\u901a\u5e38\u662f\u672a\u5c06settings.py\u7684\u8bbe\u7f6e\u4e3a<code>DEBUG = True</code>\uff0c\u5982\u9700\u767b\u5f55django\u540e\u53f0\uff0c\u4f7f\u7528\uff1ahttp://10.22.51.65:8000/admin\u8fdb\u884c\u8bbf\u95ee\uff0c\u5e76\u4e14\u9700\u8981\u521b\u5efa\u7ba1\u7406\u5458</p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#not-found","title":"Not Found","text":"<p>The requested resource was not found on this server.</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#2\u521b\u5efasuperuser\u7ba1\u7406\u5458","title":"2.\u521b\u5efasuperuser\u7ba1\u7406\u5458","text":"<p>1\u3001\u786e\u4fddsettings.py\u7684DATABASES\u4e0eMysql\u6570\u636e\u7528\u6237\u5bc6\u7801\u4e00\u81f4\u3002</p> <p>\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\uff0c\u6267\u884c\u547d\u4ee4<code>python3.6 manage.py createsuperuser</code></p> Text Only<pre><code>[root@11eaf6e23195 myproject]# python3.6 /var/www/html/myproject/manage.py createsuperuser\n\nUsername (leave blank to use 'root'): josh\nEmail address: 980521387@qq.com\nPassword: 123456\nPassword (again): 123456\nThis password is too short. It must contain at least 8 characters.\nThis password is too common.\nThis password is entirely numeric.\nBypass password validation and create user anyway? [y/N]: y\nSuperuser created successfully.\n</code></pre> <p>\u9047\u5230\u4e2a\u62a5\u9519\uff0c\u63d0\u793a\uff1a\u60a8\u6709 18 \u4e2a\u672a\u5e94\u7528\u7684\u8fc1\u79fb\u3002</p> <p>You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions. Run \u2018python manage.py migrate\u2019 to apply them.</p> <p>\u89e3\u51b3\u529e\u6cd5\uff1a\u5e94\u7528\u6570\u636e\u5e93\u8fc1\u79fb\uff0c\u518d\u91cd\u65b0\u6267\u884c\u521b\u5efa\u3002</p> Text Only<pre><code>python3.6 manage.py makemigrations\npython3.6 manage.py migrate\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#3web\u4fee\u6539\u4e2d\u6587","title":"3.web\u4fee\u6539\u4e2d\u6587","text":"<p>\u7f16\u8f91vi settings.py\uff0c<code>\u4fee\u6539\u53c2\u6570\u4e3a\uff1aLANGUAGE_CODE = 'zh-hans'</code>\uff0c\u6539\u5b8c\u5237\u65b0\u9875\u9762\u751f\u6548\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2django/#4\u521b\u5efa\u5e94\u7528app","title":"4.\u521b\u5efa\u5e94\u7528app","text":"<p>\u521b\u5efajobs\u7684app</p> Text Only<pre><code>#\u521b\u5efa\u5e94\u7528\u540d\u4e3ajobs\npython3.6 manage.py startapp jobs\n\n#\u4fee\u6539settings.py,\nvi /var/www/html/myproject/myproject/settings.py\n</code></pre> <p>\u5728INSTALLED_APPS\u540e\uff0c\u589e\u52a0jobs</p> Text Only<pre><code>INSTALLED_APPS = [\n    \"django.contrib.admin\",\n    \"django.contrib.auth\",\n    \"django.contrib.contenttypes\",\n    \"django.contrib.sessions\",\n    \"django.contrib.messages\",\n    \"django.contrib.staticfiles\",\n    \"jobs\"    #\u6b64\u5904\n]\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2dockerNAS/","title":"docker \u90e8\u7f72dockerNAS","text":"<p>docker\u90e8\u7f72dockerNas</p> Text Only<pre><code>docker search dockernas\n\ndocker pull xiongzhanzhang/dockernas\n\nmkdir /data/new_dockernas\n</code></pre> <p>\u542f\u52a8\u5bb9\u5668</p> Text Only<pre><code>docker run -d --name new_dockernas \\\n--restart always \\\n-p 8091:8080 \\\n-v /var/run/docker.sock:/var/run/docker.sock \\\n-v /data/new_dockernas:/home/dockernas/data \\\nxiongzhanzhang/dockernas\n</code></pre> <p>\u4fee\u6539<code>/var/run/docker.sock</code>\u6302\u8f7d\u7684\u76ee\u5f55\uff0c\u767b\u5f55nas\u7cfb\u7edf\u540e\u4f1a\u62a5\u9519\uff0c\u8fd9\u8fb9\u4f7f\u7528\u9ed8\u8ba4\u7684\u4e86\u3002</p> <p>\u67e5\u770b\u767b\u5f55\u8d26\u6237\u4e0e\u5bc6\u7801\uff1a</p> <p><code>cat /data/new_dockernas/config.json</code></p> Text Only<pre><code>{\n    \"basePath\": \"/home/dockernas/data\",\n    \"bindAddr\": \"0.0.0.0:8080\",\n    \"passwd\": \"df5d4ae10df04233ba9dde69a83c2017\",\n    \"user\": \"admin\"\n</code></pre> <p>\u8bbf\u95ee\u5730\u5740\uff1ahttp://10.22.51.65:8091/login</p> <p>\u8d26\u53f7\uff1aadmin</p> <p>\u5bc6\u7801\uff1adf5d4ae10df04233ba9dde69a83c2017</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2gitlab/","title":"docker \u90e8\u7f72gitlab","text":"Text Only<pre><code>[root@josh-clound data]# mkdir -p /data/gitlab/etc\n[root@josh-clound data]# mkdir -p /data//gitlab/log\n[root@josh-clound data]# mkdir -p /data/gitlab/opt\n\n\n\n# \u542f\u52a8\u5bb9\u5668\ndocker run \\\n -itd  \\\n -p 8380:80 \\\n -p 8322:22 \\\n -v /data/gitlab/etc:/etc/gitlab  \\\n -v /data/gitlab/log:/var/log/gitlab \\\n -v /data/gitlab/opt:/var/opt/gitlab \\\n --restart always \\\n --privileged=true \\\n --name gitlab \\\n gitlab/gitlab-ce\n\n\n\n #\u4fee\u6539gitlab.rb\nvi /etc/gitlab/gitlab.rb\n\n#\u52a0\u5165\u5982\u4e0b\n#gitlab\u8bbf\u95ee\u5730\u5740\uff0c\u53ef\u4ee5\u5199\u57df\u540d\u3002\u5982\u679c\u7aef\u53e3\u4e0d\u5199\u7684\u8bdd\u9ed8\u8ba4\u4e3a80\u7aef\u53e3\nexternal_url 'http://192.168.124.194'\n#ssh\u4e3b\u673aip\ngitlab_rails['gitlab_ssh_host'] = '192.168.124.194'\n#ssh\u8fde\u63a5\u7aef\u53e3\ngitlab_rails['gitlab_shell_ssh_port'] = 8322\n\n# \u8ba9\u914d\u7f6e\u751f\u6548\ngitlab-ctl reconfigure\n\n\n# \u4fee\u6539http\u548cssh\u914d\u7f6e\nvi /opt/gitlab/embedded/service/gitlab-rails/config/gitlab.yml\n\n  gitlab:\n    host: 192.168.124.194\n    port: 8380 # \u8fd9\u91cc\u65398380\n    https: false\n\n\n#\u91cd\u542fgitlab \ngitlab-ctl restart\n#\u9000\u51fa\u5bb9\u5668 \nexit\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2itops/","title":"docker \u90e8\u7f72itops","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2itops/#1\u90e8\u7f72itops","title":"1\u3001\u90e8\u7f72itops","text":"Text Only<pre><code>docker run -d -p 8089:8080 \\\n-v /data/itops:/usr/local/itops/data \\\nopenitsystem/itops:1.0.1\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2itops/#2\u90e8\u7f72mysql","title":"2\u3001\u90e8\u7f72mysql","text":"Text Only<pre><code>mkdir -p /data/mysql/log\nmkdir -p /data/mysql/data\nmkdir -p /data/mysql/conf\n</code></pre> Text Only<pre><code>docker run -d -p 3306:3306 \\\n           --privileged=true \\\n           -v /data/mysql5.7/log:/var/log/mysql \\\n           -v /data/mysql5.7/data:/var/lib/mysql \\\n           -v /data/mysql5.7/conf:/etc/mysql/conf.d \\\n           -e MYSQL_ROOT_PASSWORD=Sunline2024 \\\n           --name mysql5.7 \\\n           mysql:5.7\n\n\n\nmysql -uroot -p\n\n#\u521b\u5efa\u6570\u636e\u5e93\ncreate database itops;\n\n#\u521b\u5efa\u65b0\u7684 ops \u7528\u6237\uff1a\nCREATE USER 'ops'@'localhost' IDENTIFIED BY 'sunline'; \n\n#\u786e\u8ba4\u6570\u636e\u5e93 ops \u5b58\u5728\nCREATE DATABASE IF NOT EXISTS ops;\n\n#\u786e\u8ba4\u7528\u6237\u5df2\u521b\u5efa\nSELECT user, host FROM mysql.user WHERE user = 'ops' AND host = 'localhost';\n\n#\u5237\u65b0\u6743\u9650\nFLUSH PRIVILEGES;\n\n#\u68c0\u67e5 ops \u7528\u6237\u7684\u6743\u9650\uff1a\nSHOW GRANTS FOR 'ops'@'localhost';\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2itops/#3docker-compose\u90e8\u7f72","title":"3\u3001docker compose\u90e8\u7f72","text":"Text Only<pre><code>version: '3.7'\n\nservices:\n  itops:\n    image: openitsystem/itops:1.0.1\n    container_name: itops\n    ports:\n      - \"8089:8080\"\n    environment:\n      - DB_HOST=mysql\n      - DB_PORT=3306\n      - DB_USER=ops\n      - DB_PASSWORD=sunline\n      - DB_NAME=itops\n    volumes:\n      - /data/itops:/usr/local/itops/data\n    depends_on:\n      - mysql\n\n  mysql:\n    image: mysql:5.7\n    container_name: mysql\n    environment:\n      - MYSQL_ROOT_PASSWORD=sunline\n      - MYSQL_DATABASE=itops\n      - MYSQL_USER=ops\n      - MYSQL_PASSWORD=sunline\n    ports:\n      - \"3306:3306\"\n    volumes:\n      - /data/mysql/conf:/etc/mysql/conf.d\n      - /data/mysql/data:/var/lib/mysql\n      - /data/mysql/log:/var/log/mysql\n\nvolumes:\n  mysql_data:\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2itops/#4\u767b\u5f55\u4fe1\u606f","title":"4\u3001\u767b\u5f55\u4fe1\u606f","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2itops/#1\u9ed8\u8ba4\u7684\u767b\u5f55\u4fe1\u606f","title":"1.\u9ed8\u8ba4\u7684\u767b\u5f55\u4fe1\u606f","text":"Text Only<pre><code>\u5e73\u53f0\u767b\u5f55\u8def\u5f84 http://IP:8089\n\u5e73\u53f0\u914d\u7f6e\u7ba1\u7406\u5458\u8d26\u6237\uff1aadminportal\n\u5e73\u53f0\u914d\u7f6e\u7ba1\u7406\u5458\u5bc6\u7801\uff1atcQW*963@2019\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2itops/#2\u914d\u7f6emysql\u6570\u636e\u5e93","title":"2.\u914d\u7f6emysql\u6570\u636e\u5e93","text":"<p>\u586b\u5199mysql\u4fe1\u606f\uff0c\u70b9\u51fb\u66f4\u65b0\u914d\u7f6e</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/","title":"docker \u90e8\u7f72jumpserver-v2.8.4","text":"<p>\u5728\u90e8\u7f72 Jumpserver \u65f6\uff0c<code>SECRET_KEY</code> \u548c <code>BOOTSTRAP_TOKEN</code> \u90fd\u662f\u975e\u5e38\u91cd\u8981\u7684\u914d\u7f6e\u53c2\u6570\uff0c\u5b83\u4eec\u7684\u5177\u4f53\u4f5c\u7528\u5982\u4e0b\uff1a</p> <p>SECRET_KEY\uff1a</p> <ul> <li><code>SECRET_KEY</code> \u662f\u4e00\u4e2a\u5b89\u5168\u5bc6\u94a5\uff0c\u7528\u4e8e\u52a0\u5bc6\u548c\u89e3\u5bc6 Jumpserver \u5185\u90e8\u7684\u4e00\u4e9b\u91cd\u8981\u6570\u636e\uff0c\u6bd4\u5982\u7528\u6237\u7684\u5bc6\u7801\u3001\u4f1a\u8bdd\u6570\u636e\u7b49\u3002</li> <li>\u8fd9\u4e2a\u5bc6\u94a5\u5728\u6574\u4e2a Jumpserver \u7684\u751f\u547d\u5468\u671f\u4e2d\u5e94\u4fdd\u6301\u4e0d\u53d8\uff0c\u5e76\u4e14\u9700\u8981\u4fdd\u5bc6\uff0c\u9632\u6b62\u88ab\u5916\u90e8\u653b\u51fb\u8005\u83b7\u53d6\u3002</li> <li>\u5982\u679c <code>SECRET_KEY</code> \u88ab\u6cc4\u9732\u6216\u66f4\u6539\uff0c\u4e4b\u524d\u52a0\u5bc6\u7684\u6570\u636e\u5c06\u65e0\u6cd5\u89e3\u5bc6\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u635f\u574f\u6216\u7cfb\u7edf\u65e0\u6cd5\u6b63\u5e38\u8fd0\u884c\u3002</li> </ul> <p>BOOTSTRAP_TOKEN\uff1a</p> <ul> <li><code>BOOTSTRAP_TOKEN</code> \u662f\u4e00\u4e2a\u5f15\u5bfc\u4ee4\u724c\uff0c\u7528\u4e8e\u521d\u6b21\u542f\u52a8\u548c\u521d\u59cb\u5316 Jumpserver \u7cfb\u7edf\u65f6\u7684\u8ba4\u8bc1\u8fc7\u7a0b\u3002</li> <li>\u5728\u9996\u6b21\u90e8\u7f72 Jumpserver \u65f6\uff0c\u7cfb\u7edf\u4f1a\u4f7f\u7528\u8fd9\u4e2a\u4ee4\u724c\u6765\u8fdb\u884c\u521d\u59cb\u7684\u5b89\u5168\u914d\u7f6e\u548c\u6ce8\u518c\u3002</li> <li>\u4e00\u65e6\u7cfb\u7edf\u521d\u59cb\u5316\u5b8c\u6210\uff0c\u8fd9\u4e2a\u4ee4\u724c\u7684\u4f5c\u7528\u5c31\u7ed3\u675f\u4e86\uff0c\u56e0\u6b64\u5b83\u7684\u751f\u547d\u5468\u671f\u76f8\u5bf9\u8f83\u77ed\u3002</li> </ul> <p>\u603b\u7ed3\u8d77\u6765\uff0c<code>SECRET_KEY</code> \u4e3b\u8981\u7528\u4e8e\u6301\u7eed\u6027\u7684\u5b89\u5168\u52a0\u5bc6\uff0c\u786e\u4fdd\u7cfb\u7edf\u7684\u8fd0\u884c\u5b89\u5168\uff1b\u800c <code>BOOTSTRAP_TOKEN</code> \u4e3b\u8981\u7528\u4e8e\u7cfb\u7edf\u521d\u6b21\u90e8\u7f72\u65f6\u7684\u5b89\u5168\u8ba4\u8bc1\uff0c\u4fdd\u8bc1\u521d\u59cb\u5316\u8fc7\u7a0b\u7684\u5b89\u5168\u6027\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#\u4e00\u968f\u673a\u751f\u6210\u52a0\u5bc6\u5bc6\u94a5","title":"\u4e00\u3001\u968f\u673a\u751f\u6210\u52a0\u5bc6\u5bc6\u94a5","text":"<p>\u4ee5\u4e0b\u4e24\u4e2a\u5206\u522b\u7528\u6765\u751f\u6210 <code>SECRET_KEY</code> \u548c <code>BOOTSTRAP_TOKEN</code>\u3002\u8fd9\u4e9b\u53d8\u91cf\u901a\u5e38\u7528\u4e8e\u5b58\u50a8\u5b89\u5168\u76f8\u5173\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\u52a0\u5bc6\u5bc6\u94a5\u6216\u8005\u8eab\u4efd\u9a8c\u8bc1\u4ee4\u724c\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#1\u751f\u6210secret_key\u7684\u90e8\u5206","title":"1.\u751f\u6210<code>SECRET_KEY</code>\u7684\u90e8\u5206","text":"<p>\u7f16\u8f91secert-key.sh\uff0c\u811a\u672c\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>[root@jerion ~]# vim secert-key.sh\nif [ \"$SECRET_KEY\" = \"\" ]; then \n    SECRET_KEY=$(cat /dev/urandom | tr -dc A-Za-z0-9 | head -c 50); \n    echo \"export SECRET_KEY=$SECRET_KEY\" &gt;&gt; ~/.bashrc; \n    echo $SECRET_KEY; \nelse \n    echo $SECRET_KEY; \nfi\n\n#\u6267\u884c\u811a\u672c\n[root@jerion ~]# sh secert-key.sh\nWSerysaK4qK7rv3cs7KLwpJ5ZkQVI35zABLdkRN5DWy2I8b7qc\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u7684\u903b\u8f91\u662f\uff1a</p> <ul> <li> <p>\u5982\u679c\u73af\u5883\u53d8\u91cf <code>SECRET_KEY</code> \u4e3a\u7a7a\uff0c\u5219\u751f\u6210\u4e00\u4e2a\u5305\u542b\u5927\u5c0f\u5199\u5b57\u6bcd\u548c\u6570\u5b57\u7684 50 \u4f4d\u968f\u673a\u5bc6\u94a5\u3002</p> </li> <li> <p>\u5c06\u751f\u6210\u7684\u5bc6\u94a5\u5199\u5165 <code>~/.bashrc</code> \u6587\u4ef6\u3002</p> </li> <li> <p>\u6253\u5370\u751f\u6210\u7684\u5bc6\u94a5\u3002</p> </li> </ul>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#2\u751f\u6210bootstrap_token\u7684\u90e8\u5206","title":"2.\u751f\u6210<code>BOOTSTRAP_TOKEN</code>\u7684\u90e8\u5206","text":"<p>\u7f16\u8f91bootstrap-token.sh\uff0c\u811a\u672c\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>[root@jerion ~]# vim bootstrap-token.sh\nif [ \"$BOOTSTRAP_TOKEN\" = \"\" ]; then \n    BOOTSTRAP_TOKEN=$(cat /dev/urandom | tr -dc A-Za-z0-9 | head -c 16); \n    BOOTSTRAP_TOKEN=$(cat /dev/urandom | tr -dc A-Za-z0-9 | head -c 16); \n    echo \"export BOOTSTRAP_TOKEN=$BOOTSTRAP_TOKEN\" &gt;&gt; ~/.bashrc; \n    echo $BOOTSTRAP_TOKEN; \nelse \n    echo $BOOTSTRAP_TOKEN; \nfi\n\n#\u6267\u884c\u811a\u672c\n[root@jerion ~]# sh bootstrap-token.sh\nGdR3HM6fT0LOBdLj\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u7684\u903b\u8f91\u662f\uff1a</p> <ul> <li>\u5982\u679c\u73af\u5883\u53d8\u91cf <code>BOOTSTRAP_TOKEN</code> \u4e3a\u7a7a\uff0c\u5219\u751f\u6210\u4e00\u4e2a\u5305\u542b\u5927\u5c0f\u5199\u5b57\u6bcd\u548c\u6570\u5b57\u7684 16 \u4f4d\u968f\u673a\u4ee4\u724c\u3002</li> <li>\u5c06\u751f\u6210\u7684\u4ee4\u724c\u5199\u5165 <code>/.baserc</code> \u6587\u4ef6\u3002</li> <li>\u6253\u5370\u751f\u6210\u7684\u4ee4\u724c\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#3\u6574\u7406\u540e\u7684\u6267\u884c\u5185\u5bb9\u5982\u4e0b","title":"3.\u6574\u7406\u540e\u7684\u6267\u884c\u5185\u5bb9\u5982\u4e0b","text":"<ul> <li>\u751f\u6210 <code>SECRET_KEY</code>\uff1a</li> <li>\u751f\u6210\u7684 <code>SECRET_KEY</code> \u4e3a\uff1a<code>WSerysaK4qK7rv3cs7KLwpJ5ZkQVI35zABLdkRN5DWy2I8b7qc</code></li> <li> <p>\u5c06 <code>SECRET_KEY</code> \u5199\u5165 <code>~/.bashrc</code> \u6587\u4ef6\u4e2d</p> </li> <li> <p>\u751f\u6210 <code>BOOTSTRAP_TOKEN</code>\uff1a</p> </li> <li>\u751f\u6210\u7684 <code>BOOTSTRAP_TOKEN</code> \u4e3a\uff1a<code>GdR3HM6fT0LOBdLj</code></li> <li>\u5c06 <code>BOOTSTRAP_TOKEN</code> \u5199\u5165 <code>/.baserc</code> \u6587\u4ef6\u4e2d</li> </ul> <p>\u8bf7\u6ce8\u610f\uff0c\u4ee3\u7801\u4e2d\u7684\u62fc\u5199\u9519\u8bef <code>/baserc</code> \u5e94\u8be5\u662f <code>~/.bashrc</code>\u3002\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u4fee\u6539\u6587\u4ef6\u8def\u5f84\u6216\u5185\u5bb9\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#\u4e8c\u5b89\u88c5jumpserver","title":"\u4e8c\u3001\u5b89\u88c5jumpserver","text":"Bash<pre><code>docker run -itd \\\n--name jumpserver \\\n--restart=always \\\n-p 8081:80 -p 2222:2222 \\\n-e SECRET_KEY=WSerysaK4qK7rv3cs7KLwpJ5ZkQVI35zABLdkRN5DWy2I8b7qc \\\n-e BOOTSTRAP_TOKEN=GdR3HM6fT0LOBdLj \\\n-v /data/jumpserver/data/:/opt/jumpserver/data/ \\\n-v /data/jumpserver/mysql/:/var/lib/mysql \\\njumpserver/jms_all:v2.8.4\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#\u4e09\u8bbf\u95eejumpserver","title":"\u4e09\u3001\u8bbf\u95eejumpserver","text":"<p>\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u8bbf\u95eehttp://10.22.51.63:8081/core/auth/login/\u767b\u5f55\u9875\u9762\uff1a</p> <p></p> <p>\u9996\u6b21\u767b\u5f55\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u5747\u4e3aadmin\uff0c\u767b\u5f55\u540e\u4f1a\u63d0\u793a\u9700\u8981\u4fee\u6539\u5bc6\u7801\uff0c\u4fee\u6539\u540e\u91cd\u65b0\u767b\u5f55\u3002</p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#\u56dbjumpserver\u76f8\u5173\u914d\u7f6e","title":"\u56db\u3001jumpserver\u76f8\u5173\u914d\u7f6e","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#1\u7ba1\u7406\u7528\u6237","title":"1.\u7ba1\u7406\u7528\u6237","text":"<p>\u200b       \u7ba1\u7406\u7528\u6237\u662f\u8d44\u4ea7\u88ab\u63a7\u670d\u52a1\u5668\u4e0a\u7684root\uff0cjumpserver\u4f7f\u7528\u6b64\u7528\u6237\u53ef\u4ee5\u3010\u63a8\u9001\u7cfb\u7edf\u7528\u6237\u3011\u3010\u83b7\u53d6\u8d44\u4ea7\u786c\u4ef6\u4fe1\u606f\u3011\u7b49\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u3010jumpserver\u9700\u8981\u5148\u4e0e\u8d44\u4ea7\u8282\u70b9\u505a\u514d\u5bc6\uff0c\u5c06\u79c1\u94a5\u53d1\u9001\u5230\u8d44\u4ea7\u4e3b\u673a\u3011\u3002</p> Bash<pre><code>[root@0ebb95bb883b ~]# ssh-keygen\n[root@0ebb95bb883b ~]# ssh-copy-id -i ~/.ssh/id_rsa.pub root@10.22.51.63\n[root@0ebb95bb883b ~]# ssh-copy-id -i ~/.ssh/id_rsa.pub root@10.22.51.64\n\n## \u5c06\u79c1\u94a5\u4fdd\u5b58\u4e0b\u6765\uff0c\u8981\u4f7f\u7528\n[root@0ebb95bb883b ~]# exit\n[root@jerion ~]# docker cp jumpserver:/root/.ssh/id_rsa /root\n[root@jerion ~]# sz id_rsa\n</code></pre> <p></p> <p></p> <p>\u521b\u5efa\u7ba1\u7406\u7528\u6237\uff1a</p> <p></p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#2\u7cfb\u7edf\u7528\u6237","title":"2.\u7cfb\u7edf\u7528\u6237","text":"<p>\u7528\u4e8e\u767b\u5f55\u8d44\u4ea7\u7684\u7528\u6237\uff1a</p> <p></p> <p></p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#3\u666e\u901a\u7528\u6237","title":"3.\u666e\u901a\u7528\u6237","text":"<p>\u521b\u5efa\u7528\u6237\u7ec4\uff0c\u5c06\u7528\u6237\u6dfb\u52a0\u5230\u7528\u6237\u7ec4\uff0c\u4fbf\u4e8e\u7ba1\u7406\uff1a</p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#4\u6dfb\u52a0\u8282\u70b9","title":"4.\u6dfb\u52a0\u8282\u70b9","text":"<p>\u8d44\u6599\u5217\u8868\u4e2d\uff0c\u53f3\u952eDefault\u8282\u70b9\u8fdb\u884c\u521b\u5efa\uff1a</p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#5\u6dfb\u52a0\u8d44\u4ea7","title":"5.\u6dfb\u52a0\u8d44\u4ea7","text":"<p>\u53ef\u4ee5\u6dfb\u52a0\u7684\u6709\uff1a\u670d\u52a1\u5668\u3001\u7f51\u7edc\u8bbe\u5907\u3001\u6570\u636e\u5e93\u5e94\u7528\u3002</p> <p></p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#6\u6743\u9650\u5212\u5206","title":"6.\u6743\u9650\u5212\u5206","text":"<p>\u5c06\u8fd0\u7ef4\u7ec4\u5212\u5206\u4e3a\uff08\u6d4b\u8bd5\u670d\u52a1\u56681\u3001\u6d4b\u8bd5\u670d\u52a1\u56682\uff09\uff0c\u5c06\u5f00\u53d1\u7ec4\u5212\u5206\u4e3a\uff08\u6d4b\u8bd5\u670d\u52a1\u56681\uff09\uff1a</p> <p></p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#7\u9a8c\u8bc1","title":"7.\u9a8c\u8bc1","text":"<p>\u4f7f\u7528\u666e\u901a\u7528\u6237\u767b\u5f55\u8d44\u4ea7\uff1a</p> <p></p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#8\u67e5\u770b\u662f\u5426\u6709\u8bb0\u5f55","title":"8.\u67e5\u770b\u662f\u5426\u6709\u8bb0\u5f55","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#9\u6dfb\u52a0\u6570\u636e\u5e93\u8d44\u4ea7","title":"9.\u6dfb\u52a0\u6570\u636e\u5e93\u8d44\u4ea7","text":"<p>\u6ce8\uff1a\u9700\u5148\u5c06jumpserver\u7684\u516c\u94a5\u53d1\u9001\u7ed9\u6570\u636e\u5e93\u8d44\u4ea7\uff0c\u5373\u524d\u9762\u7ba1\u7406\u7528\u6237\u4e2d\u7684\u914d\u7f6e\u547d\u4ee4\u3002</p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#10\u521b\u5efa\u767b\u5f55mysql\u7684\u7cfb\u7edf\u7528\u6237\u521b\u5efa\u4e13\u95e8\u767b\u5f55mysql\u7684\u7528\u6237","title":"10.\u521b\u5efa\u767b\u5f55mysql\u7684\u7cfb\u7edf\u7528\u6237\uff08\u521b\u5efa\u4e13\u95e8\u767b\u5f55mysql\u7684\u7528\u6237\uff09","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#11\u6570\u636e\u5e93\u8d44\u4ea7\u6388\u6743","title":"11.\u6570\u636e\u5e93\u8d44\u4ea7\u6388\u6743","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#12\u6d4b\u8bd5\u767b\u5f55\u6570\u636e\u5e93","title":"12.\u6d4b\u8bd5\u767b\u5f55\u6570\u636e\u5e93","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#13\u9650\u5236\u7528\u6237\u4f7f\u7528\u5371\u9669\u547d\u4ee4","title":"13.\u9650\u5236\u7528\u6237\u4f7f\u7528\u5371\u9669\u547d\u4ee4","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#14\u6d4b\u8bd5\u5371\u9669\u547d\u4ee4\u662f\u5426\u7981\u6b62","title":"14.\u6d4b\u8bd5\u5371\u9669\u547d\u4ee4\u662f\u5426\u7981\u6b62","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#15\u6587\u4ef6\u7ba1\u7406","title":"15.\u6587\u4ef6\u7ba1\u7406","text":"<p>\u5c06\u6587\u4ef6\u76f4\u63a5\u62d6\u62fd\u4e0a\u4f20\uff0c\u9ed8\u8ba4\u7684\u5b58\u653e\u4f4d\u7f6e\u5728/tmp\u4e0b\uff0c\u53ef\u4ee5\u5728koko\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u4fee\u6539\uff1a</p> <p></p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jumpserver/#\u4e94\u5fd8\u8bb0admin\u5bc6\u7801\u4fee\u6539\u6b65\u9aa4","title":"\u4e94\u3001\u5fd8\u8bb0admin\u5bc6\u7801\uff0c\u4fee\u6539\u6b65\u9aa4","text":"Bash<pre><code>#\u5fd8\u8bb0 jumpserver \u8d85\u7ea7\u7528\u6237\u5bc6\u7801\ndocker exec -it \u5bb9\u5668id /bin/bash\n\n#\u5982\u679c\u6ca1\u6709\u6309\u88c5django \u9700\u6267\u884c\u4e0b\u9762\u547d\u4ee4\u8fdb\u884c\u5b89\u88c5(\u5982\u5b89\u88c5\u8fc7 \u6b64\u6b65\u9aa4\u53ef\u5ffd\u7565)\npython3 -m pip install --upgrade pip setuptools\npython3 -m pip install django\n\n\nsource /opt/py3/bin/activate\npython /opt/jumpserver/apps/manage.py changepassword admin\nChanging password for user 'Administrator(admin)'\nPassword: \nPassword (again): \nThe password is too similar to the \u7528\u6237\u540d.\nThis password is too short. It must contain at least 8 characters.\nThis password is too common.\nPassword: \nPassword (again): \nPassword changed successfully for user 'Administrator(admin)'\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/","title":"docker \u90e8\u7f72jupyter","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#1\u641c\u7d22\u955c\u50cf","title":"1.\u641c\u7d22\u955c\u50cf","text":"<p><code>docker search jupyter</code>: \u547d\u4ee4\u7528\u4e8e\u5728 Docker Hub \u4e0a\u641c\u7d22\u540d\u4e3a \u201cjupyter\u201d \u7684\u955c\u50cf\u3002\u641c\u7d22\u7ed3\u679c\u663e\u793a\u4e86\u4e00\u4e2a\u540d\u4e3a \u201cjupyter/datascience-notebook\u201d \u7684\u955c\u50cf\uff0c\u5b83\u662f\u4e00\u4e2a\u5305\u542b\u4e86\u6570\u636e\u79d1\u5b66 Jupyter \u7b14\u8bb0\u672c\u7684 Python \u6808\u3002</p> Text Only<pre><code>root@Could:/volume1/docker/jupyter# docker search jupyter\nNAME                                 DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED\njupyter/datascience-notebook         Data Science Jupyter Notebook Python Stack f\u2026   1057    \n\n....\u7701\u7565n\u4e2a\u955c\u50cf\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#2\u62c9\u53d6\u955c\u50cf","title":"2.\u62c9\u53d6\u955c\u50cf","text":"<p><code>docker pull jupyter/datascience-notebook</code>:\u547d\u4ee4\u7528\u4e8e\u4ece Docker Hub \u4e0b\u8f7d \u201cjupyter/datascience-notebook\u201d \u955c\u50cf\u3002</p> Text Only<pre><code>docker pull  jupyter/datascience-notebook\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#3\u521b\u5efa\u6302\u8f7d","title":"3.\u521b\u5efa\u6302\u8f7d","text":"<p>\u5728\u5bb9\u5668\u521b\u5efa\u8fc7\u7a0b\u4e2d\uff0c\u6211\u53d1\u73b0\u901a\u8fc7\u6620\u5c04\u76ee\u5f55\u7684\u65b9\u5f0f\u521b\u5efa\u540e\uff0c\u7adf\u7136\u4e0d\u80fd\u5c06\u5bb9\u5668\u5185\u7684\u6570\u636e\u548c\u914d\u7f6e\u52a0\u8f7d\u5230\u5bbf\u4e3b\u673a\uff0c\u56e0\u6b64\u5bb9\u5668\u5220\u9664\u540e\u5bfc\u81f4\u914d\u7f6e\u548c\u6570\u636e\u4e22\u5931\u4e86\uff0c\u6700\u7ec8\u53d1\u73b0\u76ee\u5f55\u6743\u9650\u548c\u6240\u5c5e\u7528\u6237\u5bfc\u81f4\u8be5\u95ee\u9898\uff0c\u4ee5\u4e0b\u914d\u7f6e\u53ef\u4ee5\u89e3\u51b3\u8be5\u95ee\u9898\uff1a</p> <p><code>mkdir -p /data/jupyter/notebook/data</code>: \u547d\u4ee4\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55\uff0c\u5373 <code>/data/jupyter/notebook/data</code>\uff0c\u7528\u4e8e\u5728\u4e3b\u673a\u548c\u5bb9\u5668\u4e4b\u95f4\u5171\u4eab Jupyter \u7b14\u8bb0\u672c\u6587\u4ef6\u3002\u53ef\u4ee5\u5c06\u7684 Jupyter \u7b14\u8bb0\u672c\u6587\u4ef6\u653e\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e2d\uff0c\u4ee5\u4fbf\u5728\u5bb9\u5668\u4e2d\u8fdb\u884c\u8bbf\u95ee\u548c\u7f16\u8f91\u3002</p> <p><code>jupyter\u914d\u7f6e\u6587\u4ef6:/data/jupyter1/notebook/config</code></p> Text Only<pre><code>#\u521b\u5efa\u6302\u8f7d\u76ee\u5f55\nmkdir -p /data/jupyter/notebook/data\nmkdir -p /data/jupyter/notebook/config\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#4\u914d\u7f6e\u6587\u4ef6","title":"4.\u914d\u7f6e\u6587\u4ef6","text":"<p>\u5148\u8fd0\u884c\u5bb9\u5668\uff0c\u628a\u914d\u7f6e\u6587\u4ef6\u590d\u5236\u51fa\u6765</p> Text Only<pre><code>docker run -itd \\\n--name jupyter \\\n-p 8880:8888 \\\n-e GRANT_SUDO=yes \\\n-v /data/jupyter/notebook/data:/home/jovyan/work/data \\\n-v  /data/jupyter/notebook/config/jupyter_notebook_config.py:/home/jovyan/.jupyter/jupyter_notebook_config.py \\\njupyter/datascience-notebook\n</code></pre> <p>\u590d\u5236\u914d\u7f6e\u6587\u4ef6\u51fa\u6765</p> Text Only<pre><code>docker cp jupyter1:/home/jovyan/.jupyter/jupyter_notebook_config.py /data/jupyter/notebook/config/\n</code></pre> <p>\u505c\u6b62\u5220\u9664\u8be5\u5bb9\u5668\uff0c</p> Text Only<pre><code>docker rm -f \u5bb9\u5668id\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#5\u6587\u4ef6\u8d4b\u6743","title":"5.\u6587\u4ef6\u8d4b\u6743","text":"<p>\u9700\u8981\u4e3a\u6302\u8f7d\u7684 Jupyter \u914d\u7f6e\u6587\u4ef6\u8d4b\u4e88\u9002\u5f53\u7684\u6743\u9650\uff0c\u4ee5\u786e\u4fdd <code>jovyan</code> \u7528\u6237\u53ef\u4ee5\u8bfb\u53d6\u8be5\u914d\u7f6e\u6587\u4ef6\u3002\u4ee5\u4e0b\u662f\u8be6\u7ec6\u6b65\u9aa4\uff1a</p> Text Only<pre><code>chown 1000:100 /data/jupyter/notebook/config/jupyter_notebook_config.py\nchmod 644 /data/jupyter/notebook/config/jupyter_notebook_config.py\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#6\u91cd\u65b0\u521b\u5efa\u5bb9\u5668","title":"6.\u91cd\u65b0\u521b\u5efa\u5bb9\u5668","text":"Text Only<pre><code>docker run -itd \\\n--name jupyter1 \\\n-p 8880:8888 \\\n-e GRANT_SUDO=yes \\\n-v /data/jupyter1/notebook/data:/home/jovyan/work/data \\\n-v  /data/jupyter1/notebook/config/jupyter_notebook_config.py:/home/jovyan/.jupyter/jupyter_notebook_config.py \\\njupyter/datascience-notebook\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#7\u9a8c\u8bc1\u914d\u7f6e\u6587\u4ef6\u6743\u9650","title":"7.\u9a8c\u8bc1\u914d\u7f6e\u6587\u4ef6\u6743\u9650","text":"<p>\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u5728\u5bb9\u5668\u5185\u7684\u6743\u9650\uff0c\u786e\u4fdd <code>jovyan</code> \u7528\u6237\u53ef\u4ee5\u8bfb\u53d6\uff1a</p> Text Only<pre><code>docker exec -it jupyter ls -l /home/jovyan/.jupyter/jupyter_notebook_config.py\n</code></pre> <p>\u786e\u4fdd\u914d\u7f6e\u6587\u4ef6 <code>jupyter_notebook_config.py</code> \u548c\u6570\u636e\u6587\u4ef6\u5939 <code>/home/jovyan/work/data</code> \u90fd\u5177\u6709 <code>jovyan</code> \u7528\u6237\u7684\u8bfb\u5199\u6743\u9650\uff0c\u4ece\u800c\u786e\u4fdd Jupyter Notebook \u53ef\u4ee5\u6b63\u5e38\u8bbf\u95ee\u548c\u8bfb\u53d6\u914d\u7f6e\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#8\u751f\u6210\u65e0\u8bbf\u95ee\u5bc6\u7801\u7684\u5bb9\u5668","title":"8.\u751f\u6210\u65e0\u8bbf\u95ee\u5bc6\u7801\u7684\u5bb9\u5668","text":"<p>\u64cd\u4f5c\u6b65\u9aa4\u4e0e\u7b2c\u4e00\u6b65\u4e00\u81f4\uff0c\u6302\u8f7d\u76ee\u5f55\u4fe1\u606f\u81ea\u884c\u4fee\u6539</p> <p>\uff082\uff09\u751f\u6210\u65e0\u8bbf\u95ee\u5bc6\u7801jupyter\u7684\u5bb9\u5668</p> Text Only<pre><code>docker run -itd \\\n--name jupyter \\\n-p 8888:8888 \\\n-v /volume1/docker/jupyter/notebook:/home/notebook/data \\\n-e \"JUPYTER_ENABLE_LAB=yes\" \\\n-e \"NB_USER=user\" \\\n-e \"NB_UID=1000\" \\\n-e \"GRANT_SUDO=yes\" \\\njupyter/datascience-notebook start-notebook.sh --NotebookApp.token=''\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#9\u73af\u5883\u53d8\u91cf\u89e3\u91ca","title":"9.\u73af\u5883\u53d8\u91cf\u89e3\u91ca","text":"<ul> <li><code>docker run -itd</code>: \u8fd9\u662f\u8fd0\u884c Docker \u5bb9\u5668\u7684\u547d\u4ee4\u3002<code>-itd</code> \u53c2\u6570\u5c06\u5bb9\u5668\u8fd0\u884c\u5728\u540e\u53f0\uff0c\u5e76\u5c06\u6807\u51c6\u8f93\u5165\u8fde\u63a5\u5230 TTY\uff08\u7ec8\u7aef\uff09\u3002</li> <li><code>--name jupyter</code>: \u901a\u8fc7\u8fd9\u4e2a\u9009\u9879\uff0c\u60a8\u4e3a\u5bb9\u5668\u6307\u5b9a\u4e86\u4e00\u4e2a\u540d\u79f0\uff0c\u5373 \u201cjupyter\u201d\u3002</li> <li><code>-p 8888:8888</code>: \u8fd9\u4e2a\u9009\u9879\u5c06\u5bb9\u5668\u5185\u90e8\u7684\u7aef\u53e3 8888 \u6620\u5c04\u5230\u5bbf\u4e3b\u673a\u7684\u7aef\u53e3 8888\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u901a\u8fc7 <code>localhost:8888</code> \u8bbf\u95ee Jupyter\u3002</li> <li><code>-v /volume1/docker/jupyter/notebook:/home/notebook/data</code>: \u8fd9\u4e2a\u9009\u9879\u5c06\u5bbf\u4e3b\u673a\u7684\u76ee\u5f55 <code>/volume1/docker/jupyter/notebook</code> \u6302\u8f7d\u5230\u5bb9\u5668\u5185\u7684 <code>/home/notebook/data</code> \u76ee\u5f55\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u5728 Jupyter \u4e2d\u8bbf\u95ee\u5bbf\u4e3b\u673a\u4e0a\u7684\u6570\u636e\u3002</li> <li><code>-e \"JUPYTER_ENABLE_LAB=yes\"</code>: \u8fd9\u4e2a\u9009\u9879\u8bbe\u7f6e Jupyter \u542f\u7528 JupyterLab \u754c\u9762\u3002</li> <li><code>-e \"NB_USER=user\"</code>: \u8fd9\u4e2a\u9009\u9879\u8bbe\u7f6e Jupyter \u4f7f\u7528\u7528\u6237\u540d \u201cuser\u201d\u3002</li> <li><code>-e \"NB_UID=1000\"</code>: \u8fd9\u4e2a\u9009\u9879\u8bbe\u7f6e Jupyter \u4f7f\u7528\u7528\u6237 ID \u4e3a 1000\u3002</li> <li><code>-e \"GRANT_SUDO=yes\"</code>: \u8fd9\u4e2a\u9009\u9879\u5141\u8bb8 Jupyter \u7528\u6237\u62e5\u6709\u7ba1\u7406\u5458\u6743\u9650\u3002</li> <li><code>jupyter/datascience-notebook</code>: \u8fd9\u662f\u8981\u4f7f\u7528\u7684 Docker \u955c\u50cf\u7684\u540d\u79f0\uff0c\u5373 Jupyter \u6570\u636e\u79d1\u5b66\u7b14\u8bb0\u672c\u955c\u50cf\u3002</li> <li><code>start-notebook.sh --NotebookApp.token=''</code>: \u8fd9\u662f\u5728\u5bb9\u5668\u5185\u90e8\u8fd0\u884c\u7684\u547d\u4ee4\u3002<code>start-notebook.sh</code> \u811a\u672c\u4f1a\u542f\u52a8 Jupyter \u670d\u52a1\u5668\uff0c\u5e76\u4f7f\u7528\u7a7a\u7684\u8bbf\u95ee\u4ee4\u724c\uff0c\u5373\u65e0\u5bc6\u7801\u8bbf\u95ee\u6a21\u5f0f\u3002</li> </ul> <p>\u901a\u8fc7\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\uff0c\u5c06\u542f\u52a8\u4e00\u4e2a\u540d\u4e3a \u201cjupyter\u201d \u7684\u5bb9\u5668\uff0c\u5e76\u4ee5\u65e0\u5bc6\u7801\u8bbf\u95ee\u6a21\u5f0f\u542f\u52a8 Jupyter\u3002\u60a8\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee <code>IP:8888</code> \u6765\u4f7f\u7528 Jupyter \u7b14\u8bb0\u672c\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#10\u67e5\u770b\u5bb9\u5668\u8fd0\u884c\u72b6\u6001","title":"10.\u67e5\u770b\u5bb9\u5668\u8fd0\u884c\u72b6\u6001","text":"<p><code>docker ps</code>\u547d\u4ee4\uff0c\u7528\u4e8e\u67e5\u770b\u8fd0\u884c\u7684 Jupyter \u6570\u636e\u79d1\u5b66\u7b14\u8bb0\u672c\u5bb9\u5668\u7684\u8be6\u7ec6\u4fe1\u606f\u5982\u4e0b\uff1a</p> Text Only<pre><code>root@Could:~# docker ps\nCONTAINER ID   IMAGE                            COMMAND                  CREATED         STATUS                   PORTS                    NAMES\n4cd0ddf5a966   jupyter/datascience-notebook     \"tini -g -- start-no\u2026\"   4 minutes ago   Up 4 minutes (healthy)   0.0.0.0:8888-&gt;8888/tcp   jupyter\n</code></pre> <ul> <li><code>CONTAINER ID</code>: \u5bb9\u5668\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u7528\u4e8e\u5728 Docker \u4e2d\u6807\u8bc6\u5bb9\u5668\u3002</li> <li><code>IMAGE</code>: \u5bb9\u5668\u6240\u4f7f\u7528\u7684\u955c\u50cf\u540d\u79f0\uff0c\u5373 \u201cjupyter/datascience-notebook\u201d\u3002</li> <li><code>COMMAND</code>: \u5bb9\u5668\u542f\u52a8\u65f6\u6267\u884c\u7684\u547d\u4ee4\u3002</li> <li><code>CREATED</code>: \u5bb9\u5668\u7684\u521b\u5efa\u65f6\u95f4\u3002</li> <li><code>STATUS</code>: \u5bb9\u5668\u7684\u72b6\u6001\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5bb9\u5668\u7684\u72b6\u6001\u4e3a \u201cUp\u201d\uff0c\u8868\u793a\u5bb9\u5668\u6b63\u5728\u8fd0\u884c\u3002</li> <li><code>PORTS</code>: \u5bb9\u5668\u7684\u7aef\u53e3\u6620\u5c04\u914d\u7f6e\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5bb9\u5668\u7684\u7aef\u53e3 8888 \u6620\u5c04\u5230\u4e3b\u673a\u7684\u7aef\u53e3 8888\u3002</li> <li><code>NAMES</code>: \u5bb9\u5668\u7684\u540d\u79f0\u3002</li> </ul> <p>\u5bb9\u5668\u7684\u540d\u79f0\u4e3a \u201cmystifying_shirley\u201d\uff0c\u5b83\u5df2\u7ecf\u8fd0\u884c\u4e86\u5927\u7ea6 15 \u5206\u949f\uff0c\u5e76\u4e14\u72b6\u6001\u4e3a \u201cUp\u201d\uff0c\u8868\u793a\u5bb9\u5668\u6b63\u5e38\u8fd0\u884c\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#11token\u67e5\u770b","title":"11.token\u67e5\u770b","text":"<p>\u65e0\u5bc6\u7801\u5bb9\u5668\u8df3\u8fc7\u672c\u6b65\u9aa4\uff1a</p> Text Only<pre><code>docker logs jupyter | cat &gt;&gt; /tmp/jupyter.txt\ncat  /tmp/jupyter.txt | grep token\n</code></pre> <p>\u5177\u4f53\u89e3\u91ca\u5982\u4e0b\uff1a</p> <ol> <li><code>docker logs jupyter</code>\uff1a\u4f7f\u7528<code>docker logs</code>\u547d\u4ee4\u67e5\u770b\u540d\u4e3a\u201djupyter\u201d\u7684\u5bb9\u5668\u7684\u65e5\u5fd7\u3002</li> <li><code>|</code>\uff1a\u7ba1\u9053\u7b26\u53f7\uff0c\u5c06\u524d\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u51fa\u4f5c\u4e3a\u540e\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u5165\u3002</li> <li><code>cat &gt;&gt; /tmp/jupyter.txt</code>\uff1a<code>cat</code>\u547d\u4ee4\u7528\u4e8e\u5c06\u8f93\u5165\u5185\u5bb9\u8f93\u51fa\u5230\u7ec8\u7aef\uff0c<code>&gt;&gt;</code>\u8868\u793a\u8ffd\u52a0\u6a21\u5f0f\uff0c\u5c06\u8f93\u51fa\u5185\u5bb9\u8ffd\u52a0\u5230<code>/tmp/jupyter.txt</code>\u6587\u4ef6\u4e2d\u3002</li> <li><code>cat /tmp/jupyter.txt</code>\uff1a\u4f7f\u7528<code>cat</code>\u547d\u4ee4\u67e5\u770b<code>/tmp/jupyter.txt</code>\u6587\u4ef6\u7684\u5185\u5bb9\u3002</li> <li><code>grep token</code>\uff1a\u4f7f\u7528<code>grep</code>\u547d\u4ee4\u5728\u8f93\u5165\u4e2d\u641c\u7d22\u5305\u542b\u201dtoken\u201d\u7684\u884c\u3002</li> </ol> <p>\u901a\u8fc7\u8fd9\u4e2a\u547d\u4ee4\uff0c\u4f60\u53ef\u4ee5\u67e5\u770bJupyter\u5bb9\u5668\u7684\u65e5\u5fd7\uff0c\u5e76\u641c\u7d22\u5305\u542b\u201dtoken\u201d\u7684\u884c\uff0c\u4ee5\u627e\u5230Jupyter Notebook\u7684\u8bbf\u95ee\u4ee4\u724c\uff08token\uff09\u3002</p> Text Only<pre><code>\u590d\u5236\ntoken=49d38b2f29a6971f9abb8301da66de1073f57d627804200e\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#12\u8bbf\u95eejupyter","title":"12.\u8bbf\u95eejupyter","text":"<p>http://192.168.31.100:8888/</p> <p>\u901a\u8fc7token\u4fee\u6539\u5bc6\u7801</p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#13nginx\u53cd\u5411\u4ee3\u7406","title":"13\u3001nginx\u53cd\u5411\u4ee3\u7406","text":"<p>\u786e\u4fdd Nginx \u914d\u7f6e\u6b63\u786e\u5730\u4ee3\u7406\u8bf7\u6c42\u5230 Jupyter \u670d\u52a1\u5668\uff0c\u5e76\u4e14\u5305\u542b\u6b63\u786e\u7684 WebSocket \u914d\u7f6e\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u793a\u4f8b\u914d\u7f6e\uff1a</p> <p>\u4e0d\u52a0\u8f7dWebSocket \u914d\u7f6e\uff0c\u4f1a\u5bfc\u81f4\uff1a<code>\u4f7f\u7528\u57df\u540d\u8bbf\u95ee Jupyter Notebook \u65f6\u65e0\u6cd5\u6267\u884c\u811a\u672c\uff0c\u800c\u4f7f\u7528 IP \u5730\u5740\u8bbf\u95ee\u6b63\u5e38</code></p> Text Only<pre><code>server {\n    listen 80;\n    server_name yourdomain.com;\n\n    location / {\n        proxy_pass http://127.0.0.1:8888;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n\n        # WebSocket support\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_read_timeout 86400;\n    }\n}\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#14\u68c0\u67e5jupyter-notebook-\u914d\u7f6e","title":"14.\u68c0\u67e5Jupyter Notebook \u914d\u7f6e","text":"<p>\u5728 Jupyter Notebook \u914d\u7f6e\u6587\u4ef6\u4e2d\uff08\u901a\u5e38\u662f <code>~/.jupyter/jupyter_notebook_config.py</code>\uff09\uff0c\u6dfb\u52a0\u6216\u66f4\u65b0\u4ee5\u4e0b\u914d\u7f6e\uff1a</p> Text Only<pre><code>pythonCopy codec.NotebookApp.allow_origin = '*'\nc.NotebookApp.trust_xheaders = True\nc.NotebookApp.ip = '0.0.0.0'\nc.NotebookApp.open_browser = False\nc.NotebookApp.port = 8888\n</code></pre> <p>\u5982\u679c\u6ca1\u6709\u8be5\u914d\u7f6e\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u751f\u6210\uff1a</p> Text Only<pre><code>jupyter notebook --generate-config\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#15-\u91cd\u542f-nginx-\u548c-jupyter-\u670d\u52a1","title":"15. \u91cd\u542f Nginx \u548c Jupyter \u670d\u52a1","text":"<p>\u91cd\u542f Nginx \u548c Jupyter Notebook \u670d\u52a1\u4ee5\u5e94\u7528\u66f4\u6539\uff1a</p> Text Only<pre><code>systemctl restart nginx\ndocker restart jupyter\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2jupyter/#16\u6d4b\u8bd5jupyter","title":"16.\u6d4b\u8bd5jupyter","text":"<p>\u5728\u5e94\u7528\u8fd9\u4e9b\u66f4\u6539\u540e\uff0c\u901a\u8fc7\u57df\u540d\u518d\u6b21\u8bbf\u95ee Jupyter Notebook\uff0c\u786e\u8ba4\u662f\u5426\u53ef\u4ee5\u6b63\u5e38\u6267\u884c\u811a\u672c\u3002\u5982\u679c\u4ecd\u7136\u6709\u95ee\u9898\uff0c\u53ef\u4ee5\u68c0\u67e5\u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u4e2d\u7684\u9519\u8bef\u65e5\u5fd7\uff0c\u8fdb\u4e00\u6b65\u8bca\u65ad\u95ee\u9898\u3002</p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2nginx/","title":"docker \u90e8\u7f72nginx","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2nginx/#\u4e00nginx\u6982\u5ff5","title":"\u4e00\u3001nginx\u6982\u5ff5","text":"<p>\u200b       Nginx\uff08engine x\uff09\u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684HTTP\u548c\u53cd\u5411\u4ee3\u7406web\u670d\u52a1\u5668\uff0c\u540c\u65f6\u4e5f\u63d0\u4f9b\u4e86IMAP/POP3/SMTP\u670d\u52a1\u3002Nginx\u662f\u7531\u4f0a\u6208\u5c14\u00b7\u8d5b\u7d22\u8036\u592b\u4e3a\u4fc4\u7f57\u65af\u8bbf\u95ee\u91cf\u7b2c\u4e8c\u7684Rambler.ru\u7ad9\u70b9\uff08\u4fc4\u6587\uff1a\u0420\u0430\u043c\u0431\u043b\u0435\u0440\uff09\u5f00\u53d1\u7684\uff0c\u516c\u5f00\u7248\u672c1.19.6\u53d1\u5e03\u4e8e2020\u5e7412\u670815\u65e5\u3002</p> <p>\u200b       \u5176\u5c06\u6e90\u4ee3\u7801\u4ee5\u7c7bBSD\u8bb8\u53ef\u8bc1\u7684\u5f62\u5f0f\u53d1\u5e03\uff0c\u56e0\u5b83\u7684\u7a33\u5b9a\u6027\u3001\u4e30\u5bcc\u7684\u529f\u80fd\u96c6\u3001\u7b80\u5355\u7684\u914d\u7f6e\u6587\u4ef6\u548c\u4f4e\u7cfb\u7edf\u8d44\u6e90\u7684\u6d88\u8017\u800c\u95fb\u540d\u30022022\u5e7401\u670825\u65e5\uff0cnginx 1.21.6\u53d1\u5e03\u3002 [12]</p> <p>\u200b       Nginx\u662f\u4e00\u6b3e\u8f7b\u91cf\u7ea7\u7684Web \u670d\u52a1\u5668/\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\u53ca\u7535\u5b50\u90ae\u4ef6\uff08IMAP/POP3\uff09\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u5728BSD-like \u534f\u8bae\u4e0b\u53d1\u884c\u3002\u5176\u7279\u70b9\u662f\u5360\u6709\u5185\u5b58\u5c11\uff0c\u5e76\u53d1\u80fd\u529b\u5f3a\uff0c\u4e8b\u5b9e\u4e0anginx\u7684\u5e76\u53d1\u80fd\u529b\u5728\u540c\u7c7b\u578b\u7684\u7f51\u9875\u670d\u52a1\u5668\u4e2d\u8868\u73b0\u8f83\u597d\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2nginx/#\u4e8c\u83b7\u53d6nginx\u955c\u50cf","title":"\u4e8c\u3001\u83b7\u53d6nginx\u955c\u50cf","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2nginx/#1\u67e5\u770bnginx\u7248\u672c","title":"1.\u67e5\u770bnginx\u7248\u672c","text":"<p>\uff081\uff09\u9009\u62e9\u7248\u672c\uff0c\u53ef\u4ee5\u53bbdocker hub\uff0c\u641c\u7d22<code>nginx</code>\uff1a</p> <p></p> <p>\u70b9\u51fb<code>tags</code>,\u53ef\u4ee5\u770b\u5230\u5386\u53f2\u7248\u672c\uff1a</p> <p></p> <p>\uff082\uff09\u901a\u8fc7\u547d\u4ee4\u67e5\u770b\u4e00\u4e9b\u70ed\u95e8\u7684Nginx\u955c\u50cf\uff1a</p> Bash<pre><code>docker search nginx\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>NAME                           DESCRIPTION                                      STARS     OFFICIAL \nnginx                          Official build of Nginx.                         19768     [OK]       \nunit                           Official build of NGINX Unit: Universal Web \u2026    26        [OK]       \nnginxinc/nginx-unprivileged    Unprivileged NGINX Dockerfiles                   144      \n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2nginx/#\u4e09\u4e0b\u8f7dnginx\u955c\u50cf","title":"\u4e09\u3001\u4e0b\u8f7dNginx\u955c\u50cf","text":"<p>\u4f7f\u7528\u547d\u4ee4<code>docker pull nginx</code>\u9ed8\u8ba4\u4e3a\u4e0b\u8f7d\u6700\u65b0\u7248\uff08latest\uff09\uff1a</p> Bash<pre><code>docker pull nginx\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4e0b\u8f7d\u6307\u5b9a\u7248\u672c1.20.1\uff1a</p> Bash<pre><code>docker pull nginx:1.20.1\n</code></pre> <p>\u67e5\u770b\u4e0b\u8f7d\u5230\u672c\u5730\u7684\u955c\u50cf\u6587\u4ef6\uff1a</p> Bash<pre><code>docker images\n</code></pre> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2nginx/#\u56db\u542f\u52a8nginx\u5bb9\u5668\u7b80\u5355\u7248","title":"\u56db\u3001\u542f\u52a8nginx\u5bb9\u5668\uff08\u7b80\u5355\u7248\uff09","text":"<p>\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a \u201cnginx\u201d \u7684\u5bb9\u5668\uff0c\u5e76\u5c06\u5bb9\u5668\u5185\u7684\u7aef\u53e3 80 \u6620\u5c04\u5230\u4e3b\u673a\u7684\u7aef\u53e3 8080\u3002</p> <p>\u683c\u5f0f\uff1adocker run [OPTIONS] IMAGE [COMMAND] [ARG\u2026]</p> Bash<pre><code>docker run --name nginx -p 8071:80 -d nginx\n</code></pre> <p>\u8fd9\u4e2a\u547d\u4ee4\u7684\u7f3a\u9677\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u70b9\uff1a</p> <ul> <li>\u7f3a\u4e4f\u6302\u8f7d\u5377\uff1a\u8be5\u547d\u4ee4\u6ca1\u6709\u4f7f\u7528 <code>-v</code> \u53c2\u6570\u6765\u6302\u8f7d\u5bb9\u5668\u5185\u7684\u6570\u636e\u5377\u6216\u6587\u4ef6\u3002\u8fd9\u610f\u5473\u7740\u5bb9\u5668\u5185\u7684\u6570\u636e\uff08\u4f8b\u5982\u7f51\u7ad9\u6587\u4ef6\u3001\u65e5\u5fd7\u6587\u4ef6\u7b49\uff09\u5c06\u65e0\u6cd5\u6301\u4e45\u5316\u4fdd\u5b58\u3002\u5f53\u5bb9\u5668\u88ab\u5220\u9664\u6216\u91cd\u65b0\u521b\u5efa\u65f6\uff0c\u6240\u6709\u7684\u6570\u636e\u90fd\u4f1a\u4e22\u5931\u3002</li> <li>\u7f3a\u5c11\u81ea\u5b9a\u4e49\u914d\u7f6e\uff1a\u8be5\u547d\u4ee4\u6ca1\u6709\u63d0\u4f9b\u81ea\u5b9a\u4e49\u7684 Nginx \u914d\u7f6e\u6587\u4ef6\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cNginx \u5bb9\u5668\u5c06\u4f7f\u7528\u5176\u5185\u90e8\u7684\u9ed8\u8ba4\u914d\u7f6e\u3002\u5982\u679c\u4f60\u9700\u8981\u81ea\u5b9a\u4e49 Nginx \u7684\u914d\u7f6e\uff0c\u4f8b\u5982\u4fee\u6539\u865a\u62df\u4e3b\u673a\u6216\u4ee3\u7406\u8bbe\u7f6e\u7b49\uff0c\u4f60\u9700\u8981\u7f16\u8f91\u5bb9\u5668\u5185\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u6216\u8005\u4f7f\u7528\u6302\u8f7d\u5377\u5c06\u81ea\u5b9a\u4e49\u7684\u914d\u7f6e\u6587\u4ef6\u4f20\u9012\u7ed9\u5bb9\u5668\u3002</li> <li>\u7f3a\u5c11\u5bb9\u5668\u91cd\u542f\u7b56\u7565\uff1a\u8be5\u547d\u4ee4\u6ca1\u6709\u6307\u5b9a\u5bb9\u5668\u7684\u91cd\u542f\u7b56\u7565\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5bb9\u5668\u5728\u9000\u51fa\u65f6\u4e0d\u4f1a\u81ea\u52a8\u91cd\u542f\u3002\u5982\u679c\u4f60\u5e0c\u671b\u5bb9\u5668\u5728\u53d1\u751f\u6545\u969c\u6216\u4e3b\u673a\u91cd\u542f\u540e\u81ea\u52a8\u91cd\u542f\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>--restart</code> \u53c2\u6570\u6765\u8bbe\u7f6e\u9002\u5f53\u7684\u91cd\u542f\u7b56\u7565\u3002</li> <li>\u4f7f\u7528\u6700\u65b0\u7684 Nginx \u955c\u50cf\uff1a\u8be5\u547d\u4ee4\u4f7f\u7528\u7684\u662f <code>nginx</code> \u955c\u50cf\uff0c\u4f46\u6ca1\u6709\u6307\u5b9a\u5177\u4f53\u7684\u7248\u672c\u53f7\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cDocker \u5c06\u4f7f\u7528\u6700\u65b0\u7684\u53ef\u7528\u7248\u672c\u3002\u8fd9\u610f\u5473\u7740\u5728\u5c06\u6765\u91cd\u65b0\u521b\u5efa\u5bb9\u5668\u65f6\uff0c\u53ef\u80fd\u4f1a\u4f7f\u7528\u4e00\u4e2a\u4e0d\u540c\u7684\u7248\u672c\uff0c\u5bfc\u81f4\u884c\u4e3a\u548c\u914d\u7f6e\u7684\u53d8\u5316\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2nginx/#\u4e94\u542f\u52a8nginx\u5bb9\u5668\u5b9e\u9645\u5e94\u7528\u7248","title":"\u4e94\u3001\u542f\u52a8nginx\u5bb9\u5668\uff08\u5b9e\u9645\u5e94\u7528\u7248\uff09","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2nginx/#1\u521b\u5efa\u6302\u8f7d\u76ee\u5f55","title":"1.\u521b\u5efa\u6302\u8f7d\u76ee\u5f55","text":"Bash<pre><code>mkdir -p /data/nginx/conf\nmkdir -p /data/nginx/log\nmkdir -p /data/nginx/html\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2nginx/#2\u5173\u4e8e\u5bb9\u5668\u4e0e\u4e3b\u673a\u4e4b\u95f4\u4e92\u4f20\u6587\u4ef6","title":"2.\u5173\u4e8e\u5bb9\u5668\u4e0e\u4e3b\u673a\u4e4b\u95f4\u4e92\u4f20\u6587\u4ef6","text":"<p>\uff081\uff09\u5c06\u4e0a\u9762\u521b\u5efa\u7b80\u5355\u7248nginx\u5bb9\u5668\u6587\u4ef6\uff0c\u62f7\u8d1d\u5230\u4e3b\u673a\uff0c\u547d\u4ee4\u683c\u5f0f\uff1a<code>docker cp \u3010\u5bb9\u5668id\u3011:\u5bb9\u5668\u76ee\u5f55  \u672c\u5730\u76ee\u5f55</code></p> Bash<pre><code># \u5c06\u5bb9\u5668nginx.conf\u6587\u4ef6\u590d\u5236\u5230\u5bbf\u4e3b\u673a\ndocker cp nginx:/etc/nginx/nginx.conf /data/nginx/conf/nginx.conf\n\n# \u5c06\u5bb9\u5668conf.d\u6587\u4ef6\u5939\u4e0b\u5185\u5bb9\u590d\u5236\u5230\u5bbf\u4e3b\u673a\ndocker cp nginx:/etc/nginx/conf.d /data/nginx/conf/conf.d\n\n# \u5c06\u5bb9\u5668\u4e2d\u7684html\u6587\u4ef6\u5939\u590d\u5236\u5230\u5bbf\u4e3b\u673a\ndocker cp nginx:/usr/share/nginx/html /data/nginx/\n</code></pre> <ul> <li><code>docker cp</code>\uff1a\u7528\u4e8e\u5728\u5bb9\u5668\u548c\u4e3b\u673a\u4e4b\u95f4\u590d\u5236\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u547d\u4ee4\u3002</li> <li><code>nginx:/etc/nginx/nginx.conf</code>\uff1a\u6307\u5b9a\u4e86\u5bb9\u5668\u5185\u7684\u6587\u4ef6\u8def\u5f84\uff0c\u8fd9\u91cc\u662f\u5bb9\u5668\u540d\u4e3a \u201cnginx\u201d \u7684\u5bb9\u5668\u4e2d\u7684 <code>/etc/nginx/nginx.conf</code> \u6587\u4ef6\u3002</li> <li><code>/data/nginx/conf/nginx.conf</code>\uff1a\u6307\u5b9a\u4e86\u4e3b\u673a\u4e0a\u7684\u76ee\u6807\u6587\u4ef6\u8def\u5f84\uff0c\u8fd9\u91cc\u662f\u5c06\u6587\u4ef6\u590d\u5236\u5230 <code>/data/nginx/conf/nginx.conf</code>\u3002</li> </ul> <p>PS\uff1a\u4ee5\u4e0b\u8fd9\u6761\u547d\u4ee4\u4e0d\u7528\u6267\u884c\uff0c\u53ea\u662f\u4f5c\u4e3a\u5907\u6ce8\u5982\u4f55\u4f20\u8f93\u6587\u4ef6</p> <p>\uff082\uff09\u5c06\u4e3b\u673a\u6587\u4ef6\u62f7\u8d1d\u5230\u5bb9\u5668\u76ee\u5f55\uff0c\u683c\u5f0f\uff1a<code>docker cp \u672c\u5730\u76ee\u5f55  \u3010\u5bb9\u5668id\u3011:\u5bb9\u5668\u76ee\u5f55</code></p> Bash<pre><code>#\u628a\u5916\u9762\u7684\u5185\u5bb9\u590d\u5236\u5230\u5bb9\u5668\u91cc\u9762\ndocker cp  /data/nginx/conf/nginx.conf  \u3010\u5bb9\u5668id\u3011:/etc/nginx/nginx.conf\n</code></pre> <ul> <li><code>/data/nginx/conf/nginx.conf</code>\uff1a\u6307\u5b9a\u4e86\u4e3b\u673a\u4e0a\u7684\u6e90\u6587\u4ef6\u8def\u5f84\uff0c\u8fd9\u91cc\u662f\u5c06\u4e3b\u673a\u4e0a\u7684 <code>/data/nginx/conf/nginx.conf</code> \u6587\u4ef6\u590d\u5236\u5230\u5bb9\u5668\u5185\u3002</li> <li><code>\u3010\u5bb9\u5668id\u3011:/etc/nginx/nginx.conf</code>\uff1a\u6307\u5b9a\u4e86\u5bb9\u5668\u5185\u7684\u76ee\u6807\u6587\u4ef6\u8def\u5f84\uff0c\u8fd9\u91cc\u662f\u5bb9\u5668\u7684 ID\uff08\u6216\u540d\u79f0\uff09\u4e3a <code>\u3010\u5bb9\u5668id\u3011</code> \u7684\u5bb9\u5668\u4e2d\u7684 <code>/etc/nginx/nginx.conf</code> \u6587\u4ef6\u3002</li> </ul> <p>\u672c\u547d\u4ee4\u8df3\u8fc7\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2nginx/#3\u542f\u52a8\u5bb9\u5668\u547d\u4ee4","title":"3.\u542f\u52a8\u5bb9\u5668\u547d\u4ee4","text":"Bash<pre><code>docker run -d -p 8072:80 \\\n-v /data/nginx/html:/usr/share/nginx/html:ro \\\n-v /data/nginx/conf/nginx.conf:/etc/nginx/nginx.conf \\\n-v /data/nginx/conf/conf.d:/etc/nginx/conf.d \\\n-v /data/nginx/log:/var/log/nginx \\\n--restart=always \\\n--name mynginx-02 \\\nnginx\n</code></pre> <p>\u542f\u52a8\u5bb9\u5668\u547d\u4ee4\u7684\u8be6\u7ec6\u89e3\u91ca\uff1a</p> <ul> <li><code>docker run</code>\uff1a\u8fd0\u884c\u4e00\u4e2a\u65b0\u7684\u5bb9\u5668\u3002</li> <li><code>-d</code>\uff1a\u4ee5\u540e\u53f0\u6a21\u5f0f\u8fd0\u884c\u5bb9\u5668\u3002</li> <li><code>-p 8072:80</code>\uff1a\u5c06\u5bb9\u5668\u5185\u7684\u7aef\u53e380\u6620\u5c04\u5230\u4e3b\u673a\u7684\u7aef\u53e38072\u3002\u8fd9\u6837\u53ef\u4ee5\u901a\u8fc7\u4e3b\u673a\u7684\u7aef\u53e3\u8bbf\u95eeNginx\u670d\u52a1\u3002</li> <li><code>-v /data/nginx/html:/usr/share/nginx/html:ro</code>\uff1a\u4f7f\u7528\u5377\u6302\u8f7d\u529f\u80fd\uff0c\u5c06\u672c\u5730\u76ee\u5f55 <code>/data/nginx/html</code> \u6302\u8f7d\u5230\u5bb9\u5668\u5185\u7684 <code>/usr/share/nginx/html</code> \u76ee\u5f55\uff0c\u5e76\u8bbe\u7f6e\u4e3a\u53ea\u8bfb\uff08<code>ro</code>\uff09\u3002\u8fd9\u6837\u53ef\u4ee5\u5c06\u81ea\u5b9a\u4e49\u7684 HTML \u6587\u4ef6\u6302\u8f7d\u5230 Nginx \u5bb9\u5668\uff0c\u7528\u4e8e\u7f51\u7ad9\u5185\u5bb9\u7684\u5c55\u793a\u3002</li> <li><code>-v /data/nginx/conf/nginx.conf:/etc/nginx/nginx.conf</code>\uff1a\u4f7f\u7528\u5377\u6302\u8f7d\u529f\u80fd\uff0c\u5c06\u672c\u5730\u6587\u4ef6 <code>/data/nginx/conf/nginx.conf</code> \u6302\u8f7d\u5230\u5bb9\u5668\u5185\u7684 <code>/etc/nginx/nginx.conf</code> \u6587\u4ef6\u3002\u8fd9\u6837\u53ef\u4ee5\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684Nginx\u914d\u7f6e\u6587\u4ef6\u3002</li> <li><code>-v /data/nginx/conf/conf.d:/etc/nginx/conf.d</code>\uff1a\u4f7f\u7528\u5377\u6302\u8f7d\u529f\u80fd\uff0c\u5c06\u672c\u5730\u76ee\u5f55 <code>/data/nginx/conf/conf.d</code> \u6302\u8f7d\u5230\u5bb9\u5668\u5185\u7684 <code>/etc/nginx/conf.d</code> \u76ee\u5f55\u3002\u8fd9\u6837\u53ef\u4ee5\u6302\u8f7d\u81ea\u5b9a\u4e49\u7684Nginx\u914d\u7f6e\u6587\u4ef6\u7247\u6bb5\u3002</li> <li><code>-v /data/nginx/log:/var/log/nginx</code>\uff1a\u4f7f\u7528\u5377\u6302\u8f7d\u529f\u80fd\uff0c\u5c06\u672c\u5730\u76ee\u5f55 <code>/data/nginx/log</code> \u6302\u8f7d\u5230\u5bb9\u5668\u5185\u7684 <code>/var/log/nginx</code> \u76ee\u5f55\u3002\u8fd9\u6837\u53ef\u4ee5\u5c06Nginx\u7684\u65e5\u5fd7\u6587\u4ef6\u5b58\u50a8\u5230\u672c\u5730\u76ee\u5f55\u3002</li> <li><code>--restart=always</code>\uff1a\u8bbe\u7f6e\u5bb9\u5668\u5728\u9000\u51fa\u65f6\u81ea\u52a8\u91cd\u542f\u3002</li> <li><code>--name mynginx-02</code>\uff1a\u4e3a\u5bb9\u5668\u6307\u5b9a\u4e00\u4e2a\u540d\u79f0\uff0c\u8fd9\u91cc\u662f \u201cmynginx-02\u201d\u3002</li> <li><code>nginx</code>\uff1a\u57fa\u4e8e Nginx \u955c\u50cf\u8fd0\u884c\u5bb9\u5668\u3002</li> </ul> <p>\u8fd0\u884c\u540e\u89c2\u5bdf\u672c\u5730\u76ee\u5f55<code>/data/nginx/log</code>\u4e0b\u751f\u6210\u4e86\u4e24\u4e2alog\u65e5\u5fd7\uff0c\u662f\u4ece\u5bb9\u5668\u5185\u7684nginx\u65e5\u5fd7\u5b58\u50a8\u8fc7\u6765\u7684\uff1a</p> Bash<pre><code>[root@jerion ~]# cd /data/nginx/log\n[root@jerion log]# ls\naccess.log  error.log\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2nginx/#\u4e94\u8bbf\u95ee\u6d4b\u8bd5","title":"\u4e94\u3001\u8bbf\u95ee\u6d4b\u8bd5","text":"<p>\u5199\u5165\u4e00\u4e2ahtml\u6587\u4ef6\uff0c\u8bbf\u95ee\u6d4b\u8bd5\uff1a</p> <p>Bash<pre><code>[root@localhost ~]# vim /data/nginx/html/index2.html\n</code></pre> \u5199\u5165\uff1a Bash<pre><code>Hello world\n</code></pre> \u8f93\u5165IP+\u7aef\u53e3\u8bbf\u95ee\uff1a<code>http://\u4f60\u7684IP:\u7aef\u53e3/index2.html</code></p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/","title":"docker \u90e8\u7f72redis - \u526f\u672c","text":"<p>Redis\u662f\u4e00\u6b3e\u5f00\u6e90\u7684\u9ad8\u6027\u80fd\u952e\u503c\u5b58\u50a8\u6570\u636e\u5e93\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u7f13\u5b58\u3001\u961f\u5217\u3001\u5b9e\u65f6\u5206\u6790\u7b49\u573a\u666f\u3002\u4f7f\u7528Docker\u90e8\u7f72Redis\u53ef\u4ee5\u7b80\u5316\u5b89\u88c5\u548c\u914d\u7f6e\u8fc7\u7a0b\uff0c\u63d0\u9ad8\u90e8\u7f72\u6548\u7387\u3002\u672c\u6587\u5c06\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528Docker\u90e8\u7f72Redis\uff0c\u5e76\u63d0\u4f9b\u66f4\u8be6\u7ec6\u7684\u6269\u5c55\u5185\u5bb9\uff0c\u8ba9\u4f60\u80fd\u591f\u66f4\u597d\u5730\u7406\u89e3\u548c\u5e94\u7528Redis\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/#\u4e00\u62c9\u53d6redis\u955c\u50cf","title":"\u4e00\u3001\u62c9\u53d6Redis\u955c\u50cf","text":"<p>\u4ee5Redis 6.0.8\u4e3a\u4f8b\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u4eceDocker Hub\u4e0a\u62c9\u53d6Redis\u955c\u50cf\uff1a</p> Bash<pre><code>docker pull redis:6.0.8\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/#\u4e8credis\u5b89\u88c5","title":"\u4e8c\u3001Redis\u5b89\u88c5","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/#1\u7b80\u5355\u7248redis","title":"\uff081\uff09\u7b80\u5355\u7248Redis","text":"<p>1\u3001\u7b80\u5355\u7248Redis\u5bb9\u5668\u7684\u521b\u5efa\u542f\u52a8</p> <p>\u547d\u4ee4\u5982\u4e0b\uff1a</p> Bash<pre><code>docker run -p 6379:6379 -d redis:6.0.8\n</code></pre> <p>\u7b80\u5355\u7248Redis\u6ca1\u6709\u914d\u7f6e\u5bb9\u5668\u5377\u6620\u5c04\uff0c\u5f53\u5bb9\u5668\u88ab\u5220\u9664\u65f6\u6570\u636e\u65e0\u6cd5\u6062\u590d\u3002\u9002\u7528\u4e8e\u6d4b\u8bd5\u548c\u5f00\u53d1\u73af\u5883\u3002</p> <p>2\u3001\u8fde\u63a5redis\u5bb9\u5668</p> <p>\u6267\u884c\u547d\u4ee4<code>`docker exec -it \u5bb9\u5668id /bin/bash</code>\u8fde\u63a5\u5bb9\u5668\uff08\u5bb9\u5668id\u83b7\u53d6\uff1adocker ps\uff09</p> Text Only<pre><code>docker exec -it 8009fd9e4739 /bin/bash\n</code></pre> <p>3\u3001\u64cd\u4f5credis\u6d4b\u8bd5</p> <p>\u5c06\u952e\u201dusername\u201d\u7684\u503c\u8bbe\u7f6e\u4e3a\u201dscott\u201d\uff0c\u5e76\u8fd4\u56de\u201dOK\u201d\u8868\u793a\u8bbe\u7f6e\u6210\u529f\u3002</p> <p>Text Only<pre><code>127.0.0.1:6379&gt; set username scott\nOK\n</code></pre> \u83b7\u53d6\u952e\u201dusername\u201d\u7684\u503c\uff0c\u5e76\u8fd4\u56de\u201dscott\u201d\uff0c\u8868\u793a\u6210\u529f\u83b7\u53d6\u5230\u4e86\u4e4b\u524d\u8bbe\u7f6e\u7684\u503c\u3002</p> <p>Text Only<pre><code>127.0.0.1:6379&gt; get username\n\"scott\"\n</code></pre> \u5220\u9664\u952e\u201dusername\u201d\uff0c\u5e76\u8fd4\u56de\u6574\u65701\uff0c\u8868\u793a\u6210\u529f\u5220\u9664\u4e86\u4e00\u4e2a\u952e\u3002</p> <p>Text Only<pre><code>127.0.0.1:6379&gt; del username\n(integer) 1\n</code></pre> \u901a\u8fc7\u4ee5\u4e0a\u64cd\u4f5c\uff0c\u6210\u529f\u5730\u8fde\u63a5\u5230Redis\uff0c\u5e76\u8fdb\u884c\u4e86\u8bbe\u7f6e\u503c\u3001\u83b7\u53d6\u503c\u548c\u5220\u9664\u952e\u7684\u64cd\u4f5c\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/#2\u5b9e\u9645\u5e94\u7528\u7248redis","title":"\uff082\uff09\u5b9e\u9645\u5e94\u7528\u7248Redis","text":"<p>\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u9700\u8981\u5c06Redis\u7684\u914d\u7f6e\u6587\u4ef6\u548c\u6570\u636e\u6587\u4ef6\u4e0e\u5bbf\u4e3b\u673a\u8fdb\u884c\u6620\u5c04\uff0c\u4ee5\u4fbf\u4e8e\u914d\u7f6e\u548c\u6570\u636e\u7684\u7ba1\u7406\u3002</p> <p>\u6b65\u9aa4\uff1a</p> <ol> <li>\u5728\u5bbf\u4e3b\u673a\u4e0a\u521b\u5efa\u76ee\u5f55\uff0c\u7528\u4e8e\u5b58\u653eRedis\u7684\u914d\u7f6e\u6587\u4ef6\u548c\u6570\u636e\u6587\u4ef6\uff1a</li> </ol> Bash<pre><code>mkdir -p /data/redis\n</code></pre> <ol> <li>\u5728/data/redis\u76ee\u5f55\u4e0b\u521b\u5efa\u6587\u4ef6redis.conf\uff0c\u5e76\u8fdb\u884c\u76f8\u5e94\u7684\u914d\u7f6e\u4fee\u6539\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u7684\u914d\u7f6e\u9879\uff1a</li> </ol> <p>\u6700\u7ec8\u7684\u914d\u7f6e\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</p> Text Only<pre><code># \u5f00\u542f\u5bc6\u7801\u9a8c\u8bc1\uff08\u53ef\u9009\uff09\nrequirepass 123\n# \u5141\u8bb8Redis\u5916\u90e8\u8fde\u63a5\uff0c\u9700\u8981\u6ce8\u91ca\u6389\u7ed1\u5b9a\u7684IP\n# bind 127.0.0.1\n# \u5173\u95ed\u4fdd\u62a4\u6a21\u5f0f\uff08\u53ef\u9009\uff09\nprotected-mode no\n# \u6ce8\u91ca\u6389daemonize yes\uff0c\u6216\u8005\u914d\u7f6e\u6210daemonize no\u3002\u56e0\u4e3a\u8be5\u914d\u7f6e\u548cdocker run\u4e2d\u7684-d\u53c2\u6570\u51b2\u7a81\uff0c\u4f1a\u5bfc\u81f4\u5bb9\u5668\u4e00\u76f4\u542f\u52a8\u5931\u8d25\ndaemonize no\n# \u5f00\u542fRedis\u6570\u636e\u6301\u4e45\u5316\uff08\u53ef\u9009\uff09\nappendonly yes\n</code></pre> <ol> <li>\u542f\u52a8Redis\u5bb9\u5668\uff0c\u5e76\u6307\u5b9a\u5bb9\u5668\u8fd0\u884c\u7684\u547d\u4ee4\u4e3a<code>redis-server</code>\u4ee5\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u914d\u7f6e\u6587\u4ef6\uff1a</li> </ol> Text Only<pre><code>docker run -d -p 6379:6379 \\\n--name redis --privileged=true \\\n-v /data/redis/redis.conf:/etc/redis/redis.conf \\\n-v /data/redis/data:/data \\\nredis:6.0.8 \\\nredis-server /etc/redis/redis.conf\n</code></pre> Bash<pre><code>docker run -d -p 6379:6379 \\\n--name redis --privileged=true \\\n-v /data1/redis/redis.conf:/etc/redis/redis.conf \\\n-v /data1/redis/data:/data redis:6.0.8 \\\nredis-server /etc/redis/redis.conf\n</code></pre> <p>\u901a\u8fc7\u4e0a\u8ff0\u547d\u4ee4\uff0c\u6211\u4eec\u5c06Redis\u5bb9\u5668\u76846379\u7aef\u53e3\u6620\u5c04\u5230\u5bbf\u4e3b\u673a\u76846379\u7aef\u53e3\uff0c\u540c\u65f6\u5c06\u914d\u7f6e\u6587\u4ef6\u548c\u6570\u636e\u6587\u4ef6\u4e0e\u5bbf\u4e3b\u673a\u8fdb\u884c\u6620\u5c04\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u53ef\u4ee5\u65b9\u4fbf\u5730\u4fee\u6539\u914d\u7f6e\u548c\u7ba1\u7406\u6570\u636e\u3002</p> <p>\u4ee5\u4e0a\u5c31\u662f\u4f7f\u7528Docker\u90e8\u7f72Redis\u7684\u7b80\u5355\u6b65\u9aa4\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u4e00\u6b65\u4e86\u89e3Redis\u7684\u9ad8\u53ef\u7528\u90e8\u7f72\u3001\u96c6\u7fa4\u6a21\u5f0f\u7b49\u5185\u5bb9\uff0c\u4ee5\u6ee1\u8db3\u4e0d\u540c\u573a\u666f\u7684\u9700\u6c42\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/#3\u96c6\u7fa4\u90e8\u7f72redis","title":"\uff083\uff09\u96c6\u7fa4\u90e8\u7f72Redis","text":"<p>\u642d\u5efa3\u4e3b3\u4ece\u7684Redis\u96c6\u7fa4\uff0c\u6bcf\u53f0\u4e3b\u673a\u90fd\u5bf9\u5e94\u4e00\u53f0\u4ece\u673a\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/#1\u542f\u52a86\u53f0redis\u5bb9\u5668","title":"1\u3001\u542f\u52a86\u53f0redis\u5bb9\u5668","text":"<p>\u542f\u52a86\u53f0\u8282\u70b9\u7684\u547d\u4ee4\uff1a</p> Bash<pre><code># \u542f\u52a8\u7b2c1\u53f0\u8282\u70b9\ndocker run -d --name redis-node-1 --net host --privileged=true -v /data/redis-cluster/share/redis-node-1:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6381\n\n# \u542f\u52a8\u7b2c2\u53f0\u8282\u70b9\ndocker run -d --name redis-node-2 --net host --privileged=true -v /data/redis-cluster/share/redis-node-2:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6382\n\n# \u542f\u52a8\u7b2c3\u53f0\u8282\u70b9\ndocker run -d --name redis-node-3 --net host --privileged=true -v /data/redis-cluster/share/redis-node-3:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6383\n\n# \u542f\u52a8\u7b2c4\u53f0\u8282\u70b9\ndocker run -d --name redis-node-4 --net host --privileged=true -v /data/redis-cluster/share/redis-node-4:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6384\n\n# \u542f\u52a8\u7b2c5\u53f0\u8282\u70b9\ndocker run -d --name redis-node-5 --net host --privileged=true -v /data/redis-cluster/share/redis-node-5:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6385\n\n# \u542f\u52a8\u7b2c6\u53f0\u8282\u70b9\ndocker run -d --name redis-node-6 --net host --privileged=true -v /data/redis-cluster/share/redis-node-6:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6386\n</code></pre> <p>\u8fd9\u6761\u547d\u4ee4\u5c06\u542f\u52a8\u7b2c2\u53f0Redis\u8282\u70b9\uff0c\u5e76\u914d\u7f6e\u5b83\u4f5c\u4e3aRedis\u96c6\u7fa4\u7684\u4e00\u90e8\u5206\u3002\u53c2\u6570\u89e3\u91ca\u5982\u4e0b\uff1a</p> <ul> <li><code>-d</code>\uff1a\u4ee5\u540e\u53f0\u6a21\u5f0f\u8fd0\u884c\u5bb9\u5668\u3002</li> <li><code>--name redis-node-xx</code>\uff1a\u6307\u5b9a\u5bb9\u5668\u7684\u540d\u79f0\u4e3aredis-node xx\u3002</li> <li><code>--net host</code>\uff1a\u4f7f\u7528\u5bbf\u4e3b\u673a\u7684\u7f51\u7edc\u8bbe\u7f6e\u3002</li> <li><code>--privileged=true</code>\uff1a\u5728\u5bb9\u5668\u5185\u542f\u7528\u7279\u6743\u6a21\u5f0f\uff0c\u4ee5\u4fbf\u5bb9\u5668\u53ef\u4ee5\u6267\u884c\u4e00\u4e9b\u7279\u6743\u64cd\u4f5c\u3002</li> <li><code>-v /app/redis-cluster/share/redis-node-2:/data</code>\uff1a\u5c06\u5bbf\u4e3b\u673a\u7684<code>/app/redis-cluster/share/redis-node-2</code>\u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u5185\u7684<code>/data</code>\u76ee\u5f55\uff0c\u7528\u4e8e\u6301\u4e45\u5316Redis\u6570\u636e\u3002</li> <li><code>redis:6.0.8</code>\uff1a\u4f7f\u7528Redis 6.0.8\u955c\u50cf\u3002</li> <li><code>--cluster-enabled yes</code>\uff1a\u5f00\u542fRedis\u96c6\u7fa4\u6a21\u5f0f\u3002</li> <li><code>--appendonly yes</code>\uff1a\u5f00\u542fRedis\u7684AOF\u6301\u4e45\u5316\u3002</li> <li><code>--port 6382</code>\uff1a\u914d\u7f6eRedis\u8282\u70b9\u7684\u7aef\u53e3\u53f7\u4e3a6382\u3002</li> </ul> <p>\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0a\u547d\u4ee4\uff0c\u4f60\u5c06\u6210\u529f\u542f\u52a8\u7b2c2\u53f0Redis\u8282\u70b9\uff0c\u5e76\u4f7f\u5176\u6210\u4e3aRedis\u96c6\u7fa4\u7684\u4e00\u90e8\u5206\u3002\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u8981\u4fee\u6539\u547d\u4ee4\u4e2d\u7684\u53c2\u6570\u6765\u542f\u52a8\u5176\u4ed6\u8282\u70b9\u3002</p> <p>docker ps\u67e5\u770b</p> Text Only<pre><code>[root@jenkins-gitlab-docker redis]# docker ps\nCONTAINER ID   IMAGE                                         COMMAND                   CREATED          STATUS                      PORTS                                                                              NAMES\n8a9d470cfd97   redis:6.0.8                                   \"docker-entrypoint.s\u2026\"   7 seconds ago    Up 3 seconds                                                                                                   redis-node-6\n9db6ef90eee1   redis:6.0.8                                   \"docker-entrypoint.s\u2026\"   16 seconds ago   Up 13 seconds                                                                                                  redis-node-5\ne5e1f0930297   redis:6.0.8                                   \"docker-entrypoint.s\u2026\"   21 seconds ago   Up 17 seconds                                                                                                  redis-node-4\n2866d870b2ed   redis:6.0.8                                   \"docker-entrypoint.s\u2026\"   26 seconds ago   Up 23 seconds                                                                                                  redis-node-3\n9d9b10b329ae   redis:6.0.8                                   \"docker-entrypoint.s\u2026\"   33 seconds ago   Up 29 seconds                                                                                                  redis-node-2\n502ca5967c6a   redis:6.0.8                                   \"docker-entrypoint.s\u2026\"   48 seconds ago   Up 45 seconds                                                                                                  redis-node-1\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/#2\u6784\u5efa\u4e3b\u4ece\u5173\u7cfb","title":"2\u3001\u6784\u5efa\u4e3b\u4ece\u5173\u7cfb","text":"<p>\u63a5\u4e0b\u6765\u662f\u6784\u5efa\u4e3b\u4ece\u5173\u7cfb\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u8fdb\u5165\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\uff08\u8fd9\u91cc\u4ee5\u8282\u70b91\u4e3a\u4f8b\uff09\uff1a</li> </ol> Bash<pre><code>docker exec -it redis-node-1 /bin/bash\n</code></pre> <ol> <li>\u5728\u8282\u70b91\u7684\u5bb9\u5668\u4e2d\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u6784\u5efa\u4e3b\u4ece\u5173\u7cfb\uff1a</li> </ol> Text Only<pre><code>redis-cli --cluster create 192.168.31.181:6381 192.168.31.181:6382 192.168.31.181:6383 192.168.31.181:6384 192.168.31.181:6385 192.168.31.181:6386 --cluster-replicas 1\n</code></pre> <p>\u8be5\u547d\u4ee4\u662f\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a Redis \u96c6\u7fa4\u7684\u547d\u4ee4\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u4e00\u4e9b\u53c2\u6570\u548c\u53c2\u6570\u503c\u3002</p> <ul> <li><code>redis-cli</code>: \u8fd9\u662f Redis \u5ba2\u6237\u7aef\u547d\u4ee4\u884c\u5de5\u5177\u7684\u540d\u79f0\uff0c\u7528\u4e8e\u4e0e Redis \u670d\u52a1\u5668\u8fdb\u884c\u4ea4\u4e92\u3002</li> <li><code>--cluster create</code>: \u8fd9\u662f\u4e00\u4e2a\u5b50\u547d\u4ee4\uff0c\u7528\u4e8e\u521b\u5efa Redis \u96c6\u7fa4\u3002</li> <li><code>192.168.31.181:6381 192.168.31.181:6382 192.168.31.181:6383 192.168.31.181:6384 192.168.31.181:6385 192.168.31.181:6386</code>: \u8fd9\u662f Redis \u96c6\u7fa4\u4e2d\u7684\u8282\u70b9\u5217\u8868\u3002\u6bcf\u4e2a\u8282\u70b9\u7531 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u7ec4\u6210\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u96c6\u7fa4\u7531 6 \u4e2a\u8282\u70b9\u7ec4\u6210\uff0c\u5b83\u4eec\u7684 IP \u5730\u5740\u90fd\u662f  192.168.31.181\uff0c\u7aef\u53e3\u53f7\u5206\u522b\u662f 6381\u30016382\u30016383\u30016384\u30016385 \u548c 6386\u3002\u8fd9\u4e9b\u8282\u70b9\u5c06\u88ab\u7528\u4e8e\u642d\u5efa Redis  \u96c6\u7fa4\u3002</li> <li><code>--cluster-replicas 1</code>: \u8fd9\u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u6307\u5b9a\u6bcf\u4e2a\u4e3b\u8282\u70b9\u7684\u4ece\u8282\u70b9\u6570\u91cf\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6307\u5b9a\u4e86\u6bcf\u4e2a\u4e3b\u8282\u70b9\u6709\u4e00\u4e2a\u4ece\u8282\u70b9\u3002</li> </ul> <p>\u5f53\u6267\u884c\u8be5\u547d\u4ee4\u65f6\uff0cRedis  \u5ba2\u6237\u7aef\u5c06\u8fde\u63a5\u5230\u6307\u5b9a\u7684\u8282\u70b9\u5217\u8868\uff0c\u5e76\u4f7f\u7528\u8fd9\u4e9b\u8282\u70b9\u6765\u521b\u5efa\u4e00\u4e2a Redis  \u96c6\u7fa4\u3002\u96c6\u7fa4\u4e2d\u7684\u8282\u70b9\u5c06\u88ab\u5206\u914d\u4e3a\u4e3b\u8282\u70b9\u548c\u4ece\u8282\u70b9\uff0c\u5176\u4e2d\u6bcf\u4e2a\u4e3b\u8282\u70b9\u90fd\u6709\u4e00\u4e2a\u4ece\u8282\u70b9\u3002\u4e3b\u8282\u70b9\u7528\u4e8e\u5904\u7406\u5199\u64cd\u4f5c\uff0c\u800c\u4ece\u8282\u70b9\u7528\u4e8e\u5904\u7406\u8bfb\u64cd\u4f5c\uff0c\u5e76\u4e14\u4f1a\u590d\u5236\u4e3b\u8282\u70b9\u7684\u6570\u636e\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0cRedis \u96c6\u7fa4\u63d0\u4f9b\u4e86\u9ad8\u53ef\u7528\u6027\u548c\u53ef\u6269\u5c55\u6027\u3002</p> <ol> <li> <p>\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0cRedis\u4f1a\u5c1d\u8bd5\u81ea\u52a8\u8fdb\u884c\u4e3b\u4ece\u8282\u70b9\u7684\u5206\u914d\u3002\u7531\u4e8e\u6211\u4eec\u5728Docker\u5bb9\u5668\u4e2d\u4f7f\u7528\u7684IP\u5730\u5740\u76f8\u540c\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u8b66\u544a\uff0c\u4f46\u53ef\u4ee5\u5ffd\u7565\u8be5\u8b66\u544a\u3002</p> </li> <li> <p>\u5f53Redis\u5b8c\u6210\u81ea\u52a8\u5206\u914d\u540e\uff0c\u4f1a\u663e\u793a\u5206\u914d\u7ed3\u679c\uff0c\u9700\u8981\u8f93\u5165<code>Yes</code>\u786e\u8ba4\u914d\u7f6e\u4fe1\u606f\u3002</p> </li> </ol> Bash<pre><code>&gt;&gt;&gt; Performing hash slots allocation on 6 nodes...\nMaster[0] -&gt; Slots 0 - 5460\nMaster[1] -&gt; Slots 5461 - 10922\nMaster[2] -&gt; Slots 10923 - 16383\nAdding replica 192.168.31.223:6385 to 192.168.31.223:6381\nAdding replica 192.168.31.223:6386 to 192.168.31.223:6382\nAdding replica 192.168.31.223:6384 to 192.168.31.223:6383\n&gt;&gt;&gt; Trying to optimize slaves allocation for anti-affinity\n[WARNING] Some slaves are in the same host as their master\nM: 0c54ff47b1cb373485bfbdd964a618ecea76bb29 192.168.31.223:6381   slots:[0-5460] (5461 slots) master\nM: 703a1f294087c009d04eda5acf2c4255ce14c28a 192.168.31.223:6382   slots:[5461-10922] (5462 slots) master\nM: 30e2409b3031a0c927efe75b56909bec5281c3d8 192.168.31.223:6383   slots:[10923-16383] (5461 slots) master\nS: 03d3bd91c1df1e618a5b887b24b510466efa55a3 192.168.31.223:6384   replicates 30e2409b3031a0c927efe75b56909bec5281c3d8\nS: fef4eee9045d7c434c3f22b36eb16391f1078f59 192.168.31.223:6385   replicates 0c54ff47b1cb373485bfbdd964a618ecea76bb29\nS: 44950ffde9147011c424e906a0e1f001c1c17a71 192.168.31.223:6386   replicates 703a1f294087c009d04eda5acf2c4255ce14c28a\nCan I set the above configuration? (type 'yes' to accept): yes\n</code></pre> <ol> <li>\u5728\u786e\u8ba4\u914d\u7f6e\u4fe1\u606f\u540e\uff0cRedis\u4f1a\u5411\u5176\u4ed6\u8282\u70b9\u53d1\u9001\u4fe1\u606f\u52a0\u5165\u96c6\u7fa4\uff0c\u5e76\u5206\u914d\u54c8\u5e0c\u69fd\u3002</li> </ol> Bash<pre><code>&gt;&gt;&gt; Nodes configuration updated\n&gt;&gt;&gt; Assign a different config epoch to each node\n&gt;&gt;&gt; Sending CLUSTER MEET messages to join the cluster\nWaiting for the cluster to join ...\n&gt;&gt;&gt; Performing Cluster Check (using node 192.168.31.223:6381)\nM: 0c54ff47b1cb373485bfbdd964a618ecea76bb29 192.168.31.223:6381   slots:[0-5460] (5461 slots) master   1 additional replica(s)\nM: 703a1f294087c009d04eda5acf2c4255ce14c28a 192.168.31.223:6382   slots:[5461-10922] (5462 slots) master   1 additional replica(s)\nS: 03d3bd91c1df1e618a5b887b24b510466efa55a3 192.168.31.223:6384   slots: (0 slots) slave   replicates 30e2409b3031a0c927efe75b56909bec5281c3d8\nS: 44950ffde9147011c424e906a0e1f001c1c17a71 192.168.31.223:6386   slots: (0 slots) slave   replicates 703a1f294087c009d04eda5acf2c4255ce14c28a\nM: 30e2409b3031a0c927efe75b56909bec5281c3d8 192.168.31.223:6383   slots:[10923-16383] (5461 slots) master   1 additional replica(s)\nS: fef4eee9045d7c434c3f22b36eb16391f1078f59 192.168.31.223:6385   slots: (0 slots) slave   replicates 0c54ff47b1cb373485bfbdd964a618ecea76bb29\n[OK] All nodes agree about slots configuration.\n&gt;&gt;&gt; Check for open slots...\n&gt;&gt;&gt; Check slots coverage...\n[OK] All 16384 slots covered.\n</code></pre> <p>\u5b8c\u6210\u4ee5\u4e0a\u6b65\u9aa4\u540e\uff0c\u4f60\u5c06\u6210\u529f\u6784\u5efa\u4e86\u4e00\u4e2a\u5305\u542b3\u4e2a\u4e3b\u8282\u70b9\u548c3\u4e2a\u4ece\u8282\u70b9\u7684Redis\u96c6\u7fa4\uff0c\u5e76\u5b8c\u6210\u4e86\u4e3b\u4ece\u5173\u7cfb\u7684\u914d\u7f6e\u3002\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u8981\u4fee\u6539\u547d\u4ee4\u4e2d\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u53f7\u6765\u9002\u5e94\u4f60\u7684\u73af\u5883\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/#3\u67e5\u770b\u96c6\u7fa4\u72b6\u6001","title":"3\u3001\u67e5\u770b\u96c6\u7fa4\u72b6\u6001","text":"<p>\u67e5\u770b\u96c6\u7fa4\u72b6\u6001\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u8fdb\u5165\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\uff08\u8fd9\u91cc\u4ee5\u8282\u70b91\u4e3a\u4f8b\uff09\uff1a</li> </ol> Bash<pre><code>docker exec -it redis-node-1 /bin/bash\n</code></pre> <ol> <li>\u5728\u8282\u70b91\u7684\u5bb9\u5668\u4e2d\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fde\u63a5\u5230\u8282\u70b91\u7684Redis\u5b9e\u4f8b\uff08\u7aef\u53e3\u53f7\u4e3a6381\uff09\uff1a</li> </ol> Bash<pre><code>redis-cli -p 6381\n</code></pre> <ol> <li>\u4f7f\u7528Redis\u7684\u76f8\u5173\u547d\u4ee4\u6765\u67e5\u770b\u96c6\u7fa4\u72b6\u6001\uff1a</li> </ol> Bash<pre><code>cluster info\n</code></pre> <p>\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u5c06\u663e\u793a\u96c6\u7fa4\u7684\u72b6\u6001\u4fe1\u606f\uff0c\u5305\u62ec\u5206\u914d\u7684\u54c8\u5e0c\u69fd\u6570\u91cf\u3001\u96c6\u7fa4\u8282\u70b9\u6570\u91cf\u7b49\uff1a</p> Python<pre><code>cluster_state:ok\ncluster_slots_assigned:16384\ncluster_slots_ok:16384\ncluster_slots_pfail:0\ncluster_slots_fail:0\ncluster_known_nodes:6\ncluster_size:3\ncluster_current_epoch:6\ncluster_my_epoch:1\ncluster_stats_messages_ping_sent:560\ncluster_stats_messages_pong_sent:564\ncluster_stats_messages_sent:1124\ncluster_stats_messages_ping_received:559\ncluster_stats_messages_pong_received:560\ncluster_stats_messages_meet_received:5\ncluster_stats_messages_received:1124\n</code></pre> <p>\u8be5\u547d\u4ee4\u662f\u5728 Redis \u96c6\u7fa4\u7684\u4e00\u4e2a\u8282\u70b9\u4e0a\u6267\u884c\u7684\uff0c\u7528\u4e8e\u83b7\u53d6\u96c6\u7fa4\u7684\u4fe1\u606f\u3002\u4e0b\u9762\u662f\u5bf9\u8f93\u51fa\u7ed3\u679c\u7684\u89e3\u91ca\uff1a</p> <ul> <li><code>cluster_state:ok</code>: \u8868\u793a\u96c6\u7fa4\u7684\u72b6\u6001\u6b63\u5e38\u3002</li> <li><code>cluster_slots_assigned:16384</code>: \u8868\u793a\u96c6\u7fa4\u4e2d\u7684\u69fd\u4f4d\u6570\u91cf\uff0c\u8fd9\u91cc\u4e3a 16384\u3002Redis \u96c6\u7fa4\u4f7f\u7528\u69fd\u4f4d\u6765\u5206\u914d\u6570\u636e\u3002</li> <li><code>cluster_slots_ok:16384</code>: \u8868\u793a\u6240\u6709\u69fd\u4f4d\u90fd\u6b63\u5e38\uff0c\u6ca1\u6709\u51fa\u73b0\u6545\u969c\u3002</li> <li><code>cluster_slots_pfail:0</code>: \u8868\u793a\u6ca1\u6709\u69fd\u4f4d\u88ab\u6807\u8bb0\u4e3a\u90e8\u5206\u6545\u969c\u3002</li> <li><code>cluster_slots_fail:0</code>: \u8868\u793a\u6ca1\u6709\u69fd\u4f4d\u5b8c\u5168\u6545\u969c\u3002</li> <li><code>cluster_known_nodes:6</code>: \u8868\u793a\u96c6\u7fa4\u4e2d\u5df2\u77e5\u7684\u8282\u70b9\u6570\u91cf\uff0c\u8fd9\u91cc\u4e3a 6 \u4e2a\u3002</li> <li><code>cluster_size:3</code>: \u8868\u793a\u96c6\u7fa4\u4e2d\u7684\u4e3b\u8282\u70b9\u6570\u91cf\uff0c\u8fd9\u91cc\u4e3a 3 \u4e2a\u3002\u4ece\u8282\u70b9\u7684\u6570\u91cf\u4e0d\u5305\u62ec\u5728\u5185\u3002</li> <li><code>cluster_current_epoch:6</code>: \u8868\u793a\u5f53\u524d\u96c6\u7fa4\u7684\u7eaa\u5143\uff08epoch\uff09\u503c\uff0c\u8fd9\u91cc\u4e3a 6\u3002\u7eaa\u5143\u7528\u4e8e\u5728\u96c6\u7fa4\u4e2d\u8fdb\u884c\u6545\u969c\u8f6c\u79fb\u65f6\u5bf9\u8282\u70b9\u8fdb\u884c\u6392\u5e8f\u3002</li> <li><code>cluster_my_epoch:1</code>: \u8868\u793a\u5f53\u524d\u8282\u70b9\u7684\u7eaa\u5143\u503c\uff0c\u8fd9\u91cc\u4e3a 1\u3002</li> <li><code>cluster_stats_messages_ping_sent:80</code>: \u8868\u793a\u8be5\u8282\u70b9\u53d1\u9001\u7684 ping \u6d88\u606f\u6570\u91cf\uff0c\u8fd9\u91cc\u4e3a 80 \u6761\u3002</li> <li><code>cluster_stats_messages_pong_sent:80</code>: \u8868\u793a\u8be5\u8282\u70b9\u53d1\u9001\u7684 pong \u6d88\u606f\u6570\u91cf\uff0c\u8fd9\u91cc\u4e3a 80 \u6761\u3002</li> <li><code>cluster_stats_messages_sent:160</code>: \u8868\u793a\u8be5\u8282\u70b9\u53d1\u9001\u7684\u603b\u6d88\u606f\u6570\u91cf\uff0c\u5305\u62ec ping \u548c pong \u6d88\u606f\uff0c\u8fd9\u91cc\u4e3a 160 \u6761\u3002</li> <li><code>cluster_stats_messages_ping_received:75</code>: \u8868\u793a\u8be5\u8282\u70b9\u63a5\u6536\u5230\u7684 ping \u6d88\u606f\u6570\u91cf\uff0c\u8fd9\u91cc\u4e3a 75 \u6761\u3002</li> <li><code>cluster_stats_messages_pong_received:80</code>: \u8868\u793a\u8be5\u8282\u70b9\u63a5\u6536\u5230\u7684 pong \u6d88\u606f\u6570\u91cf\uff0c\u8fd9\u91cc\u4e3a 80 \u6761\u3002</li> <li><code>cluster_stats_messages_meet_received:5</code>: \u8868\u793a\u8be5\u8282\u70b9\u63a5\u6536\u5230\u7684 meet \u6d88\u606f\u6570\u91cf\uff0c\u8fd9\u91cc\u4e3a 5 \u6761\u3002meet \u6d88\u606f\u7528\u4e8e\u8282\u70b9\u4e4b\u95f4\u7684\u53d1\u73b0\u548c\u63e1\u624b\u3002</li> <li><code>cluster_stats_messages_received:160</code>: \u8868\u793a\u8be5\u8282\u70b9\u63a5\u6536\u5230\u7684\u603b\u6d88\u606f\u6570\u91cf\uff0c\u5305\u62ec ping\u3001pong \u548c meet \u6d88\u606f\uff0c\u8fd9\u91cc\u4e3a 160 \u6761\u3002</li> </ul> <p>\u8fd9\u4e9b\u4fe1\u606f\u63d0\u4f9b\u4e86\u5173\u4e8e Redis \u96c6\u7fa4\u7684\u72b6\u6001\u3001\u8282\u70b9\u6570\u91cf\u3001\u6d88\u606f\u4ea4\u4e92\u7b49\u65b9\u9762\u7684\u7edf\u8ba1\u548c\u6307\u6807\u3002\u901a\u8fc7\u8fd9\u4e9b\u4fe1\u606f\uff0c\u53ef\u4ee5\u76d1\u63a7\u548c\u4e86\u89e3 Redis \u96c6\u7fa4\u7684\u8fd0\u884c\u60c5\u51b5\u3002</p> <ol> <li>\u5982\u679c\u60f3\u67e5\u770b\u96c6\u7fa4\u7684\u8282\u70b9\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</li> </ol> Bash<pre><code>cluster nodes\n</code></pre> <p>\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u5c06\u663e\u793a\u96c6\u7fa4\u4e2d\u6240\u6709\u8282\u70b9\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u8282\u70b9\u7684ID\u3001IP\u5730\u5740\u3001\u7aef\u53e3\u53f7\u7b49\u3002</p> <p>\u8f93\u51fa\u5982\u4e0b\uff1a</p> Text Only<pre><code>127.0.0.1:6381&gt; cluster nodes\n488f26bc4e558e3bd20684d56c165aab64d5c186 192.168.31.181:6386@16386 slave 083257823d53ee063d8d772f1cf5b6dea7c94908 0 1702117160000 2 connected\n142405abb70d4dfb24b3ba1becce5cbad039e73a 192.168.31.181:6385@16385 slave f6851ab3d747753c3b6854a95ca441be3a47f270 0 1702117162045 1 connected\n35273db5acb8f3e9c338bf37136bb3ad6742139d 192.168.31.181:6383@16383 master - 0 1702117161042 3 connected 10923-16383\n083257823d53ee063d8d772f1cf5b6dea7c94908 192.168.31.181:6382@16382 master - 0 1702117159000 2 connected 5461-10922\n94c118fd2c87a5af01b7d5c3f9fc80ee6b196686 192.168.31.181:6384@16384 slave 35273db5acb8f3e9c338bf37136bb3ad6742139d 0 1702117161000 3 connected\nf6851ab3d747753c3b6854a95ca441be3a47f270 192.168.31.181:6381@16381 myself,master - 0 1702117161000 1 connected 0-5460\n</code></pre> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u53ef\u4ee5\u67e5\u770bRedis\u96c6\u7fa4\u7684\u72b6\u6001\u4fe1\u606f\u548c\u8282\u70b9\u4fe1\u606f\uff0c\u4ee5\u786e\u4fdd\u96c6</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/#4\u96c6\u7fa4\u8bfb\u5199\u51fa\u9519","title":"4\u3001\u96c6\u7fa4\u8bfb\u5199\u51fa\u9519","text":"<p>\u5904\u7406\u96c6\u7fa4\u8bfb\u5199\u51fa\u9519\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u8fdb\u5165\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\uff08\u8fd9\u91cc\u4ee5\u8282\u70b91\u4e3a\u4f8b\uff09\uff1a</li> </ol> Bash<pre><code>docker exec -it redis-node-1 /bin/bash\n</code></pre> <ol> <li>\u5728\u8282\u70b91\u7684\u5bb9\u5668\u4e2d\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fde\u63a5\u5230\u8282\u70b91\u7684Redis\u5b9e\u4f8b\uff08\u7aef\u53e3\u53f7\u4e3a6381\uff09\uff0c\u5e76\u4e0d\u52a0<code>-c</code>\u53c2\u6570\uff1a</li> </ol> Bash<pre><code>redis-cli -p 6381\n</code></pre> <ol> <li>\u5728\u6ca1\u6709\u4f7f\u7528<code>-c</code>\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u5c1d\u8bd5\u5411Redis\u4e2d\u6dfb\u52a0\u952e\u503c\u5bf9\uff0c\u53ef\u80fd\u4f1a\u6210\u529f\uff0c\u4e5f\u53ef\u80fd\u4f1a\u5931\u8d25\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</li> </ol> Bash<pre><code>set k1 v1\n</code></pre> <p>\u5982\u679c\u952e<code>k1</code>\u7ecf\u8fc7\u8ba1\u7b97\u5f97\u5230\u7684\u54c8\u5e0c\u69fd\u4e3a12706\uff0c\u4f46\u5f53\u524d\u8fde\u63a5\u7684Redis\u670d\u52a1\u5668\u4e3a6381\uff08\u5373\u8282\u70b91\uff09\uff0c\u5b83\u7684\u54c8\u5e0c\u69fd\u8303\u56f4\u662f[0,5460]\uff08\u5728\u521b\u5efa\u6784\u5efa\u4e3b\u4ece\u5173\u7cfb\u65f6Redis\u6709\u63d0\u793a\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>cluster nodes</code>\u67e5\u770b\uff09\uff0c\u56e0\u6b64\u4f1a\u56e0\u4e3a\u4e0d\u5728\u8303\u56f4\u5185\u800c\u62a5\u9519\u3002\u800c\u6267\u884c<code>set k2 v2</code>\u53ef\u4ee5\u6210\u529f\uff0c\u56e0\u4e3a<code>k2</code>\u8ba1\u7b97\u51fa\u7684\u54c8\u5e0c\u69fd\u5728[0-5460]\u8303\u56f4\u4e2d\u3002</p> Text Only<pre><code>127.0.0.1:6381&gt; set k1 v1\n(error) MOVED 12706 192.168.31.223:6383\n127.0.0.1:6381&gt; set k2 v2\nOK\n</code></pre> <ol> <li>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u9700\u8981\u4f7f\u7528\u5e26\u6709<code>-c</code>\u53c2\u6570\u7684<code>redis-cli</code>\u547d\u4ee4\u6765\u8fde\u63a5\u96c6\u7fa4\u3002<code>-c</code>\u8868\u793a\u8fde\u63a5\u5230\u96c6\u7fa4\uff0c\u53ef\u4ee5\u6b63\u5e38\u5730\u63d2\u5165\u6240\u6709\u6570\u636e\u3002\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</li> </ol> Bash<pre><code>redis-cli -p 6381 -c\n</code></pre> <p>\u8fde\u63a5\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u6267\u884c\u547d\u4ee4\u63d2\u5165\u6570\u636e\uff0c\u4f8b\u5982\uff1a</p> Bash<pre><code>127.0.0.1:6381&gt; set k1 v1\n-&gt; Redirected to slot [12706] located at 192.168.31.223:6383\nOK\n</code></pre> <p>\u4f1a\u6709\u63d0\u793a\u4fe1\u606f\u663e\u793a\uff0c\u54c8\u5e0c\u69fd\u4e3a12706\uff0c\u91cd\u5b9a\u5411\u52306383\uff08\u5373\u8282\u70b93\uff0c\u54c8\u5e0c\u69fd\u8303\u56f4\u4e3a[10923, 16383]\uff09\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u6210\u529f\u5730\u63d2\u5165\u6570\u636e\u4e86\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/#5\u68c0\u67e5\u96c6\u7fa4\u4fe1\u606f","title":"5\u3001\u68c0\u67e5\u96c6\u7fa4\u4fe1\u606f","text":"<p>\u4ee5\u4e0b\u662f\u68c0\u67e5\u96c6\u7fa4\u4fe1\u606f\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u8fdb\u5165\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\uff08\u8fd9\u91cc\u4ee5\u8282\u70b91\u4e3a\u4f8b\uff09\uff1a</li> </ol> Bash<pre><code>docker exec -it redis-node-1 /bin/bash\n</code></pre> <ol> <li>\u5728\u8282\u70b91\u7684\u5bb9\u5668\u4e2d\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u68c0\u67e5\u96c6\u7fa4\u4fe1\u606f\uff1a</li> </ol> Bash<pre><code>redis-cli --cluster check 192.168.31.181:6383\n</code></pre> <p>\u5176\u4e2d\uff0c<code>192.168.xxx.xxx:6381</code>\u662f\u4efb\u610f\u4e00\u4e2a\u4e3b\u8282\u70b9\u7684\u5730\u5740\uff0c\u53ef\u4ee5\u9009\u62e9\u5176\u4e2d\u4e00\u4e2a\u4e3b\u8282\u70b9\u8fdb\u884c\u68c0\u67e5\u3002</p> <ol> <li>\u6267\u884c\u4ee5\u4e0a\u547d\u4ee4\u540e\uff0c\u5c06\u8fd4\u56de\u96c6\u7fa4\u7684\u68c0\u67e5\u7ed3\u679c\u3002\u4f8b\u5982\uff1a</li> </ol> Bash<pre><code>192.168.31.223:6381 (0c54ff47...) -&gt; 1 keys | 5461 slots | 1 slaves.\n192.168.31.223:6382 (703a1f29...) -&gt; 0 keys | 5462 slots | 1 slaves.\n192.168.31.223:6383 (30e2409b...) -&gt; 1 keys | 5461 slots | 1 slaves.\n[OK] 2 keys in 3 masters. 0.00 keys per slot on average.\n</code></pre> <p>\u8be5\u7ed3\u679c\u663e\u793a\u4e86\u6bcf\u4e2a\u8282\u70b9\u5b58\u50a8\u7684\u952e\u7684\u6570\u91cf\u3001\u54c8\u5e0c\u69fd\u7684\u5206\u5e03\u60c5\u51b5\u4ee5\u53ca\u4ece\u8282\u70b9\u7684\u6570\u91cf\u3002</p> <ol> <li>\u68c0\u67e5\u4e3b\u4ece\u5173\u7cfb\u7684\u4fe1\u606f\uff0c\u6267\u884c\u4ee5\u4e0a\u547d\u4ee4\u540e\u4f1a\u663e\u793a\u4e3b\u4ece\u8282\u70b9\u7684\u4fe1\u606f\uff0c\u4f8b\u5982\uff1a</li> </ol> Bash<pre><code>&gt;&gt;&gt; Performing Cluster Check (using node 192.168.31.223:6381)\nM: 0c54ff47b1cb373485bfbdd964a618ecea76bb29 192.168.31.223:6381   slots:[0-5460] (5461 slots) master   1 additional replica(s)\nM: 703a1f294087c009d04eda5acf2c4255ce14c28a 192.168.31.223:6382   slots:[5461-10922] (5462 slots) master   1 additional replica(s)\nS: 03d3bd91c1df1e618a5b887b24b510466efa55a3 192.168.31.223:6384   slots: (0 slots) slave   replicates 30e2409b3031a0c927efe75b56909bec5281c3d8\nS: 44950ffde9147011c424e906a0e1f001c1c17a71 192.168.31.223:6386   slots: (0 slots) slave   replicates 703a1f294087c009d04eda5acf2c4255ce14c28a\nM: 30e2409b3031a0c927efe75b56909bec5281c3d8 192.168.31.223:6383   slots:[10923-16383] (5461 slots) master   1 additional replica(s)\nS: fef4eee9045d7c434c3f22b36eb16391f1078f59 192.168.31.223:6385   slots: (0 slots) slave   replicates 0c54ff47b1cb373485bfbdd964a618ecea76bb29\n</code></pre> <p>\u8be5\u7ed3\u679c\u663e\u793a\u4e86\u6bcf\u4e2a\u8282\u70b9\u7684\u89d2\u8272\uff08\u4e3b\u8282\u70b9\u6216\u4ece\u8282\u70b9\uff09\u3001\u54c8\u5e0c\u69fd\u7684\u8303\u56f4\u3001\u4ece\u8282\u70b9\u7684\u590d\u5236\u5173\u7cfb\u7b49\u4fe1\u606f\u3002</p> <ol> <li>\u6700\u540e\uff0c\u68c0\u67e5\u54c8\u5e0c\u69fd\u7684\u8986\u76d6\u60c5\u51b5\uff0c\u6267\u884c\u4ee5\u4e0a\u547d\u4ee4\u540e\u4f1a\u663e\u793a\u54c8\u5e0c\u69fd\u7684\u8986\u76d6\u60c5\u51b5\uff0c\u4f8b\u5982\uff1a</li> </ol> Bash<pre><code>&gt;&gt;&gt; Check for open slots...\n&gt;&gt;&gt; Check slots coverage...\n[OK] All 16384 slots covered.\n</code></pre> <p>\u8be5\u7ed3\u679c\u8868\u793a\u6240\u6709\u768416384\u4e2a\u54c8\u5e0c\u69fd\u90fd\u88ab\u8986\u76d6\u4e86\uff0c\u6ca1\u6709\u672a\u5206\u914d\u7684\u54c8\u5e0c\u69fd\u3002</p> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u53ef\u4ee5\u68c0\u67e5\u96c6\u7fa4\u7684\u4fe1\u606f\u3001\u4e3b\u4ece\u5173\u7cfb\u4ee5\u53ca\u54c8\u5e0c\u69fd\u7684\u8986\u76d6\u60c5\u51b5\uff0c\u786e\u4fdd\u96c6\u7fa4\u6b63\u5e38\u8fd0\u884c\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/#6\u4e3b\u4ece\u6269\u5bb9","title":"6\u3001\u4e3b\u4ece\u6269\u5bb9","text":"<p>\u5047\u8bbe\u7531\u4e8e\u4e1a\u52a1\u91cf\u6fc0\u589e\uff0c\u9700\u8981\u5c06\u5f53\u524d\u76843\u4e3b3\u4ece\u96c6\u7fa4\u6269\u5bb9\uff0c\u52a0\u51651\u4e2a\u4e3b\u8282\u70b9\u548c1\u4e2a\u4ece\u8282\u70b9\u3002</p> <p>\u4ee5\u4e0b\u662f\u5177\u4f53\u64cd\u4f5c\u6b65\u9aa4\uff1a</p> <ol> <li>\u542f\u52a8\u4e24\u4e2a\u65b0\u7684\u5bb9\u5668\u8282\u70b9\u3002</li> </ol> Text Only<pre><code># \u542f\u52a8\u7b2c7\u53f0\u8282\u70b9\ndocker run -d --name redis-node-7 --net host --privileged=true -v /app/redis-cluster/share/redis-node-7:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6387\n\n# \u542f\u52a8\u7b2c8\u53f0\u8282\u70b9\ndocker run -d --name redis-node-8 --net host --privileged=true -v /app/redis-cluster/share/redis-node-8:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6388\n</code></pre> <ol> <li>\u8fdb\u51656387\u8282\u70b9\uff08\u7b2c7\u53f0\u8282\u70b9\uff09\u7684\u5bb9\u5668\u5185\u90e8\u3002</li> </ol> Text Only<pre><code>docker exec -it redis-node-7 /bin/bash\n</code></pre> <ol> <li>\u5c066387\u8282\u70b9\u4f5c\u4e3a\u4e3b\u8282\u70b9\u52a0\u5165\u96c6\u7fa4\u3002</li> </ol> Text Only<pre><code># \u4f7f\u7528redis-cli\u547d\u4ee4\u5c06\u672c\u8282\u70b9\u52a0\u5165\u5230\u96c6\u7fa4\u4e2d\u7684\u4efb\u4e00\u8282\u70b9\nredis-cli --cluster add-node 192.168.xxx.xxx:6387 192.168.xxx.xxx:6381\n</code></pre> <p>\u8fd9\u91cc\u7684<code>192.168.xxx.xxx:6387</code>\u662f\u5f53\u524d\u8282\u70b9\u7684\u5730\u5740\uff0c\u800c<code>192.168.xxx.xxx:6381</code>\u662f\u96c6\u7fa4\u4e2d\u7684\u4efb\u4e00\u8282\u70b9\u5730\u5740\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u4e0a\u8ff0\u6b65\u9aa4\u4e2d\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u53f7\u9700\u8981\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u8fdb\u884c\u66ff\u6362\u3002\u53e6\u5916\uff0c\u5bf9\u4e8e\u7b2c8\u53f0\u8282\u70b9\uff0c\u53ef\u4ee5\u6309\u7167\u76f8\u4f3c\u7684\u6b65\u9aa4\u5c06\u5176\u52a0\u5165\u96c6\u7fa4\u3002\u5b8c\u6210\u8fd9\u4e9b\u6b65\u9aa4\u540e\uff0c\u4f60\u5c06\u6210\u529f\u6269\u5bb9\u4e3b\u4ece\u96c6\u7fa4\u3002</p> <ol> <li>\u68c0\u67e5\u5f53\u524d\u96c6\u7fa4\u72b6\u6001</li> </ol> <p>\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u68c0\u67e5\u96c6\u7fa4\u7684\u72b6\u6001\uff1a</p> Text Only<pre><code>redis-cli --cluster check 192.168.xxx.xxx:6381\n</code></pre> <p>\u8fd9\u5c06\u663e\u793a\u96c6\u7fa4\u7684\u72b6\u6001\u4fe1\u606f\u3002\u5728\u8fd9\u91cc\uff0c\u4f60\u53ef\u4ee5\u53d1\u73b06387\u8282\u70b9\u5df2\u7ecf\u4f5c\u4e3a\u4e3b\u8282\u70b9\u6210\u529f\u52a0\u5165\u4e86\u96c6\u7fa4\uff0c\u4f46\u662f\u8be5\u8282\u70b9\u5c1a\u672a\u88ab\u5206\u914d\u4efb\u4f55\u69fd\u4f4d\u3002</p> <ol> <li>\u91cd\u65b0\u5206\u914d\u96c6\u7fa4\u7684\u69fd\u4f4d</li> </ol> <p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u91cd\u65b0\u5206\u914d\u96c6\u7fa4\u7684\u69fd\u4f4d\uff1a</p> Text Only<pre><code>redis-cli --cluster reshard 192.168.xxx.xxx:6381\n</code></pre> <p>\u6267\u884c\u6b64\u547d\u4ee4\u540e\uff0cRedis\u4f1a\u63d0\u793a\u4f60\u9700\u8981\u5206\u914d\u7684\u69fd\u4f4d\u6570\u91cf\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u4f60\u73b0\u5728\u67094\u4e2a\u4e3b\u8282\u70b9\uff0c\u4f60\u60f3\u7ed9node7\u5206\u914d4096\u4e2a\u69fd\u4f4d\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u8282\u70b9\u90fd\u67094096\u4e2a\u69fd\u4f4d\u3002\u8f93\u51654096\u540e\uff0cRedis\u4f1a\u8981\u6c42\u4f60\u8f93\u5165\u8981\u63a5\u6536\u8fd9\u4e9b\u54c8\u5e0c\u69fd\u4f4d\u7684\u8282\u70b9ID\uff0c\u586b\u5165node7\u7684\u8282\u70b9ID\uff08\u8282\u70b9ID\u662f\u4e00\u957f\u4e32\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u4e32\uff0c\u59820abc6c68790b604e8a418a3f6f3bfd4ef442a3a0\uff09\u5373\u53ef\u3002</p> <p>\u63a5\u4e0b\u6765\uff0cRedis\u4f1a\u8be2\u95ee\u4f60\u4ece\u54ea\u4e9b\u8282\u70b9\u4e2d\u62e8\u51fa\u4e00\u90e8\u5206\u69fd\u4f4d\u6765\u51d1\u8db34096\u4e2a\u69fd\u4f4d\uff0c\u4ee5\u5206\u914d\u7ed9Node7\u3002\u4e00\u822c\u9009\u62e9\u201dall\u201d\uff0c\u5373\u5c06\u4e4b\u524d\u76843\u4e2a\u4e3b\u8282\u70b9\u7684\u69fd\u4f4d\u5747\u5300\u5206\u914d\u7ed9Node7\uff0c\u4ee5\u5b9e\u73b0\u6bcf\u4e2a\u8282\u70b9\u7684\u69fd\u4f4d\u6570\u5747\u8861\u3002\u8f93\u5165\u201dall\u201d\u540e\uff0cRedis\u4f1a\u5217\u51fa\u4e00\u4e2a\u8ba1\u5212\uff0c\u663e\u793a\u81ea\u52a8\u4ece\u524d\u9762\u76843\u4e2a\u4e3b\u8282\u70b9\u4e2d\u62e8\u51fa\u4e00\u90e8\u5206\u69fd\u4f4d\u5206\u914d\u7ed9Node7\u3002\u4f60\u9700\u8981\u786e\u8ba4\u6b64\u5206\u914d\u8ba1\u5212\u3002\u8f93\u5165\u201dyes\u201d\u786e\u8ba4\u540e\uff0cRedis\u5c06\u81ea\u52a8\u91cd\u65b0\u5206\u914d\u69fd\u4f4d\uff0c\u5c06\u5176\u5206\u914d\u7ed9Node7\u3002</p> <p>\u5b8c\u6210\u4ee5\u4e0a\u6b65\u9aa4\u540e\uff0cRedis\u4f1a\u91cd\u65b0\u6d17\u724c\u5e76\u5206\u914d\u69fd\u4f4d\uff0c\u786e\u4fddNode7\u83b7\u5f97\u4e86\u76f8\u5e94\u7684\u69fd\u4f4d\u3002</p> <p>\u91cd\u65b0\u5206\u914d\u5b8c\u6210\u540e\uff0c\u4f60\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u96c6\u7fa4\u4fe1\u606f\uff0c\u67e5\u770b\u69fd\u4f4d\u7684\u91cd\u65b0\u5206\u914d\u7ed3\u679c\uff1a</p> Text Only<pre><code>redis-cli --cluster check 192.168.xxx.xxx:6381\n</code></pre> <p>\u8fd0\u884c\u8be5\u547d\u4ee4\u540e\uff0c\u4f60\u5c06\u770b\u5230\u69fd\u4f4d\u7684\u91cd\u65b0\u5206\u914d\u60c5\u51b5\u3002\u4f8b\u5982\uff1a</p> Text Only<pre><code>192.168.31.223:6381 (0c54ff47...) -&gt; 0 keys | 4096 slots | 1 slaves.\n192.168.31.223:6382 (703a1f29...) -&gt; 0 keys | 4096 slots | 1 slaves.\n192.168.31.223:6383 (30e2409b...) -&gt; 1 keys | 4096 slots | 1 slaves.\n192.168.31.223:6387 (0abc6c68...) -&gt; 1 keys | 4096 slots | 0 slaves.\n\n[OK] 2 keys in 4 masters. 0.00 keys per slot on average.\n</code></pre> <p>\u8fd9\u91cc\u663e\u793a\u4e86\u6bcf\u4e2a\u8282\u70b9\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u8282\u70b9\u7684IP\u5730\u5740\u3001\u7aef\u53e3\u53f7\u3001\u8282\u70b9ID\u4ee5\u53ca\u5206\u914d\u7684\u69fd\u4f4d\u60c5\u51b5\u3002\u4f60\u53ef\u4ee5\u6839\u636e\u8fd9\u4e9b\u4fe1\u606f\u786e\u8ba4\u69fd\u4f4d\u7684\u91cd\u65b0\u5206\u914d\u7ed3\u679c\u3002</p> <p>\u6700\u540e\uff0cRedis\u4f1a\u8fdb\u884c\u4e00\u6b21\u96c6\u7fa4\u68c0\u67e5\uff0c\u786e\u4fdd\u69fd\u4f4d\u7684\u5206\u914d\u6ca1\u6709\u95ee\u9898\u3002</p> Text Only<pre><code>&gt;&gt;&gt; Performing Cluster Check (using node 192.168.31.223:6381)\nM: 0c54ff47b1cb373485bfbdd964a618ecea76bb29 192.168.31.223:6381   slots:[1365-5460] (4096 slots) master   1 additional replica(s)\nM: 703a1f294087c009d04eda5acf2c4255ce14c28a 192.168.31.223:6382   slots:[6827-10922] (4096 slots) master   1 additional replica(s)\nS: 03d3bd91c1df1e618a5b887b24b510466efa55a3 192.168.31.223:6384   slots: (0 slots) slave   replicates 30e2409b3031a0c927efe75b56909bec5281c3d8\nS: 44950ffde9147011c424e906a0e1f001c1c17a71 192.168.31.223:6386   slots: (0 slots) slave   replicates 703a1f294087c009d04eda5acf2c4255ce14c28a\nM: 30e2409b3031a0c927efe75b56909bec5281c3d8 192.168.31.223:6383   slots:[12288-16383] (4096 slots) master   1 additional replica(s)\nM: 0abc6c68790b604e8a418a3f6f3bfd4ef442a3a0 192.168.31.223:6387    #\u8282\u70b9id\uff1a0abc6c68790b604e8a418a3f6f3bfd4ef442a3a0   slots:[0-1364],[5461-6826],[10923-12287] (4096 slots) master\nS: fef4eee9045d7c434c3f22b36eb16391f1078f59 192.168.31.223:6385   slots: (0 slots) slave   replicates 0c54ff47b1cb373485bfbdd964a618ecea76bb29\n\n[OK] All nodes agree about slots configuration.\n</code></pre> <p>\u8fd9\u91cc\u663e\u793a\u4e86\u6bcf\u4e2a\u8282\u70b9\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u4e3b\u8282\u70b9\u3001\u4ece\u8282\u70b9\u3001\u69fd\u4f4d\u8303\u56f4\u7b49\u3002\u6700\u540e\uff0cRedis\u4f1a\u68c0\u67e5\u662f\u5426\u5b58\u5728\u672a\u5206\u914d\u7684\u69fd\u4f4d\u4ee5\u53ca\u69fd\u4f4d\u7684\u8986\u76d6\u60c5\u51b5\uff0c\u786e\u4fdd\u6240\u6709\u768416384\u4e2a\u69fd\u4f4d\u90fd\u5f97\u5230\u4e86\u8986\u76d6\u3002</p> <p>\u901a\u8fc7\u6267\u884c\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u5df2\u7ecf\u6210\u529f\u5730\u6269\u5bb9\u4e86\u4e3b\u4ece\u96c6\u7fa4\uff0c\u5e76\u91cd\u65b0\u5206\u914d\u4e86\u69fd\u4f4d\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u8282\u70b9\u90fd\u5177\u6709\u76f8\u7b49\u6570\u91cf\u7684\u69fd\u4f4d\u3002</p> <p>\u5982\u679c\u4f60\u60f3\u4e3a\u4e3b\u8282\u70b96387\u5206\u914d\u4ece\u8282\u70b96388\uff0c\u5e76\u4e14\u5e0c\u671b\u4ece\u524d\u4e09\u4e2a\u8282\u70b9\u4e2d\u5206\u914d\u4e00\u90e8\u5206\u69fd\u4f4d\u7ed9\u8282\u70b97\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06\u8282\u70b96388\u6dfb\u52a0\u5230\u96c6\u7fa4\u4e2d\u4f5c\u4e3a\u8282\u70b96387\u7684\u4ece\u8282\u70b9\uff1a</li> </ol> Text Only<pre><code>redis-cli --cluster add-node 192.168.xxx.xxx:6388 192.168.xxx.xxx:6387 --cluster-slave --cluster-master-id &lt;node7\u8282\u70b9\u7684ID&gt;\n</code></pre> <p>\u8fd9\u5c06\u4f7f\u8282\u70b96388\u52a0\u5165\u96c6\u7fa4\uff0c\u5e76\u6210\u4e3a\u8282\u70b96387\u7684\u4ece\u8282\u70b9\u3002Redis\u4f1a\u5411\u8282\u70b96388\u53d1\u9001\u6d88\u606f\uff0c\u4f7f\u5176\u52a0\u5165\u96c6\u7fa4\u5e76\u4e0e\u8282\u70b96387\u5efa\u7acb\u4e3b\u4ece\u590d\u5236\u5173\u7cfb\u3002</p> <ol> <li>\u63a5\u4e0b\u6765\uff0c\u4f60\u9700\u8981\u624b\u52a8\u5c06\u4e00\u90e8\u5206\u69fd\u4f4d\u4ece\u524d\u4e09\u4e2a\u8282\u70b9\u4e2d\u5206\u914d\u7ed9\u8282\u70b97\uff08\u5373\u8282\u70b96388\uff09\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06\u69fd\u4f4d\u4ece\u8282\u70b91\u3001\u8282\u70b92\u548c\u8282\u70b93\u4e2d\u8fc1\u79fb\u7ed9\u8282\u70b97\uff1a</li> </ol> Text Only<pre><code>redis-cli --cluster reshard 192.168.xxx.xxx:6381 --cluster-from &lt;node1\u8282\u70b9\u7684ID&gt; --cluster-to &lt;node7\u8282\u70b9\u7684ID&gt; --cluster-slots &lt;\u69fd\u4f4d\u6570\u91cf&gt; --cluster-yes\nredis-cli --cluster reshard 192.168.xxx.xxx:6381 --cluster-from &lt;node2\u8282\u70b9\u7684ID&gt; --cluster-to &lt;node7\u8282\u70b9\u7684ID&gt; --cluster-slots &lt;\u69fd\u4f4d\u6570\u91cf&gt; --cluster-yes\nredis-cli --cluster reshard 192.168.xxx.xxx:6381 --cluster-from &lt;node3\u8282\u70b9\u7684ID&gt; --cluster-to &lt;node7\u8282\u70b9\u7684ID&gt; --cluster-slots &lt;\u69fd\u4f4d\u6570\u91cf&gt; --cluster-yes\n</code></pre> <p>\u5728\u4e0a\u8ff0\u547d\u4ee4\u4e2d\uff0c\u5c06 <code>&lt;node1\u8282\u70b9\u7684ID&gt;</code>\u3001<code>&lt;node2\u8282\u70b9\u7684ID&gt;</code> \u548c <code>&lt;node3\u8282\u70b9\u7684ID&gt;</code> \u66ff\u6362\u4e3a\u5b9e\u9645\u8282\u70b91\u3001\u8282\u70b92\u548c\u8282\u70b93\u7684ID\u3002\u5c06 <code>&lt;node7\u8282\u70b9\u7684ID&gt;</code> \u66ff\u6362\u4e3a\u8282\u70b97\uff08\u5373\u8282\u70b96388\uff09\u7684ID\u3002<code>&lt;\u69fd\u4f4d\u6570\u91cf&gt;</code> \u662f\u4f60\u60f3\u8981\u8fc1\u79fb\u7684\u69fd\u4f4d\u6570\u91cf\u3002</p> <ol> <li>\u5b8c\u6210\u69fd\u4f4d\u8fc1\u79fb\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u96c6\u7fa4\u7684\u5f53\u524d\u72b6\u6001\uff1a</li> </ol> Text Only<pre><code>redis-cli --cluster check 192.168.xxx.xxx:6381\n</code></pre> <p>\u8fd9\u4e2a\u547d\u4ee4\u5c06\u663e\u793a\u96c6\u7fa4\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u6bcf\u4e2a\u8282\u70b9\u7684\u89d2\u8272\u3001\u69fd\u4f4d\u5206\u914d\u60c5\u51b5\u548c\u4ece\u8282\u70b9\u4fe1\u606f\u3002</p> <p>\u901a\u8fc7\u6267\u884c\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u53ef\u4ee5\u5c06\u8282\u70b96388\u6dfb\u52a0\u4e3a\u8282\u70b96387\u7684\u4ece\u8282\u70b9\uff0c\u5e76\u4ece\u524d\u4e09\u4e2a\u8282\u70b9\u4e2d\u8fc1\u79fb\u4e00\u90e8\u5206\u69fd\u4f4d\u7ed9\u8282\u70b96388\u3002\u6700\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>redis-cli --cluster check</code> \u547d\u4ee4\u6765\u9a8c\u8bc1\u96c6\u7fa4\u7684\u72b6\u6001\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/#7\u4e3b\u4ece\u7f29\u5bb9","title":"7\u3001\u4e3b\u4ece\u7f29\u5bb9","text":"<p>\u5982\u679c\u4f60\u60f3\u5c06\u4e3b\u4ece\u96c6\u7fa4\u4ece4\u4e3b4\u4ece\u7f29\u5bb9\u52303\u4e3b3\u4ece\uff0c\u5e76\u79fb\u9664\u8282\u70b98\u548c\u8282\u70b97\uff0c\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <p>1. \u5220\u9664\u4ece\u8282\u70b96388\uff1a</p> <p>\u9996\u5148\uff0c\u8fdb\u5165\u5bb9\u5668\u8282\u70b91\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Text Only<pre><code>docker exec -it redis-node-1 /bin/bash\n</code></pre> <p>\u7136\u540e\uff0c\u68c0\u67e5\u5bb9\u5668\u72b6\u6001\uff0c\u83b7\u53d6\u8282\u70b96388\u7684\u8282\u70b9\u7f16\u53f7\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Text Only<pre><code>redis-cli --cluster check 192.168.xxx.xxx:6381\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06\u8282\u70b96388\u4ece\u96c6\u7fa4\u4e2d\u79fb\u9664\uff1a</p> Text Only<pre><code>redis-cli --cluster del-node 192.168.xxx.xxx:6388 &lt;6388\u8282\u70b9\u7f16\u53f7&gt;\n</code></pre> <p>\u8bf7\u5c06 <code>&lt;6388\u8282\u70b9\u7f16\u53f7&gt;</code> \u66ff\u6362\u4e3a\u5b9e\u9645\u7684\u8282\u70b96388\u7684\u7f16\u53f7\u3002</p> <p>2. \u5bf9\u8282\u70b97\u91cd\u65b0\u5206\u914d\u54c8\u5e0c\u69fd\uff1a</p> <p>\u9996\u5148\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5bf9\u96c6\u7fa4\u8fdb\u884c\u54c8\u5e0c\u69fd\u7684\u91cd\u65b0\u5206\u914d\uff1a</p> Text Only<pre><code>redis-cli --cluster reshard 192.168.xxx.xxx:6381\n</code></pre> <p>Redis\u4f1a\u63d0\u793a\u4f60\u8f93\u5165\u8981\u79fb\u52a8\u7684\u69fd\u4f4d\u6570\u91cf\u3002\u5982\u679c\u4f60\u60f3\u5c06\u8282\u70b97\u7684\u6240\u67094096\u4e2a\u54c8\u5e0c\u69fd\u90fd\u5206\u914d\u7ed9\u67d0\u4e2a\u8282\u70b9\uff0c\u53ef\u4ee5\u76f4\u63a5\u8f93\u51654096\u3002</p> <p>\u7136\u540e\uff0cRedis\u4f1a\u8981\u6c42\u4f60\u8f93\u5165\u8981\u63a5\u6536\u8fd9\u4e9b\u54c8\u5e0c\u69fd\u7684\u8282\u70b9ID\u3002\u5047\u8bbe\u4f60\u60f3\u5c06\u8fd94096\u4e2a\u69fd\u4f4d\u90fd\u5206\u914d\u7ed9\u8282\u70b91\uff0c\u76f4\u63a5\u8f93\u5165\u8282\u70b91\u7684\u7f16\u53f7\u5373\u53ef\u3002</p> <p>\u63a5\u4e0b\u6765\uff0cRedis\u4f1a\u8be2\u95ee\u4f60\u8981\u4ece\u54ea\u4e9b\u8282\u70b9\u4e2d\u79fb\u52a8\u4e00\u90e8\u5206\u69fd\u4f4d\u4ee5\u6ee1\u8db34096\u4e2a\u69fd\u4f4d\u5206\u914d\u7ed9\u8282\u70b91\u3002\u5728\u8fd9\u91cc\uff0c\u4f60\u9700\u8981\u8f93\u5165\u8282\u70b97\u7684\u8282\u70b9\u7f16\u53f7\uff0c\u7136\u540e\u6309\u56de\u8f66\uff0c\u6700\u540e\u8f93\u5165\u201ddone\u201d\u8868\u793a\u5b8c\u6210\u3002</p> <p>\u4e00\u65e6\u8282\u70b97\u4e0a\u6ca1\u6709\u54c8\u5e0c\u69fd\uff0c\u4f60\u5c31\u53ef\u4ee5\u5c06\u8282\u70b97\u4ece\u96c6\u7fa4\u4e2d\u79fb\u9664\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06\u8282\u70b97\u4ece\u96c6\u7fa4\u4e2d\u79fb\u9664\uff1a</p> Text Only<pre><code>redis-cli --cluster del-node 192.168.xxx.xxx:6387 &lt;node7\u8282\u70b9\u7f16\u53f7&gt;\n</code></pre> <p>\u8bf7\u5c06 <code>&lt;node7\u8282\u70b9\u7f16\u53f7&gt;</code> \u66ff\u6362\u4e3a\u5b9e\u9645\u7684\u8282\u70b97\u7684\u7f16\u53f7\u3002</p> <p>\u901a\u8fc7\u6267\u884c\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u53ef\u4ee5\u5c06\u4e3b\u4ece\u96c6\u7fa4\u4ece4\u4e3b4\u4ece\u7f29\u5bb9\u52303\u4e3b3\u4ece\uff0c\u5e76\u79fb\u9664\u8282\u70b98\u548c\u8282\u70b97\u3002\u8bf7\u786e\u4fdd\u5728\u79fb\u9664\u8282\u70b9\u4e4b\u524d\uff0c\u8282\u70b97\u4e0a\u6ca1\u6709\u4efb\u4f55\u54c8\u5e0c\u69fd\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis%20-%20%E5%89%AF%E6%9C%AC/#\u4e09\u6269\u5c55\u5185\u5bb9","title":"\u4e09\u3001\u6269\u5c55\u5185\u5bb9","text":"<ol> <li> <p>Redis\u9ad8\u53ef\u7528\u90e8\u7f72\uff1a\u4ecb\u7ecdRedis Sentinel\u548cRedis Cluster\u4e24\u79cd\u5e38\u89c1\u7684\u9ad8\u53ef\u7528\u90e8\u7f72\u65b9\u6848\uff0c\u4ee5\u4fdd\u8bc1Redis\u7684\u53ef\u9760\u6027\u548c\u5bb9\u9519\u6027\u3002</p> </li> <li> <p>Redis\u6301\u4e45\u5316\u914d\u7f6e\uff1a\u8be6\u7ec6\u4ecb\u7ecdRedis\u7684\u6301\u4e45\u5316\u673a\u5236\uff0c\u5305\u62ecRDB\u5feb\u7167\u548cAOF\u65e5\u5fd7\uff0c\u4ee5\u53ca\u5982\u4f55\u6839\u636e\u5b9e\u9645\u9700\u6c42\u8fdb\u884c\u914d\u7f6e\u3002</p> </li> <li> <p>Redis\u6027\u80fd\u4f18\u5316\uff1a\u63d0\u4f9b\u4e00\u4e9b\u5e38\u89c1\u7684Redis\u6027\u80fd\u4f18\u5316\u6280\u5de7\uff0c\u5305\u62ec\u4f7f\u7528\u8fde\u63a5\u6c60\u3001\u5408\u7406\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u3001\u4f18\u5316\u6570\u636e\u7ed3\u6784\u7b49\u3002</p> </li> <li> <p>Redis\u5e94\u7528\u573a\u666f\uff1a\u4ecb\u7ecdRedis\u5728\u7f13\u5b58\u3001\u961f\u5217\u3001\u5b9e\u65f6\u5206\u6790\u7b49\u573a\u666f\u4e2d\u7684\u5e94\u7528\uff0c\u5e76\u63d0\u4f9b\u76f8\u5e94\u7684\u6700\u4f73\u5b9e\u8df5\u548c\u793a\u4f8b\u4ee3\u7801\u3002</p> </li> <li> <p>Redis\u5b89\u5168\u914d\u7f6e\uff1a\u8bb2\u89e3\u5982\u4f55\u4fdd\u62a4Redis\u7684\u5b89\u5168\uff0c\u5305\u62ec\u5bc6\u7801\u8ba4\u8bc1\u3001\u7f51\u7edc\u8bbf\u95ee\u63a7\u5236\u7b49\u65b9\u9762\u7684\u914d\u7f6e\u3002</p> </li> </ol> <p>\u901a\u8fc7\u5bf9\u8fd9\u4e9b\u6269\u5c55\u5185\u5bb9\u7684\u6574\u7406\u548c\u6269\u5c55\uff0c\u53ef\u4ee5\u5e2e\u52a9\u8bfb\u8005\u66f4\u597d\u5730\u7406\u89e3\u548c\u5e94\u7528Redis\uff0c\u4ee5\u4e0a\u662f\u5173\u4e8e\u4f7f\u7528Docker\u90e8\u7f72Redis\u7684\u5185\u5bb9\u6269\u5c55\u548c\u6574\u7406\uff0c\u5e0c\u671b\u5bf9\u4f60\u7684\u5b66\u4e60\u548c\u5de5\u4f5c\u6709\u6240\u5e2e\u52a9\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/","title":"docker \u90e8\u7f72redis","text":"<p>Redis\u662f\u4e00\u6b3e\u5f00\u6e90\u7684\u9ad8\u6027\u80fd\u952e\u503c\u5b58\u50a8\u6570\u636e\u5e93\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u7f13\u5b58\u3001\u961f\u5217\u3001\u5b9e\u65f6\u5206\u6790\u7b49\u573a\u666f\u3002\u4f7f\u7528Docker\u90e8\u7f72Redis\u53ef\u4ee5\u7b80\u5316\u5b89\u88c5\u548c\u914d\u7f6e\u8fc7\u7a0b\uff0c\u63d0\u9ad8\u90e8\u7f72\u6548\u7387\u3002\u672c\u6587\u5c06\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528Docker\u90e8\u7f72Redis\uff0c\u5e76\u63d0\u4f9b\u66f4\u8be6\u7ec6\u7684\u6269\u5c55\u5185\u5bb9\uff0c\u8ba9\u4f60\u80fd\u591f\u66f4\u597d\u5730\u7406\u89e3\u548c\u5e94\u7528Redis\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#\u4e00\u62c9\u53d6redis\u955c\u50cf","title":"\u4e00\u3001\u62c9\u53d6Redis\u955c\u50cf","text":"<p>\u4ee5Redis 6.0.8\u4e3a\u4f8b\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u4eceDocker Hub\u4e0a\u62c9\u53d6Redis\u955c\u50cf\uff1a</p> Bash<pre><code>docker pull redis:6.0.8\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#\u4e8credis\u5b89\u88c5","title":"\u4e8c\u3001Redis\u5b89\u88c5","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#1\u7b80\u5355\u7248redis","title":"\uff081\uff09\u7b80\u5355\u7248Redis","text":"<p>1\u3001\u7b80\u5355\u7248Redis\u5bb9\u5668\u7684\u521b\u5efa\u542f\u52a8</p> <p>\u547d\u4ee4\u5982\u4e0b\uff1a</p> Bash<pre><code>docker run -p 6379:6379 -d redis:6.0.8\n</code></pre> <p>\u7b80\u5355\u7248Redis\u6ca1\u6709\u914d\u7f6e\u5bb9\u5668\u5377\u6620\u5c04\uff0c\u5f53\u5bb9\u5668\u88ab\u5220\u9664\u65f6\u6570\u636e\u65e0\u6cd5\u6062\u590d\u3002\u9002\u7528\u4e8e\u6d4b\u8bd5\u548c\u5f00\u53d1\u73af\u5883\u3002</p> <p>2\u3001\u8fde\u63a5redis\u5bb9\u5668</p> <p>\u6267\u884c\u547d\u4ee4<code>`docker exec -it \u5bb9\u5668id /bin/bash</code>\u8fde\u63a5\u5bb9\u5668\uff08\u5bb9\u5668id\u83b7\u53d6\uff1adocker ps\uff09</p> Text Only<pre><code>docker exec -it 8009fd9e4739 /bin/bash\n</code></pre> <p>3\u3001\u64cd\u4f5credis\u6d4b\u8bd5</p> <p>\u5c06\u952e\u201dusername\u201d\u7684\u503c\u8bbe\u7f6e\u4e3a\u201dscott\u201d\uff0c\u5e76\u8fd4\u56de\u201dOK\u201d\u8868\u793a\u8bbe\u7f6e\u6210\u529f\u3002</p> <p>Text Only<pre><code>127.0.0.1:6379&gt; set username scott\nOK\n</code></pre> \u83b7\u53d6\u952e\u201dusername\u201d\u7684\u503c\uff0c\u5e76\u8fd4\u56de\u201dscott\u201d\uff0c\u8868\u793a\u6210\u529f\u83b7\u53d6\u5230\u4e86\u4e4b\u524d\u8bbe\u7f6e\u7684\u503c\u3002</p> <p>Text Only<pre><code>127.0.0.1:6379&gt; get username\n\"scott\"\n</code></pre> \u5220\u9664\u952e\u201dusername\u201d\uff0c\u5e76\u8fd4\u56de\u6574\u65701\uff0c\u8868\u793a\u6210\u529f\u5220\u9664\u4e86\u4e00\u4e2a\u952e\u3002</p> <p>Text Only<pre><code>127.0.0.1:6379&gt; del username\n(integer) 1\n</code></pre> \u901a\u8fc7\u4ee5\u4e0a\u64cd\u4f5c\uff0c\u6210\u529f\u5730\u8fde\u63a5\u5230Redis\uff0c\u5e76\u8fdb\u884c\u4e86\u8bbe\u7f6e\u503c\u3001\u83b7\u53d6\u503c\u548c\u5220\u9664\u952e\u7684\u64cd\u4f5c\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#2\u5b9e\u9645\u5e94\u7528\u7248redis","title":"\uff082\uff09\u5b9e\u9645\u5e94\u7528\u7248Redis","text":"<p>\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u9700\u8981\u5c06Redis\u7684\u914d\u7f6e\u6587\u4ef6\u548c\u6570\u636e\u6587\u4ef6\u4e0e\u5bbf\u4e3b\u673a\u8fdb\u884c\u6620\u5c04\uff0c\u4ee5\u4fbf\u4e8e\u914d\u7f6e\u548c\u6570\u636e\u7684\u7ba1\u7406\u3002</p> <p>\u6b65\u9aa4\uff1a</p> <ol> <li>\u5728\u5bbf\u4e3b\u673a\u4e0a\u521b\u5efa\u76ee\u5f55\uff0c\u7528\u4e8e\u5b58\u653eRedis\u7684\u914d\u7f6e\u6587\u4ef6\u548c\u6570\u636e\u6587\u4ef6\uff1a</li> </ol> Bash<pre><code>mkdir -p /app/redis\n</code></pre> <ol> <li> <p>\u5728/app/redis\u76ee\u5f55\u4e0b\u521b\u5efa\u6587\u4ef6redis.conf\uff0c\u5e76\u8fdb\u884c\u76f8\u5e94\u7684\u914d\u7f6e\u4fee\u6539\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u7684\u914d\u7f6e\u9879\uff1a</p> </li> <li> <p>\u5f00\u542f\u5bc6\u7801\u9a8c\u8bc1\uff08\u53ef\u9009\uff09\uff1a</p> Text Only<pre><code>requirepass 123\n</code></pre> </li> <li> <p>\u5141\u8bb8Redis\u5916\u90e8\u8fde\u63a5\uff0c\u9700\u8981\u6ce8\u91ca\u6389\u7ed1\u5b9a\u7684IP\uff1a</p> Text Only<pre><code># bind 127.0.0.1\n</code></pre> </li> <li> <p>\u5173\u95ed\u4fdd\u62a4\u6a21\u5f0f\uff08\u53ef\u9009\uff09\uff1a</p> Text Only<pre><code>protected-mode no\n</code></pre> </li> <li> <p>\u6ce8\u91ca\u6389daemonize yes\uff0c\u6216\u8005\u914d\u7f6e\u6210daemonize no\u3002\u56e0\u4e3a\u8be5\u914d\u7f6e\u548cdocker run\u4e2d\u7684-d\u53c2\u6570\u51b2\u7a81\uff0c\u4f1a\u5bfc\u81f4\u5bb9\u5668\u4e00\u76f4\u542f\u52a8\u5931\u8d25\uff1a</p> Text Only<pre><code>daemonize no\n</code></pre> </li> <li> <p>\u5f00\u542fRedis\u6570\u636e\u6301\u4e45\u5316\uff08\u53ef\u9009\uff09\uff1a</p> Text Only<pre><code>appendonly yes\n</code></pre> </li> </ol> <p>\u6700\u7ec8\u7684\u914d\u7f6e\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</p> Text Only<pre><code># \u5f00\u542f\u5bc6\u7801\u9a8c\u8bc1\uff08\u53ef\u9009\uff09\nrequirepass 123\n# \u5141\u8bb8Redis\u5916\u90e8\u8fde\u63a5\uff0c\u9700\u8981\u6ce8\u91ca\u6389\u7ed1\u5b9a\u7684IP\n# bind 127.0.0.1\n# \u5173\u95ed\u4fdd\u62a4\u6a21\u5f0f\uff08\u53ef\u9009\uff09\nprotected-mode no\n# \u6ce8\u91ca\u6389daemonize yes\uff0c\u6216\u8005\u914d\u7f6e\u6210daemonize no\u3002\u56e0\u4e3a\u8be5\u914d\u7f6e\u548cdocker run\u4e2d\u7684-d\u53c2\u6570\u51b2\u7a81\uff0c\u4f1a\u5bfc\u81f4\u5bb9\u5668\u4e00\u76f4\u542f\u52a8\u5931\u8d25\ndaemonize no\n# \u5f00\u542fRedis\u6570\u636e\u6301\u4e45\u5316\uff08\u53ef\u9009\uff09\nappendonly yes\n</code></pre> <ol> <li>\u542f\u52a8Redis\u5bb9\u5668\uff0c\u5e76\u6307\u5b9a\u5bb9\u5668\u8fd0\u884c\u7684\u547d\u4ee4\u4e3a<code>redis-server</code>\u4ee5\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u914d\u7f6e\u6587\u4ef6\uff1a</li> </ol> Bash<pre><code>docker run -d -p 6379:6379 \\\n--name redis \\\n--privileged=true \\\n-v /app/redis/redis.conf:/etc/redis/redis.conf \\\n-v /app/redis/data:/data \\\nredis:6.0.8 redis-server /etc/redis/redis.conf\n</code></pre> <p>\u901a\u8fc7\u4e0a\u8ff0\u547d\u4ee4\uff0c\u6211\u4eec\u5c06Redis\u5bb9\u5668\u76846379\u7aef\u53e3\u6620\u5c04\u5230\u5bbf\u4e3b\u673a\u76846379\u7aef\u53e3\uff0c\u540c\u65f6\u5c06\u914d\u7f6e\u6587\u4ef6\u548c\u6570\u636e\u6587\u4ef6\u4e0e\u5bbf\u4e3b\u673a\u8fdb\u884c\u6620\u5c04\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u53ef\u4ee5\u65b9\u4fbf\u5730\u4fee\u6539\u914d\u7f6e\u548c\u7ba1\u7406\u6570\u636e\u3002</p> <p>\u4ee5\u4e0a\u5c31\u662f\u4f7f\u7528Docker\u90e8\u7f72Redis\u7684\u7b80\u5355\u6b65\u9aa4\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u4e00\u6b65\u4e86\u89e3Redis\u7684\u9ad8\u53ef\u7528\u90e8\u7f72\u3001\u96c6\u7fa4\u6a21\u5f0f\u7b49\u5185\u5bb9\uff0c\u4ee5\u6ee1\u8db3\u4e0d\u540c\u573a\u666f\u7684\u9700\u6c42\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#3\u96c6\u7fa4\u90e8\u7f72redis","title":"\uff083\uff09\u96c6\u7fa4\u90e8\u7f72Redis","text":"<p>\u642d\u5efa3\u4e3b3\u4ece\u7684Redis\u96c6\u7fa4\uff0c\u6bcf\u53f0\u4e3b\u673a\u90fd\u5bf9\u5e94\u4e00\u53f0\u4ece\u673a\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#1\u542f\u52a86\u53f0redis\u5bb9\u5668","title":"1\u3001\u542f\u52a86\u53f0redis\u5bb9\u5668","text":"<p>\u542f\u52a86\u53f0\u8282\u70b9\u7684\u547d\u4ee4\uff1a</p> Bash<pre><code># \u542f\u52a8\u7b2c1\u53f0\u8282\u70b9\ndocker run -d --name redis-node-1 --net host --privileged=true -v /app/redis-cluster/share/redis-node-1:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6381\n\n# \u542f\u52a8\u7b2c2\u53f0\u8282\u70b9\ndocker run -d --name redis-node-2 --net host --privileged=true -v /app/redis-cluster/share/redis-node-2:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6382\n\n# \u542f\u52a8\u7b2c3\u53f0\u8282\u70b9\ndocker run -d --name redis-node-3 --net host --privileged=true -v /app/redis-cluster/share/redis-node-3:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6383\n\n# \u542f\u52a8\u7b2c4\u53f0\u8282\u70b9\ndocker run -d --name redis-node-4 --net host --privileged=true -v /app/redis-cluster/share/redis-node-4:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6384\n\n# \u542f\u52a8\u7b2c5\u53f0\u8282\u70b9\ndocker run -d --name redis-node-5 --net host --privileged=true -v /app/redis-cluster/share/redis-node-5:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6385\n\n# \u542f\u52a8\u7b2c6\u53f0\u8282\u70b9\ndocker run -d --name redis-node-6 --net host --privileged=true -v /app/redis-cluster/share/redis-node-6:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6386\n</code></pre> <p>\u8fd9\u6761\u547d\u4ee4\u5c06\u542f\u52a8\u7b2c2\u53f0Redis\u8282\u70b9\uff0c\u5e76\u914d\u7f6e\u5b83\u4f5c\u4e3aRedis\u96c6\u7fa4\u7684\u4e00\u90e8\u5206\u3002\u53c2\u6570\u89e3\u91ca\u5982\u4e0b\uff1a</p> <ul> <li><code>-d</code>\uff1a\u4ee5\u540e\u53f0\u6a21\u5f0f\u8fd0\u884c\u5bb9\u5668\u3002</li> <li><code>--name redis-node-xx</code>\uff1a\u6307\u5b9a\u5bb9\u5668\u7684\u540d\u79f0\u4e3aredis-node xx\u3002</li> <li><code>--net host</code>\uff1a\u4f7f\u7528\u5bbf\u4e3b\u673a\u7684\u7f51\u7edc\u8bbe\u7f6e\u3002</li> <li><code>--privileged=true</code>\uff1a\u5728\u5bb9\u5668\u5185\u542f\u7528\u7279\u6743\u6a21\u5f0f\uff0c\u4ee5\u4fbf\u5bb9\u5668\u53ef\u4ee5\u6267\u884c\u4e00\u4e9b\u7279\u6743\u64cd\u4f5c\u3002</li> <li><code>-v /app/redis-cluster/share/redis-node-2:/data</code>\uff1a\u5c06\u5bbf\u4e3b\u673a\u7684<code>/app/redis-cluster/share/redis-node-2</code>\u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u5185\u7684<code>/data</code>\u76ee\u5f55\uff0c\u7528\u4e8e\u6301\u4e45\u5316Redis\u6570\u636e\u3002</li> <li><code>redis:6.0.8</code>\uff1a\u4f7f\u7528Redis 6.0.8\u955c\u50cf\u3002</li> <li><code>--cluster-enabled yes</code>\uff1a\u5f00\u542fRedis\u96c6\u7fa4\u6a21\u5f0f\u3002</li> <li><code>--appendonly yes</code>\uff1a\u5f00\u542fRedis\u7684AOF\u6301\u4e45\u5316\u3002</li> <li><code>--port 6382</code>\uff1a\u914d\u7f6eRedis\u8282\u70b9\u7684\u7aef\u53e3\u53f7\u4e3a6382\u3002</li> </ul> <p>\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0a\u547d\u4ee4\uff0c\u4f60\u5c06\u6210\u529f\u542f\u52a8\u7b2c2\u53f0Redis\u8282\u70b9\uff0c\u5e76\u4f7f\u5176\u6210\u4e3aRedis\u96c6\u7fa4\u7684\u4e00\u90e8\u5206\u3002\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u8981\u4fee\u6539\u547d\u4ee4\u4e2d\u7684\u53c2\u6570\u6765\u542f\u52a8\u5176\u4ed6\u8282\u70b9\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#2\u6784\u5efa\u4e3b\u4ece\u5173\u7cfb","title":"2\u3001\u6784\u5efa\u4e3b\u4ece\u5173\u7cfb","text":"<p>\u63a5\u4e0b\u6765\u662f\u6784\u5efa\u4e3b\u4ece\u5173\u7cfb\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u8fdb\u5165\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\uff08\u8fd9\u91cc\u4ee5\u8282\u70b91\u4e3a\u4f8b\uff09\uff1a</li> </ol> Bash<pre><code>docker exec -it redis-node-1 /bin/bash\n</code></pre> <ol> <li>\u5728\u8282\u70b91\u7684\u5bb9\u5668\u4e2d\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u6784\u5efa\u4e3b\u4ece\u5173\u7cfb\uff1a</li> </ol> Bash<pre><code>redis-cli --cluster create 192.168.xxx.xxx:6381 192.168.xxx.xxx:6382 192.168.xxx.xxx:6383 192.168.xxx.xxx:6384 192.168.xxx.xxx:6385 192.168.xxx.xxx:6386 --cluster-replicas 1\n</code></pre> <p>\u5176\u4e2d\uff0c<code>192.168.xxx.xxx</code>\u662f\u5bbf\u4e3b\u673a\u7684IP\u5730\u5740\uff0c\u540e\u9762\u7684\u7aef\u53e3\u53f7\u5206\u522b\u5bf9\u5e94\u6bcf\u4e2a\u8282\u70b9\u7684Redis\u7aef\u53e3\u53f7\u3002<code>--cluster-replicas 1</code>\u8868\u793a\u4e3a\u6bcf\u4e2a\u4e3b\u8282\u70b9\u521b\u5efa\u4e00\u4e2a\u4ece\u8282\u70b9\u3002</p> <ol> <li> <p>\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0cRedis\u4f1a\u5c1d\u8bd5\u81ea\u52a8\u8fdb\u884c\u4e3b\u4ece\u8282\u70b9\u7684\u5206\u914d\u3002\u7531\u4e8e\u6211\u4eec\u5728Docker\u5bb9\u5668\u4e2d\u4f7f\u7528\u7684IP\u5730\u5740\u76f8\u540c\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u8b66\u544a\uff0c\u4f46\u53ef\u4ee5\u5ffd\u7565\u8be5\u8b66\u544a\u3002</p> </li> <li> <p>\u5f53Redis\u5b8c\u6210\u81ea\u52a8\u5206\u914d\u540e\uff0c\u4f1a\u663e\u793a\u5206\u914d\u7ed3\u679c\uff0c\u9700\u8981\u8f93\u5165<code>Yes</code>\u786e\u8ba4\u914d\u7f6e\u4fe1\u606f\u3002</p> </li> </ol> Bash<pre><code>&gt;&gt;&gt; Performing hash slots allocation on 6 nodes...\nMaster[0] -&gt; Slots 0 - 5460\nMaster[1] -&gt; Slots 5461 - 10922\nMaster[2] -&gt; Slots 10923 - 16383\nAdding replica 192.168.31.223:6385 to 192.168.31.223:6381\nAdding replica 192.168.31.223:6386 to 192.168.31.223:6382\nAdding replica 192.168.31.223:6384 to 192.168.31.223:6383\n&gt;&gt;&gt; Trying to optimize slaves allocation for anti-affinity\n[WARNING] Some slaves are in the same host as their master\nM: 0c54ff47b1cb373485bfbdd964a618ecea76bb29 192.168.31.223:6381   slots:[0-5460] (5461 slots) master\nM: 703a1f294087c009d04eda5acf2c4255ce14c28a 192.168.31.223:6382   slots:[5461-10922] (5462 slots) master\nM: 30e2409b3031a0c927efe75b56909bec5281c3d8 192.168.31.223:6383   slots:[10923-16383] (5461 slots) master\nS: 03d3bd91c1df1e618a5b887b24b510466efa55a3 192.168.31.223:6384   replicates 30e2409b3031a0c927efe75b56909bec5281c3d8\nS: fef4eee9045d7c434c3f22b36eb16391f1078f59 192.168.31.223:6385   replicates 0c54ff47b1cb373485bfbdd964a618ecea76bb29\nS: 44950ffde9147011c424e906a0e1f001c1c17a71 192.168.31.223:6386   replicates 703a1f294087c009d04eda5acf2c4255ce14c28a\nCan I set the above configuration? (type 'yes' to accept): yes\n</code></pre> <ol> <li>\u5728\u786e\u8ba4\u914d\u7f6e\u4fe1\u606f\u540e\uff0cRedis\u4f1a\u5411\u5176\u4ed6\u8282\u70b9\u53d1\u9001\u4fe1\u606f\u52a0\u5165\u96c6\u7fa4\uff0c\u5e76\u5206\u914d\u54c8\u5e0c\u69fd\u3002</li> </ol> Bash<pre><code>&gt;&gt;&gt; Nodes configuration updated\n&gt;&gt;&gt; Assign a different config epoch to each node\n&gt;&gt;&gt; Sending CLUSTER MEET messages to join the cluster\nWaiting for the cluster to join ...\n&gt;&gt;&gt; Performing Cluster Check (using node 192.168.31.223:6381)\nM: 0c54ff47b1cb373485bfbdd964a618ecea76bb29 192.168.31.223:6381   slots:[0-5460] (5461 slots) master   1 additional replica(s)\nM: 703a1f294087c009d04eda5acf2c4255ce14c28a 192.168.31.223:6382   slots:[5461-10922] (5462 slots) master   1 additional replica(s)\nS: 03d3bd91c1df1e618a5b887b24b510466efa55a3 192.168.31.223:6384   slots: (0 slots) slave   replicates 30e2409b3031a0c927efe75b56909bec5281c3d8\nS: 44950ffde9147011c424e906a0e1f001c1c17a71 192.168.31.223:6386   slots: (0 slots) slave   replicates 703a1f294087c009d04eda5acf2c4255ce14c28a\nM: 30e2409b3031a0c927efe75b56909bec5281c3d8 192.168.31.223:6383   slots:[10923-16383] (5461 slots) master   1 additional replica(s)\nS: fef4eee9045d7c434c3f22b36eb16391f1078f59 192.168.31.223:6385   slots: (0 slots) slave   replicates 0c54ff47b1cb373485bfbdd964a618ecea76bb29\n[OK] All nodes agree about slots configuration.\n&gt;&gt;&gt; Check for open slots...\n&gt;&gt;&gt; Check slots coverage...\n[OK] All 16384 slots covered.\n</code></pre> <p>\u5b8c\u6210\u4ee5\u4e0a\u6b65\u9aa4\u540e\uff0c\u4f60\u5c06\u6210\u529f\u6784\u5efa\u4e86\u4e00\u4e2a\u5305\u542b3\u4e2a\u4e3b\u8282\u70b9\u548c3\u4e2a\u4ece\u8282\u70b9\u7684Redis\u96c6\u7fa4\uff0c\u5e76\u5b8c\u6210\u4e86\u4e3b\u4ece\u5173\u7cfb\u7684\u914d\u7f6e\u3002\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u8981\u4fee\u6539\u547d\u4ee4\u4e2d\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u53f7\u6765\u9002\u5e94\u4f60\u7684\u73af\u5883\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#3\u67e5\u770b\u96c6\u7fa4\u72b6\u6001","title":"3\u3001\u67e5\u770b\u96c6\u7fa4\u72b6\u6001","text":"<p>\u67e5\u770b\u96c6\u7fa4\u72b6\u6001\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u8fdb\u5165\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\uff08\u8fd9\u91cc\u4ee5\u8282\u70b91\u4e3a\u4f8b\uff09\uff1a</li> </ol> Bash<pre><code>docker exec -it redis-node-1 /bin/bash\n</code></pre> <ol> <li>\u5728\u8282\u70b91\u7684\u5bb9\u5668\u4e2d\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fde\u63a5\u5230\u8282\u70b91\u7684Redis\u5b9e\u4f8b\uff08\u7aef\u53e3\u53f7\u4e3a6381\uff09\uff1a</li> </ol> Bash<pre><code>redis-cli -p 6381\n</code></pre> <ol> <li>\u4f7f\u7528Redis\u7684\u76f8\u5173\u547d\u4ee4\u6765\u67e5\u770b\u96c6\u7fa4\u72b6\u6001\uff1a</li> </ol> Bash<pre><code>cluster info\n</code></pre> <p>\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u5c06\u663e\u793a\u96c6\u7fa4\u7684\u72b6\u6001\u4fe1\u606f\uff0c\u5305\u62ec\u5206\u914d\u7684\u54c8\u5e0c\u69fd\u6570\u91cf\u3001\u96c6\u7fa4\u8282\u70b9\u6570\u91cf\u7b49\uff1a</p> Text Only<pre><code>cluster_state:ok\ncluster_slots_assigned:16384\ncluster_slots_ok:16384\ncluster_slots_pfail:0\ncluster_slots_fail:0\ncluster_known_nodes:6\ncluster_size:3\ncluster_current_epoch:6\ncluster_my_epoch:1\ncluster_stats_messages_ping_sent:560\ncluster_stats_messages_pong_sent:564\ncluster_stats_messages_sent:1124\ncluster_stats_messages_ping_received:559\ncluster_stats_messages_pong_received:560\ncluster_stats_messages_meet_received:5\ncluster_stats_messages_received:1124\n</code></pre> <ol> <li>\u5982\u679c\u60f3\u67e5\u770b\u96c6\u7fa4\u7684\u8282\u70b9\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</li> </ol> Bash<pre><code>cluster nodes\n</code></pre> <p>\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u5c06\u663e\u793a\u96c6\u7fa4\u4e2d\u6240\u6709\u8282\u70b9\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u8282\u70b9\u7684ID\u3001IP\u5730\u5740\u3001\u7aef\u53e3\u53f7\u7b49\u3002</p> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u53ef\u4ee5\u67e5\u770bRedis\u96c6\u7fa4\u7684\u72b6\u6001\u4fe1\u606f\u548c\u8282\u70b9\u4fe1\u606f\uff0c\u4ee5\u786e\u4fdd\u96c6</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#4\u96c6\u7fa4\u8bfb\u5199\u51fa\u9519","title":"4\u3001\u96c6\u7fa4\u8bfb\u5199\u51fa\u9519","text":"<p>\u5904\u7406\u96c6\u7fa4\u8bfb\u5199\u51fa\u9519\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u8fdb\u5165\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\uff08\u8fd9\u91cc\u4ee5\u8282\u70b91\u4e3a\u4f8b\uff09\uff1a</li> </ol> Bash<pre><code>docker exec -it redis-node-1 /bin/bash\n</code></pre> <ol> <li>\u5728\u8282\u70b91\u7684\u5bb9\u5668\u4e2d\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fde\u63a5\u5230\u8282\u70b91\u7684Redis\u5b9e\u4f8b\uff08\u7aef\u53e3\u53f7\u4e3a6381\uff09\uff0c\u5e76\u4e0d\u52a0<code>-c</code>\u53c2\u6570\uff1a</li> </ol> Bash<pre><code>redis-cli -p 6381\n</code></pre> <ol> <li>\u5728\u6ca1\u6709\u4f7f\u7528<code>-c</code>\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u5c1d\u8bd5\u5411Redis\u4e2d\u6dfb\u52a0\u952e\u503c\u5bf9\uff0c\u53ef\u80fd\u4f1a\u6210\u529f\uff0c\u4e5f\u53ef\u80fd\u4f1a\u5931\u8d25\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</li> </ol> Bash<pre><code>set k1 v1\n</code></pre> <p>\u5982\u679c\u952e<code>k1</code>\u7ecf\u8fc7\u8ba1\u7b97\u5f97\u5230\u7684\u54c8\u5e0c\u69fd\u4e3a12706\uff0c\u4f46\u5f53\u524d\u8fde\u63a5\u7684Redis\u670d\u52a1\u5668\u4e3a6381\uff08\u5373\u8282\u70b91\uff09\uff0c\u5b83\u7684\u54c8\u5e0c\u69fd\u8303\u56f4\u662f[0,5460]\uff08\u5728\u521b\u5efa\u6784\u5efa\u4e3b\u4ece\u5173\u7cfb\u65f6Redis\u6709\u63d0\u793a\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>cluster nodes</code>\u67e5\u770b\uff09\uff0c\u56e0\u6b64\u4f1a\u56e0\u4e3a\u4e0d\u5728\u8303\u56f4\u5185\u800c\u62a5\u9519\u3002\u800c\u6267\u884c<code>set k2 v2</code>\u53ef\u4ee5\u6210\u529f\uff0c\u56e0\u4e3a<code>k2</code>\u8ba1\u7b97\u51fa\u7684\u54c8\u5e0c\u69fd\u5728[0-5460]\u8303\u56f4\u4e2d\u3002</p> Text Only<pre><code>127.0.0.1:6381&gt; set k1 v1\n(error) MOVED 12706 192.168.31.223:6383\n127.0.0.1:6381&gt; set k2 v2\nOK\n</code></pre> <ol> <li>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u9700\u8981\u4f7f\u7528\u5e26\u6709<code>-c</code>\u53c2\u6570\u7684<code>redis-cli</code>\u547d\u4ee4\u6765\u8fde\u63a5\u96c6\u7fa4\u3002<code>-c</code>\u8868\u793a\u8fde\u63a5\u5230\u96c6\u7fa4\uff0c\u53ef\u4ee5\u6b63\u5e38\u5730\u63d2\u5165\u6240\u6709\u6570\u636e\u3002\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</li> </ol> Bash<pre><code>redis-cli -p 6381 -c\n</code></pre> <p>\u8fde\u63a5\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u6267\u884c\u547d\u4ee4\u63d2\u5165\u6570\u636e\uff0c\u4f8b\u5982\uff1a</p> Bash<pre><code>127.0.0.1:6381&gt; set k1 v1\n-&gt; Redirected to slot [12706] located at 192.168.31.223:6383\nOK\n</code></pre> <p>\u4f1a\u6709\u63d0\u793a\u4fe1\u606f\u663e\u793a\uff0c\u54c8\u5e0c\u69fd\u4e3a12706\uff0c\u91cd\u5b9a\u5411\u52306383\uff08\u5373\u8282\u70b93\uff0c\u54c8\u5e0c\u69fd\u8303\u56f4\u4e3a[10923, 16383]\uff09\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u6210\u529f\u5730\u63d2\u5165\u6570\u636e\u4e86\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#5\u68c0\u67e5\u96c6\u7fa4\u4fe1\u606f","title":"5\u3001\u68c0\u67e5\u96c6\u7fa4\u4fe1\u606f","text":"<p>\u4ee5\u4e0b\u662f\u68c0\u67e5\u96c6\u7fa4\u4fe1\u606f\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u8fdb\u5165\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\uff08\u8fd9\u91cc\u4ee5\u8282\u70b91\u4e3a\u4f8b\uff09\uff1a</li> </ol> Bash<pre><code>docker exec -it redis-node-1 /bin/bash\n</code></pre> <ol> <li>\u5728\u8282\u70b91\u7684\u5bb9\u5668\u4e2d\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u68c0\u67e5\u96c6\u7fa4\u4fe1\u606f\uff1a</li> </ol> Bash<pre><code>redis-cli --cluster check 192.168.xxx.xxx:6381\n</code></pre> <p>\u5176\u4e2d\uff0c<code>192.168.xxx.xxx:6381</code>\u662f\u4efb\u610f\u4e00\u4e2a\u4e3b\u8282\u70b9\u7684\u5730\u5740\uff0c\u53ef\u4ee5\u9009\u62e9\u5176\u4e2d\u4e00\u4e2a\u4e3b\u8282\u70b9\u8fdb\u884c\u68c0\u67e5\u3002</p> <ol> <li>\u6267\u884c\u4ee5\u4e0a\u547d\u4ee4\u540e\uff0c\u5c06\u8fd4\u56de\u96c6\u7fa4\u7684\u68c0\u67e5\u7ed3\u679c\u3002\u4f8b\u5982\uff1a</li> </ol> Bash<pre><code>192.168.31.223:6381 (0c54ff47...) -&gt; 1 keys | 5461 slots | 1 slaves.\n192.168.31.223:6382 (703a1f29...) -&gt; 0 keys | 5462 slots | 1 slaves.\n192.168.31.223:6383 (30e2409b...) -&gt; 1 keys | 5461 slots | 1 slaves.\n[OK] 2 keys in 3 masters. 0.00 keys per slot on average.\n</code></pre> <p>\u8be5\u7ed3\u679c\u663e\u793a\u4e86\u6bcf\u4e2a\u8282\u70b9\u5b58\u50a8\u7684\u952e\u7684\u6570\u91cf\u3001\u54c8\u5e0c\u69fd\u7684\u5206\u5e03\u60c5\u51b5\u4ee5\u53ca\u4ece\u8282\u70b9\u7684\u6570\u91cf\u3002</p> <ol> <li>\u68c0\u67e5\u4e3b\u4ece\u5173\u7cfb\u7684\u4fe1\u606f\uff0c\u6267\u884c\u4ee5\u4e0a\u547d\u4ee4\u540e\u4f1a\u663e\u793a\u4e3b\u4ece\u8282\u70b9\u7684\u4fe1\u606f\uff0c\u4f8b\u5982\uff1a</li> </ol> Bash<pre><code>&gt;&gt;&gt; Performing Cluster Check (using node 192.168.31.223:6381)\nM: 0c54ff47b1cb373485bfbdd964a618ecea76bb29 192.168.31.223:6381   slots:[0-5460] (5461 slots) master   1 additional replica(s)\nM: 703a1f294087c009d04eda5acf2c4255ce14c28a 192.168.31.223:6382   slots:[5461-10922] (5462 slots) master   1 additional replica(s)\nS: 03d3bd91c1df1e618a5b887b24b510466efa55a3 192.168.31.223:6384   slots: (0 slots) slave   replicates 30e2409b3031a0c927efe75b56909bec5281c3d8\nS: 44950ffde9147011c424e906a0e1f001c1c17a71 192.168.31.223:6386   slots: (0 slots) slave   replicates 703a1f294087c009d04eda5acf2c4255ce14c28a\nM: 30e2409b3031a0c927efe75b56909bec5281c3d8 192.168.31.223:6383   slots:[10923-16383] (5461 slots) master   1 additional replica(s)\nS: fef4eee9045d7c434c3f22b36eb16391f1078f59 192.168.31.223:6385   slots: (0 slots) slave   replicates 0c54ff47b1cb373485bfbdd964a618ecea76bb29\n</code></pre> <p>\u8be5\u7ed3\u679c\u663e\u793a\u4e86\u6bcf\u4e2a\u8282\u70b9\u7684\u89d2\u8272\uff08\u4e3b\u8282\u70b9\u6216\u4ece\u8282\u70b9\uff09\u3001\u54c8\u5e0c\u69fd\u7684\u8303\u56f4\u3001\u4ece\u8282\u70b9\u7684\u590d\u5236\u5173\u7cfb\u7b49\u4fe1\u606f\u3002</p> <ol> <li>\u6700\u540e\uff0c\u68c0\u67e5\u54c8\u5e0c\u69fd\u7684\u8986\u76d6\u60c5\u51b5\uff0c\u6267\u884c\u4ee5\u4e0a\u547d\u4ee4\u540e\u4f1a\u663e\u793a\u54c8\u5e0c\u69fd\u7684\u8986\u76d6\u60c5\u51b5\uff0c\u4f8b\u5982\uff1a</li> </ol> Bash<pre><code>&gt;&gt;&gt; Check for open slots...\n&gt;&gt;&gt; Check slots coverage...\n[OK] All 16384 slots covered.\n</code></pre> <p>\u8be5\u7ed3\u679c\u8868\u793a\u6240\u6709\u768416384\u4e2a\u54c8\u5e0c\u69fd\u90fd\u88ab\u8986\u76d6\u4e86\uff0c\u6ca1\u6709\u672a\u5206\u914d\u7684\u54c8\u5e0c\u69fd\u3002</p> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u53ef\u4ee5\u68c0\u67e5\u96c6\u7fa4\u7684\u4fe1\u606f\u3001\u4e3b\u4ece\u5173\u7cfb\u4ee5\u53ca\u54c8\u5e0c\u69fd\u7684\u8986\u76d6\u60c5\u51b5\uff0c\u786e\u4fdd\u96c6\u7fa4\u6b63\u5e38\u8fd0\u884c\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#6\u4e3b\u4ece\u6269\u5bb9","title":"6\u3001\u4e3b\u4ece\u6269\u5bb9","text":"<p>\u5047\u8bbe\u7531\u4e8e\u4e1a\u52a1\u91cf\u6fc0\u589e\uff0c\u9700\u8981\u5c06\u5f53\u524d\u76843\u4e3b3\u4ece\u96c6\u7fa4\u6269\u5bb9\uff0c\u52a0\u51651\u4e2a\u4e3b\u8282\u70b9\u548c1\u4e2a\u4ece\u8282\u70b9\u3002</p> <p>\u4ee5\u4e0b\u662f\u5177\u4f53\u64cd\u4f5c\u6b65\u9aa4\uff1a</p> <ol> <li>\u542f\u52a8\u4e24\u4e2a\u65b0\u7684\u5bb9\u5668\u8282\u70b9\u3002</li> </ol> Text Only<pre><code># \u542f\u52a8\u7b2c7\u53f0\u8282\u70b9\ndocker run -d --name redis-node-7 --net host --privileged=true -v /app/redis-cluster/share/redis-node-7:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6387\n\n# \u542f\u52a8\u7b2c8\u53f0\u8282\u70b9\ndocker run -d --name redis-node-8 --net host --privileged=true -v /app/redis-cluster/share/redis-node-8:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6388\n</code></pre> <ol> <li>\u8fdb\u51656387\u8282\u70b9\uff08\u7b2c7\u53f0\u8282\u70b9\uff09\u7684\u5bb9\u5668\u5185\u90e8\u3002</li> </ol> Text Only<pre><code>docker exec -it redis-node-7 /bin/bash\n</code></pre> <ol> <li>\u5c066387\u8282\u70b9\u4f5c\u4e3a\u4e3b\u8282\u70b9\u52a0\u5165\u96c6\u7fa4\u3002</li> </ol> Text Only<pre><code># \u4f7f\u7528redis-cli\u547d\u4ee4\u5c06\u672c\u8282\u70b9\u52a0\u5165\u5230\u96c6\u7fa4\u4e2d\u7684\u4efb\u4e00\u8282\u70b9\nredis-cli --cluster add-node 192.168.xxx.xxx:6387 192.168.xxx.xxx:6381\n</code></pre> <p>\u8fd9\u91cc\u7684<code>192.168.xxx.xxx:6387</code>\u662f\u5f53\u524d\u8282\u70b9\u7684\u5730\u5740\uff0c\u800c<code>192.168.xxx.xxx:6381</code>\u662f\u96c6\u7fa4\u4e2d\u7684\u4efb\u4e00\u8282\u70b9\u5730\u5740\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u4e0a\u8ff0\u6b65\u9aa4\u4e2d\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u53f7\u9700\u8981\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u8fdb\u884c\u66ff\u6362\u3002\u53e6\u5916\uff0c\u5bf9\u4e8e\u7b2c8\u53f0\u8282\u70b9\uff0c\u53ef\u4ee5\u6309\u7167\u76f8\u4f3c\u7684\u6b65\u9aa4\u5c06\u5176\u52a0\u5165\u96c6\u7fa4\u3002\u5b8c\u6210\u8fd9\u4e9b\u6b65\u9aa4\u540e\uff0c\u4f60\u5c06\u6210\u529f\u6269\u5bb9\u4e3b\u4ece\u96c6\u7fa4\u3002</p> <ol> <li>\u68c0\u67e5\u5f53\u524d\u96c6\u7fa4\u72b6\u6001</li> </ol> <p>\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u68c0\u67e5\u96c6\u7fa4\u7684\u72b6\u6001\uff1a</p> Text Only<pre><code>redis-cli --cluster check 192.168.xxx.xxx:6381\n</code></pre> <p>\u8fd9\u5c06\u663e\u793a\u96c6\u7fa4\u7684\u72b6\u6001\u4fe1\u606f\u3002\u5728\u8fd9\u91cc\uff0c\u4f60\u53ef\u4ee5\u53d1\u73b06387\u8282\u70b9\u5df2\u7ecf\u4f5c\u4e3a\u4e3b\u8282\u70b9\u6210\u529f\u52a0\u5165\u4e86\u96c6\u7fa4\uff0c\u4f46\u662f\u8be5\u8282\u70b9\u5c1a\u672a\u88ab\u5206\u914d\u4efb\u4f55\u69fd\u4f4d\u3002</p> <ol> <li>\u91cd\u65b0\u5206\u914d\u96c6\u7fa4\u7684\u69fd\u4f4d</li> </ol> <p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u91cd\u65b0\u5206\u914d\u96c6\u7fa4\u7684\u69fd\u4f4d\uff1a</p> Text Only<pre><code>redis-cli --cluster reshard 192.168.xxx.xxx:6381\n</code></pre> <p>\u6267\u884c\u6b64\u547d\u4ee4\u540e\uff0cRedis\u4f1a\u63d0\u793a\u4f60\u9700\u8981\u5206\u914d\u7684\u69fd\u4f4d\u6570\u91cf\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u4f60\u73b0\u5728\u67094\u4e2a\u4e3b\u8282\u70b9\uff0c\u4f60\u60f3\u7ed9node7\u5206\u914d4096\u4e2a\u69fd\u4f4d\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u8282\u70b9\u90fd\u67094096\u4e2a\u69fd\u4f4d\u3002\u8f93\u51654096\u540e\uff0cRedis\u4f1a\u8981\u6c42\u4f60\u8f93\u5165\u8981\u63a5\u6536\u8fd9\u4e9b\u54c8\u5e0c\u69fd\u4f4d\u7684\u8282\u70b9ID\uff0c\u586b\u5165node7\u7684\u8282\u70b9ID\uff08\u8282\u70b9ID\u662f\u4e00\u957f\u4e32\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u4e32\uff0c\u59820abc6c68790b604e8a418a3f6f3bfd4ef442a3a0\uff09\u5373\u53ef\u3002</p> <p>\u63a5\u4e0b\u6765\uff0cRedis\u4f1a\u8be2\u95ee\u4f60\u4ece\u54ea\u4e9b\u8282\u70b9\u4e2d\u62e8\u51fa\u4e00\u90e8\u5206\u69fd\u4f4d\u6765\u51d1\u8db34096\u4e2a\u69fd\u4f4d\uff0c\u4ee5\u5206\u914d\u7ed9Node7\u3002\u4e00\u822c\u9009\u62e9\u201dall\u201d\uff0c\u5373\u5c06\u4e4b\u524d\u76843\u4e2a\u4e3b\u8282\u70b9\u7684\u69fd\u4f4d\u5747\u5300\u5206\u914d\u7ed9Node7\uff0c\u4ee5\u5b9e\u73b0\u6bcf\u4e2a\u8282\u70b9\u7684\u69fd\u4f4d\u6570\u5747\u8861\u3002\u8f93\u5165\u201dall\u201d\u540e\uff0cRedis\u4f1a\u5217\u51fa\u4e00\u4e2a\u8ba1\u5212\uff0c\u663e\u793a\u81ea\u52a8\u4ece\u524d\u9762\u76843\u4e2a\u4e3b\u8282\u70b9\u4e2d\u62e8\u51fa\u4e00\u90e8\u5206\u69fd\u4f4d\u5206\u914d\u7ed9Node7\u3002\u4f60\u9700\u8981\u786e\u8ba4\u6b64\u5206\u914d\u8ba1\u5212\u3002\u8f93\u5165\u201dyes\u201d\u786e\u8ba4\u540e\uff0cRedis\u5c06\u81ea\u52a8\u91cd\u65b0\u5206\u914d\u69fd\u4f4d\uff0c\u5c06\u5176\u5206\u914d\u7ed9Node7\u3002</p> <p>\u5b8c\u6210\u4ee5\u4e0a\u6b65\u9aa4\u540e\uff0cRedis\u4f1a\u91cd\u65b0\u6d17\u724c\u5e76\u5206\u914d\u69fd\u4f4d\uff0c\u786e\u4fddNode7\u83b7\u5f97\u4e86\u76f8\u5e94\u7684\u69fd\u4f4d\u3002</p> <p>\u91cd\u65b0\u5206\u914d\u5b8c\u6210\u540e\uff0c\u4f60\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u96c6\u7fa4\u4fe1\u606f\uff0c\u67e5\u770b\u69fd\u4f4d\u7684\u91cd\u65b0\u5206\u914d\u7ed3\u679c\uff1a</p> Text Only<pre><code>redis-cli --cluster check 192.168.xxx.xxx:6381\n</code></pre> <p>\u8fd0\u884c\u8be5\u547d\u4ee4\u540e\uff0c\u4f60\u5c06\u770b\u5230\u69fd\u4f4d\u7684\u91cd\u65b0\u5206\u914d\u60c5\u51b5\u3002\u4f8b\u5982\uff1a</p> Text Only<pre><code>192.168.31.223:6381 (0c54ff47...) -&gt; 0 keys | 4096 slots | 1 slaves.\n192.168.31.223:6382 (703a1f29...) -&gt; 0 keys | 4096 slots | 1 slaves.\n192.168.31.223:6383 (30e2409b...) -&gt; 1 keys | 4096 slots | 1 slaves.\n192.168.31.223:6387 (0abc6c68...) -&gt; 1 keys | 4096 slots | 0 slaves.\n\n[OK] 2 keys in 4 masters. 0.00 keys per slot on average.\n</code></pre> <p>\u8fd9\u91cc\u663e\u793a\u4e86\u6bcf\u4e2a\u8282\u70b9\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u8282\u70b9\u7684IP\u5730\u5740\u3001\u7aef\u53e3\u53f7\u3001\u8282\u70b9ID\u4ee5\u53ca\u5206\u914d\u7684\u69fd\u4f4d\u60c5\u51b5\u3002\u4f60\u53ef\u4ee5\u6839\u636e\u8fd9\u4e9b\u4fe1\u606f\u786e\u8ba4\u69fd\u4f4d\u7684\u91cd\u65b0\u5206\u914d\u7ed3\u679c\u3002</p> <p>\u6700\u540e\uff0cRedis\u4f1a\u8fdb\u884c\u4e00\u6b21\u96c6\u7fa4\u68c0\u67e5\uff0c\u786e\u4fdd\u69fd\u4f4d\u7684\u5206\u914d\u6ca1\u6709\u95ee\u9898\u3002</p> Text Only<pre><code>&gt;&gt;&gt; Performing Cluster Check (using node 192.168.31.223:6381)\nM: 0c54ff47b1cb373485bfbdd964a618ecea76bb29 192.168.31.223:6381   slots:[1365-5460] (4096 slots) master   1 additional replica(s)\nM: 703a1f294087c009d04eda5acf2c4255ce14c28a 192.168.31.223:6382   slots:[6827-10922] (4096 slots) master   1 additional replica(s)\nS: 03d3bd91c1df1e618a5b887b24b510466efa55a3 192.168.31.223:6384   slots: (0 slots) slave   replicates 30e2409b3031a0c927efe75b56909bec5281c3d8\nS: 44950ffde9147011c424e906a0e1f001c1c17a71 192.168.31.223:6386   slots: (0 slots) slave   replicates 703a1f294087c009d04eda5acf2c4255ce14c28a\nM: 30e2409b3031a0c927efe75b56909bec5281c3d8 192.168.31.223:6383   slots:[12288-16383] (4096 slots) master   1 additional replica(s)\nM: 0abc6c68790b604e8a418a3f6f3bfd4ef442a3a0 192.168.31.223:6387    #\u8282\u70b9id\uff1a0abc6c68790b604e8a418a3f6f3bfd4ef442a3a0   slots:[0-1364],[5461-6826],[10923-12287] (4096 slots) master\nS: fef4eee9045d7c434c3f22b36eb16391f1078f59 192.168.31.223:6385   slots: (0 slots) slave   replicates 0c54ff47b1cb373485bfbdd964a618ecea76bb29\n\n[OK] All nodes agree about slots configuration.\n</code></pre> <p>\u8fd9\u91cc\u663e\u793a\u4e86\u6bcf\u4e2a\u8282\u70b9\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u4e3b\u8282\u70b9\u3001\u4ece\u8282\u70b9\u3001\u69fd\u4f4d\u8303\u56f4\u7b49\u3002\u6700\u540e\uff0cRedis\u4f1a\u68c0\u67e5\u662f\u5426\u5b58\u5728\u672a\u5206\u914d\u7684\u69fd\u4f4d\u4ee5\u53ca\u69fd\u4f4d\u7684\u8986\u76d6\u60c5\u51b5\uff0c\u786e\u4fdd\u6240\u6709\u768416384\u4e2a\u69fd\u4f4d\u90fd\u5f97\u5230\u4e86\u8986\u76d6\u3002</p> <p>\u901a\u8fc7\u6267\u884c\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u5df2\u7ecf\u6210\u529f\u5730\u6269\u5bb9\u4e86\u4e3b\u4ece\u96c6\u7fa4\uff0c\u5e76\u91cd\u65b0\u5206\u914d\u4e86\u69fd\u4f4d\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u8282\u70b9\u90fd\u5177\u6709\u76f8\u7b49\u6570\u91cf\u7684\u69fd\u4f4d\u3002</p> <p>\u5982\u679c\u4f60\u60f3\u4e3a\u4e3b\u8282\u70b96387\u5206\u914d\u4ece\u8282\u70b96388\uff0c\u5e76\u4e14\u5e0c\u671b\u4ece\u524d\u4e09\u4e2a\u8282\u70b9\u4e2d\u5206\u914d\u4e00\u90e8\u5206\u69fd\u4f4d\u7ed9\u8282\u70b97\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06\u8282\u70b96388\u6dfb\u52a0\u5230\u96c6\u7fa4\u4e2d\u4f5c\u4e3a\u8282\u70b96387\u7684\u4ece\u8282\u70b9\uff1a</li> </ol> Text Only<pre><code>redis-cli --cluster add-node 192.168.xxx.xxx:6388 192.168.xxx.xxx:6387 --cluster-slave --cluster-master-id &lt;node7\u8282\u70b9\u7684ID&gt;\n</code></pre> <p>\u8fd9\u5c06\u4f7f\u8282\u70b96388\u52a0\u5165\u96c6\u7fa4\uff0c\u5e76\u6210\u4e3a\u8282\u70b96387\u7684\u4ece\u8282\u70b9\u3002Redis\u4f1a\u5411\u8282\u70b96388\u53d1\u9001\u6d88\u606f\uff0c\u4f7f\u5176\u52a0\u5165\u96c6\u7fa4\u5e76\u4e0e\u8282\u70b96387\u5efa\u7acb\u4e3b\u4ece\u590d\u5236\u5173\u7cfb\u3002</p> <ol> <li>\u63a5\u4e0b\u6765\uff0c\u4f60\u9700\u8981\u624b\u52a8\u5c06\u4e00\u90e8\u5206\u69fd\u4f4d\u4ece\u524d\u4e09\u4e2a\u8282\u70b9\u4e2d\u5206\u914d\u7ed9\u8282\u70b97\uff08\u5373\u8282\u70b96388\uff09\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06\u69fd\u4f4d\u4ece\u8282\u70b91\u3001\u8282\u70b92\u548c\u8282\u70b93\u4e2d\u8fc1\u79fb\u7ed9\u8282\u70b97\uff1a</li> </ol> Text Only<pre><code>redis-cli --cluster reshard 192.168.xxx.xxx:6381 --cluster-from &lt;node1\u8282\u70b9\u7684ID&gt; --cluster-to &lt;node7\u8282\u70b9\u7684ID&gt; --cluster-slots &lt;\u69fd\u4f4d\u6570\u91cf&gt; --cluster-yes\nredis-cli --cluster reshard 192.168.xxx.xxx:6381 --cluster-from &lt;node2\u8282\u70b9\u7684ID&gt; --cluster-to &lt;node7\u8282\u70b9\u7684ID&gt; --cluster-slots &lt;\u69fd\u4f4d\u6570\u91cf&gt; --cluster-yes\nredis-cli --cluster reshard 192.168.xxx.xxx:6381 --cluster-from &lt;node3\u8282\u70b9\u7684ID&gt; --cluster-to &lt;node7\u8282\u70b9\u7684ID&gt; --cluster-slots &lt;\u69fd\u4f4d\u6570\u91cf&gt; --cluster-yes\n</code></pre> <p>\u5728\u4e0a\u8ff0\u547d\u4ee4\u4e2d\uff0c\u5c06 <code>&lt;node1\u8282\u70b9\u7684ID&gt;</code>\u3001<code>&lt;node2\u8282\u70b9\u7684ID&gt;</code> \u548c <code>&lt;node3\u8282\u70b9\u7684ID&gt;</code> \u66ff\u6362\u4e3a\u5b9e\u9645\u8282\u70b91\u3001\u8282\u70b92\u548c\u8282\u70b93\u7684ID\u3002\u5c06 <code>&lt;node7\u8282\u70b9\u7684ID&gt;</code> \u66ff\u6362\u4e3a\u8282\u70b97\uff08\u5373\u8282\u70b96388\uff09\u7684ID\u3002<code>&lt;\u69fd\u4f4d\u6570\u91cf&gt;</code> \u662f\u4f60\u60f3\u8981\u8fc1\u79fb\u7684\u69fd\u4f4d\u6570\u91cf\u3002</p> <ol> <li>\u5b8c\u6210\u69fd\u4f4d\u8fc1\u79fb\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u96c6\u7fa4\u7684\u5f53\u524d\u72b6\u6001\uff1a</li> </ol> Text Only<pre><code>redis-cli --cluster check 192.168.xxx.xxx:6381\n</code></pre> <p>\u8fd9\u4e2a\u547d\u4ee4\u5c06\u663e\u793a\u96c6\u7fa4\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u6bcf\u4e2a\u8282\u70b9\u7684\u89d2\u8272\u3001\u69fd\u4f4d\u5206\u914d\u60c5\u51b5\u548c\u4ece\u8282\u70b9\u4fe1\u606f\u3002</p> <p>\u901a\u8fc7\u6267\u884c\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u53ef\u4ee5\u5c06\u8282\u70b96388\u6dfb\u52a0\u4e3a\u8282\u70b96387\u7684\u4ece\u8282\u70b9\uff0c\u5e76\u4ece\u524d\u4e09\u4e2a\u8282\u70b9\u4e2d\u8fc1\u79fb\u4e00\u90e8\u5206\u69fd\u4f4d\u7ed9\u8282\u70b96388\u3002\u6700\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>redis-cli --cluster check</code> \u547d\u4ee4\u6765\u9a8c\u8bc1\u96c6\u7fa4\u7684\u72b6\u6001\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#7\u4e3b\u4ece\u7f29\u5bb9","title":"7\u3001\u4e3b\u4ece\u7f29\u5bb9","text":"<p>\u5982\u679c\u4f60\u60f3\u5c06\u4e3b\u4ece\u96c6\u7fa4\u4ece4\u4e3b4\u4ece\u7f29\u5bb9\u52303\u4e3b3\u4ece\uff0c\u5e76\u79fb\u9664\u8282\u70b98\u548c\u8282\u70b97\uff0c\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <p>1. \u5220\u9664\u4ece\u8282\u70b96388\uff1a</p> <p>\u9996\u5148\uff0c\u8fdb\u5165\u5bb9\u5668\u8282\u70b91\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Text Only<pre><code>docker exec -it redis-node-1 /bin/bash\n</code></pre> <p>\u7136\u540e\uff0c\u68c0\u67e5\u5bb9\u5668\u72b6\u6001\uff0c\u83b7\u53d6\u8282\u70b96388\u7684\u8282\u70b9\u7f16\u53f7\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Text Only<pre><code>redis-cli --cluster check 192.168.xxx.xxx:6381\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06\u8282\u70b96388\u4ece\u96c6\u7fa4\u4e2d\u79fb\u9664\uff1a</p> Text Only<pre><code>redis-cli --cluster del-node 192.168.xxx.xxx:6388 &lt;6388\u8282\u70b9\u7f16\u53f7&gt;\n</code></pre> <p>\u8bf7\u5c06 <code>&lt;6388\u8282\u70b9\u7f16\u53f7&gt;</code> \u66ff\u6362\u4e3a\u5b9e\u9645\u7684\u8282\u70b96388\u7684\u7f16\u53f7\u3002</p> <p>2. \u5bf9\u8282\u70b97\u91cd\u65b0\u5206\u914d\u54c8\u5e0c\u69fd\uff1a</p> <p>\u9996\u5148\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5bf9\u96c6\u7fa4\u8fdb\u884c\u54c8\u5e0c\u69fd\u7684\u91cd\u65b0\u5206\u914d\uff1a</p> Text Only<pre><code>redis-cli --cluster reshard 192.168.xxx.xxx:6381\n</code></pre> <p>Redis\u4f1a\u63d0\u793a\u4f60\u8f93\u5165\u8981\u79fb\u52a8\u7684\u69fd\u4f4d\u6570\u91cf\u3002\u5982\u679c\u4f60\u60f3\u5c06\u8282\u70b97\u7684\u6240\u67094096\u4e2a\u54c8\u5e0c\u69fd\u90fd\u5206\u914d\u7ed9\u67d0\u4e2a\u8282\u70b9\uff0c\u53ef\u4ee5\u76f4\u63a5\u8f93\u51654096\u3002</p> <p>\u7136\u540e\uff0cRedis\u4f1a\u8981\u6c42\u4f60\u8f93\u5165\u8981\u63a5\u6536\u8fd9\u4e9b\u54c8\u5e0c\u69fd\u7684\u8282\u70b9ID\u3002\u5047\u8bbe\u4f60\u60f3\u5c06\u8fd94096\u4e2a\u69fd\u4f4d\u90fd\u5206\u914d\u7ed9\u8282\u70b91\uff0c\u76f4\u63a5\u8f93\u5165\u8282\u70b91\u7684\u7f16\u53f7\u5373\u53ef\u3002</p> <p>\u63a5\u4e0b\u6765\uff0cRedis\u4f1a\u8be2\u95ee\u4f60\u8981\u4ece\u54ea\u4e9b\u8282\u70b9\u4e2d\u79fb\u52a8\u4e00\u90e8\u5206\u69fd\u4f4d\u4ee5\u6ee1\u8db34096\u4e2a\u69fd\u4f4d\u5206\u914d\u7ed9\u8282\u70b91\u3002\u5728\u8fd9\u91cc\uff0c\u4f60\u9700\u8981\u8f93\u5165\u8282\u70b97\u7684\u8282\u70b9\u7f16\u53f7\uff0c\u7136\u540e\u6309\u56de\u8f66\uff0c\u6700\u540e\u8f93\u5165\u201ddone\u201d\u8868\u793a\u5b8c\u6210\u3002</p> <p>\u4e00\u65e6\u8282\u70b97\u4e0a\u6ca1\u6709\u54c8\u5e0c\u69fd\uff0c\u4f60\u5c31\u53ef\u4ee5\u5c06\u8282\u70b97\u4ece\u96c6\u7fa4\u4e2d\u79fb\u9664\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06\u8282\u70b97\u4ece\u96c6\u7fa4\u4e2d\u79fb\u9664\uff1a</p> Text Only<pre><code>redis-cli --cluster del-node 192.168.xxx.xxx:6387 &lt;node7\u8282\u70b9\u7f16\u53f7&gt;\n</code></pre> <p>\u8bf7\u5c06 <code>&lt;node7\u8282\u70b9\u7f16\u53f7&gt;</code> \u66ff\u6362\u4e3a\u5b9e\u9645\u7684\u8282\u70b97\u7684\u7f16\u53f7\u3002</p> <p>\u901a\u8fc7\u6267\u884c\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u53ef\u4ee5\u5c06\u4e3b\u4ece\u96c6\u7fa4\u4ece4\u4e3b4\u4ece\u7f29\u5bb9\u52303\u4e3b3\u4ece\uff0c\u5e76\u79fb\u9664\u8282\u70b98\u548c\u8282\u70b97\u3002\u8bf7\u786e\u4fdd\u5728\u79fb\u9664\u8282\u70b9\u4e4b\u524d\uff0c\u8282\u70b97\u4e0a\u6ca1\u6709\u4efb\u4f55\u54c8\u5e0c\u69fd\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#\u4e09\u81ea\u5b9a\u4e49\u914d\u7f6e\u6587\u4ef6\u542f\u52a8redis","title":"\u4e09\u3001\u81ea\u5b9a\u4e49\u914d\u7f6e\u6587\u4ef6\u542f\u52a8redis","text":"<p>redis\u4f7f\u7528\u81ea\u5b9a\u4e49\u914d\u7f6e\u6587\u4ef6\u542f\u52a8</p> <p>1\u3001\u521b\u5efa\u6301\u4e45\u5316\u6302\u8f7dredis\u914d\u7f6e\u6587\u4ef6</p> Text Only<pre><code>mkdir -p /data/docker/redis\nvim redis.conf\n\n#\u5199\u5165\u5185\u5bb9\uff1a\nappendonly yes\nrequirepass 123456\n</code></pre> <p>\u521b\u5efa\u6570\u636e\u6302\u8f7d\u76ee\u5f55</p> Text Only<pre><code>mkdir -p /data/docker/data\n</code></pre> <p>\u521b\u5efa\u65e5\u5fd7\u6302\u8f7d\u6587\u4ef6</p> Text Only<pre><code>touch /data/docker/redis/logs\n</code></pre> <p>\u542f\u52a8redis\u5bb9\u5668\u547d\u4ee4\uff1a</p> Text Only<pre><code>docker run -v /data/docker/redis/redis.conf:/etc/redis/redis.conf \\\n-v /data/docker/redis/data:/data \\\n-v /data/docker/redis/logs:/var/log/redis \\\n-d --name redis \\\n-p 6379:6379 \\\nredis:latest  redis-server /etc/redis/redis.conf\n</code></pre> <ul> <li><code>-v /data/docker/redis/redis.conf:/etc/redis/redis.conf</code>\uff1a\u4f7f\u7528\u5377\u6302\u8f7d\u529f\u80fd\uff0c\u5c06\u672c\u5730\u6587\u4ef6 <code>/data/docker/redis/redis.conf</code> \u6302\u8f7d\u5230\u5bb9\u5668\u5185\u7684 <code>/etc/redis/redis.conf</code> \u6587\u4ef6\u3002\u8fd9\u6837\u53ef\u4ee5\u5728\u5bb9\u5668\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684 Redis \u914d\u7f6e\u6587\u4ef6\u3002</li> <li><code>-v /data/docker/redis/data:/data</code>\uff1a\u4f7f\u7528\u5377\u6302\u8f7d\u529f\u80fd\uff0c\u5c06\u672c\u5730\u76ee\u5f55 <code>/data/docker/redis/data</code> \u6302\u8f7d\u5230\u5bb9\u5668\u5185\u7684 <code>/data</code> \u76ee\u5f55\u3002\u8fd9\u6837\u53ef\u4ee5\u5c06 Redis \u6570\u636e\u6301\u4e45\u5316\u5230\u672c\u5730\u76ee\u5f55\u3002</li> <li><code>-v /data/docker/redis/logs:/var/log/redis</code>\u6302\u8f7d\u672c\u5730\u76ee\u5f55 /data/docker/redis/logs \u5230\u5bb9\u5668\u5185\u7684 Redis \u65e5\u5fd7\u6587\u4ef6\u4f4d\u7f6e /var/log/redis</li> <li><code>-d</code>\uff1a\u4ee5\u540e\u53f0\u6a21\u5f0f\u8fd0\u884c\u5bb9\u5668\u3002</li> <li><code>--name myredis</code>\uff1a\u4e3a\u5bb9\u5668\u6307\u5b9a\u4e00\u4e2a\u540d\u79f0\uff0c\u8fd9\u91cc\u662f \u201cmyredis\u201d\u3002</li> <li><code>-p 6379:6379</code>\uff1a\u5c06\u5bb9\u5668\u5185\u7684\u7aef\u53e3 6379 \u6620\u5c04\u5230\u4e3b\u673a\u7684\u7aef\u53e3 6379\u3002\u8fd9\u6837\u53ef\u4ee5\u901a\u8fc7\u4e3b\u673a\u7684\u7aef\u53e3\u8bbf\u95ee Redis \u670d\u52a1\u3002</li> <li><code>redis:latest</code>\uff1a\u57fa\u4e8e Redis \u955c\u50cf\u8fd0\u884c\u5bb9\u5668\uff0c\u4f7f\u7528\u6700\u65b0\u7684\u6807\u7b7e\u3002</li> <li><code>redis-server /etc/redis/redis.conf</code>\uff1a\u5728\u5bb9\u5668\u5185\u90e8\u6267\u884c\u7684\u547d\u4ee4\uff0c\u542f\u52a8 Redis \u670d\u52a1\u5e76\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u4e3a <code>/etc/redis/redis.conf</code>\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#\u56dbredis\u5ba2\u6237\u7aef\u8fde\u63a5","title":"\u56db\u3001redis\u5ba2\u6237\u7aef\u8fde\u63a5","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2redis/#\u4e94\u6269\u5c55\u5185\u5bb9","title":"\u4e94\u3001\u6269\u5c55\u5185\u5bb9","text":"<ol> <li> <p>Redis\u9ad8\u53ef\u7528\u90e8\u7f72\uff1a\u4ecb\u7ecdRedis Sentinel\u548cRedis Cluster\u4e24\u79cd\u5e38\u89c1\u7684\u9ad8\u53ef\u7528\u90e8\u7f72\u65b9\u6848\uff0c\u4ee5\u4fdd\u8bc1Redis\u7684\u53ef\u9760\u6027\u548c\u5bb9\u9519\u6027\u3002</p> </li> <li> <p>Redis\u6301\u4e45\u5316\u914d\u7f6e\uff1a\u8be6\u7ec6\u4ecb\u7ecdRedis\u7684\u6301\u4e45\u5316\u673a\u5236\uff0c\u5305\u62ecRDB\u5feb\u7167\u548cAOF\u65e5\u5fd7\uff0c\u4ee5\u53ca\u5982\u4f55\u6839\u636e\u5b9e\u9645\u9700\u6c42\u8fdb\u884c\u914d\u7f6e\u3002</p> </li> <li> <p>Redis\u6027\u80fd\u4f18\u5316\uff1a\u63d0\u4f9b\u4e00\u4e9b\u5e38\u89c1\u7684Redis\u6027\u80fd\u4f18\u5316\u6280\u5de7\uff0c\u5305\u62ec\u4f7f\u7528\u8fde\u63a5\u6c60\u3001\u5408\u7406\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u3001\u4f18\u5316\u6570\u636e\u7ed3\u6784\u7b49\u3002</p> </li> <li> <p>Redis\u5e94\u7528\u573a\u666f\uff1a\u4ecb\u7ecdRedis\u5728\u7f13\u5b58\u3001\u961f\u5217\u3001\u5b9e\u65f6\u5206\u6790\u7b49\u573a\u666f\u4e2d\u7684\u5e94\u7528\uff0c\u5e76\u63d0\u4f9b\u76f8\u5e94\u7684\u6700\u4f73\u5b9e\u8df5\u548c\u793a\u4f8b\u4ee3\u7801\u3002</p> </li> <li> <p>Redis\u5b89\u5168\u914d\u7f6e\uff1a\u8bb2\u89e3\u5982\u4f55\u4fdd\u62a4Redis\u7684\u5b89\u5168\uff0c\u5305\u62ec\u5bc6\u7801\u8ba4\u8bc1\u3001\u7f51\u7edc\u8bbf\u95ee\u63a7\u5236\u7b49\u65b9\u9762\u7684\u914d\u7f6e\u3002</p> </li> </ol> <p>\u901a\u8fc7\u5bf9\u8fd9\u4e9b\u6269\u5c55\u5185\u5bb9\u7684\u6574\u7406\u548c\u6269\u5c55\uff0c\u53ef\u4ee5\u5e2e\u52a9\u8bfb\u8005\u66f4\u597d\u5730\u7406\u89e3\u548c\u5e94\u7528Redis\uff0c\u4ee5\u4e0a\u662f\u5173\u4e8e\u4f7f\u7528Docker\u90e8\u7f72Redis\u7684\u5185\u5bb9\u6269\u5c55\u548c\u6574\u7406\uff0c\u5e0c\u671b\u5bf9\u4f60\u7684\u5b66\u4e60\u548c\u5de5\u4f5c\u6709\u6240\u5e2e\u52a9\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/","title":"docker \u90e8\u7f72SmokePing","text":"<p>\u53c2\u8003\u6587\u6863\uff1a</p> <p>\u5f00\u6e90\u5730\u5740\uff1ahttps://github.com/oetiker/SmokePing</p> <p>\u53c2\u8003\u6587\u6863\uff1ahttps://blog.csdn.net/wbsu2004/article/details/120315178</p> <p>\u5168\u56fdDNS\u670d\u52a1\u5668\u5927\u5168\uff1ahttps://dnsdaquan.com/</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#\u4e00smokeping\u4ecb\u7ecd","title":"\u4e00\u3001SmokePing\u4ecb\u7ecd","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#1\u6982\u8ff0","title":"1.\u6982\u8ff0","text":"<p>Smokeping \u662f\u4e00\u4e2a\u7f51\u7edc\u76d1\u63a7\u5de5\u5177\uff0c\u7528\u4e8e\u6d4b\u91cf\u548c\u8bb0\u5f55\u7f51\u7edc\u5ef6\u8fdf\u3001\u4e22\u5305\u7387\u4ee5\u53ca\u7f51\u7edc\u8fde\u63a5\u7684\u5176\u4ed6\u76f8\u5173\u6027\u80fd\u6307\u6807\u3002\u5b83\u901a\u8fc7\u53d1\u9001\u5b9a\u671f\u7684\u7f51\u7edc\u63a2\u6d4b\uff08\u4f8b\u5982 ICMP Ping\u3001DNS \u67e5\u8be2\u7b49\uff09\u6765\u83b7\u53d6\u7f51\u7edc\u6027\u80fd\u6570\u636e\uff0c\u5e76\u4ee5\u56fe\u5f62\u5316\u65b9\u5f0f\u5448\u73b0\u8fd9\u4e9b\u6570\u636e\uff0c\u5e2e\u52a9\u7528\u6237\u4e86\u89e3\u7f51\u7edc\u7684\u5065\u5eb7\u72b6\u6001\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#2\u6838\u5fc3\u529f\u80fd","title":"2.\u6838\u5fc3\u529f\u80fd","text":"<ol> <li>\u5ef6\u8fdf\u6d4b\u91cf\uff1aSmokeping \u901a\u8fc7\u5b9a\u671f\u53d1\u9001\u63a2\u6d4b\u5305\u6765\u6d4b\u91cf\u7f51\u7edc\u5ef6\u8fdf\uff08Round-Trip Time, RTT\uff09\uff0c\u5e76\u8bb0\u5f55\u8fd9\u4e9b\u5ef6\u8fdf\u7684\u4e2d\u4f4d\u6570\u3001\u5e73\u5747\u503c\u3001\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u3002</li> <li>\u4e22\u5305\u76d1\u63a7\uff1a\u5b83\u80fd\u591f\u68c0\u6d4b\u548c\u8bb0\u5f55\u7f51\u7edc\u5305\u4e22\u5931\u60c5\u51b5\uff0c\u5e2e\u52a9\u8bc6\u522b\u7f51\u7edc\u4e0d\u7a33\u5b9a\u7684\u95ee\u9898\u3002</li> <li>\u591a\u63a2\u6d4b\u5668\u652f\u6301\uff1aSmokeping \u652f\u6301\u591a\u79cd\u63a2\u6d4b\u65b9\u5f0f\uff0c\u5305\u62ec ICMP Ping\uff08FPing\uff09\u3001TCP Ping\uff08TCPPing\uff09\u3001DNS \u67e5\u8be2\u7b49\u3002\u7528\u6237\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u9009\u62e9\u4e0d\u540c\u7684\u63a2\u6d4b\u5668\u3002</li> <li>\u56fe\u5f62\u5316\u62a5\u544a\uff1aSmokeping \u4f7f\u7528 RRDTool \u6765\u751f\u6210\u56fe\u8868\uff0c\u8fd9\u4e9b\u56fe\u8868\u53ef\u4ee5\u663e\u793a\u4ece\u77ed\u671f\u5230\u957f\u671f\uff08\u4f8b\u5982\u4ece\u51e0\u5c0f\u65f6\u5230\u51e0\u5e74\u7684\u65f6\u95f4\u8de8\u5ea6\uff09\u7684\u7f51\u7edc\u6027\u80fd\u6570\u636e\u3002</li> <li>\u591a\u76ee\u6807\u76d1\u63a7\uff1a\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u76ee\u6807\uff0c\u6309\u7ec4\u6216\u5c42\u7ea7\u7ec4\u7ec7\u76d1\u63a7\u5bf9\u8c61\uff0c\u5e76\u9488\u5bf9\u4e0d\u540c\u7684\u7f51\u7edc\u8282\u70b9\u6216\u670d\u52a1\u8fdb\u884c\u72ec\u7acb\u7684\u76d1\u63a7\u3002</li> <li>\u544a\u8b66\u529f\u80fd\uff1aSmokeping \u652f\u6301\u57fa\u4e8e\u5ef6\u8fdf\u548c\u4e22\u5305\u7387\u7684\u544a\u8b66\u914d\u7f6e\uff0c\u7528\u6237\u53ef\u4ee5\u8bbe\u7f6e\u544a\u8b66\u89c4\u5219\uff0c\u5f53\u7f51\u7edc\u6027\u80fd\u6307\u6807\u8d85\u51fa\u9608\u503c\u65f6\u89e6\u53d1\u901a\u77e5\u3002</li> </ol>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#3\u5178\u578b\u4f7f\u7528\u573a\u666f","title":"3.\u5178\u578b\u4f7f\u7528\u573a\u666f","text":"<ol> <li>\u4e92\u8054\u7f51\u670d\u52a1\u76d1\u63a7\uff1a\u76d1\u63a7\u5230\u4e92\u8054\u7f51\u7f51\u7ad9\uff08\u5982 Google\u3001Facebook \u7b49\uff09\u7684\u8fde\u63a5\u5ef6\u8fdf\uff0c\u786e\u4fdd\u5916\u90e8\u670d\u52a1\u7684\u53ef\u7528\u6027\u3002</li> <li>\u5185\u90e8\u7f51\u7edc\u76d1\u63a7\uff1a\u76d1\u63a7\u4f01\u4e1a\u5185\u90e8\u7f51\u7edc\u8bbe\u5907\uff08\u5982\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\u3001DNS \u670d\u52a1\u5668\u7b49\uff09\u7684\u6027\u80fd\uff0c\u53ca\u65f6\u53d1\u73b0\u5e76\u89e3\u51b3\u6f5c\u5728\u7684\u7f51\u7edc\u95ee\u9898\u3002</li> <li>DNS \u76d1\u63a7\uff1a\u6d4b\u91cf DNS \u89e3\u6790\u7684\u5ef6\u8fdf\u548c\u7a33\u5b9a\u6027\uff0c\u786e\u4fdd DNS \u670d\u52a1\u7684\u53ef\u9760\u6027\u3002</li> <li>\u7f51\u7edc\u6027\u80fd\u57fa\u51c6\u6d4b\u8bd5\uff1a\u4e3a\u7f51\u7edc\u6027\u80fd\u4f18\u5316\u548c\u6545\u969c\u6392\u9664\u63d0\u4f9b\u57fa\u51c6\u6570\u636e\uff0c\u901a\u8fc7\u5386\u53f2\u6570\u636e\u7684\u5bf9\u6bd4\uff0c\u5206\u6790\u7f51\u7edc\u6027\u80fd\u7684\u53d8\u5316\u8d8b\u52bf\u3002</li> </ol>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#4\u5de5\u4f5c\u539f\u7406","title":"4.\u5de5\u4f5c\u539f\u7406","text":"<ol> <li>\u63a2\u6d4b\u5668\uff08Probes\uff09\uff1aSmokeping \u4f7f\u7528\u4e0d\u540c\u7684\u63a2\u6d4b\u5668\u6765\u76d1\u63a7\u7f51\u7edc\u8fde\u63a5\u3002FPing \u662f\u6700\u5e38\u7528\u7684\u63a2\u6d4b\u5668\uff0c\u5b83\u4f7f\u7528 ICMP Echo \u8bf7\u6c42\u6765\u6d4b\u91cf\u5f80\u8fd4\u65f6\u95f4\uff08RTT\uff09\u3002\u5176\u4ed6\u63a2\u6d4b\u5668\u5982 TCPPing \u548c DNS \u53ef\u4ee5\u7528\u4e8e\u76d1\u63a7\u7279\u5b9a\u670d\u52a1\u7684\u54cd\u5e94\u65f6\u95f4\u3002</li> <li>\u6570\u636e\u5b58\u50a8\uff1aSmokeping \u4f7f\u7528 RRDTool \u6765\u5b58\u50a8\u548c\u5904\u7406\u6536\u96c6\u5230\u7684\u76d1\u63a7\u6570\u636e\u3002RRDTool \u4f1a\u81ea\u52a8\u5904\u7406\u6570\u636e\u7684\u5b58\u50a8\u548c\u8001\u5316\uff0c\u4ece\u800c\u4fdd\u6301\u6570\u636e\u5e93\u5927\u5c0f\u7684\u6052\u5b9a\u3002</li> <li>\u6570\u636e\u5c55\u793a\uff1a\u901a\u8fc7\u751f\u6210\u56fe\u8868\uff0cSmokeping \u4ee5\u56fe\u5f62\u5316\u7684\u65b9\u5f0f\u5c55\u793a\u7f51\u7edc\u6027\u80fd\u6570\u636e\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 Web \u754c\u9762\u5b9e\u65f6\u67e5\u770b\u8fd9\u4e9b\u6570\u636e\u3002</li> <li>\u544a\u8b66\u7cfb\u7edf\uff1aSmokeping \u652f\u6301\u57fa\u4e8e\u5ef6\u8fdf\u548c\u4e22\u5305\u7387\u7684\u544a\u8b66\u89c4\u5219\u3002\u7528\u6237\u53ef\u4ee5\u8bbe\u7f6e\u590d\u6742\u7684\u6761\u4ef6\uff0c\u5f53\u76d1\u63a7\u5230\u7684\u6307\u6807\u8d85\u8fc7\u9884\u8bbe\u9608\u503c\u65f6\u89e6\u53d1\u544a\u8b66\uff0c\u5e76\u901a\u8fc7\u90ae\u4ef6\u6216\u5176\u4ed6\u65b9\u5f0f\u901a\u77e5\u76f8\u5173\u4eba\u5458\u3002</li> </ol> <p>Smokeping \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u4e14\u7075\u6d3b\u7684\u7f51\u7edc\u76d1\u63a7\u5de5\u5177\uff0c\u7279\u522b\u9002\u5408\u9700\u8981\u6301\u7eed\u76d1\u63a7\u7f51\u7edc\u5ef6\u8fdf\u548c\u4e22\u5305\u7684\u573a\u666f\u3002\u5b83\u7684\u56fe\u5f62\u5316\u62a5\u544a\u529f\u80fd\u80fd\u591f\u76f4\u89c2\u5730\u5c55\u793a\u7f51\u7edc\u6027\u80fd\u95ee\u9898\uff0c\u4e3a\u7f51\u7edc\u7ef4\u62a4\u548c\u4f18\u5316\u63d0\u4f9b\u91cd\u8981\u7684\u6570\u636e\u652f\u6301\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#\u4e8c\u5b89\u88c5fping","title":"\u4e8c\u3001\u5b89\u88c5fping","text":"<p>\u90e8\u7f72Smokeping\u4e4b\u524d\u9700\u8981\u5148\u5b89\u88c5fping\u63a2\u6d4b\u5668\uff0c\u8fd9\u91cc\u901a\u8fc7\u6e90\u7801\u8fdb\u884c\u5b89\u88c5\uff1a</p> Bash<pre><code># \u4e0b\u8f7d\u5e76\u89e3\u538b fping \u6e90\u7801\u5305\ncd /usr/local/src\nwget https://github.com/schweikert/fping/releases/download/v5.1/fping-5.1.tar.gz\ntar -xzf fping-5.1.tar.gz\n\n# \u914d\u7f6e\u3001\u7f16\u8bd1\u5e76\u5b89\u88c5fping\ncd fping-5.1\n./configure\nmake -j $(nproc)\nmake install\n</code></pre> <p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u6267\u884c<code>find</code>\u547d\u4ee4\u67e5\u627e<code>fping</code>\u6267\u884c\u6587\u4ef6\u6240\u5728\u8def\u5f84\uff1a</p> Bash<pre><code>find / -name \"*fping*\"\n# \u663e\u793a\u8def\u5f84\n/usr/local/sbin/fping               # \u53ef\u6267\u884c\u6587\u4ef6\n/usr/local/share/man/man8/fping.8   # \u624b\u518c\u9875\n</code></pre> <p>\u9a8c\u8bc1<code>fping</code>\u7248\u672c\uff1a</p> Bash<pre><code>fping --version\n# \u663e\u793a\u7248\u672c\nfping: Version 5.1\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#\u4e09docker\u90e8\u7f72smokeping","title":"\u4e09\u3001docker\u90e8\u7f72SmokePing","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#1\u62c9\u53d6smokeping\u955c\u50cf","title":"1.\u62c9\u53d6SmokePing\u955c\u50cf","text":"Bash<pre><code>docker pull linuxserver/smokeping\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#2\u521b\u5efa\u6302\u8f7d\u76ee\u5f55","title":"2.\u521b\u5efa\u6302\u8f7d\u76ee\u5f55","text":"<p>\u5728 <code>/data</code> \u76ee\u5f55\u4e2d\uff0c\u521b\u5efa\u76ee\u5f55\u540d\u4e3a <code>smokeping</code>\uff0c\u5e76\u5728 <code>smokeping</code> \u4e2d\u5efa\u4e24\u4e2a\u5b50\u76ee\u5f55\uff0c\u5206\u522b\u547d\u540d\u4e3a <code>config</code> \u548c <code>data</code>\uff1a</p> Bash<pre><code>mkdir -p /data/smokeping/data     # \u5b58\u50a8\u6570\u636e\u5e93\u548c\u5e94\u7528\u6570\u636e\u76ee\u5f55\nmkdir -p /data/smokeping/config   # \u5b58\u50a8\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#3\u6821\u9a8c\u5f53\u524d\u65f6\u533a","title":"3.\u6821\u9a8c\u5f53\u524d\u65f6\u533a","text":"<p>\u90e8\u7f72\u524d\u9700\u8981\u5148\u6821\u6b63\u65f6\u95f4\uff0c\u6267\u884c <code>timedatectl</code> \u547d\u4ee4\u67e5\u770b\u65f6\u533a\u662f\u5426\u4e3a\u4e0a\u6d77\uff1a</p> Bash<pre><code>timedatectl\n# \u663e\u793a\u4fe1\u606f\n      Local time: Tue 2024-08-20 10:12:05 CST\n  Universal time: Tue 2024-08-20 02:12:05 UTC\n        RTC time: Tue 2024-08-20 02:12:05\n       Time zone: Asia/Shanghai (CST, +0800)\n     NTP enabled: yes\nNTP synchronized: no\n RTC in local TZ: no\n      DST active: n/a\n</code></pre> <p>\u5982\u679c\u65f6\u533a\u4e0d\u662f\u4e0a\u6d77\uff0c\u8bbe\u7f6e\u8be5\u65f6\u533a\u4e3a\u4e2d\u56fd\u6807\u51c6\u65f6\u95f4\uff08CST\uff0cAsia/Shanghai \u65f6\u533a\uff09\uff1a</p> Bash<pre><code>timedatectl set-timezone Asia/Shanghai\n</code></pre> <p>\u4f7f\u7528 <code>hwclock</code> \u547d\u4ee4\u663e\u793a\u7cfb\u7edf\u786c\u4ef6\u65f6\u949f\u7684\u5f53\u524d\u65f6\u95f4\uff1a</p> Bash<pre><code>hwclock --show\n</code></pre> <p>\u4f7f\u7528 <code>ntpdate</code> \u547d\u4ee4\u66f4\u65b0\u7cfb\u7edf\u65f6\u95f4\uff1a</p> Bash<pre><code>ntpdate ntp.aliyun.com\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#4\u90e8\u7f72smokeping","title":"4.\u90e8\u7f72SmokePing","text":"Bash<pre><code>docker run -d \\\n--name=smokeping \\\n-e PUID=1000 \\\n-e PGID=1000 \\\n-e TZ=Asia/Shanghai \\\n-p 9080:80 \\\n-v /data/smokeping/config:/config \\\n-v /data/smokeping/data:/data \\\n--restart unless-stopped \\\nlinuxserver/smokeping\n</code></pre> <p>\u811a\u672c\u5b89\u88c5\uff08\u672a\u505a\u5c1d\u8bd5\uff09\uff1a</p> Text Only<pre><code>bash -c \"$(curl -L https://github.com/jiuqi9997/smokeping/raw/main/main.sh)\"\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#\u56db\u914d\u7f6esmokeping","title":"\u56db\u3001\u914d\u7f6eSmokePing","text":""},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#1\u914d\u7f6e\u6587\u4ef6\u4ecb\u7ecd","title":"1.\u914d\u7f6e\u6587\u4ef6\u4ecb\u7ecd","text":"<p>\u914d\u7f6e\u6587\u4ef6\u5b58\u653e\u8def\u5f84 <code>/data/smokeping/config</code>\uff0c\u914d\u7f6e\u6587\u4ef6\u8868\u5982\u4e0b\uff1a</p> \u6587\u4ef6\u540d \u7528\u9014 Alerts \u62a5\u8b66\u8bbe\u7f6e Database \u91c7\u6837\u9891\u7387\u8bbe\u7f6e General \u5e38\u89c4\u8bbe\u7f6e httpd.conf Apache Web \u670d\u52a1\u5668\u8bbe\u7f6e pathnames \u8def\u5f84\u8bbe\u7f6e Presentation \u6a21\u677f\u6587\u4ef6 Probes \u63a2\u9488\u8bbe\u7f6e Slaves \u4e3b\u4ece\u6a21\u5f0f\u65f6\uff0c\u4ece\u673a\u8bbe\u7f6e ssmtp.conf \u90ae\u4ef6\u670d\u52a1\u5668\u8bbe\u7f6e Targets \u76d1\u63a7\u76ee\u6807\u8bbe\u7f6e"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#2database\u914d\u7f6e\u6587\u4ef6","title":"2.Database\u914d\u7f6e\u6587\u4ef6","text":"<p>\u7f16\u8f91 <code>Database</code> \u914d\u7f6e\u6587\u4ef6\uff1a<code>vim /data/smokeping/config/Database</code></p> Bash<pre><code>*** Database ***\n\nstep     = 300      #300 \u79d2(\u9ed8\u8ba4)\npings    = 20       #ping 20\u6b21\uff08\u9ed8\u8ba4\u503c\uff09\n\n# consfn mrhb steps total\n\nAVERAGE  0.5   1  1008\nAVERAGE  0.5  12  4320\n    MIN  0.5  12  4320\n    MAX  0.5  12  4320\nAVERAGE  0.5 144   720\n    MAX  0.5 144   720\n    MIN  0.5 144   720\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#3probes\u914d\u7f6e\u6587\u4ef6","title":"3.Probes\u914d\u7f6e\u6587\u4ef6","text":"<p>\u7f16\u8f91 <code>Probes</code> \u914d\u7f6e\u6587\u4ef6\uff1a<code>vim /data/smokeping/config/Probes</code></p> Bash<pre><code>*** Probes ***\n\n+ FPing\nbinary = /usr/sbin/fping\n\n+ FPing6\nbinary = /usr/sbin/fping\nprotocol = 6\n\n+ DNS\nbinary = /usr/bin/dig\nlookup = google.com     # \u9700\u8981ping\u7684\u57df\u540d\uff0c\u5176\u4ed6\u53ef\u4ee5\u9ed8\u8ba4\uff08\u53ef\u4ee5\u4f7f\u7528\u767e\u5ea6\u6216\u8005163\uff09,\u5982\uff1alookup = baidu.com\n\npings = 5\nstep = 300\n\n+ TCPPing\nbinary = /usr/bin/tcpping\nforks = 10\noffset = random\npings = 5\nport = 80\n</code></pre> <p>\u8fd9\u91cc\u4fee\u6539\u4e86 <code>Probes</code> \u914d\u7f6e\u6587\u4ef6\u5185\u5bb9\uff1a</p> Bash<pre><code>lookup = baidu.com\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#4ssmtpconf\u914d\u7f6e\u6587\u4ef6","title":"4.ssmtp.conf\u914d\u7f6e\u6587\u4ef6","text":"<p>\u7f16\u8f91 <code>ssmtp.conf</code> \u90ae\u4ef6\u62a5\u8b66\u914d\u7f6e\u6587\u4ef6\uff1a<code>vim /data/smokeping/config/ssmtp.conf</code>\uff0c\u8fd9\u91cc\u5148\u5907\u4efd\u4e86\u539f\u6765\u7684\u914d\u7f6e\u6587\u4ef6\uff1a</p> Bash<pre><code>cp ssmtp.conf ssmtp.conf_bak\n</code></pre> <p>\u7136\u540e\u4fee\u6539\u65b0\u7684\u914d\u7f6e\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>cat &gt; ssmtp.conf &lt;&lt;'EOF'\nDebug=YES\nroot=hongzelong@sunline.cn\nmailhub=smtp.qq.com:465\nAuthUser=416685476@qq.com\nAuthPass=mklsqltwhsuhbjfi\nUseSTARTTLS=NO\nUseTLS=YES\nrewriteDomain=qq.com\nhostname=linuxserver-smokeping1\nFromLineOverride=YES\nEOF\n</code></pre> <p>\u89e3\u91ca\u8bf4\u660e\uff1a</p> <ul> <li><code>Debug=YES</code>\uff1a\u542f\u7528\u8c03\u8bd5\u6a21\u5f0f\uff0c\u4ee5\u4fbf\u751f\u6210\u66f4\u8be6\u7ec6\u7684\u65e5\u5fd7\u3002</li> <li><code>root=hongzelong@sunline.cn</code>\uff1a\u6b64\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u5c06\u63a5\u6536\u6240\u6709 User ID \u5c0f\u4e8e 1000 \u7684\u90ae\u4ef6\u3002\u5982\u679c\u7cfb\u7edf\u751f\u6210\u4e86\u67d0\u4e9b\u81ea\u52a8\u90ae\u4ef6\uff08\u4f8b\u5982 <code>cron</code> \u4f5c\u4e1a\u7684\u901a\u77e5\uff0c\u7cfb\u7edf\u9519\u8bef\u62a5\u544a\u7b49\uff09\uff0c\u800c\u8fd9\u4e9b\u90ae\u4ef6\u6ca1\u6709\u6307\u5b9a\u660e\u786e\u7684\u6536\u4ef6\u4eba\u65f6\uff0c\u8fd9\u4e9b\u90ae\u4ef6\u4f1a\u9ed8\u8ba4\u53d1\u9001\u5230 <code>zhongjinlin31314@sunline.cn</code>\u3002</li> <li> <p><code>mailhub=smtp.qq.com:465</code>\uff1a\u8bbe\u7f6e SMTP \u670d\u52a1\u5668\u7684\u5730\u5740\u548c\u7aef\u53e3\u53f7\u3002\u8fd9\u91cc\u6307\u5b9a\u4e86 <code>smtp.qq.com</code> \u4f5c\u4e3a\u90ae\u4ef6\u670d\u52a1\u5668\uff0c\u5e76\u4f7f\u7528 SSL \u7684 465 \u7aef\u53e3\u53d1\u9001\u90ae\u4ef6\u3002</p> </li> <li> <p><code>AuthUser=416685476@qq.com</code>\uff1a\u8bbe\u7f6e\u7528\u4e8e\u8ba4\u8bc1\u7684\u90ae\u7bb1\u7528\u6237\u540d\uff0c\u5373\u53d1\u9001\u90ae\u4ef6\u7684\u90ae\u7bb1\u5730\u5740\u3002</p> </li> <li><code>AuthPass=mklsqltwhsuhbjfi</code> \uff1a\u8bbe\u7f6e\u7528\u4e8e\u8ba4\u8bc1\u7684\u90ae\u7bb1\u5bc6\u7801\u6216\u6388\u6743\u7801\u3002\u8fd9\u4e2a\u5bc6\u7801\u662f\u7528\u4e8e\u8ba4\u8bc1\u7684\u51ed\u8bc1\uff0c\u901a\u5e38\u662f\u90ae\u7bb1\u63d0\u4f9b\u7684\u6388\u6743\u7801\uff0c\u800c\u4e0d\u662f\u90ae\u7bb1\u7684\u767b\u5f55\u5bc6\u7801\u3002</li> <li><code>UseSTARTTLS=NO</code>\uff1a\u7981\u7528 STARTTLS\uff0c\u8fd9\u662f\u4e00\u79cd\u5728\u666e\u901a\u7aef\u53e3\u4e0a\u542f\u7528 TLS \u52a0\u5bc6\u7684\u673a\u5236\u3002\u5982\u679c\u670d\u52a1\u5668\u4e0d\u652f\u6301 STARTTLS\uff0c\u6216\u8005\u4f60\u9009\u62e9\u4f7f\u7528 SSL \u800c\u4e0d\u662f STARTTLS\uff0c\u5219\u5c06\u6b64\u9879\u8bbe\u7f6e\u4e3a <code>NO</code>\u3002</li> <li><code>UseTLS=YES</code>\uff1a\u542f\u7528 TLS\uff08SSL\uff09\u52a0\u5bc6\u3002\u8fd9\u610f\u5473\u7740\u90ae\u4ef6\u4f1a\u901a\u8fc7\u52a0\u5bc6\u7684\u65b9\u5f0f\u53d1\u9001\uff0c\u786e\u4fdd\u4f20\u8f93\u7684\u5b89\u5168\u6027\u3002</li> <li><code>rewriteDomain=qq.com</code>\uff1a\u53d1\u9001\u90ae\u4ef6\u65f6\u663e\u793a\u7684\u53d1\u4ef6\u57df\u540d\u3002\u5982\u679c\u539f\u59cb\u7684\u53d1\u4ef6\u4eba\u5730\u5740\u4e0d\u662f\u4ee5 <code>qq.com</code> \u7ed3\u5c3e\uff0c<code>ssmtp</code> \u4f1a\u5c06\u5176\u6539\u5199\u4e3a <code>qq.com</code>\u3002</li> <li><code>hostname=linuxserver-smokeping1</code>\uff1a\u8bbe\u7f6e\u53d1\u9001\u90ae\u4ef6\u65f6\u4f7f\u7528\u7684\u4e3b\u673a\u540d\u3002\u8fd9\u53ef\u4ee5\u662f\u4f60\u7684\u670d\u52a1\u5668\u540d\u6216\u5bb9\u5668\u540d\uff0c\u7528\u4e8e\u6807\u8bc6\u90ae\u4ef6\u7684\u6765\u6e90\u3002</li> <li><code>FromLineOverride=YES</code>\uff1a\u5141\u8bb8 <code>ssmtp</code> \u8986\u76d6\u90ae\u4ef6\u7684\u53d1\u4ef6\u4eba\u5730\u5740\u3002\u8fd9\u610f\u5473\u7740\u90ae\u4ef6\u7684 <code>From</code> \u5b57\u6bb5\u5c06\u4f7f\u7528\u914d\u7f6e\u7684\u53d1\u4ef6\u4eba\u5730\u5740\uff0c\u800c\u4e0d\u662f\u7cfb\u7edf\u81ea\u52a8\u751f\u6210\u7684\u5730\u5740\u3002</li> </ul> <p>\u4fee\u6539\u5b8c\u914d\u7f6e\u6587\u4ef6\u540e\uff0c\u9700\u8981\u91cd\u542f\u5bb9\u5668\u624d\u751f\u6548\uff1a</p> Bash<pre><code>systemctl restart smokeping\n</code></pre> <p>\u8fdb\u5165\u5bb9\u5668\u5185\u8fdb\u884c <code>Email</code> \u53d1\u9001\u8c03\u8bd5\uff1a</p> Bash<pre><code>docker exec -it smokeping /bin/bash\n</code></pre> <p>\u4f7f\u7528 <code>ssmtp</code> \u547d\u4ee4\u8fdb\u884c\u53d1\u9001\uff0c\u56de\u8f66\u540e\u8fd8\u9700\u8981\u624b\u52a8\u8f93\u5165\u4e00\u4e9b\u4fe1\u606f\uff1a</p> Bash<pre><code>root@3cf805c2028b:/# ssmtp -v hongzelong@sunline.cn\nTo: hongzelong@sunline.cn\nFrom: 416685476@qq.com\nSubject: alert\n\n#&lt;\u56de\u8f662\u6b21&gt;\n\n[&lt;-] 220 newxmesmtplogicsvrsza15-1.qq.com XMail Esmtp QQ Mail Server.\n[-&gt;] EHLO 3cf805c2028b\n[&lt;-] 250 8BITMIME\n[-&gt;] AUTH LOGIN\n[&lt;-] 334 VXNlcm5hbWU6\n[-&gt;] NDE2Njg1NDc2QHFxLmNvbQ==\n[&lt;-] 334 UGFzc3dvcmQ6\n[&lt;-] 235 Authentication successful\n[-&gt;] MAIL FROM:&lt;416685476@qq.com&gt;\n[&lt;-] 250 OK\n[-&gt;] RCPT TO:&lt;hongzelong@sunline.cn&gt;\n[&lt;-] 250 OK\n[-&gt;] DATA\n[&lt;-] 354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;.\n[-&gt;] Received: by 3cf805c2028b (sSMTP sendmail emulation); Tue, 20 Aug 2024 11:23:48 +0800\n[-&gt;] Date: Tue, 20 Aug 2024 11:23:48 +0800\n[-&gt;] To: hongzelong@sunline.cn\n[-&gt;] From: 416685476@qq.com\n[-&gt;] Subject: alert\n[-&gt;] \ntest123\n[-&gt;] test123\n# \u6267\u884c&lt;ctrl+D&gt;\n[-&gt;] .\n[&lt;-] 250 OK: queued as.\n[-&gt;] QUIT\n[&lt;-] 221 Bye.\n</code></pre> <p>\u67e5\u770b\u90ae\u4ef6\u4fe1\u606f\uff1a</p> <p></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#5alerts\u914d\u7f6e\u6587\u4ef6","title":"5.Alerts\u914d\u7f6e\u6587\u4ef6","text":"<p>\u7f16\u8f91 <code>Alerts</code> \u914d\u7f6e\u6587\u4ef6\uff1a<code>vim /data/smokeping/config/Alerts</code>\uff0c\u8fd9\u91cc\u5148\u5907\u4efd\u4e86\u539f\u6765\u7684\u914d\u7f6e\u6587\u4ef6\uff1a</p> Bash<pre><code>cp Alerts Alerts_bak\n</code></pre> <p>\u7136\u540e\u4fee\u6539\u65b0\u7684\u914d\u7f6e\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>cat &gt; Alerts &lt;&lt;'EOF'\n*** Alerts ***\nto = hongzelong@sunline.cn\nfrom = 416685476@qq.com\n\n+rttdetect\ntype = rtt\npattern = &lt;20,&lt;20,&lt;20,&lt;20,&lt;20,&gt;20,&gt;20,&gt;20\ncomment = \u8fde\u7eed3\u6b21\u5ef6\u65f620\u4ee5\u4e0a\n\n+lossdetect\ntype = loss\npattern = ==0%,==0%,==0%,==0%,==0%,&gt;0%,&gt;0%,&gt;0%\ncomment = \u7a81\u7136\u6709\u4e22\u5305\nEOF\n</code></pre> <p>\u89e3\u91ca\u8bf4\u660e\uff1a</p> <p>\u8fd9\u6bb5\u914d\u7f6e\u6587\u4ef6\u662f Smokeping \u7684\u4e00\u4e2a\u8b66\u62a5\u914d\u7f6e\uff08<code>Alerts</code>\uff09\uff0c\u7528\u4e8e\u68c0\u6d4b\u7f51\u7edc\u5ef6\u8fdf\uff08RTT\uff09\u548c\u4e22\u5305\u60c5\u51b5\uff0c\u5e76\u5728\u6ee1\u8db3\u7279\u5b9a\u6761\u4ef6\u65f6\u89e6\u53d1\u8b66\u62a5\u3002</p> <ul> <li> <p>\u57fa\u7840\u8bbe\u7f6e\uff1a</p> </li> <li> <p><code>to</code>\uff1a\u63a5\u6536\u62a5\u8b66\u7684\u90ae\u7bb1\uff0c\u4e5f\u53ef\u4ee5\u662f\u81ea\u5b9a\u4e49\u811a\u672c\u3002</p> </li> <li> <p><code>from</code>\uff1a\u53d1\u9001\u62a5\u8b66\u4fe1\u606f\u7684\u90ae\u7bb1\uff0c\u4e5f\u5c31\u662f\u4e0a\u4e00\u6b65\u5728 <code>ssmtp.conf</code> \u4e2d\u8bbe\u7f6e\u7684\u90ae\u7bb1\u3002</p> </li> <li> <p>\u8b66\u62a5\u89c4\u5219\uff1a</p> </li> <li> <p><code>+rttdetect</code>\uff1a</p> <ul> <li><code>type = rtt</code>\uff1a\u8fd9\u4e2a\u8b66\u62a5\u7c7b\u578b\u662f\u57fa\u4e8e RTT\uff08Round Trip Time\uff0c\u5f80\u8fd4\u65f6\u95f4\uff09\u7684\u68c0\u6d4b\u3002</li> <li><code>pattern = &lt;20,&lt;20,&lt;20,&lt;20,&lt;20,&gt;20,&gt;20,&gt;20</code>\uff1a</li> <li>\u8be5\u6a21\u5f0f\u8868\u793a\u8fde\u7eed 5 \u6b21 RTT \u5c0f\u4e8e 20ms\uff0c\u7136\u540e\u8fde\u7eed 3 \u6b21 RTT \u5927\u4e8e 20ms\u3002</li> <li>\u5982\u679c\u68c0\u6d4b\u5230\u8fd9\u79cd\u6a21\u5f0f\u53d8\u5316\uff0c\u8868\u793a\u7f51\u7edc\u5ef6\u8fdf\u7a81\u7136\u589e\u52a0\uff0c\u5c06\u89e6\u53d1\u8b66\u62a5\u3002</li> <li><code>comment = \u8fde\u7eed3\u6b21\u5ef6\u65f620\u4ee5\u4e0a</code>\uff1a\u8fd9\u662f\u5bf9\u8fd9\u4e2a\u8b66\u62a5\u7684\u6ce8\u91ca\uff0c\u63cf\u8ff0\u4e86\u8b66\u62a5\u7684\u6761\u4ef6\u548c\u542b\u4e49\u3002</li> </ul> </li> <li><code>+lossdetect</code>\uff1a<ul> <li><code>type = loss</code>\uff1a\u8fd9\u4e2a\u8b66\u62a5\u7c7b\u578b\u662f\u57fa\u4e8e\u7f51\u7edc\u4e22\u5305\u7387\u7684\u68c0\u6d4b\u3002</li> <li><code>pattern = ==0%,==0%,==0%,==0%,==0%,&gt;0%,&gt;0%,&gt;0%</code>\uff1a</li> <li>\u8be5\u6a21\u5f0f\u8868\u793a\u8fde\u7eed 5 \u6b21\u6ca1\u6709\u4e22\u5305\uff0c\u7136\u540e\u8fde\u7eed 3 \u6b21\u51fa\u73b0\u4e22\u5305\uff08\u4e22\u5305\u7387\u5927\u4e8e 0%\uff09\u3002</li> <li>\u5982\u679c\u68c0\u6d4b\u5230\u8fd9\u79cd\u6a21\u5f0f\u53d8\u5316\uff0c\u8868\u793a\u7f51\u7edc\u7a81\u7136\u51fa\u73b0\u4e22\u5305\uff0c\u5c06\u89e6\u53d1\u8b66\u62a5\u3002</li> <li><code>comment = \u7a81\u7136\u6709\u4e22\u5305</code>\uff1a\u8fd9\u662f\u5bf9\u8fd9\u4e2a\u8b66\u62a5\u7684\u6ce8\u91ca\uff0c\u63cf\u8ff0\u4e86\u8b66\u62a5\u7684\u6761\u4ef6\u548c\u542b\u4e49\u3002</li> </ul> </li> </ul> <p>\u4fee\u6539\u5b8c\u914d\u7f6e\u6587\u4ef6\u540e\uff0c\u9700\u8981\u91cd\u542f\u5bb9\u5668\u624d\u751f\u6548\uff1a</p> Bash<pre><code>systemctl restart smokeping\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#6targets\u914d\u7f6e\u6587\u4ef6","title":"6.Targets\u914d\u7f6e\u6587\u4ef6","text":"<p><code>Internet Sites</code> \u57fa\u672c\u4e0a\u662f\u6b63\u5e38\u65e0\u6cd5\u8bbf\u95ee\u7684\u7ad9\u70b9\uff0c\u6240\u4ee5\u9700\u8981\u8fdb\u884c\u4fee\u6539\uff0c\u4e0d\u7136\u4f1a\u6ca1\u6709\u6570\u636e\u3002</p> <p>\u7f16\u8f91 <code>Targets</code> \u914d\u7f6e\u6587\u4ef6\uff1a<code>vim /data/smokeping/config/Targets</code>\uff0c\u8fd9\u91cc\u5148\u5907\u4efd\u4e86\u539f\u6765\u7684\u914d\u7f6e\u6587\u4ef6\uff1a</p> Bash<pre><code>cp Targets Targets_bak\n</code></pre> <p>\u7136\u540e\u4fee\u6539\u65b0\u7684\u914d\u7f6e\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>cat &gt; Targets &lt;&lt;'EOF'\n*** Targets ***\nprobe = FPing\nmenu = Top\ntitle = Network Latency Monitoring\nremark = \u6b22\u8fce\u6765\u5230 Sunline \u516c\u53f8\u7684 SmokePing \u7f51\u7ad9\u3002 \\\n         \u8fd9\u91cc\u662f\u6709\u5173\u6211\u4eec\u7f51\u7edc\u5ef6\u8fdf\u7684\u6240\u6709\u4fe1\u606f\u3002\n\n\n+ InternetSites\nmenu = Internet Sites\ntitle = Internet Sites\n\n++ Baidu\nmenu = Baidu\ntitle = Baidu\nhost = baidu.com\n\n++ 163\nmenu = 163\ntitle = 163\nhost = 163.com\n\n++ Facebook\nmenu = Facebook\ntitle = Facebook\nhost = facebook.com\n\n++ Google\nmenu = Google\ntitle = Google\nhost = google.com\n\n++ YouTube\nmenu = YouTube\ntitle = YouTube\nhost = youtube.com\n\n\n+ DNS\nmenu = DNS Monitoring\ntitle = DNS Servers\n\n++ GoogleDNS\nmenu = Google DNS\ntitle = Google DNS (8.8.8.8)\nhost = 8.8.8.8\n\n++ AliyunDNS\nmenu = Aliyun DNS\ntitle = Aliyun DNS (223.5.5.5)\nhost = 223.5.5.5\n\n++ InternalDNS\nmenu = Internal DNS\ntitle = Internal DNS (10.22.50.5)\nhost = 10.22.50.5\n\n\n\n+ Other\nmenu = \u4e09\u5927\u7f51\u7edc\u76d1\u63a7\ntitle = \u76d1\u63a7\u7edf\u8ba1\n\n++ dianxin\nmenu = \u7535\u4fe1\u7f51\u7edc\u76d1\u63a7\ntitle = \u7535\u4fe1\u7f51\u7edc\u76d1\u63a7\u5217\u8868\nhost = /Other/dianxin/dianxin-bj /Other/dianxin/dianxin-hlj /Other/dianxin/dianxin-tj /Other/dianxin/dianxin-sc /Other/dianxin/dianxin-sh /Other/dianxin/dianxin-gz\n\n+++ dianxin-bj\nmenu = \u5317\u4eac\u7535\u4fe1\ntitle = \u5317\u4eac\u7535\u4fe1\nhost = 202.96.199.133\nalerts = rttdetect,lossdetect\n\n+++ dianxin-hlj\nmenu = \u9ed1\u9f99\u6c5f\u7535\u4fe1\ntitle = \u9ed1\u9f99\u6c5f\u7535\u4fe1\nhost = 219.147.198.230\nalerts = rttdetect,lossdetect\n\n+++ dianxin-tj\nmenu = \u5929\u6d25\u7535\u4fe1\ntitle = \u5929\u6d25\u7535\u4fe1\nhost = 219.146.0.132\nalerts = rttdetect,lossdetect\n\n+++ dianxin-sc\nmenu = \u56db\u5ddd\u7535\u4fe1\ntitle = \u56db\u5ddd\u7535\u4fe1\nhost = 61.139.2.69\nalerts = rttdetect,lossdetect\n\n+++ dianxin-sh\nmenu = \u4e0a\u6d77\u7535\u4fe1\ntitle = \u4e0a\u6d77\u7535\u4fe1\nhost = 202.96.209.133\nalerts = rttdetect,lossdetect\n\n+++ dianxin-gz\nmenu = \u5e7f\u4e1c\u7535\u4fe1\ntitle = \u5e7f\u4e1c\u7535\u4fe1\nhost = 202.96.134.133\nalerts = rttdetect,lossdetect\n\n++ liantong\nmenu = \u8054\u901a\u7f51\u7edc\u76d1\u63a7\ntitle = \u8054\u901a\u7f51\u7edc\u76d1\u63a7\u5217\u8868\nhost = /Other/liantong/liantong-bj /Other/liantong/liantong-hlj /Other/liantong/liantong-tj /Other/liantong/liantong-sc /Other/liantong/liantong-sh /Other/liantong/liantong-gz\n\n+++ liantong-bj\nmenu = \u5317\u4eac\u8054\u901a\ntitle = \u5317\u4eac\u8054\u901a\nhost = 61.135.169.121\nalerts = rttdetect,lossdetect\n\n+++ liantong-hlj\nmenu = \u9ed1\u9f99\u6c5f\u8054\u901a\ntitle = \u9ed1\u9f99\u6c5f\u8054\u901a\nhost = 202.97.224.69\nalerts = rttdetect,lossdetect\n\n+++ liantong-tj\nmenu = \u5929\u6d25\u8054\u901a\ntitle = \u5929\u6d25\u8054\u901a\nhost = 202.99.96.68\nalerts = rttdetect,lossdetect\n\n+++ liantong-sc\nmenu = \u56db\u5ddd\u8054\u901a\ntitle = \u56db\u5ddd\u8054\u901a\nhost = 119.6.6.6\nalerts = rttdetect,lossdetect\n\n+++ liantong-sh\nmenu = \u4e0a\u6d77\u8054\u901a\ntitle = \u4e0a\u6d77\u8054\u901a\nhost = 210.22.84.3\nalerts = rttdetect,lossdetect\n\n+++ liantong-gz\nmenu = \u5e7f\u4e1c\u8054\u901a\ntitle = \u5e7f\u4e1c\u8054\u901a\nhost = 221.5.88.88\nalerts = rttdetect,lossdetect\n\n++ yidong\nmenu = \u79fb\u52a8\u7f51\u7edc\u76d1\u63a7\ntitle = \u79fb\u52a8\u7f51\u7edc\u76d1\u63a7\u5217\u8868\nhost = /Other/yidong/yidong-bj /Other/yidong/yidong-hlj /Other/yidong/yidong-tj /Other/yidong/yidong-sc /Other/yidong/yidong-sh /Other/yidong/yidong-gz\n\n+++ yidong-bj\nmenu = \u5317\u4eac\u79fb\u52a8\ntitle = \u5317\u4eac\u79fb\u52a8\nhost = 221.130.33.52\nalerts = rttdetect,lossdetect\n\n+++ yidong-hlj\nmenu = \u9ed1\u9f99\u6c5f\u79fb\u52a8\ntitle = \u9ed1\u9f99\u6c5f\u79fb\u52a8\nhost = 218.203.59.216\nalerts = rttdetect,lossdetect\n\n+++ yidong-tj\nmenu = \u5929\u6d25\u79fb\u52a8\ntitle = \u5929\u6d25\u79fb\u52a8\nhost = 211.137.160.5\nalerts = rttdetect,lossdetect\n\n+++ yidong-sc\nmenu = \u56db\u5ddd\u79fb\u52a8\ntitle = \u56db\u5ddd\u79fb\u52a8\nhost = 218.201.4.3\nalerts = rttdetect,lossdetect\n\n+++ yidong-sh\nmenu = \u4e0a\u6d77\u79fb\u52a8\ntitle = \u4e0a\u6d77\u79fb\u52a8\nhost = 211.136.112.50\nalerts = rttdetect,lossdetect\n\n+++ yidong-gz\nmenu = \u5e7f\u4e1c\u79fb\u52a8\ntitle = \u5e7f\u4e1c\u79fb\u52a8\nhost = 211.136.192.6\nalerts = rttdetect,lossdetect\nEOF\n</code></pre> <p>\u683c\u5f0f\u4e00\u76ee\u4e86\u7136\uff0c\u91c7\u7528\u4e86\u662f\u5206\u5c42\u7ed3\u6784\uff0c\u7528 <code>+</code> \u8868\u793a\uff0c\u4f8b\u5982\u7b2c\u4e00\u5c42 <code>+</code>\uff0c\u7b2c\u4e8c\u5c42 <code>++</code> \u4f9d\u6b21\u7c7b\u63a8\uff0c\u53ef\u4ee5\u589e\u52a0\u4e5f\u53ef\u4ee5\u4fee\u6539\u3002</p> <p>\u4fee\u6539\u5b8c\u914d\u7f6e\u6587\u4ef6\u540e\uff0c\u9700\u8981\u91cd\u542f\u5bb9\u5668\u624d\u751f\u6548\uff1a</p> Bash<pre><code>systemctl restart smokeping\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#61-\u5168\u5c40\u914d\u7f6e","title":"6.1 \u5168\u5c40\u914d\u7f6e","text":"Bash<pre><code>*** Targets ***\n\nprobe = FPing\nmenu = Top\ntitle = Network Latency Grapher\nremark = \u6b22\u8fce\u6765\u5230 Sunline \u516c\u53f8\u7684 SmokePing \u7f51\u7ad9\u3002 \\\n         \u8fd9\u91cc\u662f\u6709\u5173\u6211\u4eec\u7f51\u7edc\u5ef6\u8fdf\u7684\u6240\u6709\u4fe1\u606f\u3002\n</code></pre> <p>\u914d\u7f6e\u89e3\u91ca\uff1a</p> <ul> <li><code>\\**\\* Targets \\**\\*</code>\uff1a\u8fd9\u662f\u76ee\u6807\u914d\u7f6e\u6bb5\u7684\u5f00\u59cb\u6807\u5fd7\u3002</li> <li><code>probe = FPing</code>\uff1a\u5b9a\u4e49\u4e86\u9ed8\u8ba4\u7684\u63a2\u6d4b\u65b9\u6cd5\u4e3a <code>FPing</code>\uff0c\u7528\u4e8e\u901a\u8fc7 ICMP ping \u63a2\u6d4b\u76ee\u6807\u3002</li> <li><code>menu = Top</code>\uff1a\u8bbe\u7f6e\u5728 Smokeping Web \u754c\u9762\u4e2d\u7684\u9876\u5c42\u83dc\u5355\u540d\u79f0\u3002</li> <li><code>title = Network Latency Grapher</code>\uff1a\u5b9a\u4e49\u4e86\u9876\u5c42\u7684\u6807\u9898\u3002</li> <li><code>remark</code>\uff1a\u663e\u793a\u5728 Smokeping Web \u754c\u9762\u4e0a\u7684\u4e00\u6bb5\u4ecb\u7ecd\u6027\u6587\u672c\u3002</li> </ul>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#62-\u76ee\u6807\u7ec4\u548c\u76ee\u6807\u914d\u7f6e","title":"6.2 \u76ee\u6807\u7ec4\u548c\u76ee\u6807\u914d\u7f6e","text":"Bash<pre><code>+ InternetSites\nmenu = Internet Sites\ntitle = Internet Sites\n\n++ Facebook\nmenu = Facebook\ntitle = Facebook\nhost = facebook.com\n\n++ Google\nmenu = Google\ntitle = Google\nhost = google.com\n\n++ YouTube\nmenu = YouTube\ntitle = YouTube\nhost = youtube.com\n</code></pre> <p>\u914d\u7f6e\u89e3\u91ca\uff1a</p> <ul> <li> <p><code>+ InternetSites</code>\uff1a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u76ee\u6807\u7ec4 <code>InternetSites</code>\u3002</p> </li> <li> <p><code>menu = Internet Sites</code>\uff1a\u8bbe\u7f6e\u4e86\u5728 Web \u754c\u9762\u4e0a\u7684\u83dc\u5355\u663e\u793a\u540d\u79f0\u4e3a <code>Internet Sites</code>\u3002</p> </li> <li> <p><code>title = Internet Sites</code>\uff1a\u5b9a\u4e49\u4e86\u8be5\u7ec4\u7684\u6807\u9898\u3002</p> </li> <li> <p><code>++ Facebook</code>\uff1a\u5728 <code>InternetSites</code> \u7ec4\u4e0b\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5b50\u7ec4 <code>Facebook</code>\u3002</p> </li> <li> <p><code>host = facebook.com</code>\uff1a\u8bbe\u7f6e\u4e86\u8981\u76d1\u63a7\u7684\u76ee\u6807\u4e3a <code>facebook.com</code></p> </li> </ul> <p>\u7c7b\u4f3c\u7684\u7ed3\u6784\u7528\u4e8e\u5176\u4ed6\u4e92\u8054\u7f51\u7f51\u7ad9\uff0c\u4f8b\u5982 <code>YouTube</code>\u3001<code>Google</code> \u7b49\u3002</p> <p>\u8fd9\u79cd\u65b9\u6cd5\uff0c\u4f7f\u5f97<code>Facebook</code>\u3001<code>Google</code> \u548c <code>YouTube</code> \u5b50\u7ec4\u5206\u522b\u751f\u6210\u72ec\u7acb\u7684\u76d1\u63a7\u56fe\u8868\u3002\u8fd9\u79cd\u65b9\u5f0f\u9002\u5408\u4f60\u5e0c\u671b\u5206\u522b\u67e5\u770b\u6bcf\u4e2a\u57df\u540d\u7684\u5ef6\u8fdf\u76d1\u63a7\u60c5\u51b5\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#63-dns-\u548c-dnsprobes\u914d\u7f6e","title":"6.3 DNS \u548c DNSProbes\u914d\u7f6e","text":"Bash<pre><code>+ DNS\nmenu = DNS Monitoring\ntitle = DNS Servers\n\n++ GoogleDNS\nmenu = Google DNS\ntitle = Google DNS (8.8.8.8)\nhost = 8.8.8.8\n\n++ AliyunDNS\nmenu = Aliyun DNS\ntitle = Aliyun DNS (223.5.5.5)\nhost = 223.5.5.5\n\n++ InternalDNS\nmenu = Internal DNS\ntitle = Internal DNS (10.22.50.5)\nhost = 10.22.50.5\n</code></pre> <p>\u914d\u7f6e\u89e3\u91ca\uff1a</p> <ul> <li> <p><code>+ DNS</code>\uff1a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u76ee\u6807\u7ec4 <code>DNS</code>\uff0c\u7528\u4e8e\u76d1\u63a7\u4e0d\u540c\u7684 DNS \u670d\u52a1\u5668\u3002</p> </li> <li> <p><code>++ GoogleDNS</code>\uff1a\u5728 <code>DNS</code> \u7ec4\u4e0b\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5b50\u76ee\u6807 <code>GoogleDNS</code>\uff0c\u7528\u4e8e\u76d1\u63a7 Google \u7684 <code>8.8.8.8</code> DNS \u670d\u52a1\u5668\u3002</p> </li> </ul> <p><code>GoogleDNS</code>\u3001<code>AliyunDNS</code> \u548c <code>InternalDNS</code> \u5b50\u7ec4\u5206\u522b\u751f\u6210\u72ec\u7acb\u7684\u76d1\u63a7\u56fe\u8868\u3002\u8fd9\u79cd\u65b9\u5f0f\u9002\u5408\u4f60\u5e0c\u671b\u5206\u522b\u67e5\u770b\u6bcf\u4e2a\u57df\u540d\u7684\u5ef6\u8fdf\u76d1\u63a7\u60c5\u51b5\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2smokeping/#\u4e94\u8bbf\u95eesmokeping","title":"\u4e94\u3001\u8bbf\u95eeSmokePing","text":"<p>\u6d4f\u89c8\u5668\u4e0a\u8bbf\u95ee\u3010http://10.22.51.66:9080\u3011\uff0c\u9996\u9875\u5982\u4e0b\uff1a</p> <p></p> <p>\u67e5\u770b\u5185\u7f51DNS\u76d1\u63a7\u4fe1\u606f\uff1a</p> <p></p> <p>\u56fe\u8868\u7ed3\u6784\uff1a\u56fe\u8868\u88ab\u5206\u6210\u56db\u4e2a\u90e8\u5206\uff0c\u5206\u522b\u663e\u793a\u4e86\u4e0d\u540c\u65f6\u95f4\u8de8\u5ea6\u5185\u7684\u5ef6\u8fdf\u60c5\u51b5\uff1a</p> <ol> <li>\u5de6\u4e0a\u89d2\u56fe\u8868\uff1a \u663e\u793a\u4e86\u6700\u8fd1 3 \u5c0f\u65f6\u5185\u7684\u5ef6\u8fdf\u3002</li> <li>\u53f3\u4e0a\u89d2\u56fe\u8868\uff1a \u663e\u793a\u4e86\u6700\u8fd1 30 \u5c0f\u65f6\u5185\u7684\u5ef6\u8fdf\u3002</li> <li>\u5de6\u4e0b\u89d2\u56fe\u8868\uff1a \u663e\u793a\u4e86\u6700\u8fd1 10 \u5929\u5185\u7684\u5ef6\u8fdf\u3002</li> <li>\u53f3\u4e0b\u89d2\u56fe\u8868\uff1a \u663e\u793a\u4e86\u6700\u8fd1 360 \u5929\u5185\u7684\u5ef6\u8fdf\u3002</li> </ol> <p>\u56fe\u8868\u5185\u5bb9\u89e3\u6790\uff1a\u6bcf\u4e2a\u56fe\u8868\u663e\u793a\u7684\u4fe1\u606f\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u90e8\u5206\uff1a</p> <ol> <li>\u56fe\u8868\u9876\u90e8\uff1a</li> <li>\u65f6\u95f4\u8f74\uff1a\u6bcf\u4e2a\u56fe\u8868\u90fd\u6709\u4e00\u4e2a\u65f6\u95f4\u8f74\uff0c\u8868\u793a\u76d1\u63a7\u6570\u636e\u7684\u65f6\u95f4\u8de8\u5ea6\u3002</li> <li>\u5ef6\u8fdf\uff1aY \u8f74\u8868\u793a\u54cd\u5e94\u65f6\u95f4\uff0c\u4ee5\u79d2\u6216\u6beb\u79d2\u4e3a\u5355\u4f4d\u3002</li> <li>\u56fe\u8868\u4e2d\u95f4\uff1a</li> <li>\u7eff\u8272/\u7ea2\u8272\u6761\u5f62\uff1a\u8fd9\u4e9b\u989c\u8272\u7684\u6761\u5f62\u8868\u793a\u6bcf\u4e2a\u65f6\u95f4\u6bb5\u7684\u5e73\u5747\u5ef6\u8fdf\u3002\u989c\u8272\u8868\u793a\u4e0d\u540c\u7684\u5ef6\u8fdf\u6c34\u5e73\uff08\u5982\u56fe\u4f8b\u6240\u793a\uff09\u3002</li> <li>\u7070\u8272\u533a\u57df\uff1a\u8868\u793a\u8be5\u65f6\u95f4\u6bb5\u6ca1\u6709\u8db3\u591f\u7684\u6570\u636e\u3002</li> <li>\u56fe\u8868\u5e95\u90e8\u7684\u7edf\u8ba1\u4fe1\u606f\uff1a</li> <li>median rtt\uff1a\u4e2d\u4f4d\u6570\u7684\u5f80\u8fd4\u65f6\u95f4\uff08RTT\uff09\u3002</li> <li>avg rtt\uff1a\u5e73\u5747\u5f80\u8fd4\u65f6\u95f4\uff08RTT\uff09\u3002</li> <li>max rtt\uff1a\u6700\u5927\u5f80\u8fd4\u65f6\u95f4\uff08RTT\uff09\u3002</li> <li>min rtt\uff1a\u6700\u5c0f\u5f80\u8fd4\u65f6\u95f4\uff08RTT\uff09\u3002</li> <li>packet loss\uff1a\u4e22\u5305\u7387\uff0c\u8868\u793a\u5728\u8fd9\u4e2a\u65f6\u95f4\u6bb5\u5185\u7684\u4e22\u5305\u767e\u5206\u6bd4\u3002</li> <li>loss color\uff1a\u56fe\u4f8b\uff0c\u8868\u793a\u4e0d\u540c\u989c\u8272\u7684\u6761\u5f62\u5bf9\u5e94\u7684\u4e22\u5305\u7387\u3002</li> <li>probe\uff1a\u63a2\u6d4b\u65b9\u5f0f\u548c\u9891\u7387\u3002\u8fd9\u91cc\u8868\u793a\u4f7f\u7528\u4e86 20 \u4e2a ICMP Echo Pings\uff08Ping\uff09\u6bcf 300 \u79d2\u6267\u884c\u4e00\u6b21\u63a2\u6d4b\u3002</li> </ol> <p>\u5f53\u524d\u56fe\u8868\u4e2d\u7684\u6570\u636e\uff1a\u4ece\u8fd9\u4e9b\u56fe\u8868\u4e2d\u53ef\u4ee5\u89c2\u5bdf\u5230\u4ee5\u4e0b\u60c5\u51b5\uff1a</p> <ul> <li>\u6700\u8fd1 3 \u5c0f\u65f6\u5185\u7684\u5ef6\u8fdf\uff1a \u5728\u56fe\u8868\u7684\u5de6\u4e0a\u90e8\u5206\uff0c\u663e\u793a\u4e86\u4ece <code>221f513be6e3</code> \u4e3b\u673a\u5230 <code>10.22.50.5</code> \u7684 DNS \u670d\u52a1\u5668\u7684\u5ef6\u8fdf\u60c5\u51b5\u3002\u56fe\u4e2d\u663e\u793a\u6700\u8fd1 3 \u5c0f\u65f6\u7684\u5e73\u5747\u5ef6\u8fdf\u7ea6\u4e3a <code>313.7us</code>\uff0c\u4e22\u5305\u7387\u4e3a <code>0.00%</code>\u3002</li> <li>\u6700\u8fd1 10 \u5929\u548c 360 \u5929\u7684\u5ef6\u8fdf\uff1a \u8fd9\u4e9b\u90e8\u5206\u7684\u6570\u636e\uff08\u5de6\u4e0b\u548c\u53f3\u4e0b\u56fe\u8868\uff09\u5c1a\u672a\u7d2f\u8ba1\u8db3\u591f\u7684\u6570\u636e\uff0c\u56fe\u8868\u4e2d\u663e\u793a\u7684\u503c\u4e3a <code>-nan</code>\uff0c\u8868\u793a\u6570\u636e\u4e0d\u8db3\u6216\u672a\u91c7\u96c6\u3002</li> </ul> <p>\u7ed3\u8bba\uff1a\u5f53\u524d\u7684\u76d1\u63a7\u663e\u793a\u4e86 <code>10.22.50.5</code> \u8fd9\u4e2a DNS \u670d\u52a1\u5668\u5728\u6700\u8fd1\u51e0\u4e2a\u5c0f\u65f6\u5185\u7684\u54cd\u5e94\u65f6\u95f4\u975e\u5e38\u7a33\u5b9a\uff0c\u5ef6\u8fdf\u5f88\u4f4e\uff0c\u4e14\u6ca1\u6709\u4e22\u5305\u3002\u957f\u671f\u56fe\u8868\u7531\u4e8e\u6570\u636e\u4e0d\u8db3\uff0c\u8fd8\u65e0\u6cd5\u63d0\u4f9b\u6709\u6548\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\u7ee7\u7eed\u8fd0\u884c Smokeping \u6765\u7d2f\u79ef\u66f4\u591a\u6570\u636e\uff0c\u8fd9\u6837\u957f\u671f\u56fe\u8868\u4f1a\u9010\u6e10\u663e\u793a\u51fa\u66f4\u591a\u6709\u4ef7\u503c\u7684\u4fe1\u606f\u3002</p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2wizard/","title":"docker \u90e8\u7f72wizard","text":"Text Only<pre><code>mkdir -p /data/users/admin/wizard\nmkdir -p /data/users/admin/wizard/logs\nchmod -R 777 /data/users/admin/wizard\n\n#\u521b\u5efa\u6570\u636e\u5e93\ncreate database wizard;\n\n\ndocker run -d --name wizard \\\n    -e DB_HOST=10.22.51.66 \\\n    -e DB_PORT=3306 \\\n    -e DB_DATABASE=wizard \\\n    -e DB_USERNAME=root \\\n    -e DB_PASSWORD=sunline \\\n    -p 8087:80 \\\n    -e APP_DEBUG=true \\\n    -v /data/users/admin/wizard:/webroot/storage/app/public \\\n    -v /data/users/admin/wizard/logs:/webroot/storage/logs \\\n    mylxsw/wizard\n\n\ndocker exec -it wizard /bin/bash\nphp artisan migrate:install\nphp artisan migrate\n\nchmod -R 777 /webroot/storage/logs\ndocker restart wizard\n</code></pre>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2zabbix6/","title":"docker \u90e8\u7f72zabbix6","text":"<p>\u521b\u5efazabbix\u7f51\u7edc Text Only<pre><code>docker network create -d bridge zbx_net\n</code></pre></p> <p>\u521b\u5efa\u5b58\u653e\u76ee\u5f55 Text Only<pre><code>mkdir -p /data/zabbix/db\n</code></pre></p> <p>\u4e0b\u8f7ddocker\u955c\u50cf</p> Text Only<pre><code>docker pull zabbix/zabbix-web-nginx-mysql\n\ndocker pull zabbix/zabbix-server-mysql\n\ndocker pull zabbix/zabbix-agent\n\ndocker pull mysql:8.0.32\n</code></pre> <p>\u90e8\u7f72mysql vm\u865a\u62df\u673amysql root\u7684\u5bc6\u7801\u4e3a123qwe Text Only<pre><code>docker run -itd -p 3306:3306 \\\n--name zabbix-mysql \\\n--network zbx_net \\\n--restart always \\\n-v /etc/localtime:/etc/localtime \\\n-v /data/zabbix/db:/var/lib/mysql \\\n-e MYSQL_USER=zabbix \\\n-e MYSQL_PASSWORD=\"zabbix\" \\\n-e MYSQL_ROOT_PASSWORD=\"sunline\" \\\nmysql:8.0.32 \\\n--default-authentication-plugin=mysql_native_password \\\n--character-set-server=utf8 \\\n--collation-server=utf8_bin\n</code></pre></p>"},{"location":"docker/docker-deploy/docker%20%E9%83%A8%E7%BD%B2zabbix6/#_1","title":"docker \u90e8\u7f72zabbix6","text":"<p>\u4e3azabbix-server\u521b\u5efa\u4e00\u4e2a\u6301\u4e45\u5377</p> Bash<pre><code>docker volume create zbx_vo1\n</code></pre> <p>\u521b\u5efazabbix server</p> Text Only<pre><code>docker run -itd -p 10051:10051 \\\n--mount source=zbx_vo1,target=/etc/zabbix \\\n-v /etc/localtime:/etc/localtime \\\n-v /usr/lib/zabbix/alertscripts:/usr/lib/zabbix/alertscripts \\\n--name=zabbix-server-mysql --restart=always \\\n--network zbx_net \\\n-e DB_SERVER_HOST=\"zabbix-mysql\" \\\n-e MYSQL_DATABASE=\"zabbix\" \\\n-e MYSQL_USER=\"zabbix\" \\\n-e MYSQL_PASSWORD=\"zabbix\" \\\n-e MYSQL_ROOT_PASSWORD=\"sunline\" \\\n-e ZBX_JAVAGATEWAY=\"zabbix-java-gateway\" \\\n-e ZBX_JAVAGATEWAY_ENABLE=\"true\" \\\n-e ZBX_JAVAGATEWAYPORT=10052 \\\nzabbix/zabbix-server-mysql\n</code></pre> <p>\u521b\u5efa\u8bed\u8a00\u5b58\u653e\u76ee\u5f55</p> Text Only<pre><code>mkdir -p /data/zabbix/db/fonts\ncd /data/zabbix/db/fonts/\nwget https://dl.cactifans.com/zabbix_docker/msty.ttf\n\n\n[root@monitor-vm fonts]# ls\nmsty.ttf\n[root@monitor-vm fonts]# mv msty.ttf DejaVuSans.ttf\n[root@monitor-vm fonts]# ls\nDejaVuSans.ttf\n</code></pre> <p>\u542f\u52a8zabbix-web\u5bb9\u5668</p> Text Only<pre><code>docker run -itd -p 8090:8080 \\\n-v /etc/localtime:/etc/localtime \\\n-v /data/zabbix/fonts/DejaVuSans.ttf:/usr/share/zabbix/assets/DejaVuSans.ttf \\\n--name zabbix-web-nginx-mysql --restart=always \\\n--network zbx_net \\\n-e DB_SERVER_HOST=\"zabbix-mysql\" \\\n-e MYSQL_DATABASE=\"zabbix\" \\\n-e MYSQL_USER=\"zabbix\" \\\n-e MYSQL_PASSWORD=\"zabbix\" \\\n-e MYSQL_ROOT_PASSWORD=\"sunline\" \\\n-e ZBX_SERVER_HOST=\"zabbix-server-mysql\" \\\nzabbix/zabbix-web-nginx-mysql\n</code></pre> <p>\u767b\u5f55\u5730\u5740\uff1ahttp://192.168.42.128:8090/zabbix.php?action=dashboard.view</p> <p>\u8d26\u6237\uff1aadmin</p> <p>\u5bc6\u7801\uff1azabbix</p>"},{"location":"docker/docker-deploy/shell%E4%B8%80%E9%94%AE%E9%83%A8%E7%BD%B2docker/","title":"shell\u4e00\u952e\u90e8\u7f72docker","text":"<p>shell\u5b89\u88c5docker\uff0c\u53c2\u8003\uff1a</p> Bash<pre><code>curl -fsSL https://test.docker.com -o test-docker.sh\nsudo sh test-docker.sh\n</code></pre> <p>\u5b89\u88c5\u5b8c\uff0c\u542f\u52a8\u5373\u53ef\uff1a</p> Bash<pre><code>systemctl start docker\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/","title":"docker \u5b89\u88c5typecho\u535a\u5ba2","text":""},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#\u4e00\u5b89\u88c5git","title":"\u4e00\u3001\u5b89\u88c5git","text":"Bash<pre><code>yum -y install git\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#\u4e8c\u5b89\u88c5compose\u53ef\u9009","title":"\u4e8c\u3001\u5b89\u88c5compose\uff08\u53ef\u9009\uff09","text":""},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#1\u786e\u4fdd\u5df2\u7ecf\u5b89\u88c5\u4e86-docker","title":"1.\u786e\u4fdd\u5df2\u7ecf\u5b89\u88c5\u4e86 Docker","text":"<p>\u200b       Docker Compose \u662f Docker \u7684\u4e00\u4e2a\u72ec\u7acb\u7ec4\u4ef6\uff0c\u56e0\u6b64\u5728\u5b89\u88c5 Docker Compose \u4e4b\u524d\uff0c\u9700\u8981\u5148\u5b89\u88c5 Docker\u3002\u4f60\u53ef\u4ee5\u6309\u7167 Docker \u5b98\u65b9\u6587\u6863\u7684\u6307\u5f15\u8fdb\u884c Docker \u7684\u5b89\u88c5\u3002</p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#2\u4e0b\u8f7d-docker-compose-\u7684\u53ef\u6267\u884c\u6587\u4ef6","title":"2.\u4e0b\u8f7d Docker Compose \u7684\u53ef\u6267\u884c\u6587\u4ef6","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u4ece Docker \u5b98\u65b9 GitHub \u5b58\u50a8\u5e93\u4e0b\u8f7d Docker Compose \u7684\u6700\u65b0\u7248\u672c\uff1a</p> Bash<pre><code>sudo curl -L \"https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#3\u6dfb\u52a0\u53ef\u6267\u884c\u6743\u9650","title":"3.\u6dfb\u52a0\u53ef\u6267\u884c\u6743\u9650","text":"<p>\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u9700\u8981\u4e3a Docker Compose \u6587\u4ef6\u6dfb\u52a0\u53ef\u6267\u884c\u6743\u9650\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b8c\u6210\uff1a</p> Bash<pre><code>sudo chmod +x /usr/local/bin/docker-compose\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#4\u9a8c\u8bc1\u5b89\u88c5","title":"4.\u9a8c\u8bc1\u5b89\u88c5","text":"<p>\u8fd0\u884c <code>docker-compose --version</code> \u547d\u4ee4\u6765\u9a8c\u8bc1 Docker Compose \u662f\u5426\u6210\u529f\u5b89\u88c5\uff0c\u5e94\u8be5\u80fd\u591f\u770b\u5230 Docker Compose \u7684\u7248\u672c\u4fe1\u606f\uff1a</p> Bash<pre><code>docker-compose --version\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#5\u5173\u95ed\u9632\u706b\u5899","title":"5.\u5173\u95ed\u9632\u706b\u5899","text":"Bash<pre><code>systemctl stop firewalld\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#\u4e09\u62c9\u53d6\u4ed3\u5e93","title":"\u4e09\u3001\u62c9\u53d6\u4ed3\u5e93","text":"Bash<pre><code>#\u62c9\u53d6\u4ed3\u5e93\ngit clone https://github.com/fukoy/docker-typecho.git\ncd docker-typecho\n\n[root@jerion docker-typecho]# pwd\n/data/typecho/docker-typecho\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#\u56db\u521b\u5efa\u76ee\u5f55","title":"\u56db\u3001\u521b\u5efa\u76ee\u5f55","text":"Bash<pre><code>mkdir -p /data/typecho/mysql/data\nmkdir -p /data/typecho/mysql/logs\nmkdir -p /data/typecho/mysql/conf\n\n#\u526a\u5207\u76ee\u5f55\nmv /tmp/docker-typecho/nginx /data/typecho/nginx\nmv /tmp/docker-typecho/www /data/typecho/www\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#\u4e94\u914d\u7f6e\u6587\u4ef6\u4fee\u6539","title":"\u4e94\u3001\u914d\u7f6e\u6587\u4ef6\u4fee\u6539","text":"<p>\u4fee\u6539docker-compose\u6587\u4ef6\uff1a</p> Bash<pre><code>vim docker-compose.yml\n</code></pre> <p>\u6539\u6210\u4ee5\u4e0b\u914d\u7f6e\uff1a</p> Bash<pre><code>version: '3'\n\nservices:\n  typecho:\n    image: fukoy/nginx-php-fpm:php7.4\n    container_name: typecho2\n    networks:\n      - typecho_network\n    ports:\n      - '8090:80'  #\u5f00\u653e\u7aef\u53e38090\n    restart: always\n    volumes:\n      - /data/typecho/www:/usr/share/nginx/typecho/   #typecho\u7f51\u7ad9\u6587\u4ef6\n      - /data/typecho/nginx/conf.d:/etc/nginx/conf.d   #nginx\u914d\u7f6e\u6587\u4ef6\u5939\n      - /data/typecho/nginx/nginx.conf:/etc/nginx/nginx.conf  #nginx\u914d\u7f6e\u6587\u4ef6\n    depends_on:\n      - mysql\n\n  typechdb:\n    image: mysql:5.7\n    container_name: typechodb2\n    networks:\n      - typecho_network\n    ports:\n      - '3306:3306'\n    restart: always\n    environment:\n      - MYSQL_ROOT_PASSWORD=123456   # \u66ff\u6362\u4e3a\u4f60\u7684MySQL root\u5bc6\u7801\n      - MYSQL_DATABASE=typecho       # \u66ff\u6362\u4e3a\u4f60\u7684\u6570\u636e\u5e93\u540d\u79f0\n      - MYSQL_USER=typecho           # \u66ff\u6362\u4e3a\u4f60\u7684\u6570\u636e\u5e93\u7528\u6237\n      - MYSQL_PASSWORD=typecho       # \u66ff\u6362\u4e3a\u4f60\u7684\u6570\u636e\u5e93\u7528\u6237\u5bc6\u7801\n    volumes:\n      - /data/typecho/mysql/data:/var/lib/mysql\n      - /data/typecho/mysql/logs:/var/log/mysql\n      - /data/typecho/mysql/conf:/etc/mysql/conf.d\n\nnetworks:\n  typecho_network:\n    name: typecho_network\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.190.0.0/16\n</code></pre> <p>\u6b64\u5904\u914d\u7f6e\u6587\u4ef6\u4e2d\u4e0e\u5b98\u65b9\u6587\u6863\u4e0d\u4e00\u81f4\uff0c\u79fb\u9664\u4e86 <code>env_file</code> \u6307\u4ee4\uff0c\u5e76\u76f4\u63a5\u5728 <code>mysql</code> \u670d\u52a1\u4e0b\u6dfb\u52a0\u4e86 <code>environment</code> \u6307\u4ee4\u6765\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u3002\u786e\u4fdd\u66ff\u6362 <code>yourpassword</code>\u3001<code>yourdatabase</code>\u3001<code>youruser</code> \u548c <code>yourpassword</code> \u4e3a\u4f60\u7684\u5b9e\u9645 MySQL \u914d\u7f6e\u3002</p> <p>\u5728\u8fd0\u884c <code>docker-compose up -d</code> \u4e4b\u524d\uff0c\u8bf7\u8fdb\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u786e\u8ba4 <code>/data/nginx/nginx.conf</code> \u5b58\u5728\u4e14\u4e3a\u6587\u4ef6\u3002</li> <li>\u786e\u8ba4 <code>/data/www</code>\u3001<code>/data/nginx/conf.d</code>\u3001<code>/data/mysql/data</code>\u3001<code>/data/mysql/logs</code> \u548c <code>/data/mysql/conf</code> \u8def\u5f84\u5728\u5bbf\u4e3b\u673a\u4e0a\u5b58\u5728\u5e76\u5177\u6709\u6b63\u786e\u7684\u6743\u9650\u3002</li> <li>\u5982\u679c\u8fd9\u4e9b\u76ee\u5f55\u6216\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u8bf7\u521b\u5efa\u5b83\u4eec\u5e76\u786e\u4fdd Docker \u7528\u6237\u6709\u6743\u8bbf\u95ee\u5b83\u4eec\u3002</li> </ol>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#\u516d\u542f\u52a8\u5bb9\u5668","title":"\u516d\u3001\u542f\u52a8\u5bb9\u5668","text":""},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#1\u542f\u52a8\u670d\u52a1","title":"1.\u542f\u52a8\u670d\u52a1","text":"Bash<pre><code>[root@jerion ~]# mkdir -p /usr/local/typecho1.2\n[root@jerion ~]# mv /tmp/docker-typecho /usr/local/typecho1.2\n\n#\u5728/usr/local/typecho1.2/docker-typecho\u6587\u4ef6\u5939\u4e0b\n[root@jerion ~]# cd /usr/local/typecho1.2/docker-typecho\n[root@jerion docker-typecho]# docker-compose up -d\n[+] Running 3/3\n \u2714 Network docker-typecho_web        Created                                                             1.2s \n \u2714 Container docker-typecho-mysql-1  Started                                                             2.6s \n \u2714 Container docker-typecho-web-1    Started                                                             2.5s \n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#2\u505c\u6b62\u670d\u52a1","title":"2.\u505c\u6b62\u670d\u52a1","text":"Bash<pre><code>[root@chatgpt-test docker-typecho]# docker-compose down\n[+] Running 3/3\n \u2714 Container docker-typecho-web-1    Removed                                                            21.2s \n \u2714 Container docker-typecho-mysql-1  Removed                                                            15.4s \n \u2714 Network docker-typecho_web        Removed                                                             2.0s \n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#3\u67e5\u770bdocker\u8fdb\u7a0b","title":"3.\u67e5\u770bdocker\u8fdb\u7a0b","text":"Bash<pre><code>[root@chatgpt-test docker-typecho]# docker ps\nCONTAINER ID   IMAGE                        COMMAND                   CREATED          STATUS          PORTS                                                  NAMES\n916e25d5d33b   fukoy/nginx-php-fpm:php7.4   \"/start.sh\"               34 seconds ago   Up 20 seconds   0.0.0.0:8090-&gt;80/tcp, :::8090-&gt;80/tcp                  docker-typecho-web-1\n0a2d01d8ad6f   mysql:5.7                    \"docker-entrypoint.s\u2026\"   36 seconds ago   Up 27 seconds   0.0.0.0:3306-&gt;3306/tcp, :::3306-&gt;3306/tcp, 33060/tcp    docker-typecho-mysql-1\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#4\u91cd\u542f","title":"4.\u91cd\u542f","text":"Bash<pre><code>#docker-compose\u91cd\u542f\ndocker-compose restart\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#\u4e03\u4fee\u6539mysql\u6570\u636e\u5e93","title":"\u4e03\u3001\u4fee\u6539MYSQL\u6570\u636e\u5e93","text":"<p>\u5728yml\u6587\u4ef6\u4e2d\u6211\u63d0\u4f9b\u4e86mysql\u5bc6\u7801\uff0c\u4f46\u662f\u5728\u5b89\u88c5\u540e\uff0c\u4f7f\u7528\u5bc6\u7801\u59cb\u7ec8\u65e0\u6cd5\u767b\u5f55\uff0c\u540e\u9762\u5c1d\u8bd5\u5bc6\u7801\u4e3a\u7a7a\u8fdb\u5165\u4e86\u3002</p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#1\u767b\u5f55mysql","title":"1.\u767b\u5f55mysql","text":"Bash<pre><code>#\u8fdb\u5165\u5bb9\u5668\uff1adocker exec -it \u5bb9\u5668id /bin/bash\n\n[root@chatgpt-test docker-typecho]# docker exec -it 0a2d01d8ad6f /bin/bash\nroot@0a2d01d8ad6f:/# mysql -uroot -p\nEnter password: \nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 20\nServer version: 5.7.36 MySQL Community Server (GPL)\n\nCopyright (c) 2000, 2021, Oracle and/or its affiliates.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql&gt; \n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#2\u8bbe\u7f6e-root-\u7528\u6237\u7684\u5bc6\u7801","title":"2.\u8bbe\u7f6e <code>root</code> \u7528\u6237\u7684\u5bc6\u7801","text":"<p>\u5728 MySQL \u63d0\u793a\u7b26\u4e0b\uff0c\u4f7f\u7528<code>ALTER USER</code>\u8bed\u53e5\u4e3a<code>root</code>\u7528\u6237\u8bbe\u7f6e\u65b0\u5bc6\u7801\u3002\u8bf7\u786e\u4fdd\u4f60\u4f7f\u7528\u4e86\u5f3a\u5bc6\u7801\u3002\u4ee5\u4e0b\u662f\u8bbe\u7f6e\u5bc6\u7801\u4e3a<code>123456</code>\u7684\u547d\u4ee4\uff1a</p> SQL<pre><code>ALTER USER 'root'@'localhost' IDENTIFIED BY '123456';\nFLUSH PRIVILEGES;\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#3\u6388\u4e88\u8fdc\u7a0b\u8bbf\u95ee\u6743\u9650","title":"3.\u6388\u4e88\u8fdc\u7a0b\u8bbf\u95ee\u6743\u9650","text":"<p>\u4e3a\u4e86\u5141\u8bb8\u5176\u4ed6\u8bbe\u5907\u8fdc\u7a0b\u8fde\u63a5\u5230 MySQL \u670d\u52a1\u5668\uff0c\u4f60\u9700\u8981\u4e3a<code>root</code>\u7528\u6237\u6dfb\u52a0\u4e00\u4e2a\u5141\u8bb8\u4ece\u4efb\u4f55\u4e3b\u673a\u8fde\u63a5\u7684\u6743\u9650\u3002</p> <p>\u5148\u67e5\u770b<code>root</code>\u7528\u6237\u662f\u5426\u6709\u5141\u8bb8\u4ece\u4efb\u4f55\u4e3b\u673a\u8fde\u63a5\u7684\u6743\u9650\uff1a</p> SQL<pre><code>mysql&gt; select User, Host FROM mysql.user;\n+---------------+-----------+\n| User          | Host      |\n+---------------+-----------+\n| root          | %         |\n| typecho       | %         |\n| mysql.session | localhost |\n| mysql.sys     | localhost |\n| root          | localhost |\n+---------------+-----------+\n</code></pre> <p>\u663e\u793a\u7ed3\u679c\u4e2dhost\u4e3a<code>%</code>\u8bf4\u660e\u5df2\u6709\u6743\u9650\u3002</p> <p>\u5982\u679c\u6ca1\u6709\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> SQL<pre><code>GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'mjMJ@2023' WITH GRANT OPTION;\nFLUSH PRIVILEGES;\n</code></pre> <p>\u8fd9\u91cc <code>'root'@'%'</code> \u8868\u793a <code>root</code> \u7528\u6237\u53ef\u4ee5\u4ece\u4efb\u4f55 IP \u5730\u5740\u8fde\u63a5\u3002\u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u901a\u5e38\u5efa\u8bae\u4ec5\u5141\u8bb8\u7279\u5b9a\u7684 IP \u5730\u5740\u6216\u5730\u5740\u8303\u56f4\u3002\u5982\u679c\u4f60\u60f3\u9650\u5236\u8fdc\u7a0b\u8bbf\u95ee\u7684 IP \u5730\u5740\uff0c\u53ef\u4ee5\u5c06 <code>%</code> \u66ff\u6362\u4e3a\u7279\u5b9a\u7684 IP \u5730\u5740\u6216\u5730\u5740\u8303\u56f4\u3002</p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#4\u521b\u5efa\u65b0\u7528\u6237","title":"4.\u521b\u5efa\u65b0\u7528\u6237","text":"<p>\u5728 MySQL \u63d0\u793a\u7b26\u4e0b\uff0c\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>typecho</code> \u7684\u65b0\u7528\u6237\uff0c\u5e76\u8bbe\u7f6e\u5bc6\u7801\uff08\u5728\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 <code>mjMJ@2023</code> \u4f5c\u4e3a\u793a\u4f8b\u5bc6\u7801\uff09\uff1a</p> SQL<pre><code>CREATE USER 'typecho'@'%' IDENTIFIED BY 'typecho';\n</code></pre> <p><code>'typecho'@'%'</code> \u8868\u793a\u7528\u6237 <code>typecho</code> \u53ef\u4ee5\u4ece\u4efb\u4f55 IP \u5730\u5740\u8fde\u63a5\u3002\u5982\u679c\u4f60\u60f3\u9650\u5236\u7528\u6237\u53ea\u80fd\u4ece\u7279\u5b9a\u7684 IP \u5730\u5740\u8fde\u63a5\uff0c\u5c06 <code>%</code> \u66ff\u6362\u4e3a\u8be5 IP \u5730\u5740\u3002</p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#5\u6388\u4e88\u6743\u9650","title":"5.\u6388\u4e88\u6743\u9650","text":"<p>\u8d4b\u4e88 <code>typecho</code> \u7528\u6237\u521b\u5efa\u6570\u636e\u5e93\u548c\u8868\u7684\u6743\u9650\uff1a</p> SQL<pre><code>GRANT CREATE ON *.* TO 'typecho'@'%';\nGRANT DROP ON *.* TO 'typecho'@'%';\nGRANT ALTER ON *.* TO 'typecho'@'%';\n</code></pre> <p>\u8fd9\u4e9b\u547d\u4ee4\u5141\u8bb8\u7528\u6237 <code>typecho</code> \u5728\u6240\u6709\u6570\u636e\u5e93\u4e0a\u521b\u5efa\u3001\u5220\u9664\u548c\u4fee\u6539\u8868\u3002\u5982\u679c\u4f60\u60f3\u9650\u5236\u8fd9\u4e9b\u6743\u9650\u4ec5\u9002\u7528\u4e8e\u7279\u5b9a\u7684\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u5c06 <code>*.*</code> \u66ff\u6362\u4e3a <code>&lt;\u6570\u636e\u5e93\u540d&gt;.*</code>\u3002</p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#6\u5237\u65b0\u6743\u9650","title":"6.\u5237\u65b0\u6743\u9650","text":"<p>\u4e3a\u4e86\u4f7f\u6743\u9650\u66f4\u6539\u7acb\u5373\u751f\u6548\uff0c\u9700\u8981\u5237\u65b0\u6743\u9650\uff1a</p> SQL<pre><code>FLUSH PRIVILEGES;\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#7\u9000\u51fa-mysql","title":"7.\u9000\u51fa MySQL","text":"<p>\u8f93\u5165 <code>exit</code> \u547d\u4ee4\u9000\u51fa MySQL \u5ba2\u6237\u7aef\u3002</p> SQL<pre><code>exit\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#\u516b\u5b89\u88c5typecho\u535a\u5ba2","title":"\u516b\u3001\u5b89\u88c5typecho\u535a\u5ba2","text":"<p>\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u8bbf\u95eehttp://10.22.51.63:8090/install.php\uff1a</p> <p></p> <p>\u9009\u62e9Pdo\u9a71\u52a8SQLite\u9002\u914d\u5668</p> <p>\u9ed8\u8ba4\u914d\u7f6e\uff0c\u76f4\u63a5\u5b89\u88c5\uff1a</p> <p></p> <p>\u8bbe\u7f6e\u7ba1\u7406\u5458\u8d26\u53f7\u4fe1\u606f\uff1a</p> <p></p> <p>\u5b89\u88c5\u6210\u529f\uff1a</p> <p></p> <p>\u535a\u5ba2\u754c\u9762\uff1a</p> <p></p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#\u4e5d\u76f8\u5173\u62a5\u9519\u95ee\u9898","title":"\u4e5d\u3001\u76f8\u5173\u62a5\u9519\u95ee\u9898","text":""},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#1-\u521d\u59cb\u5316\u914d\u7f6e\u62a5\u9519","title":"1. \u521d\u59cb\u5316\u914d\u7f6e\u62a5\u9519","text":"<p>\u9009\u62e9mysql\u539f\u751f\u51fd\u6570\u9002\u914d\u5668\u548cPdo\u9a71\u52a8Mysql\u9002\u914d\u5668\uff1a</p> <p></p> <p></p> <p>\u5747\u62a5\u9519\uff0c\u63d0\u793a\uff1a\u5bf9\u4e0d\u8d77, \u65e0\u6cd5\u8fde\u63a5\u6570\u636e\u5e93, \u8bf7\u5148\u68c0\u67e5\u6570\u636e\u5e93\u914d\u7f6e\u518d\u7ee7\u7eed\u8fdb\u884c\u5b89\u88c5</p> <p></p> <p>\u53ef\u80fd\u662f\u54ea\u91cc\u7684\u6743\u9650\u6709\u95ee\u9898\uff0c\u4e0d\u7ba1\u662f\u4f7f\u7528mysql\u7684root\u8fd8\u662ftypeche\u8d26\u6237\u90fd\u662f\u62a5\u9519\uff0c\u5c1d\u8bd5\u8fc7\u5c06localhost\u6362\u6210127.0.0.1\u5747\u4e0d\u884c\u3002</p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E5%AE%89%E8%A3%85typecho%E5%8D%9A%E5%AE%A2/#2nginx\u62a5\u9519","title":"2.nginx\u62a5\u9519","text":"Bash<pre><code>Error response from daemon: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: error during container init: error mounting \"/data/nginx/nginx.conf\" to rootfs at \"/etc/nginx/nginx.conf\": mount /data/nginx/nginx.conf:/etc/nginx/nginx.conf (via /proc/self/fd/6), flags: 0x5000: not a directory: unknown: Are you trying to mount a directory onto a file (or vice-versa)? Check if the specified host path exists and is the expected type\n</code></pre> <p>\u539f\u56e0\uff1a</p> <p>1\u3001\u521b\u5efa\u5bb9\u5668\u65f6\uff0c\u9ed8\u8ba4\u5c06nginx.conf\u914d\u7f6e\u521b\u5efa\u6210\u4e86\u76ee\u5f55\uff1b</p> <p>2\u3001\u6ca1\u6709\u5c06\u514b\u9686\u7684\u914d\u7f6e\u590d\u5236\u5230\u5bf9\u5e94\u7684\u5bb9\u5668\u76ee\u5f55\u3002</p> <p>\u89e3\u51b3\u529e\u6cd5\uff1a</p> <p>\u79fb\u52a8\u914d\u7f6e\u6587\u4ef6\uff0c\u5230\u5bf9\u5e94\u7684\u76ee\u5f55\u4e0b\u5373\u53ef\uff1a</p> Bash<pre><code>mv /tmp/docker-typecho/nginx /data/typecho/nginx\nmv /tmp/docker-typecho/www /data/typecho/www\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2frp_halo%E7%BB%84%E5%90%88/","title":"docker \u90e8\u7f72frp_halo\u7ec4\u5408","text":""},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2frp_halo%E7%BB%84%E5%90%88/#1-frpnginxhalopostgres","title":"1. frp+nginx+halo+postgres","text":"<p>\u542f\u52a8\u9009\u9879\uff1ahalo:2.14\u3001postgres:15.4\u3001nginx\u3001frps</p> Text Only<pre><code>version: \"3\"\n\nservices:\n  halo:\n    image: halohub/halo:2.14\n    container_name: halo2\n    restart: on-failure:3\n    depends_on:\n      - halodb\n    volumes:\n      - /data/Halo/halo2:/root/.halo2\n    ports:\n      - \"8090:8090\"\n    healthcheck:\n      test: [\"CMD-SHELL\", \"curl -f http://localhost:8090/actuator/health/readiness || exit 1\"]\n      interval: 1m\n      timeout: 10s\n      retries: 3\n      start_period: 1m\n    command:\n      - --spring.r2dbc.url=r2dbc:pool:postgresql://halodb/halo\n      - --spring.r2dbc.username=halo\n      - --spring.r2dbc.password=mjMJ@2024\n      - --spring.sql.init.platform=postgresql\n      - --halo.external-url=http://120.78.156.217:8090/\n\n  halodb:\n    image: postgres:15.4\n    container_name: halodb2\n    restart: on-failure:3\n    volumes:\n      - /data/Halo/db:/var/lib/postgresql/data\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U halo -d halo\"]\n      interval: 30s\n      timeout: 10s\n      retries: 5\n    environment:\n      - POSTGRES_PASSWORD=mjMJ@2024\n      - POSTGRES_USER=halo\n      - POSTGRES_DB=halo\n      - PGUSER=halo\n\n  frps:\n    image: ryaning/frps\n    container_name: frps2\n    restart: always\n    volumes:\n      - /data/frp/frps.ini:/etc/frp/frps.ini\n    ports:\n      - \"7000:7000\"\n      - \"7001:7001\"\n      - \"10080:10080\"\n      - \"10443:10443\"\n      - \"5000:5000\"\n      - \"3000:3000\"\n      - \"8222:8222\"\n      - \"8223:8223\"\n      - \"8224:8224\"\n      - \"8225:8225\"\n      - \"8226:8226\"\n      - \"8227:8227\"\n      - \"8228:8228\"\n      - \"8229:8229\"\n      - \"8230:8230\"\n      - \"8231:8231\"\n      - \"8232:8232\"\n      - \"8233:8233\"\n      - \"8234:8234\"\n      - \"8235:8235\"\n      - \"8236:8236\"\n      - \"8237:8237\"\n      - \"8238:8238\"\n      - \"8239:8239\"\n      - \"8240:8240\"\n      - \"8241:8241\"\n      - \"8242:8242\"\n      - \"8243:8243\"\n      - \"8244:8244\"\n      - \"8096:8096\"\n\n  nginx:\n    image: nginx\n    container_name: nginx2\n    ports:\n      - \"80:80\"\n    volumes:\n      - /data/nginx/html:/usr/share/nginx/html:ro\n      - /data/nginx/conf/nginx.conf:/etc/nginx/nginx.conf\n      - /data/nginx/conf/conf.d:/etc/nginx/conf.d\n      - /data/nginx/log:/var/log/nginx\n    restart: always\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2frp_halo%E7%BB%84%E5%90%88/#2frpnginxhalomysql","title":"2.frp+nginx+halo+mysql","text":"<p>\u6587\u4ef6\u5939</p> Text Only<pre><code>mkdir -p /data/Halo\nmkdir -p /data/Halo/mysql\nmkdir -p /data/Halo/mysqlBackup\n</code></pre> Text Only<pre><code>version: \"3\"\n\nservices:\n  halo:\n    image: halohub/halo:2.14\n    container_name: halo2\n    restart: on-failure:3\n    depends_on:\n      - halodb\n    volumes:\n      - /data/Halo:/root/.halo2\n    ports:\n      - \"8090:8090\"\n    healthcheck:\n      test: [\"CMD-SHELL\", \"curl -f http://localhost:8090/actuator/health/readiness || exit 1\"]\n      interval: 1m\n      timeout: 10s\n      retries: 3\n      start_period: 1m\n    command:\n      - --spring.r2dbc.url=r2dbc:pool:mysql://halodb:3306/halo\n      - --spring.r2dbc.username=root\n        # MySQL \u7684\u5bc6\u7801\uff0c\u8bf7\u4fdd\u8bc1\u4e0e\u4e0b\u65b9 MYSQL_ROOT_PASSWORD \u7684\u53d8\u91cf\u503c\u4e00\u81f4\u3002\n      - --spring.r2dbc.password=123456789\n      - --spring.sql.init.platform=mysql\n        # \u5916\u90e8\u8bbf\u95ee\u5730\u5740\uff0c\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u8981\u4fee\u6539\n      - --halo.external-url=http://10.22.51.65:8090/\n        # \u521d\u59cb\u5316\u7684\u8d85\u7ea7\u7ba1\u7406\u5458\u7528\u6237\u540d\n      - --halo.security.initializer.superadminusername=admin\n        # \u521d\u59cb\u5316\u7684\u8d85\u7ea7\u7ba1\u7406\u5458\u5bc6\u7801\n      - --halo.security.initializer.superadminpassword=123456789\n\n  halodb:\n    image: mysql:8.0.31\n    container_name: halodb2\n    restart: on-failure:3\n    volumes:\n      - /data/Halo/mysql:/var/lib/mysql\n      - /data/Halo/mysqlBackup:/data/mysqlBackup\n    ports:\n      - \"3306:3306\"\n    healthcheck:\n      test: [\"CMD\", \"mysqladmin\", \"ping\", \"-h\", \"127.0.0.1\", \"--silent\"]\n      interval: 30s\n      timeout: 5s\n      retries: 5\n      start_period: 30s\n    environment:\n      - MYSQL_ROOT_PASSWORD=123456789\n      - MYSQL_DATABASE=halo\n\n\n  frps:\n    image: ryaning/frps\n    container_name: frps2\n    restart: always\n    network_mode: host\n    volumes:\n      - /data/frp/frps.ini:/etc/frp/frps.ini\n\n  nginx:\n    image: nginx\n    container_name: nginx2\n    ports:\n      - \"80:80\"\n    volumes:\n      - /data/nginx/html:/usr/share/nginx/html:ro\n      - /data/nginx/conf/nginx.conf:/etc/nginx/nginx.conf\n      - /data/nginx/conf/conf.d:/etc/nginx/conf.d\n      - /data/nginx/log:/var/log/nginx\n    restart: always\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/","title":"docker \u90e8\u7f72halo\u535a\u5ba2","text":""},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#\u4e00halo-blog\u642d\u5efa","title":"\u4e00\u3001Halo blog\u642d\u5efa","text":""},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#1\u521b\u5efa\u76ee\u5f55","title":"1.\u521b\u5efa\u76ee\u5f55","text":"Bash<pre><code>mkdir -p /data/Halo/halo2\nmkdir -p /data/Halo/db\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#2\u7f16\u8f91docker-composeyml\u6587\u4ef6","title":"2.\u7f16\u8f91docker-compose.yml\u6587\u4ef6","text":"<p><code>vim /data/Halo/docker-compose.yml</code></p> Bash<pre><code>version: \"3\"\nservices:\n  halo:\n    image: halohub/halo:2.14\n    container_name: halo2\n    networks:\n      - halo_network\n    restart: on-failure:3\n    depends_on:\n      halodb:\n        condition: service_healthy\n    volumes:\n      - /data/Halo/halo2:/root/.halo2\n    ports:\n      - \"8090:8090\"\n    healthcheck:\n      # test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8090/actuator/health/readiness\"]\n      test: [\"CMD-SHELL\", \"curl -f http://localhost:8090/actuator/health/readiness || exit 1\"]\n      interval: 1m\n      timeout: 10s\n      retries: 3\n      start_period: 1m\n    command:\n      - --spring.r2dbc.url=r2dbc:pool:postgresql://halodb/halo\n      - --spring.r2dbc.username=halo\n      # #\u8bbe\u7f6e\u4f60\u7684\u6570\u636e\u5e93PostgreSQL\u7684\u5bc6\u7801\uff0c\u8bf7\u4fdd\u8bc1\u4e0e\u4e0b\u65b9POSTGRES_PASSWORD\u7684\u53d8\u91cf\u503c\u4e00\u81f4\u3002\n      - --spring.r2dbc.password=dream13889\n      - --spring.sql.init.platform=postgresql\n      # \u5916\u90e8\u8bbf\u95ee\u5730\u5740\uff0c\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u8981\u4fee\u6539\n      - --halo.external-url=https://blog.jerion.cn/\n      - --halo.security.initializer.superadminusername=admin\n      - --halo.security.initializer.superadminpassword=dream13889\n  halodb:\n    image: postgres:15.4\n    container_name: halodb2\n    networks:\n      - halo_network\n    restart: on-failure:3\n    volumes:\n      - /data/Halo/db:/var/lib/postgresql/data\n    healthcheck:\n      # test: [ \"CMD\", \"pg_isready\" ]\n      test: [\"CMD-SHELL\", \"pg_isready -U halo -d halo -h localhost\"]\n      interval: 30s\n      timeout: 5s\n      retries: 5\n    environment:\n      - POSTGRES_PASSWORD=dream13889  #\u8bbe\u7f6e\u4f60\u7684\u6570\u636e\u5e93\u5bc6\u7801\n      - POSTGRES_USER=halo\n      - POSTGRES_DB=halo\n      - PGUSER=halo\nnetworks:\n  halo_network:\n    name: halo_network\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.197.0.0/16\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#3\u914d\u7f6efrp\u5185\u7f51\u7a7f\u900f\u53ef\u9009","title":"3.\u914d\u7f6efrp\u5185\u7f51\u7a7f\u900f\uff08\u53ef\u9009\uff09","text":""},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#31-\u914d\u7f6efrps\u670d\u52a1\u7aef","title":"3.1 \u914d\u7f6efrps\u670d\u52a1\u7aef","text":"<p>frps.ini\u914d\u7f6e\u6587\u4ef6\u65b0\u589e\u4e00\u4e2a\u4ee3\u7406\u89c4\u5219\uff0c\u9700\u8981\u7a7f\u900f\u7684domain\u670d\u52a1\uff1a</p> Bash<pre><code>[root@jerion ~]# cd /data/frp/frp_server\n[root@jerion frp_server]# vim frps.ini\n\n[Halo]\ntype = tcp\nlocal_ip = 172.31.100.196\nlocal_port = 8090\nremote_port = 8204\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#32-\u914d\u7f6efrpc\u5ba2\u6237\u7aef","title":"3.2 \u914d\u7f6efrpc\u5ba2\u6237\u7aef","text":"<p>frpc.ini\u914d\u7f6e\u6587\u4ef6\u65b0\u589e\u4e00\u4e2a\u4ee3\u7406\u89c4\u5219\uff0c\u9700\u8981\u7a7f\u900f\u7684domain\u670d\u52a1\uff1a</p> Bash<pre><code>[root@jerion ~]# cd /data/frp/frp_client/\n[root@jerion frp_client]# vim frpc.ini\n\n[Halo]\ntype = tcp\nlocal_ip = 172.31.100.196\nlocal_port = 8090\nremote_port = 8204\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#33-\u91cd\u542f","title":"3.3 \u91cd\u542f","text":"Bash<pre><code># \u91cd\u542f\u670d\u52a1\u7aef\ndocker restart frps\n# \u91cd\u542f\u5ba2\u6237\u7aef\ndocker restart frpc\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#4\u542f\u52a8halo\u5bb9\u5668","title":"4.\u542f\u52a8halo\u5bb9\u5668","text":"Bash<pre><code>cd /data/Halo\ndocker compose up -d\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#\u4e8c\u53cd\u5411\u4ee3\u7406\u914d\u7f6e","title":"\u4e8c\u3001\u53cd\u5411\u4ee3\u7406\u914d\u7f6e","text":"<p>\u5982\u9700\u8981\u914d\u7f6e\u53cd\u5411\u4ee3\u7406\uff0c\u9700\u8981\u786e\u4fddnginx\u7684\u7f51\u7edc\u4e0eHalo\u5bb9\u5668\u7684\u4e92\u901a\uff0c\u6216\u8005\u4f7f\u7528\u540c\u4e00\u4e2adocker\u7f51\u7edc\u3002</p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#1nginx\u914d\u7f6e\u53cd\u5411\u4ee3\u7406","title":"1.nginx\u914d\u7f6e\u53cd\u5411\u4ee3\u7406","text":"<p>halo\u7f51\u7edc\u67e5\u8be2\uff1a</p> Bash<pre><code>[root@hecs-349046 ~]# docker network ls \nNETWORK ID     NAME                DRIVER    SCOPE\nc197f2593d0b   bridge           bridge    local\n19719758a730   domain_default   bridge    local\n60523a1ccfad   halo_network     bridge    local\n7333414467bc   host             host      local\n260007c398e2   none             null      local\n</code></pre> <p>\u5bb9\u5668\u7684\u7f51\u7edc\u4e3a\uff1ahalo_network\u3002</p> <p>\u542f\u52a8docker\u7684nginx\u5bb9\u5668\u65f6\uff0c\u9700\u8981\u6307\u5b9a\u5230halo\u540c\u4e00\u4e2a\u7f51\u7edc\uff1a</p> Bash<pre><code>--network halo_network \\\n</code></pre> <p>\u542f\u52a8nginx\u5bb9\u5668\uff1a</p> Bash<pre><code>docker run -d -p 80:80 \\\n-v /data/nginx/conf/nginx.conf:/etc/nginx/nginx.conf \\\n-v /data/nginx/conf/conf.d:/etc/nginx/conf.d \\\n-v /data/nginx/log:/var/log/nginx \\\n-v /data/nginx/html:/usr/share/nginx/html \\\n-v /data/nginx/cert:/etc/nginx/cert \\\n--restart=always \\\n--hostname=jerion \\\n--name nginx \\\n--network halo_network \\\nnginx:latest\n</code></pre> <p>nginx\u914d\u7f6e\u53cd\u5411\u4ee3\u7406\uff0c\u9700\u8981\u5728http\u6a21\u5757\u65b0\u589e\u53cd\u5411\u4ee3\u7406\u7684\u914d\u7f6e\uff0c\u5982\u4e0b\uff1a</p> Bash<pre><code>[root@jerion ~]# cd /data/nginx/conf/conf.d\n[root@jerion conf.d]# vim halo.conf\nserver {\n    listen 80;\n    server_name blog.jerion.cn;  #\u586b\u5199\u5b9e\u9645\u57df\u540d\n\n    location / {\n        # \u5982\u679c127.0.0.1:8090\u65e0\u6cd5\u8bc6\u522b\uff0c\u53ef\u4ee5\u4f7f\u7528\u5bb9\u5668\u540d\u79f0+\u7aef\u53e3\uff1ahalo2:8090\n        # proxy_pass http://127.0.0.1:8090;\n        # \u8fd9\u91cc\u914d\u4e86frp\u5185\u7f51\u7a7f\u900f\uff0c\u56e0\u6b64\u7aef\u53e3\u4e3a8204\n        proxy_pass http://47.113.113.48:8204\n    }\n}\n</code></pre>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#2nginxwebui\u914d\u7f6e\u53cd\u5411\u4ee3\u7406","title":"2.nginxWebUI\u914d\u7f6e\u53cd\u5411\u4ee3\u7406","text":"<p>\u767b\u5f55nginxwebui\uff0c\u5728\u201c\u53cd\u5411\u4ee3\u7406\u201d\u680f\u4e2d\uff0c\u70b9\u51fb\u201c\u6dfb\u52a0\u53cd\u5411\u4ee3\u7406\u201d\uff1a</p> <p></p> <p>\u8bbe\u7f6e\u989d\u5916\u53c2\u6570\uff1a</p> <p></p> <p>\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u5728\u201c\u542f\u52a8\u914d\u7f6e\u201d\u680f\uff0c\u5206\u522b\u6267\u884c<code>\u68c0\u9a8c\u6587\u4ef6-\u66ff\u6362\u6587\u4ef6-\u91cd\u65b0\u88c5\u8f7d</code>\uff0c\u663e\u793a\u6210\u529f\u5373\u53ef\u6210\u529f\u542f\u7528\u914d\u7f6e\u3002</p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#\u4e09\u8bbf\u95ee\u535a\u5ba2\u9996\u9875","title":"\u4e09\u3001\u8bbf\u95ee\u535a\u5ba2\u9996\u9875","text":"<p>\u6d4f\u89c8\u5668\u8bbf\u95ee<code>blog.jerion.cn</code>\uff0c\u9996\u6b21\u767b\u5f55\u9700\u8981\u586b\u5199\u6ce8\u518c\u7ba1\u7406\u5458\u4fe1\u606f\uff1a</p> <p></p> <p>\u767b\u5f55\u7ba1\u7406\u540e\u53f0\u9700\u8981\u518d\u540e\u9762\u52a0\u4e0a<code>/console</code>\uff0c\u5982<code>blog.jerion.cn/console</code>\u3002</p> <p></p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#\u56db\u535a\u5ba2\u7684\u914d\u7f6e\u4f7f\u7528","title":"\u56db\u3001\u535a\u5ba2\u7684\u914d\u7f6e\u4f7f\u7528","text":""},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#1\u6dfb\u52a0\u4e3b\u9898","title":"1.\u6dfb\u52a0\u4e3b\u9898","text":"<p>\u5728\u670d\u52a1\u5668\u4e0a\u4e0b\u8f7d\u4e3b\u9898\u5305\uff1a</p> Bash<pre><code># \u5207\u6362\u5230\u4e3b\u9898\u76ee\u5f55\u4e0b\ncd /data/Halo/halo2\ncd themes\n\n# \u83b7\u53d6\u4e3b\u9898\u538b\u7f29\u5305\nwget https://github.com/jiewenhuang/halo-theme-stack/releases/download/v1.1.0/halo-theme-stack-1.1.0.zip\n\n# \u89e3\u538b\nunzip halo-theme-stack-1.1.0.zip\n# \u5220\u9664\u538b\u7f29\u5305\nrm -rf halo-theme-stack-1.1.0.zip\n# \u91cd\u547d\u540d\nmv halo-theme-stack-1.1.0 theme-stack\n</code></pre> <p>\u5728web\u63a7\u5236\u53f0\u4e2d\u70b9\u51fb<code>\u4e3b\u9898\u7ba1\u7406</code>\u2013<code>\u672c\u5730\u672a\u5b89\u88c5</code>\u2013<code>\u5b89\u88c5\u4e3b\u9898</code>\uff0c\u5b89\u88c5\u540e\u542f\u52a8\u65b0\u7684\u4e3b\u9898\uff1a</p> <p></p> <p>\u5728\u201c\u4e3b\u9898\u201d\u680f\u4e2d\uff0c\u4fee\u6539\u4e00\u4e9b\u4fe1\u606f\uff0c\u7136\u540e\u4fdd\u5b58\uff1a</p> <p><code>\u4e3b\u9898</code>\u2013<code>\u57fa\u672c\u8bbe\u7f6e</code>\uff1a</p> <p></p> <p></p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#2\u6dfb\u52a0\u63d2\u4ef6","title":"2.\u6dfb\u52a0\u63d2\u4ef6","text":"<p>\u5728\u201c\u63d2\u4ef6\u201d\u680f\u4e2d\uff0c\u53f3\u4e0a\u89d2\u70b9\u51fb\u201c\u5b89\u88c5\u201d\uff0c\u53ef\u5b89\u88c5\u9700\u8981\u7684\u63d2\u4ef6\uff1a</p> <p></p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#3\u6dfb\u52a0\u9644\u4ef6","title":"3.\u6dfb\u52a0\u9644\u4ef6","text":"<p>\u5728\u201c\u9644\u4ef6\u201d\u680f\u4e2d\uff0c\u53ef\u4ee5\u65b0\u5efa\u5206\u7ec4\uff1a</p> <p></p> <p>\u4e0a\u4f20\u9644\u4ef6\uff1a</p> <p></p> <p></p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#4\u6dfb\u52a0\u8bbe\u7f6e","title":"4.\u6dfb\u52a0\u8bbe\u7f6e","text":"<p>\u5728\u201c\u8bbe\u7f6e\u201d\u680f\u4e2d\uff0c\u53ef\u4ee5\u914d\u7f6e\u4e00\u4e9b\u8bbe\u7f6e\u4fe1\u606f\uff1a</p> <p></p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#5\u6dfb\u52a0\u6587\u7ae0\u5206\u7c7b","title":"5.\u6dfb\u52a0\u6587\u7ae0\u5206\u7c7b","text":"<p>\u5728\u201d\u6587\u7ae0\u201c\u680f\u4e2d\uff0c\u53f3\u4e0a\u89d2\u70b9\u51fb\u201d\u6587\u7ae0\u5206\u7c7b\u201c\uff0c\u53ef\u4ee5\u65b0\u5efa\u6587\u7ae0\u5206\u7c7b\uff1a</p> <p></p> <p></p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2halo%E5%8D%9A%E5%AE%A2/#6\u6dfb\u52a0\u83dc\u5355","title":"6.\u6dfb\u52a0\u83dc\u5355","text":"<p>\u5728\u201c\u83dc\u5355\u201d\u680f\uff0c\u53ef\u4ee5\u65b0\u5efa\u83dc\u5355\u9009\u62e9\u5206\u7c7b\uff1a</p> <p></p> <p></p>"},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2hexp%E5%8D%9A%E5%AE%A2/","title":"docker \u90e8\u7f72hexp\u535a\u5ba2","text":""},{"location":"docker/docker-deploy/deploy-blog/docker%20%E9%83%A8%E7%BD%B2hexp%E5%8D%9A%E5%AE%A2/#1\u6784\u5efadockerfile","title":"1\u3001\u6784\u5efadockerfile","text":"<p>Dockerfile \u6587\u4ef6\u7edf\u4e00\u653e\u5728 <code>/data/hexo</code> \u76ee\u5f55\u4e0b\uff0c\u5e76\u5206\u522b\u5efa\u7acb <code>nodejs</code>\u3001<code>php</code>\u3001<code>nginx</code> \u6587\u4ef6\u5939</p> Text Only<pre><code>mkdir -p /data/hexo/nodejs\nmkdir -p /data/hexo/php\nmkdir -p /data/hexo/nginx\nmkdir -p /data/hexo/www/blog\nmkdir -p /data/hexo/www/ssl\n</code></pre> <p><code>vim docker-compose.yml</code></p> <p>\u5728vim\u4e2d\u6309\u4e0b <code>:set paste</code> \u8fdb\u5165\u7c98\u8d34\u6a21\u5f0f\uff0c\u53ef\u4ee5\u89e3\u51b3\u4f7f\u7528vim\u7b49\u6587\u672c\u7f16\u8f91\u5668\u8fdb\u884c\u590d\u5236\u7c98\u8d34\u64cd\u4f5c\u65f6\uff0c\u6709\u65f6\u4f1a\u5bfc\u81f4\u683c\u5f0f\u6df7\u4e71</p> <p>Text Only<pre><code>version: '3'\nservices:\n  nginx:\n    restart: always\n    build: ./nginx\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - \"/data/hexo/www/blog:/var/www/blog\"\n      # - \"/data/hexo/www/ssl/certs:/var/www/ssl/certs\" # \u6682\u65f6\u6ce8\u91ca\u6389SSL\u8bc1\u4e66\u6302\u8f7d\n      - \"/data/hexo/nginx/conf.d:/etc/nginx/conf.d\"\n    command: /bin/bash /start.sh\n    env_file:\n      - docker.env\n    extra_hosts:\n      - \"raw.githubusercontent.com:199.232.96.133\"\n    container_name: \"nginx\"\n  nodejs:\n    build: ./nodejs\n    ports:\n      - \"4000:4000\"\n    volumes:\n      - \"/data/hexo/www/blog:/var/www/blog\"\n    container_name: \"nodejs\"\n  php:\n    restart: always\n    build: ./php\n    expose:\n      - \"9000\"\n    volumes:\n      - \"/data/hexo/www/blog:/var/www/blog\"\n    container_name: \"php\"\n</code></pre> </p> <p>\u754c\u9762\uff1a</p> <p></p> <p>\u8be6\u7ec6\u53c2\u8003\u535a\u5ba2</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2Koodo%20Reader/","title":"docker \u90e8\u7f72Koodo Reader","text":"<p>\u53c2\u8003\u6587\u6863\uff1aKoodo Reader\u5b98\u65b9\u7f51\u5740</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2Koodo%20Reader/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>koodo reader\u662f\u4e00\u6b3e\u9605\u8bfb\u5668\u3002</p> <p></p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2Koodo%20Reader/#\u4e8c\u652f\u6301\u683c\u5f0f","title":"\u4e8c\u3001\u652f\u6301\u683c\u5f0f","text":"<p>\u683c\u5f0f\u652f\u6301\uff1a</p> <ul> <li>EPUB\uff08.epub\uff09</li> <li>PDF\uff08.pdf\uff09</li> <li>\u65e0 DRM \u7684 Mobipocket ( .mobi ) \u548c Kindle ( .azw3 , .azw )</li> <li>\u7eaf\u6587\u672c\uff08.txt\uff09</li> <li>\u5c0f\u8bf4\u4e66 ( .fb2 )</li> <li>\u6f2b\u753b\u4e66\u6863\u6848\uff08.cbr\u3001.cbz\u3001.cbt\u3001.cb7\uff09</li> <li>\u5bcc\u6587\u672c\uff08.md\u3001.docx\uff09</li> <li>\u8d85\u6587\u672c\uff08.html\u3001.xml\u3001.xhtml\u3001.mhtml\u3001.htm\u3001.htm\uff09</li> <li>\u5e73\u53f0\u652f\u6301\uff1aWindows\u3001macOS\u3001Linux\u548cWeb</li> <li>\u5c06\u60a8\u7684\u6570\u636e\u4fdd\u5b58\u5230OneDrive\u3001Google Drive\u3001Dropbox\u3001FTP\u3001SFTP\u3001WebDAV\u3001S3\u3001S3 \u517c\u5bb9</li> <li>\u81ea\u5b9a\u4e49\u6e90\u6587\u4ef6\u5939\u5e76\u4f7f\u7528 OneDrive\u3001iCloud\u3001Dropbox \u7b49\u5728\u591a\u4e2a\u8bbe\u5907\u4e4b\u95f4\u540c\u6b65\u3002</li> <li>\u5355\u5217\u3001\u53cc\u5217\u6216\u8fde\u7eed\u6eda\u52a8\u5e03\u5c40</li> <li>\u6587\u672c\u8f6c\u8bed\u97f3\u3001\u7ffb\u8bd1\u3001\u8bcd\u5178\u3001\u89e6\u6478\u5c4f\u652f\u6301\u3001\u6279\u91cf\u5bfc\u5165</li> <li>\u4e3a\u60a8\u7684\u4e66\u7c4d\u6dfb\u52a0\u4e66\u7b7e\u3001\u6ce8\u91ca\u548c\u7a81\u51fa\u663e\u793a</li> <li>\u8c03\u6574\u5b57\u4f53\u5927\u5c0f\u3001\u5b57\u4f53\u7cfb\u5217\u3001\u884c\u8ddd\u3001\u6bb5\u843d\u95f4\u8ddd\u3001\u80cc\u666f\u989c\u8272\u3001\u6587\u672c\u989c\u8272\u3001\u8fb9\u8ddd\u548c\u4eae\u5ea6</li> <li>\u591c\u95f4\u6a21\u5f0f\u548c\u4e3b\u9898\u989c\u8272</li> <li>\u6587\u672c\u7a81\u51fa\u663e\u793a\u3001\u4e0b\u5212\u7ebf\u3001\u7c97\u4f53\u3001\u659c\u4f53\u548c\u9634\u5f71</li> </ul>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2Koodo%20Reader/#\u4e09docker\u90e8\u7f72","title":"\u4e09\u3001docker\u90e8\u7f72","text":"Bash<pre><code>docker run -d \\\n  -p 8860:80 \\\n  --name koodo-reader \\\n  --restart always \\\n  -v /data/koodo_reader:/data/koodo_reader \\\n  liwangsheng/koodo-reader\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2Koodo%20Reader/#\u56dbdocker-compose\u90e8\u7f72","title":"\u56db\u3001docker compose\u90e8\u7f72","text":"Bash<pre><code>version: '3.5'\nservices:\n  koodo:\n    container_name: koodo\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - \"8860:80/tcp\"\n    restart: unless-stopped\n    volumes:\n      - /data/koodo_reader:/data/koodo_reader\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/","title":"docker \u90e8\u7f72navidrome","text":""},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#\u4e00navidrome--miniserve\u7b80\u4ecb","title":"\u4e00\u3001navidrome &amp; miniserve\u7b80\u4ecb","text":"<p>navidrome\u662f\u4e00\u6b3e\u5f00\u6e90\u97f3\u4e50\u8f6f\u4ef6\uff0cminiserve \u662f\u4e0a\u4f20\u6587\u4ef6\u7684\u540e\u53f0\u3002</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#\u4e8c\u5b89\u88c5navidrome\u4e0eminiserve","title":"\u4e8c\u3001\u5b89\u88c5navidrome\u4e0eminiserve","text":""},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#1\u521b\u5efanavidrome\u76ee\u5f55","title":"1.\u521b\u5efanavidrome\u76ee\u5f55","text":"Bash<pre><code>mkdir -p /data/navidrome/data\nmkdir -p /data/navidrome/music\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#2\u7f16\u8f91docker-composeyml\u6587\u4ef6","title":"2.\u7f16\u8f91docker-compose.yml\u6587\u4ef6","text":"<p><code>vim /data/navidrome/docker-compose.yml</code></p> Bash<pre><code>version: \"3\"\nservices:\n  navidrome:\n    image: deluan/navidrome:latest\n    container_name: navidrome\n    networks:\n      - music_network\n    restart: unless-stopped\n    ports:\n      - \"4533:4533\"\n    environment:\n      ND_ENABLETRANSCODINGCONFIG: true\n      ND_TRANSCODINGCACHESIZE: 0\n      ND_SCANSCHEDULE: 1h\n      ND_LOGLEVEL: info  \n      ND_SESSIONTIMEOUT: 24h\n      ND_BASEURL: \"\"\n      LANG: C.UTF-8\n      LC_ALL: C.UTF-8\n    volumes:\n      - \"/data/navidrome/data:/data\"\n      - \"/data/navidrome/music:/music:ro\"\n\n  miniserve:\n    image: svenstaro/miniserve:latest\n    container_name: miniserve\n    networks:\n      - music_network\n    restart: unless-stopped\n    depends_on:\n      - navidrome\n    ports:\n      - \"4534:8080\"\n    environment:\n      LANG: C.UTF-8\n      LC_ALL: C.UTF-8\n    volumes:\n      - \"/data/navidrome/music:/downloads\"    # \u4e0a\u4f20\u6587\u4ef6\u7684\u76ee\u6807\u76ee\u5f55\n    command: \"-r -z -u -q -p 8080 -a admin:dream13889 /downloads\"\n\nnetworks:\n  music_network:\n    name: music_network\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.101.0.0/16\n</code></pre> <p>\u901a\u8fc7\u4e0a\u8ff0\u914d\u7f6e\uff0c<code>navidrome</code> \u670d\u52a1\u5c06\u8fd0\u884c\u97f3\u4e50\u6d41\u5a92\u4f53\u670d\u52a1\u5668\uff0c\u63d0\u4f9b\u97f3\u4e50\u6587\u4ef6\u7684\u8f6c\u7801\u3001\u626b\u63cf\u548c\u64ad\u653e\u529f\u80fd\uff0c\u800c <code>miniserve</code> \u670d\u52a1\u5c06\u4f5c\u4e3a\u6587\u4ef6\u670d\u52a1\u5668\uff0c\u5141\u8bb8\u7528\u6237\u901a\u8fc7 Web \u754c\u9762\u4e0b\u8f7d\u548c\u4e0a\u4f20\u97f3\u4e50\u6587\u4ef6\u3002<code>miniserve</code> \u670d\u52a1\u4f9d\u8d56\u4e8e <code>navidrome</code> \u670d\u52a1\uff0c\u5e76\u4e14\u5b83\u4eec\u90fd\u8fde\u63a5\u5230\u5404\u81ea\u7684\u7aef\u53e3\u4ee5\u4fbf\u8bbf\u95ee\u3002</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#3\u914d\u7f6efrp\u5185\u7f51\u7a7f\u900f\u53ef\u9009","title":"3.\u914d\u7f6efrp\u5185\u7f51\u7a7f\u900f\uff08\u53ef\u9009\uff09","text":""},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#31-\u914d\u7f6efrps\u670d\u52a1\u7aef","title":"3.1 \u914d\u7f6efrps\u670d\u52a1\u7aef","text":"<p>frps.ini\u914d\u7f6e\u6587\u4ef6\u65b0\u589e\u4e00\u4e2a\u4ee3\u7406\u89c4\u5219\uff0c\u9700\u8981\u7a7f\u900f\u7684domain\u670d\u52a1\uff1a</p> Bash<pre><code>[root@jerion ~]# cd /data/frp/frp_server\n[root@jerion frp_server]# vim frps.ini\n\n[music]\ntype = tcp\nlocal_ip = 172.31.100.196\nlocal_port = 4533\nremote_port = 8208\n\n[upload]\ntype = tcp\nlocal_ip = 172.31.100.196\nlocal_port = 4534\nremote_port = 8209\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#32-\u914d\u7f6efrpc\u5ba2\u6237\u7aef","title":"3.2 \u914d\u7f6efrpc\u5ba2\u6237\u7aef","text":"<p>frpc.ini\u914d\u7f6e\u6587\u4ef6\u65b0\u589e\u4e00\u4e2a\u4ee3\u7406\u89c4\u5219\uff0c\u9700\u8981\u7a7f\u900f\u7684domain\u670d\u52a1\uff1a</p> Bash<pre><code>[root@jerion ~]# cd /data/frp/frp_client/\n[root@jerion frp_client]# vim frpc.ini\n\n[music]\ntype = tcp\nlocal_ip = 172.31.100.196\nlocal_port = 4533\nremote_port = 8208\n\n[upload]\ntype = tcp\nlocal_ip = 172.31.100.196\nlocal_port = 4534\nremote_port = 8209\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#33-\u91cd\u542f","title":"3.3 \u91cd\u542f","text":"Bash<pre><code># \u91cd\u542f\u670d\u52a1\u7aef\ndocker restart frps\n# \u91cd\u542f\u5ba2\u6237\u7aef\ndocker restart frpc\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#4\u542f\u52a8navidrome\u5bb9\u5668","title":"4.\u542f\u52a8navidrome\u5bb9\u5668","text":"Bash<pre><code>cd /data/navidrome\ndocker compose up -d\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#\u4e09\u89e3\u51b3navidrome\u4e2d\u6587\u4e71\u7801","title":"\u4e09\u3001\u89e3\u51b3navidrome\u4e2d\u6587\u4e71\u7801","text":""},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#1\u5b89\u88c5python-mutagen\u5305","title":"1.\u5b89\u88c5python-mutagen\u5305","text":"<p><code>python-mutagen</code> \u662f\u4e00\u4e2a\u7528\u4e8e\u5904\u7406\u97f3\u9891\u6587\u4ef6\u5143\u6570\u636e\u7684 Python \u5e93\u3002</p> Bash<pre><code>yum -y install python-mutagen\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#2\u8f6c\u6362\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709mp3\u6587\u4ef6\u7684\u7f16\u7801","title":"2.\u8f6c\u6362\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709mp3\u6587\u4ef6\u7684\u7f16\u7801","text":"Bash<pre><code>mid3iconv -e gbk *.mp3\n</code></pre> <ul> <li>\u4f7f\u7528 <code>mid3iconv</code> \u547d\u4ee4\u5c06\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709 <code>*.mp3</code> \u6587\u4ef6\u7684 ID3 \u6807\u7b7e\u7f16\u7801\u8f6c\u6362\u4e3a GBK\uff08\u7b80\u4f53\u4e2d\u6587\u7f16\u7801\uff09\u3002</li> <li><code>-e gbk</code> \u9009\u9879\u6307\u5b9a\u76ee\u6807\u7f16\u7801\u4e3a GBK\u3002</li> <li><code>*.mp3</code> \u5339\u914d\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u6269\u5c55\u540d\u4e3a <code>.mp3</code> \u7684\u6587\u4ef6\u3002</li> </ul>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#3\u8f6c\u6362\u5f53\u524d\u76ee\u5f55\u53ca\u5b50\u76ee\u5f55\u4e0b\u7684\u6240\u6709mp3\u6587\u4ef6\u7684\u7f16\u7801","title":"3.\u8f6c\u6362\u5f53\u524d\u76ee\u5f55\u53ca\u5b50\u76ee\u5f55\u4e0b\u7684\u6240\u6709mp3\u6587\u4ef6\u7684\u7f16\u7801","text":"Bash<pre><code>#\u60f3\u8f6c\u6362\u5f53\u524d\u76ee\u5f55\u53ca\u5b50\u76ee\u5f55\u5219\u6267\u884c\nfind . -iname \"*.mp3\" -execdir mid3iconv -e gbk {} \\;\n</code></pre> <ul> <li><code>find . -iname \"\\*.mp3\"</code>\uff1a</li> <li>\u4f7f\u7528 <code>find</code> \u547d\u4ee4\u5728\u5f53\u524d\u76ee\u5f55\u53ca\u5176\u6240\u6709\u5b50\u76ee\u5f55\u4e2d\u67e5\u627e\u6269\u5c55\u540d\u4e3a <code>.mp3</code> \u7684\u6587\u4ef6\u3002</li> <li><code>.</code> \u8868\u793a\u4ece\u5f53\u524d\u76ee\u5f55\u5f00\u59cb\u67e5\u627e\u3002</li> <li><code>-iname \"*.mp3\"</code> \u8868\u793a\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u5730\u5339\u914d\u6587\u4ef6\u540d\u4e3a <code>*.mp3</code> \u7684\u6587\u4ef6\u3002</li> <li><code>-execdir mid3iconv -e gbk {} \\;</code>\uff1a</li> <li>\u5bf9\u627e\u5230\u7684\u6bcf\u4e2a\u6587\u4ef6\uff0c\u4f7f\u7528 <code>mid3iconv</code> \u547d\u4ee4\u5c06\u5176 ID3 \u6807\u7b7e\u7f16\u7801\u8f6c\u6362\u4e3a GBK\u3002</li> <li><code>-execdir</code> \u5728\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u4e2d\u6267\u884c\u547d\u4ee4\uff0c\u4ee5\u907f\u514d\u8def\u5f84\u95ee\u9898\u3002</li> <li><code>{}</code>\u662f <code>find</code> \u547d\u4ee4\u7684\u5360\u4f4d\u7b26\uff0c\u8868\u793a\u5f53\u524d\u5339\u914d\u7684\u6587\u4ef6\u3002</li> <li><code>\\;</code> \u7ed3\u675f <code>-execdir</code> \u547d\u4ee4\u7684\u9009\u9879\u3002</li> </ul>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#\u56db\u767b\u9646navidrome","title":"\u56db\u3001\u767b\u9646navidrome","text":"<p>\u9996\u6b21\u767b\u9646\uff0c\u9700\u624b\u52a8\u521b\u5efa\u7528\u6237\u540d\uff1aadmin\uff0c\u5bc6\u7801\uff1adream13889\uff1a</p> <p></p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#\u4e94\u767b\u9646miniserve","title":"\u4e94\u3001\u767b\u9646miniserve","text":"<p>\u8bbf\u95eeminiserve\u540e\u53f0\u4e0a\u4f20\u6b4c\u66f2\uff0c\u7528\u6237\u540d\uff1aadmin\uff0c\u5bc6\u7801\uff1adream13889\uff1a</p> <p></p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#\u516d\u5728navidrome\u64ad\u653e\u97f3\u4e50","title":"\u516d\u3001\u5728navidrome\u64ad\u653e\u97f3\u4e50","text":"<p>\u4e0a\u4f20\u6b4c\u66f2\u540e\uff0c\u8bbf\u95eenavidrome\uff0c\u53f3\u4e0a\u89d2\u70b9\u51fb\u201c\u5feb\u901f\u626b\u63cf\u201d\u540e\uff0c\u5373\u53ef\u67e5\u770b\u4e0a\u4f20\u540e\u7684\u6b4c\u66f2\uff1a</p> <p></p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#\u4e03\u8f6c\u6362\u683c\u5f0f","title":"\u4e03\u3001\u8f6c\u6362\u683c\u5f0f","text":"<p><code>.flac.crdownload</code> \u6587\u4ef6\u662f\u4e24\u79cd\u6587\u4ef6\u7c7b\u578b\u7684\u7ec4\u5408\uff1a</p> <ul> <li>.flac \u6587\u4ef6\uff1a\u8fd9\u662f\u4e00\u79cd\u65e0\u635f\u97f3\u9891\u538b\u7f29\u683c\u5f0f\uff0c\u79f0\u4e3a Free Lossless Audio Codec\uff08FLAC\uff09\u3002\u5b83\u53ef\u4ee5\u538b\u7f29\u97f3\u9891\u6587\u4ef6\u800c\u4e0d\u635f\u5931\u4efb\u4f55\u6570\u636e\uff0c\u56e0\u6b64\u97f3\u8d28\u975e\u5e38\u9ad8\u3002</li> <li>.crdownload \u6587\u4ef6\uff1a\u8fd9\u662f Google Chrome \u6d4f\u89c8\u5668\u5728\u4e0b\u8f7d\u6587\u4ef6\u65f6\u751f\u6210\u7684\u4e34\u65f6\u6587\u4ef6\u6269\u5c55\u540d\uff0c\u8868\u793a\u6587\u4ef6\u6b63\u5728\u4e0b\u8f7d\u4e2d\u3002</li> </ul> <p></p> <p>\u4e0a\u4f20\u6587\u4ef6\u540e\uff0c\u5728Linux\u53ef\u4ee5\u624b\u52a8\u8f6c\u6362\uff1a</p> Bash<pre><code>mv filename.flac.crdownload filename.flac\n</code></pre> <p>\u901a\u8fc7\u811a\u672c\u8fdb\u884c\u8f6c\u6362\uff1a</p> Bash<pre><code>vim rename_convert.sh\n</code></pre> <p>\u811a\u672c\u5185\u5bb9\uff1a</p> Bash<pre><code>#!/bin/bash\n\n# \u8bbe\u7f6e\u97f3\u4e50\u6587\u4ef6\u76ee\u5f55\nMUSIC_DIR=\"/data/navidrome/music\"\n\n# \u5207\u6362\u5230\u97f3\u4e50\u6587\u4ef6\u76ee\u5f55\ncd \"$MUSIC_DIR\" || exit\n\n# \u626b\u63cf .crdownload \u6587\u4ef6\u5e76\u91cd\u547d\u540d\nfor file in *.crdownload; do\n    # \u68c0\u67e5\u662f\u5426\u6709\u5339\u914d\u7684\u6587\u4ef6\n    if [[ -e \"$file\" ]]; then\n        # \u83b7\u53d6\u65b0\u6587\u4ef6\u540d\uff0c\u53bb\u6389 .crdownload \u6269\u5c55\u540d\n        newfile=\"${file%.crdownload}\"\n\n        # \u8f93\u51fa\u91cd\u547d\u540d\u4fe1\u606f\n        echo \"Renaming '$file' to '$newfile'\"\n\n        # \u91cd\u547d\u540d\u6587\u4ef6\n        mv \"$file\" \"$newfile\"\n\n        echo \"Renamed '$file' to '$newfile'\"\n    fi\ndone\n\n# \u5217\u51fa\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u6587\u4ef6\uff0c\u786e\u8ba4\u64cd\u4f5c\u7ed3\u679c\necho \"Current files in directory:\"\nls -l \"$MUSIC_DIR\"\n</code></pre> <p>\u811a\u672c\u6587\u4ef6\u8d4b\u6743\u5e76\u6267\u884c\uff1a</p> Bash<pre><code>chmod +x rename_convert.sh\n./rename_convert.sh\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#\u516b\u53c2\u8003\u6587\u6863","title":"\u516b\u3001\u53c2\u8003\u6587\u6863","text":"<ul> <li>Github\u5730\u5740</li> <li>\u5b98\u7f51\u5730\u5740</li> <li>\u5b98\u65b9\u793a\u4f8b\u7f51\u7ad91</li> <li>\u5b98\u65b9\u793a\u4f8b\u7f51\u7ad92</li> <li>\u53c2\u8003\u535a\u5ba21</li> <li>\u53c2\u8003\u535a\u5ba22</li> <li>\u97f3\u4e50\u5ba2\u6237\u7aef</li> </ul>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2navidrome/#\u4e5d\u5176\u5b83","title":"\u4e5d\u3001\u5176\u5b83","text":"<p>\u97f3\u4e50\u8f6f\u4ef6\u63a8\u8350\uff1a\u97f3\u6d41</p> <p>\u4ece\u76ee\u6807\u6587\u4ef6\u5939\u63d0\u53d6\u6240\u6709mp3\u6587\u4ef6\u5e76\u590d\u5236\uff1a</p> Bash<pre><code>find /volume2/music/\u5434\u519b.\u7845\u8c37\u6765\u4fe1/\u5434\u519b.\u7845\u8c37\u6765\u4fe1/2017\u5e74 -type f -name '*.mp3' -exec cp --parents {} /volume2/music/tmp \\;\n</code></pre> <ul> <li>\u8fd9\u6761\u547d\u4ee4\u7684\u4f5c\u7528\u662f\u5728 <code>/volume2/music/\u5434\u519b.\u7845\u8c37\u6765\u4fe1/\u5434\u519b.\u7845\u8c37\u6765\u4fe1/2017\u5e74</code> \u76ee\u5f55\u53ca\u5176\u5b50\u76ee\u5f55\u4e2d\u627e\u5230\u6240\u6709\u6269\u5c55\u540d\u4e3a <code>.mp3</code> \u7684\u6587\u4ef6\uff0c\u5e76\u5c06\u5b83\u4eec\u590d\u5236\u5230 <code>/volume2/music/tmp</code> \u76ee\u5f55\u4e0b\uff0c\u540c\u65f6\u4fdd\u6301\u539f\u6587\u4ef6\u7684\u76ee\u5f55\u7ed3\u6784\u3002</li> <li><code>find /volume2/music/\u5434\u519b.\u7845\u8c37\u6765\u4fe1/\u5434\u519b.\u7845\u8c37\u6765\u4fe1/2017\u5e74</code>\uff1a\u4f7f\u7528 <code>find</code> \u547d\u4ee4\u4ece\u6307\u5b9a\u8def\u5f84 <code>/volume2/music/\u5434\u519b.\u7845\u8c37\u6765\u4fe1/\u5434\u519b.\u7845\u8c37\u6765\u4fe1/2017\u5e74</code> \u5f00\u59cb\u67e5\u627e\u6587\u4ef6\u3002</li> <li><code>-type f</code>\uff1a\u6307\u5b9a\u67e5\u627e\u7c7b\u578b\u4e3a\u6587\u4ef6\u3002</li> <li><code>-name '\\*.mp3'</code>\uff1a\u6307\u5b9a\u6587\u4ef6\u540d\u6a21\u5f0f\u4e3a\u4ee5 <code>.mp3</code> \u7ed3\u5c3e\u7684\u6587\u4ef6\u3002</li> <li><code>-exec cp --parents {} /volume2/music/tmp \\;</code>\uff1a<ul> <li>\u5bf9\u6bcf\u4e2a\u627e\u5230\u7684\u6587\u4ef6\u6267\u884c <code>cp</code> \u547d\u4ee4\uff0c\u5c06\u6587\u4ef6\u590d\u5236\u5230 <code>/volume2/music/tmp</code> \u76ee\u5f55\u3002</li> <li><code>--parents</code> \u9009\u9879\u4f7f\u5f97 <code>cp</code> \u547d\u4ee4\u4fdd\u7559\u539f\u59cb\u6587\u4ef6\u7684\u7236\u7ea7\u76ee\u5f55\u7ed3\u6784\u3002</li> <li><code>{}</code> \u662f <code>find</code> \u547d\u4ee4\u7684\u5360\u4f4d\u7b26\uff0c\u8868\u793a\u6bcf\u4e2a\u627e\u5230\u7684\u6587\u4ef6\u3002</li> <li><code>\\;</code> \u8868\u793a <code>-exec</code> \u547d\u4ee4\u7684\u7ed3\u675f\u3002</li> </ul> </li> </ul>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2reader/","title":"docker \u90e8\u7f72reader","text":"<p>\u53c2\u8003\u6587\u6863\uff1areader\u5b98\u65b9\u7f51\u5740\u3001\u53c2\u8003\u535a\u5ba2</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2reader/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>reader\u662f\u5728\u7ebf\u9605\u8bfb\u670d\u52a1\u5668\u7248\u672c\u3002</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2reader/#\u4e8creader\u642d\u5efa","title":"\u4e8c\u3001reader\u642d\u5efa","text":""},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2reader/#1\u521b\u5efareader\u76ee\u5f55","title":"1.\u521b\u5efareader\u76ee\u5f55","text":"Bash<pre><code>mkdir -p /data/reader/logs\nmkdir -p /data/reader/storage\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2reader/#2\u4e0b\u8f7ddocker-composeyml\u6587\u4ef6","title":"2.\u4e0b\u8f7ddocker-compose.yml\u6587\u4ef6","text":"Bash<pre><code>wget https://mirror.ghproxy.com/https://raw.githubusercontent.com/hectorqin/reader/master/docker-compose.yaml\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2reader/#3\u7f16\u8f91docker-composeyml\u6587\u4ef6","title":"3.\u7f16\u8f91docker-compose.yml\u6587\u4ef6","text":"<p><code>vim /data/reader/docker-compose.yml</code></p> Bash<pre><code>version: '3.1'\n\nservices:\n# \u591a\u7528\u6237\u7248\n  read_all:\n    image: hectorqin/reader\n    container_name: reader   #\u5bb9\u5668\u540d,\u53ef\u81ea\u884c\u4fee\u6539\n    networks:\n      - reader_network\n    restart: always\n    ports:\n      - 4396:8080   #4396\u7aef\u53e3\u6620\u5c04\u53ef\u81ea\u884c\u4fee\u6539\n    volumes:\n      - /data/reader/logs:/logs   #log\u6620\u5c04\u76ee\u5f55 /root/data/docker_data/reader/logs \u6620\u5c04\u76ee\u5f55\u53ef\u81ea\u884c\u4fee\u6539\n      - /data/reader/storage:/storage   #\u6570\u636e\u6620\u5c04\u76ee\u5f55 /root/data/docker_data/reader/storage \u6620\u5c04\u76ee\u5f55\u53ef\u81ea\u884c\u4fee\u6539\n    environment:\n      - SPRING_PROFILES_ACTIVE=prod\n      - READER_APP_SECURE=true   #\u5f00\u542f\u767b\u5f55\u9274\u6743\uff0c\u5f00\u542f\u540e\u5c06\u652f\u6301\u591a\u7528\u6237\u6a21\u5f0f\n      - READER_APP_CACHECHAPTERCONTENT=true   #\u662f\u5426\u5f00\u542f\u7f13\u5b58\u7ae0\u8282\u5185\u5bb9 V2.0\n      - READER_APP_SECUREKEY=dream13889       #\u7ba1\u7406\u5458\u5bc6\u7801  \u53ef\u81ea\u884c\u4fee\u6539\n# \u81ea\u52a8\u66f4\u65b0docker\n  watchtower:\n    image: containrrr/watchtower\n    container_name: watchtower\n    networks:\n      - reader_network\n    restart: always\n    # \u73af\u5883\u53d8\u91cf,\u8bbe\u7f6e\u4e3a\u4e0a\u6d77\u65f6\u533a\n    environment:\n        - TZ=Asia/Shanghai\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock\n    command: reader watchtower --cleanup --schedule \"0 0 4 * * *\"\n\nnetworks:\n  reader_network:\n    name: reader_network\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.100.0.0/16\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2reader/#4\u914d\u7f6efrp\u5185\u7f51\u7a7f\u900f\u53ef\u9009","title":"4.\u914d\u7f6efrp\u5185\u7f51\u7a7f\u900f\uff08\u53ef\u9009\uff09","text":""},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2reader/#41-\u914d\u7f6efrps\u670d\u52a1\u7aef","title":"4.1 \u914d\u7f6efrps\u670d\u52a1\u7aef","text":"<p>frps.ini\u914d\u7f6e\u6587\u4ef6\u65b0\u589e\u4e00\u4e2a\u4ee3\u7406\u89c4\u5219\uff0c\u9700\u8981\u7a7f\u900f\u7684domain\u670d\u52a1\uff1a</p> Bash<pre><code>[root@jerion ~]# cd /data/frp/frp_server\n[root@jerion frp_server]# vim frps.ini\n\n[reader]\ntype = tcp\nlocal_ip = 172.31.100.196\nlocal_port = 4396\nremote_port = 8207\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2reader/#42-\u914d\u7f6efrpc\u5ba2\u6237\u7aef","title":"4.2 \u914d\u7f6efrpc\u5ba2\u6237\u7aef","text":"<p>frpc.ini\u914d\u7f6e\u6587\u4ef6\u65b0\u589e\u4e00\u4e2a\u4ee3\u7406\u89c4\u5219\uff0c\u9700\u8981\u7a7f\u900f\u7684domain\u670d\u52a1\uff1a</p> Bash<pre><code>[root@jerion ~]# cd /data/frp/frp_client/\n[root@jerion frp_client]# vim frpc.ini\n\n[reader]\ntype = tcp\nlocal_ip = 172.31.100.196\nlocal_port = 4396\nremote_port = 8207\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2reader/#43-\u91cd\u542f","title":"4.3 \u91cd\u542f","text":"Bash<pre><code># \u91cd\u542f\u670d\u52a1\u7aef\ndocker restart frps\n# \u91cd\u542f\u5ba2\u6237\u7aef\ndocker restart frpc\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2reader/#5\u542f\u52a8reader\u5bb9\u5668","title":"5.\u542f\u52a8reader\u5bb9\u5668","text":"Bash<pre><code>cd /data/reader\ndocker compose up -d\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2reader/#\u4e09\u8bbf\u95eereader","title":"\u4e09\u3001\u8bbf\u95eereader","text":"<p>\u7b2c\u4e00\u6b21\u767b\u5f55\u9700\u8981\u6ce8\u518c\u8d26\u6237\uff0c\u6ce8\u518c\u8d26\u6237\uff1aadmin   \u5bc6\u7801\uff1adream13889\u3002</p> <p></p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/","title":"docker\u90e8\u7f72woodwhales-music","text":"<p>\u53c2\u8003\u6587\u6863\uff1awoodwhales-music\u5b98\u65b9\u7f51\u5740\u3001woodwhales-music\u53c2\u8003\u754c\u9762</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>woodwhales-music\u662f\u4e00\u4e2a\u81ea\u5efa\u97f3\u4e50\u670d\u52a1\u5668\u3002</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#\u4e8c\u90e8\u7f72mysql","title":"\u4e8c\u3001\u90e8\u7f72mysql","text":""},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#1\u542f\u52a8mysql\u5bb9\u5668\u5e76\u914d\u7f6e\u5bb9\u5668\u5377\u6620\u5c04","title":"1.\u542f\u52a8Mysql\u5bb9\u5668\uff0c\u5e76\u914d\u7f6e\u5bb9\u5668\u5377\u6620\u5c04","text":"Bash<pre><code>docker run -d -p 3306:3306 \\\n--privileged=true \\\n--restart=always \\\n-v /data/mysql/log:/var/log/mysql \\\n-v /data/mysql/data:/var/lib/mysql \\\n-v /data/mysql/conf:/etc/mysql/conf.d \\\n-e MYSQL_ROOT_PASSWORD=root1234 \\\n-e MYSQL_DATABASE=open-music \\\n--name mysql \\\nmysql:latest\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#2\u89e3\u51b3mysql\u4e2d\u6587\u4e71\u7801\u95ee\u9898","title":"2.\u89e3\u51b3Mysql\u4e2d\u6587\u4e71\u7801\u95ee\u9898","text":"Bash<pre><code>cd /data/mysql/conf/\nvim my.cnf\n\n[client]\ndefault_character_set=utf8\n[mysqld]\ncollation_server = utf8_general_ci\ncharacter_set_server = utf8\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#3\u91cd\u542fmysql\u5bb9\u5668","title":"3.\u91cd\u542fmysql\u5bb9\u5668","text":"<p>\u91cd\u542fmysql\u5bb9\u5668\uff0c\u4f7f\u5f97\u5bb9\u5668\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\uff1a</p> Bash<pre><code>docker restart mysql\n</code></pre> <p>\u6b64\u65f6\u4fbf\u89e3\u51b3\u4e86\u4e2d\u6587\u4e71\u7801\uff08\u4e2d\u6587\u63d2\u5165\u62a5\u9519\uff09\u95ee\u9898\u3002</p> <p>centos8\u8fdb\u5165mysql\u5bb9\u5668\u540e\u8f93\u5165\u4e2d\u6587\u53ef\u80fd\u4f1a\u4e0d\u663e\u793a\uff0c\u5728\u542f\u52a8mysql\u5bb9\u5668\u65f6\uff0c\u53ef\u6dfb\u52a0<code>env LANG='C.UTF-8'</code>\u540e\u6709\u6548\uff0c\u4e0d\u8fc7\u53ea\u9650\u5236\u8fdb\u5165\u7684\u8fd9\u4e00\u6b21\uff0c\u6bcf\u6b21\u542f\u52a8\u9700\u8981\u624b\u52a8\u6dfb\u52a0\u6539\u53c2\u6570\u3002</p> <p>\u800c\u4e14\u56e0\u4e3a\u542f\u52a8\u65f6\u5c06\u5bb9\u5668\u505a\u4e86\u5bb9\u5668\u5377\u6620\u5c04\uff0c\u5c06mysql\u7684\u914d\u7f6e\uff08\u6620\u5c04\u5230/app/mysql/conf\uff09\u3001\u6570\u636e\uff08\u6620\u5c04\u5230/app/mysql/data\uff09\u3001\u65e5\u5fd7\uff08\u6620\u5c04\u5230/app/mysql/log\uff09\u90fd\u6620\u5c04\u5230\u4e86\u5bbf\u4e3b\u673a\u5b9e\u9645\u76ee\u5f55\uff0c\u6240\u4ee5\u5373\u4f7f\u5220\u9664\u4e86\u5bb9\u5668\uff0c\u4e5f\u4e0d\u4f1a\u4ea7\u751f\u592a\u5927\u5f71\u54cd\u3002\u53ea\u9700\u8981\u518d\u6267\u884c\u4e00\u4e0b\u542f\u52a8Mysql\u5bb9\u5668\u547d\u4ee4\uff0c\u5bb9\u5668\u5377\u8fd8\u6309\u76f8\u540c\u7684\u4f4d\u7f6e\u8fdb\u884c\u6620\u5c04\uff0c\u6240\u6709\u7684\u6570\u636e\u4fbf\u90fd\u53ef\u4ee5\u6b63\u5e38\u6062\u590d\u3002</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#\u4e09\u90e8\u7f72woodwhales-music","title":"\u4e09\u3001\u90e8\u7f72woodwhales-music","text":"Bash<pre><code>docker run -d -p 8084:8084 \\\n--restart=always \\\n-v /data/open-music:/app/data \\\n-e \"MYSQL_HOST=10.22.51.63\" \\\n-e \"MYSQL_DATABASE=open-music\" \\\n-e \"MYSQL_PORT=3306\" \\\n-e \"MYSQL_USER=root\" \\\n-e \"MYSQL_PASSWORD=root1234\" \\\n-e \"SPRING_DATASOURCE_URL=jdbc:mysql://10.22.51.63:3306/open-music?allowPublicKeyRetrieval=true&amp;useSSL=false\" \\\n-e \"SYSTEM_INIT_PASSWORD=admin\" \\\n--name woodwhales-music \\\nwoodwhales/woodwhales-music:3.7.0\n</code></pre> <p>\u89e3\u91ca\u8bf4\u660e\uff1a</p> <ul> <li><code>-e SPRING_DATASOURCE_URL</code>\uff1a\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf <code>SPRING_DATASOURCE_URL</code>\uff0c\u6307\u5b9a Spring \u6570\u636e\u6e90\u7684 JDBC URL\u3002</li> </ul> <p>\u5728\u6307\u5b9a\u8be5\u53c2\u6570\u65f6\uff0c\u89e3\u51b3\u4e861\u4e2a\u62a5\u9519\u95ee\u9898\uff0c\u539f\u56e0\u662f\uff1a\u6dfb\u52a0\u4e86 <code>allowPublicKeyRetrieval=true</code> \u9009\u9879\u3002</p> <p>\u8fd9\u4e2a\u9009\u9879\u5141\u8bb8\u5ba2\u6237\u7aef\u5728\u4f7f\u7528\u7f13\u5b58\u7684 SHA-2 \u5bc6\u7801\u63d2\u4ef6\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u65f6\u68c0\u7d22\u516c\u94a5\u3002\u5f53\u6570\u636e\u5e93\u8fde\u63a5\u5b57\u7b26\u4e32\u4e2d\u6ca1\u6709\u8fd9\u4e2a\u9009\u9879\u65f6\uff0c\u5ba2\u6237\u7aef\u65e0\u6cd5\u68c0\u7d22\u516c\u94a5\uff0c\u4ece\u800c\u5bfc\u81f4\u8fde\u63a5\u5931\u8d25\u3002\u901a\u8fc7\u5728\u8fde\u63a5\u5b57\u7b26\u4e32\u4e2d\u6dfb\u52a0\u8be5\u9009\u9879\uff0c\u5ba2\u6237\u7aef\u80fd\u591f\u6210\u529f\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u5e76\u5efa\u7acb\u8fde\u63a5\uff0c\u4ece\u800c\u89e3\u51b3\u4e86 <code>Public Key Retrieval is not allowed</code> \u7684\u9519\u8bef\u3002</p> <ul> <li><code>-e \"SYSTEM_INIT_PASSWORD=admin\"</code>\uff1a\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf <code>SYSTEM_INIT_PASSWORD</code>\uff0c\u6307\u5b9a\u7cfb\u7edf\u521d\u59cb\u5316\u5bc6\u7801\u3002</li> </ul>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#\u56db\u767b\u5f55woodwhales-music","title":"\u56db\u3001\u767b\u5f55woodwhales-music","text":"<p>\u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95eehttp://10.22.51.63:8084\uff0c\u8fdb\u5165woodwhales-music\u64ad\u653e\u754c\u9762\uff0c\u8fd9\u91cc\u6ca1\u6709\u97f3\u4e50\u6240\u4ee5\u662f\u7a7a\u7684\uff1a</p> <p></p> <p>\u8bbf\u95eehttp://10.22.51.63:8084/admin/login\uff0c\u8fdb\u5165woodwhales-music\u7ba1\u7406\u540e\u53f0\uff0c\u9ed8\u8ba4\u7528\u6237\u548c\u5bc6\u7801\u4e3aadmin\uff1a</p> <p></p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#\u4e94\u6dfb\u52a0\u97f3\u4e50","title":"\u4e94\u3001\u6dfb\u52a0\u97f3\u4e50","text":""},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#1\u7f51\u6613\u4e91\u97f3\u4e50\u5e73\u53f0","title":"1.\u7f51\u6613\u4e91\u97f3\u4e50\u5e73\u53f0","text":""},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#11-\u9009\u62e9\u6b4c\u66f2","title":"1.1 \u9009\u62e9\u6b4c\u66f2","text":"<p>\u8fd9\u662f2024\u5e746\u6708\u4efd~\u70ed\u699c\u7b2c\u4e00\u7684\u6b4c\u66f2\uff1a</p> <p></p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#12-copy-html\u6e90\u7801","title":"1.2 copy-Html\u6e90\u7801","text":"<p>\u4f7f\u7528\u5f00\u53d1\u8005\u5de5\u5177\u6293\u53d6\uff0c<code>class</code>\u4e3a<code>g-bd4 f-cb</code>\u7684<code>html</code>\u6e90\u7801\uff1a</p> <p></p> <p>\u6e90\u7801\u5185\u5bb9\u5982\u4e0b\uff1a</p> HTML<pre><code>    &lt;div class=\"g-bd4 f-cb\"&gt;\n    &lt;div class=\"g-mn4\"&gt;\n    &lt;div class=\"g-mn4c\"&gt;\n    &lt;div class=\"g-wrap6\"&gt;\n    &lt;div class=\"m-lycifo\"&gt;\n    &lt;div class=\"f-cb\"&gt;\n    &lt;div class=\"cvrwrap f-cb f-pr\"&gt;\n    &lt;div class=\"u-cover u-cover-6 f-fl\"&gt;\n    &lt;img src=\"http://p1.music.126.net/4iTkYFSI2ILuXnv9yBgSnw==/109951169617468185.jpg?param=130y130\" class=\"j-img\" data-src=\"http://p1.music.126.net/4iTkYFSI2ILuXnv9yBgSnw==/109951169617468185.jpg\"&gt;\n    &lt;span class=\"msk f-alpha\"&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=\"out s-fc3\"&gt;\n    &lt;i class=\"u-icn u-icn-95 f-fl\"&gt;&lt;/i&gt;\n    &lt;a data-action=\"outchain\" data-rt=\"\" data-href=\"/outchain/2/2158973221/\" class=\"des s-fc7\"&gt;\u751f\u6210\u5916\u94fe\u64ad\u653e\u5668&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"out s-fc3 to-app-listen\"&gt;\n    &lt;div class=\"btn\" data-action=\"orpheus\" data-id=\"2158973221\"&gt;\u70b9\u51fb\u6253\u5f00\u5ba2\u6237\u7aef&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"cnt\"&gt;\n    &lt;div class=\"hd\"&gt;\n    &lt;i class=\"lab u-icn u-icn-37\"&gt;&lt;/i&gt;\n    &lt;div class=\"tit\"&gt;\n    &lt;em class=\"f-ff2\"&gt;\u82e5\u6708\u4eae\u6ca1\u6765 (Live\u7248)&lt;/em&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;p class=\"des s-fc4\"&gt;\u6b4c\u624b\uff1a&lt;span title=\"\u6768\u5b97\u7eac / \u5b9d\u77f3Gem / \u738b\u5b87\u5b99Leto\"&gt;&lt;a class=\"s-fc7\" href=\"/artist?id=6066\"&gt;\u6768\u5b97\u7eac&lt;/a&gt; / &lt;a class=\"s-fc7\" href=\"/artist?id=12084497\"&gt;\u5b9d\u77f3Gem&lt;/a&gt; / &lt;a class=\"s-fc7\" href=\"/artist?id=49144727\"&gt;\u738b\u5b87\u5b99Leto&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;\n    &lt;p class=\"des s-fc4\"&gt;\u6240\u5c5e\u4e13\u8f91\uff1a&lt;a href=\"/album?id=197079448\" class=\"s-fc7\"&gt;\u5929\u8d50\u7684\u58f0\u97f3\u7b2c\u4e94\u5b63 \u7b2c5\u671f&lt;/a&gt;&lt;/p&gt;\n    &lt;div class=\"m-info\"&gt;\n    &lt;div id=\"content-operation\" class=\"btns f-cb\" data-rid=\"2158973221\" data-type=\"18\"&gt;\n    &lt;a data-res-action=\"play\" data-res-id=\"2158973221\" data-res-type=\"18\" href=\"javascript:;\" class=\"u-btn2 u-btn2-2 u-btni-addply f-fl\" hidefocus=\"true\" title=\"\u64ad\u653e\"&gt;&lt;i&gt;&lt;em class=\"ply\"&gt;&lt;/em&gt;\u64ad\u653e&lt;/i&gt;&lt;/a&gt;\n    &lt;a data-res-action=\"addto\" data-res-id=\"2158973221\" data-res-type=\"18\" href=\"javascript:;\" class=\"u-btni u-btni-add\" hidefocus=\"true\" title=\"\u6dfb\u52a0\u5230\u64ad\u653e\u5217\u8868\"&gt;&lt;/a&gt;\n    &lt;a data-res-id=\"2158973221\" data-res-type=\"18\" data-count=\"-1\" data-fee=\"8\" data-payed=\"0\" data-pl=\"128000\" data-dl=\"0\" data-cp=\"1\" data-toast=\"false\" data-st=\"0\" data-flag=\"4\" data-res-action=\"fav\" class=\"u-btni u-btni-fav \" href=\"javascript:;\"&gt;\n    &lt;i&gt;\u6536\u85cf&lt;/i&gt;\n    &lt;/a&gt;\n    &lt;a data-res-id=\"2158973221\" data-res-type=\"18\" data-count=\"-1\" data-res-action=\"share\" data-res-name=\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#13-\u540e\u53f0\u6dfb\u52a0\u8be5\u6b4c\u66f2\u4fe1\u606f","title":"1.3 \u540e\u53f0\u6dfb\u52a0\u8be5\u6b4c\u66f2\u4fe1\u606f","text":"<p>\u6dfb\u52a0\u97f3\u4e50\u4fe1\u606f\u5185\u5bb9\uff08\u501f\u9274\u4e86\u4f5c\u8005\u7684\u56fe\uff09\uff1a</p> <p></p> <p>\u6539\u5b8c\u70b9\u51fb<code>\u63d0\u4ea4</code>\u5373\u53ef\u3002</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#14-\u6dfb\u52a0\u97f3\u4e50\u5c01\u9762","title":"1.4 \u6dfb\u52a0\u97f3\u4e50\u5c01\u9762","text":"<p>\u97f3\u4e50\u94fe\u63a5\u548c\u5c01\u9762\uff0c\u90fd\u662f\u9700\u8981\u624b\u52a8\u83b7\u53d6\uff0c\u4e0d\u662f\u5f88\u65b9\u4fbf\u3002</p> <p></p> <p>\u5728\u6b4c\u66f2\u7684\u9875\u9762\uff0c\u901a\u8fc7\u5f00\u53d1\u8005\u5de5\u5177\u68c0\u67e5\u53ef\u4ee5\u627e\u5230jpg\u6587\u4ef6\uff0c\u63d0\u53d6\u51fa\u6765\u5373\u53ef\uff1a</p> HTML<pre><code>&lt;img src=\"http://p1.music.126.net/4iTkYFSI2ILuXnv9yBgSnw==/109951169617468185.jpg?param=130y130\" class=\"j-img\" data-src=\"http://p1.music.126.net/4iTkYFSI2ILuXnv9yBgSnw==/109951169617468185.jpg\"&gt;\n</code></pre> <p>\u63d0\u53d6\u5185\u5bb9\uff1a</p> Bash<pre><code>http://p1.music.126.net/4iTkYFSI2ILuXnv9yBgSnw==/109951169617468185.jpg\n</code></pre>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#15-\u6dfb\u52a0\u97f3\u4e50mp3","title":"1.5 \u6dfb\u52a0\u97f3\u4e50mp3","text":"<p>\u83b7\u53d6\u7f51\u6613\u4e91mp3\u97f3\u4e50\u6587\u4ef6\uff0c\u590d\u5236<code>https://music.163.com/#/song?id=2158973221</code>\u94fe\u63a5\uff1a</p> <p></p> <p>\u66ff\u6362\u94fe\u63a5\u5730\u5740\uff1a</p> Bash<pre><code># \u5c06\u94fe\u63a5\nhttps://music.163.com/#/song?id=2158973221\n# \u66ff\u6362\u6210\nhttps://music.163.com/song/media/outer/url?id=2158973221.mp3\n</code></pre> <p>\u6709\u4e9b\u6b4c\u66f2\uff0c\u8fd9\u6837\u66ff\u6362\u662f\u65e0\u6cd5\u64ad\u653e\uff0c\u4f60\u9700\u8981\u6253\u5f00\u94fe\u63a5\u9a8c\u8bc1\u8be5\u6587\u4ef6\u662f\u5426\u5b58\u5728\u3002</p> <p>\u6dfb\u52a0\u5b8c\u6210\uff0c\u70b9\u51fb<code>\u63d0\u4ea4</code>\u5373\u53ef\uff1a</p> <p></p> <p>\u63d0\u4ea4\u540e\u9996\u9875\u53ef\u770b\u5230\u65b0\u589e\u7684\u6b4c\u66f2\uff1a</p> <p></p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#16-\u64ad\u653e\u6b4c\u66f2","title":"1.6 \u64ad\u653e\u6b4c\u66f2","text":"<p>\u56de\u5230woodwhales-music\u64ad\u653e\u754c\u9762http://10.22.51.63:8084\uff0c\u5373\u53ef\u64ad\u653e\u6b4c\u66f2\uff1a</p> <p></p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/docker%20%E9%83%A8%E7%BD%B2woodwhales-music/#\u516d\u4e0b\u8f7d\u6b4c\u66f2\u5730\u5740","title":"\u516d\u3001\u4e0b\u8f7d\u6b4c\u66f2\u5730\u5740","text":"<p>\u7f51\u6613\u4e91\u4e0b\u8f7d\u5730\u5740\uff1ahttps://3g.gljlw.com/music/wy/</p> <p></p> <p>\u4f9d\u7136\u901a\u8fc7\u7f51\u6613\u4e91\u83b7\u53d6\u97f3\u4e50\u4fe1\u606f\u548c\u5c01\u9762\u3002</p> <p>\u518d\u4f7f\u7528\u7f51\u6613\u4e91\u4e0b\u8f7d\u5730\u5740\u7684mp3\u94fe\u63a5\uff0c\u4ee3\u66ff\u5b98\u65b9\u94fe\u63a5\u4f5c\u4e3a\u97f3\u4e50\u6e90\u3002</p> <p>\u641c\u7d22\u5bf9\u5e94\u7684\u6b4c\u66f2\u540d\u5b57\u540e\uff0c\u70b9\u51fb<code>\u4e0b\u8f7d\u5730\u5740</code>\uff0c\u53ef\u4ee5\u83b7\u53d6\u5230\u94fe\u63a5\uff1a</p> <p></p> <p>\u4f8b\u5982\uff08\u83b7\u53d6\u94fe\u63a5\u5982\u4e0b\uff0c\u590d\u5236\u7c98\u8d34\u5230\u540e\u53f0\u5373\u53ef\uff09</p> Bash<pre><code>https://m801.music.126.net/20240701185039/d1f2711fecd090cd40cce7568be95f6a/jdymusic/obj/wo3DlMOGwrbDjj7DisKw/36188872386/e6b8/e521/d81c/7b8cbe252e8be7d0b1e7d6310d7cac5b.mp3\n</code></pre> <p>\u200b   </p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/%E9%85%8D%E7%BD%AE%20TTS-Server%E8%AF%AD%E9%9F%B3%2BLegado%E9%98%85%E8%AF%BB/","title":"\u914d\u7f6e TTS-Server\u8bed\u97f3+Legado\u9605\u8bfb","text":""},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/%E9%85%8D%E7%BD%AE%20TTS-Server%E8%AF%AD%E9%9F%B3%2BLegado%E9%98%85%E8%AF%BB/#\u4e00app\u7aef","title":"\u4e00\u3001app\u7aef","text":"<p>tts-server + legado3.0\u9605\u8bfb\u6587\u7ae0\u582a\u6bd4\u771f\u4eba\u6717\u8bfb\u3002</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/%E9%85%8D%E7%BD%AE%20TTS-Server%E8%AF%AD%E9%9F%B3%2BLegado%E9%98%85%E8%AF%BB/#1tts-server","title":"1.TTS Server","text":"<p>tts-server-android\uff0c\u5b89\u5353\u624b\u673a\uff0c\u53ef\u4ee5\u5b89\u88c5\u7a33\u5b9a\u7248\u3002</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/%E9%85%8D%E7%BD%AE%20TTS-Server%E8%AF%AD%E9%9F%B3%2BLegado%E9%98%85%E8%AF%BB/#2\u9605\u8bfb","title":"2.\u9605\u8bfb","text":"<p>Legado 3.0 \uff0c\u9605\u8bfb3.0app\u3002</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/%E9%85%8D%E7%BD%AE%20TTS-Server%E8%AF%AD%E9%9F%B3%2BLegado%E9%98%85%E8%AF%BB/#\u4e8ctts\u8bbe\u7f6e","title":"\u4e8c\u3001tts\u8bbe\u7f6e","text":"<p>\u6253\u5f00\u3010TTS Server APP\u3011\uff0c\u70b9\u51fb\u53f3\u4e0a\u89d2\uff0c\u52fe\u9009\u3010\u591a\u8bed\u97f3\uff08\u65c1\u767d/\u5bf9\u767d\uff09\u3011\u3001\u3010\u4f7f\u7528\u5185\u7f6e\u64ad\u653e\u5668\u3011\uff0c\u9ed8\u8ba4\u4f7f\u7528\u6653\u6653\u3001\u4e91\u5065\uff0c\u5176\u4e2d\u6653\u6653\u4f5c\u4e3a\u5bf9\u8bdd\uff0c\u4e91\u952e\u4f5c\u4e3a\u65c1\u767d\uff1a</p> <p></p> <p></p> <p></p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/%E9%85%8D%E7%BD%AE%20TTS-Server%E8%AF%AD%E9%9F%B3%2BLegado%E9%98%85%E8%AF%BB/#\u4e09legado30\u8bbe\u7f6e","title":"\u4e09\u3001legado3.0\u8bbe\u7f6e","text":""},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/%E9%85%8D%E7%BD%AE%20TTS-Server%E8%AF%AD%E9%9F%B3%2BLegado%E9%98%85%E8%AF%BB/#1\u5bfc\u5165\u4e66\u6e90","title":"1.\u5bfc\u5165\u4e66\u6e90","text":""},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/%E9%85%8D%E7%BD%AE%20TTS-Server%E8%AF%AD%E9%9F%B3%2BLegado%E9%98%85%E8%AF%BB/#11-\u4ece\u672c\u5730\u5bfc\u5165","title":"1.1 \u4ece\u672c\u5730\u5bfc\u5165","text":"<p>\u7565\u3002</p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/%E9%85%8D%E7%BD%AE%20TTS-Server%E8%AF%AD%E9%9F%B3%2BLegado%E9%98%85%E8%AF%BB/#12-\u4ece\u7f51\u7edc\u5bfc\u5165","title":"1.2 \u4ece\u7f51\u7edc\u5bfc\u5165","text":"<p>\u6253\u5f00\u3010\u9605\u8bfbAPP\u3011\u2014\u2014\u70b9\u51fb\u4e0b\u65b9\u7684\u3010\u8ba2\u9605\u3011\u2014\u2014\u70b9\u51fb\u3010\u4f7f\u7528\u8bf4\u660e\u3011\u2014\u2014\u6253\u5f00\u3010\u57fa\u7840\u6559\u7a0b\u3011\uff1a</p> <p></p> <p></p> <p>\u70b9\u51fb <code>\u94fe\u63a5</code>\u8fdb\u884c\u4e00\u952e\u5bfc\u5165\uff0c\u5bfc\u5165\u5b8c\u6210\u5373\u53ef\u641c\u7d22\u8d44\u6e90\uff1a</p> <p></p> <p></p> <p>\u70b9\u51fb\u3010\u55b5\u516c\u5b50\u4e66\u6e90\u7ba1\u7406\u3011\u2014\u2014\u70b9\u51fb\u3010\u6e90\u4ed3\u5e93\u4e66\u6e90\u3011\u7684\u3010\u4e00\u952e\u5bfc\u5165\u3011\uff0c\u9009\u62e9\u9700\u8981\u7684\u4e66\u6e90\u8fdb\u884c\u5bfc\u5165\uff1a</p> <p></p> <p></p> <p>\u5bfc\u5165\u5b8c\u6210\u540e\uff0c\u56de\u5230\u9996\u9875\uff0c\u70b9\u51fb\u4e0b\u65b9\u7684\u3010\u6211\u7684\u3011\u2014\u2014\u70b9\u51fb\u3010\u4e66\u6e90\u7ba1\u7406\u3011\uff0c\u4ece\u521a\u521a\u5bfc\u5165\u7684\u4e66\u6e90\u8fdb\u884c\u641c\u7d22\uff1a</p> <p></p> <p></p> <p>\u6bd4\u5982\u641c\u7d22\u201c\u76d7\u5893\u7b14\u8bb0\u201d\uff0c\u7136\u540e\u5c06\u5176\u653e\u5165\u4e66\u67b6\uff0c\u56de\u5230\u9996\u9875\u3010\u4e66\u7c4d\u3011\u4e2d\uff0c\u53ef\u4ee5\u5f00\u59cb\u9605\u8bfb\u5b58\u653e\u7684\u4e66\u7c4d\uff1a</p> <p></p> <p></p>"},{"location":"docker/docker-deploy/deploy-reader%20%26%20music/%E9%85%8D%E7%BD%AE%20TTS-Server%E8%AF%AD%E9%9F%B3%2BLegado%E9%98%85%E8%AF%BB/#2\u8bbe\u7f6e\u6717\u8bfb\u5f15\u64ce","title":"2.\u8bbe\u7f6e\u6717\u8bfb\u5f15\u64ce","text":"<p>\u8bbe\u7f6e\u6717\u8bfb\u5f15\u64ce\u4e3a\uff1aTTS Server</p> <p>\u8bbe\u7f6e\u6309\u9875\u6717\u8bfb\uff1a</p> <p></p> <p></p>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/","title":"docker\u6982\u5ff5","text":""},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#\u4e00docker\u57fa\u672c\u6982\u5ff5","title":"\u4e00\u3001docker\u57fa\u672c\u6982\u5ff5","text":"<p>\u200b       Docker\u662f\u4e00\u4e2a\u80fd\u628a\u5f00\u53d1\u7684\u5e94\u7528\u7a0b\u5e8f\u81ea\u52a8\u90e8\u7f72\u5230\u5bb9\u5668\u7684\u5f00\u6e90\u5f15\u64ce\uff0c\u7531docker\u516c\u53f8\u56e2\u961f\u7f16\u5199\uff0c\u57fa\u4e8eApache2.0\u5f00\u6e90\u6388\u6743\u534f\u8bae\u53d1\u884c\u3002</p>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#\u4e8cdocker\u89e3\u51b3\u7684\u95ee\u9898","title":"\u4e8c\u3001docker\u89e3\u51b3\u7684\u95ee\u9898","text":"<p>\u200b       \u4f7f\u7528docker\uff0c\u5f00\u53d1\u4eba\u5458\u53ea\u9700\u8981\u5173\u5fc3\u5bb9\u5668\u4e2d\u8fd0\u884c\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u8fd0\u7ef4\u4eba\u5458\u53ea\u9700\u8981\u5173\u5fc3\u5982\u4f55\u7ba1\u7406\u5bb9\u5668\u3002</p> <p>\u200b       docker\u8bbe\u8ba1\u76ee\u7684\u4e4b\u4e00\u5c31\u662f\u52a0\u5f3a\u5f00\u53d1\u4eba\u5458\u5199\u4ee3\u7801\u7684\u5f00\u53d1\u73af\u5883\u548c\u5e94\u7528\u7a0b\u5e8f\u8981\u90e8\u7f72\u7684\u751f\u6210\u73af\u5883\u7684\u4e00\u81f4\u6027\uff0c\u4ece\u800c\u964d\u4f4e\u201d\u5f00\u53d1\u65f6\u4e00\u5207\u6b63\u5e38\uff0c\u80af\u5b9a\u662f\u8fd0\u7ef4\u7684\u95ee\u9898\u201c\u7684\u98ce\u9669\u3002</p> <p>\u200b       docker\u5177\u6709\u5feb\u901f\u3001\u9ad8\u6548\u7684\u5f00\u53d1\u751f\u547d\u5468\u671f\uff0c\u5b83\u80fd\u7f29\u77ed\u4ee3\u7801\u4ece\u5f00\u53d1\u3001\u6d4b\u8bd5\u5230\u90e8\u7f72\u3001\u4e0a\u7ebf\u8fd0\u884c\u7684\u5468\u671f\uff0c\u8ba9\u5e94\u7528\u7a0b\u5e8f\u5177\u5907\u53ef\u79fb\u690d\u6027\uff0c\u6613\u4e8e\u6784\u5efa\uff0c\u5e76\u6613\u4e8e\u534f\u4f5c\u3002</p> <p>\u200b       docker\u9f13\u52b1\u9762\u5411\u670d\u52a1\u7684\u67b6\u6784\uff0cdocker\u63a8\u8350\u5355\u4e2a\u5bb9\u5668\u53ea\u8fd0\u884c\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u8fd9\u6837\u53ef\u5f62\u6210\u5206\u5e03\u5f0f\u7684\u5e94\u7528\u7a0b\u5e8f\u6a21\u578b\u3002</p> <p>\u200b       \u5728\u8fd9\u79cd\u6a21\u578b\u4e0b\uff0c\u5e94\u7528\u7a0b\u5e8f\u6216\u670d\u52a1\u53ef\u8868\u793a\u4e3a\u4e00\u7cfb\u5217\u5185\u90e8\u4e92\u8054\u7684\u5bb9\u5668\uff0c\u4ece\u800c\u4f7f\u5206\u5e03\u5f0f\u90e8\u7f72\u5e94\u7528\u7a0b\u5e8f\uff0c\u6269\u5c55\u6216\u8c03\u8bd5\u5e94\u7528\u7a0b\u5e8f\u53d8\u5f97\u975e\u5e38\u7b80\u5355\uff0c\u540c\u65f6\u63d0\u9ad8\u4e86\u7a0b\u5e8f\u7684\u5185\u7701\u6027\u3002\uff08\u5f53\u7136\u4e5f\u53ef\u4e00\u4e2a\u5bb9\u5668\u8fd0\u884c\u591a\u4e2a\u8fdb\u7a0b\u7684\u5e94\u7528\u7a0b\u5e8f\uff09</p>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#\u4e09dokcer\u67b6\u6784","title":"\u4e09\u3001dokcer\u67b6\u6784","text":"<p>\u200b       docker\u662f\u91c7\u7528\uff08C/S\uff09\u67b6\u6784\u7a0b\u5e8f\uff0c\u5ba2\u6237\u7aef\u53ea\u9700\u8981\u5411docker\u670d\u52a1\u5668\u6216\u5b88\u62a4\u8fdb\u7a0b\u53d1\u51fa\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u548c\u5b88\u62a4\u8fdb\u7a0b\u5c06\u5b8c\u6210\u6240\u6709\u5de5\u4f5c\u5e76\u8fd4\u56de\u7ed3\u679c\u3002</p>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#\u56dbdocker\u7ec4\u4ef6\u4e09\u4ef6\u5957","title":"\u56db\u3001docker\u7ec4\u4ef6\uff08\u4e09\u4ef6\u5957\uff09","text":"<p>\u200b       images\u955c\u50cf</p> <p>\u200b       Registry\u4ed3\u5e93</p> <p>\u200b       container\u5bb9\u5668</p>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#41-images\u955c\u50cf","title":"4.1 images\u955c\u50cf","text":"<p>\u200b       \u955c\u50cf\u662fdocker\u4e16\u754c\u7684\u57fa\u77f3\uff0c\u7528\u6237\u57fa\u4e8e\u955c\u50cf\u6765\u8fd0\u884c\u81ea\u5df1\u7684\u5bb9\u5668\uff0c\u955c\u50cf\u4e5f\u662fdokcer\u751f\u547d\u5468\u671f\u4e2d\u7684\u6784\u5efa\u90e8\u5206\uff0c\u955c\u50cf\u662f\u57fa\u4e8e\u8054\u5408\u6587\u4ef6\u7cfb\u7edf\u7684\u4e00\u79cd\u5c42\u5f0f\u7684\u7ed3\u6784\uff0c\u6709\u4e00\u7cfb\u5217\u6307\u4ee4\u4e00\u6b65\u4e00\u6b65\u6784\u5efa\u51fa\u6765\u3002\u4f8b\u5982\uff1a</p> <ul> <li> <p>\u6dfb\u52a0\u4e00\u4e2a\u6587\u4ef6</p> </li> <li> <p>\u6267\u884c\u4e00\u4e2a\u547d\u4ee4</p> </li> <li> <p>\u6253\u5f00\u4e00\u4e2a\u7aef\u53e3</p> </li> </ul> <p>\u200b       \u4e5f\u53ef\u4ee5\u628a\u955c\u50cf\u5f53\u4f5c\u5bb9\u5668\u7684\u201d\u6e90\u4ee3\u7801\u201d\uff0c\u955c\u50cf\u4f53\u79ef\u5f88\u5c0f\uff0c\u6613\u4e8e\u5206\u4eab\u3001\u5b58\u50a8\u548c\u66f4\u65b0\u3002</p>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#42-rigistry\u4ed3\u5e93","title":"4.2 Rigistry\u4ed3\u5e93","text":"<p>\u200b       docker\u7528Rigistry\u6765\u4fdd\u5b58\u7528\u6237\u6784\u5efa\u7684\u955c\u50cf\uff0cRegistry\u5206\u516c\u5171\u548c\u79c1\u6709\u4e24\u79cd\uff0cdocker\u516c\u53f8\u8fd0\u8425\u7684\u516c\u5171Registry\u53ebDocker Hub\uff0c\u7528\u6237\u4e5f\u53ef\u4ee5\u5728docker Hub\u6ce8\u518c\u8d26\u53f7\uff0c\u5206\u4eab\u5e76\u4fdd\u5b58\u81ea\u5df1\u7684\u955c\u50cf\u3002\u6709\u4e9b\u79c1\u6709\u955c\u50cf\u5305\u542b\u6709\u6e90\u4ee3\u7801\u6216\u4e13\u5229\u4fe1\u606f\u7b49\uff0c\u6216\u8005\u53ea\u5728\u7ec4\u7ec7\u3001\u56e2\u961f\u5185\u90e8\u53ef\u89c1\u7684\u955c\u50cf\u3002\u4e5f\u53ef\u4ee5\u67b6\u8bbe\u81ea\u5df1\u7684\u79c1\u6709Rigistry\uff0c\u79c1\u6709Rigistry\u53ef\u53d7\u5230\u9632\u706b\u5899\u7684\u4fdd\u62a4\uff0c\u6ee1\u8db3\u4e00\u4e9b\u7ec4\u7ec7\u7684\u7279\u6b8a\u9700\u6c42\u3002</p>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#43-container\u5bb9\u5668","title":"4.3 container\u5bb9\u5668","text":"<p>\u200b       \u5bb9\u5668\u662f\u57fa\u4e8e\u955c\u50cf\u542f\u52a8\u8d77\u6765\u7684\uff0c\u5bb9\u5668\u4e2d\u53ef\u4ee5\u8fd0\u884c\u4e00\u4e2a\u6216\u591a\u4e2a\u8fdb\u7a0b\u3002docker\u53ef\u4ee5\u5e2e\u52a9\u4f60\u6784\u5efa\u548c\u90e8\u7f72\u5bb9\u5668\uff0c\u53ea\u9700\u8981\u628a\u5e94\u7528\u7a0b\u5e8f\u6216\u670d\u52a1\u6253\u5305\u653e\u8fdb\u5bb9\u5668\u5373\u53ef\u3002\u6211\u4eec\u53ef\u4ee5\u8ba4\u4e3a\uff0c\u955c\u50cf\u662fdocker\u751f\u547d\u5468\u671f\u4e2d\u6784\u5efa\u6216\u6253\u5305\u9636\u6bb5\uff0c\u800c\u5bb9\u5668\u5219\u662f\u542f\u52a8\u6216\u6267\u884c\u9636\u6bb5\u3002\u603b\u7ed3\u8d77\u6765\uff0cdocker\u5bb9\u5668\u5c31\u662f\uff1a</p> <ul> <li>\u4e00\u4e2a\u955c\u50cf\u683c\u5f0f\uff1b</li> <li>\u4e00\u7cfb\u5217\u6807\u51c6\u7684\u64cd\u4f5c\uff1b</li> <li>\u4e00\u4e2a\u6267\u884c\u73af\u5883</li> </ul> <p>\u200b       docker\u501f\u9274\u4e86\u6807\u51c6\u96c6\u88c5\u7bb1\u7684\u6982\u5ff5\uff0c\u6807\u51c6\u96c6\u88c5\u7bb1\u5c06\u8d27\u7269\u8fd0\u5f80\u4e16\u754c\u5404\u5730\uff0cdocker\u5c06\u8fd9\u4e2a\u6a21\u578b\u8fd0\u7528\u5230\u81ea\u5df1\u7684\u8bbe\u8ba1\u54f2\u5b66\u4e2d\uff0c\u552f\u4e00\u4e0d\u540c\u662f\uff0c\u96c6\u88c5\u7bb1\u8fd0\u8f93\u8d27\u7269\uff0c\u800cdocker\u8fd0\u8f93\u8f6f\u4ef6\u3002</p> <p>\u200b       \u6bcf\u4e2a\u5bb9\u5668\u90fd\u5305\u542b\u4e00\u4e2a\u8f6f\u4ef6\u955c\u50cf\uff0c\u4e5f\u5c31\u662f\u5bb9\u5668\u7684\u201d\u8d27\u7269\u201d\uff0c\u4e0e\u771f\u6b63 \u7684\u8d27\u7269\u4e00\u6837\uff0c\u5bb9\u5668\u91cc\u7684\u8f6f\u4ef6\u955c\u50cf\u53ef\u4ee5\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c\uff0c\u4f8b\u5982\uff1a\u955c\u50cf\u53ef\u4ee5\u88ab\u521b\u5efa\u3001\u542f\u52a8\u3001\u5173\u95ed\u3001\u91cd\u542f\u4ee5\u53ca\u9500\u6bc1\u3002docker\u6267\u884c\u4e0a\u8ff0\u64cd\u4f5c\u65f6\uff0c\u4e0d\u5173\u5fc3\u91cc\u9762\u6709\u4ec0\u4e48\uff0c\u4e0d\u7ba1\u662fweb\u670d\u52a1\u5668\uff0c\u8fd8\u662f\u6570\u636e\u5e93\uff0c\u6216\u8005\u5e94\u7528\u670d\u52a1\u5668\uff0c\u6240\u6709\u5bb9\u5668\u90fd\u6309\u7167\u76f8\u540c\u7684\u65b9\u5f0f\u5c06\u5185\u5bb9\u201d\u88c5\u8f7d\u201d\u8fdb\u53bb\u3002</p> <p>\u200b       docker\u4e0d\u5173\u5fc3\u4f60\u8981\u628a\u5bb9\u5668\u8fd0\u5230\u4f55\u65b9\uff0c\u53ef\u4ee5\u5728\u7b14\u8bb0\u672c\u6784\u5efa\u5bb9\u5668\uff0c\u4e0a\u4f20\u5230Rigistry\uff0c\u7136\u540e\u627e\u4e2a\u7269\u7406\u6216\u865a\u62df\u670d\u52a1\u5668\u6d4b\u8bd5\uff0c\u518d\u628a\u5bb9\u5668\u90e8\u7f72\u5230\u4e3b\u673a\u96c6\u7fa4\u4e2d\u53bb\u3002\u50cf\u6807\u51c6\u96c6\u88c5\u7bb1\u4e00\u6837\uff0cdokcer\u5bb9\u5668\u6613\u4e8e\u66ff\u6362\uff0c\u53ef\u4ee5\u53e0\u52a0\uff0c\u6613\u4e8e\u5206\u53d1\uff0c\u5e76\u4e14\u5c3d\u91cf\u901a\u7528\u3002</p> <p>\u200b       \u4f7f\u7528docker\uff0c\u53ef\u4ee5\u5feb\u901f\u6784\u5efa\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u670d\u52a1\u5668\u3001\u4e00\u4e2a\u6d88\u606f\u603b\u7ebf\u3001\u4e00\u5957\u5b9e\u7528\u5de5\u5177\u3001\u4e00\u4e2a\u6301\u7eed\u96c6\u6210\uff08CI\uff09\u6d4b\u8bd5\u73af\u5883\u6216\u8005\u4efb\u610f\u4e00\u79cd\u5e94\u7528\u7a0b\u5e8f\u3001\u670d\u52a1\u6216\u5de5\u5177\u3002</p>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#\u4e94docker\u80fd\u505a\u4ec0\u4e48","title":"\u4e94\u3001docker\u80fd\u505a\u4ec0\u4e48","text":"<p>\u200b       docker\u5bb9\u5668\u53ef\u4ee5\u4e3a\u5404\u79cd\u6d4b\u8bd5\u73af\u5883\u63d0\u4f9b\u5f88\u597d\u7684\u6c99\u76d2\u73af\u5883\uff0c\u5e76\u4e14\uff0c\u5bb9\u5668\u5177\u6709\u201d\u6807\u51c6\u6027\u201d\u7684\u7279\u5f81\uff0c\u975e\u5e38\u9002\u5408\u4e3a\u670d\u52a1\u521b\u5efa\u6784\u5efa\u5757\u3002docker\u5e94\u7528\u573a\u666f\u5982\u4e0b\uff1a</p> <ul> <li> <p>\u52a0\u901f\u672c\u5730\u5f00\u53d1\u548c\u6784\u5efa\u6d41\u7a0b\uff0c\u4f7f\u5176\u66f4\u52a0\u9ad8\u6548\u3001\u66f4\u52a0\u8f7b\u91cf\u5316\uff0c\u672c\u5730\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u6784\u5efa\u3001\u8fd0\u884c\u5e76\u5206\u4eab\u5bb9\u5668\uff0c\u5bb9\u5668\u53ef\u4ee5\u5728\u5f00\u53d1\u73af\u5883\u4e2d\u6784\u5efa\uff0c\u7136\u540e\u8f7b\u677e\u63d0\u4ea4\u5230\u6d4b\u8bd5\u73af\u5883\u4e2d\uff0c\u5e76\u6700\u7ec8\u8fdb\u5165\u751f\u4ea7\u73af\u5883\u3002</p> </li> <li> <p>\u80fd\u591f\u8ba9\u72ec\u7acb\u670d\u52a1\u6216\u5e94\u7528\u7a0b\u5e8f\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e2d\uff0c\u5f97\u5230\u76f8\u540c\u7684\u8fd0\u884c\u7ed3\u679c\u3002\u8fd9\u70b9\u5728\u9762\u5411\u670d\u52a1\u7684\u67b6\u6784\u548c\u91cd\u5ea6\u4f9d\u8d56\u5fae\u578b\u670d\u52a1\u7684\u90e8\u7f72\u4e2d\u5c24\u5176\u5b9e\u7528\u3002</p> </li> <li> <p>\u7528docker\u521b\u5efa\u9694\u79bb\u7684\u73af\u5883\u6765\u8fdb\u884c\u6d4b\u8bd5\u3002\u4f8b\u5982\uff0c\u7528Jenkins CI\u8fd9\u6837\u7684\u6301\u7eed\u96c6\u6210\u5de5\u5177\u542f\u52a8\u4e00\u4e2a\u7528\u4e8e\u6d4b\u8bd5\u7684\u5bb9\u5668\u3002</p> </li> <li> <p>docker\u53ef\u4ee5\u8ba9\u5f00\u53d1\u8005\u5728\u672c\u673a\u6784\u5efa\u4e00\u4e2a\u590d\u6742\u7684\u7a0b\u5e8f\u6216\u67b6\u6784\u6765\u8fdb\u884c\u6d4b\u8bd5\uff0c\u800c\u4e0d\u662f\u4e00\u5f00\u59cb\u5c31\u5728\u751f\u4ea7\u73af\u5883\u90e8\u7f72\u3001\u6d4b\u8bd5\u3002</p> </li> <li> <p>\u6784\u5efa\u4e00\u4e2a\u591a\u7528\u6237\u7684\u5e73\u53f0\u5373\u670d\u52a1\uff08PaaS\uff09\u57fa\u7840\u8bbe\u65bd\u3002</p> </li> <li> <p>\u4e3a\u5f00\u53d1\u3001\u6d4b\u8bd5\u63d0\u4f9b\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u72ec\u7acb\u6c99\u76d2\u73af\u5883\uff0c\u6216\u8005\u5c06\u72ec\u7acb\u7684\u6c99\u76d2\u73af\u5883\u7528\u6237\u6280\u672f\u6559\u5b66\uff0c\u5982shell\u3001\u7f16\u7a0b\u6559\u5b66\u3002</p> </li> <li> <p>\u63d0\u4f9b\u8f6f\u4ef6\u5373\u670d\u52a1\uff08SaaS\uff09\u5e94\u7528\u7a0b\u5e8f\uff0c\u5982Memcached\u5373\u670d\u52a1\u3002</p> </li> <li> <p>\u9ad8\u6027\u80fd\u3001\u8d85\u5927\u89c4\u6a21\u7684\u5bbf\u4e3b\u673a\u90e8\u7f72\u3002</p> </li> </ul>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#\u516ddocker\u4e0e\u914d\u7f6e\u7ba1\u7406","title":"\u516d\u3001Docker\u4e0e\u914d\u7f6e\u7ba1\u7406","text":"<p>\u200b       \u81ea\u52a8\u5316\u8fd0\u7ef4\u5de5\u5177\uff1aAnsible\u3001Puppet\u3001chef\u3002docker\u5305\u542b\u4e00\u5957\u955c\u50cf\u6784\u5efa\u548c\u955c\u50cf\u7ba1\u7406\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u73b0\u4ee3\u914d\u7f6e\u7ba1\u7406\u5de5\u5177\u7684\u539f\u52a8\u529b\u4e4b\u4e00\u5c31\u662f\u201d\u9ec4\u91d1\u955c\u50cf\u201d\u6a21\u578b\u3002 \u7136\u800c\uff0c\u4f7f\u7528\u9ec4\u91d1\u955c\u50cf\u7684\u7ed3\u679c\u5c31\u662f\u5145\u65a5\u4e86\u5927\u91cf\u3001\u65e0\u7ba1\u7406\u72b6\u6001\u7684\u955c\u50cf\uff0c\u955c\u50cf\u6570\u91cf\u5e9e\u5927\u3001\u7248\u672c\u6df7\u4e71\u4e0d\u582a\u3002\u968f\u7740\u955c\u50cf\u4f7f\u7528\uff0c\u4e0d\u786e\u5b9a\u6027\u3001\u73af\u5883\u6df7\u4e71\u52a0\u5267\uff0c\u955c\u50cf\u672c\u8eab\u4e5f\u8d8a\u7b28\u91cd\uff0c\u6700\u7ec8\u4e0d\u5f97\u4e0d\u624b\u52a8\u4fee\u6b63\u955c\u50cf\u4e0d\u5408\u7b26\u8bbe\u8ba1\u548c\u96be\u4ee5\u7ba1\u7406\u7684\u914d\u7f6e\u5c42\uff0c\u56e0\u4e3a\u5e95\u5c42\u7684\u955c\u50cf\u7f3a\u4e4f\u9002\u5f53\u7684\u7075\u6d3b\u6027\u3002</p> <p>\u200b       \u4e0e\u4f20\u7edf\u955c\u50cf\u76f8\u6bd4\uff0cdocker\u663e\u5f97\u8f7b\u677e\uff0c\u955c\u50cf\u662f\u5206\u5c42\u7684\uff0c\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u8fc5\u901f\u8fed\u4ee3\uff0c\u6570\u636e\u8868\u660e\uff0cdocker\u7684\u7279\u6027\u786e\u5b9e\u53ef\u4ee5\u51cf\u8f7b\u8bb8\u591a\u4f20\u7edf\u955c\u50cf\u7ba1\u7406\u7684\u9ebb\u70e6\uff0cdocker\u73b0\u5728\u8fd8\u96be\u4ee5\u5b8c\u5168\u53d6\u4ee3\u914d\u7f6e\u7ba1\u7406\u5de5\u5177\uff0c\u4f46\u662f\u4ece\u5e42\u7b49\u6027\u548c\u5185\u7701\u6027\u6765\u770b\u3002\u53d6\u5f97\u4e86\u975e\u5e38\u597d\u7684\u6548\u679c\u3002</p> <p>\u200b       docker\u672c\u8eab\u9700\u8981\u5728\u4e3b\u673a\u4e0a\u5b89\u88c5\u3001\u7ba1\u7406\u548c\u90e8\u7f72\uff0c\u4e3b\u673a\u4e5f\u9700\u8981\u88ab\u7ba1\u7406\u8d77\u6765\uff0c\u8fd9\u6837\uff0cdocker\u5bb9\u5668\u9700\u8981\u7f16\u914d\u3001\u7ba1\u7406\u548c\u90e8\u7f72\uff0c\u4e5f\u7ecf\u5e38\u9700\u8981\u4e0e\u5916\u90e8\u670d\u52a1\u548c\u5de5\u5177\u901a\u4fe1\uff0c\u800c\u8fd9\u4e9b\u6070\u6070\u662f\u914d\u7f6e\u7ba1\u7406\u5de5\u5177\u6240\u64c5\u957f\u3002</p> <p>\u200b       docker\u663e\u8457\u7684\u7279\u70b9\uff1a\u5bf9\u4e0d\u540c\u5bbf\u4e3b\u673a\u3001\u5e94\u7528\u7a0b\u5e8f\u548c\u670d\u52a1\uff0c\u4f1a\u8868\u73b0\u51fa\u4e0d\u540c\u7684\u7279\u6027\u4e0e\u67b6\u6784\uff0cdocker\u53ef\u4ee5\u662f\u77ed\u751f\u547d\u5468\u671f\u7684\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8e\u6052\u5b9a\u7684\u73af\u5883\u3002\u53ef\u4ee5\u7528\u4e00\u6b21\u5373\u9500\u6bc1\uff0c\u4e5f\u53ef\u4ee5\u63d0\u4f9b\u6301\u4e45\u7684\u670d\u52a1\u3002\u8fd9\u4e9b\u884c\u4e3a\u4e0d\u4f1a\u589e\u52a0docker\u7684\u590d\u6742\u6027\uff0c\u4e5f\u4e0d\u4f1a\u548c\u914d\u7f6e\u7ba1\u7406\u5de5\u5177\u4ea7\u751f\u91cd\u5408\u3002\u57fa\u4e8e\u8fd9\u4e9b\u884c\u4e3a\uff0c\u57fa\u672c\u4e0d\u9700\u8981\u62c5\u5fc3\u7ba1\u7406\u72b6\u6001\u7684\u6301\u4e45\u6027\uff0c\u4e5f\u4e0d\u5fc5\u62c5\u5fc3\u72b6\u6001\u7684\u590d\u6742\u6027\uff0c\u56e0\u4e3a\u5bb9\u5668\u7684\u751f\u547d\u5468\u671f\u5f80\u5f80\u6bd4\u8f83\u77ed\uff0c\u800c\u91cd\u5efa\u5bb9\u5668\u7684\u4ee3\u4ef7\u901a\u5e38\u4e5f\u6bd4\u4f20\u7edf\u7684\u72b6\u6001\u4fee\u590d\u8981\u4f4e\u3002</p> <p>\u200b       \u5f53\u7136\uff0c\u5e76\u975e\u6240\u6709\u7684\u57fa\u7840\u8bbe\u65bd\u90fd\u5177\u5907\u8fd9\u6837\u7684\u201d\u7279\u6027\u201d\uff0c\u5728\u672a\u6765\u4e00\u6bb5\u65f6\u95f4\uff0cdocker\u8fd9\u79cd\u4e0e\u7406\u60f3\u5316\u7684\u5de5\u4f5c\u8d1f\u8f7d\u53ef\u80fd\u4f1a\u4e0e\u4f20\u7edf\u7684\u57fa\u7840\u8bbe\u5907\u90e8\u7f72\u5171\u5b58\u4e00\u6bb5\u65f6\u95f4\u3002\u957f\u671f\u8fd0\u884c\u7684\u8bbe\u5907\u4e3b\u673a\u4ecd\u662f\u5f88\u591a\u7ec4\u7ec7\u4e2d\u5177\u6709\u4e0d\u53ef\u66ff\u4ee3\u7684\u5730\u4f4d\uff0c\u7531\u4e8e\u591a\u6837\u5316\u7684\u7ba1\u7406\u9700\u6c42\uff0c\u4ee5\u53ca\u7ba1\u7406docker\u7684\u9700\u6c42\uff0c\u5728\u7edd\u5927\u591a\u6570\u7ec4\u7ec7\u4e2d\uff0cdocker\u548c\u914d\u7f6e\u7ba1\u7406\u5de5\u5177\u53ef\u80fd\u90fd\u9700\u8981\u90e8\u7f72\u3002</p>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#\u4e03docker\u7684\u6280\u672f\u7ec4\u4ef6","title":"\u4e03\u3001Docker\u7684\u6280\u672f\u7ec4\u4ef6","text":"<p>\u200b       docker\u53ef\u4ee5\u8fd0\u884c\u4e8e\u4efb\u4f55\u73b0\u4ee3linux\u5185\u6838\u7684x64\u4e3b\u673a\uff0c\u63a8\u8350\u5185\u6838\u65f63.8\u53ca\u4ee5\u4e0a\uff0cdocker\u5f00\u9500\u4f4e\uff0c\u53ef\u4ee5\u7528\u4e8e\u53f0\u5f0f\u673a\u3001\u7b14\u8bb0\u672c\u3002</p> <p>\u200b       \u4e00\u4e2a\u539f\u751f\u7684linux\u5bb9\u5668\u683c\u5f0f\uff0cdocker\u79f0\u4e3alibcontainer\uff0clibcontainer\u4e5f\u662f\u73b0\u5728dokcer\u5bb9\u5668\u7684\u9ed8\u8ba4\u683c\u5f0f\u3002</p> <p>\u200b       linux\u5185\u6838\u547d\u540d\u7a7a\u95f4\uff08namespace\uff09\uff0c\u7528\u4e8e\u9694\u79bb\u6587\u4ef6\u7cfb\u7edf\u3001\u8fdb\u884c\u548c\u7f51\u7edc\u3002</p> <ul> <li> <p>\u6587\u4ef6\u9694\u79bb\u7cfb\u7edf\uff1a\u6bcf\u4e2a\u5bb9\u5668\u90fd\u6709\u81ea\u5df1\u7684root\u6587\u4ef6\u7cfb\u7edf\u3002</p> </li> <li> <p>\u8fdb\u7a0b\u9694\u79bb\uff1a\u6bcf\u4e2a\u5bb9\u5668\u90fd\u8fd0\u884c\u5728\u81ea\u5df1\u7684\u8fdb\u7a0b\u73af\u5883\u4e2d</p> </li> <li> <p>\u7f51\u7edc\u9694\u79bb\uff1a\u5bb9\u5668\u95f4\u7684\u865a\u62df\u7f51\u7edc\u63a5\u53e3\u548cIP\u5730\u5740\u90fd\u662f\u5206\u5f00\u7684\u3002</p> </li> <li> <p>\u8d44\u6e90\u9694\u79bb\u548c\u5206\u7ec4\uff1a\u4f7f\u7528cgroups\uff08\u5373control group\uff0clinux\u5185\u6838\u7279\u6027\u4e4b\u4e00\uff09\u5c06cpu\u548c\u5185\u5b58\u4e4b\u7c7b\u7684\u8d44\u6e90\u72ec\u7acb\u5206\u914d\u7ed9\u6bcf\u4e2adocker\u5bb9\u5668\u3002</p> </li> <li> <p>\u5199\u65f6\u590d\u5236\uff1a\u6587\u4ef6\u7cfb\u7edf\u90fd\u662f\u901a\u8fc7\u5199\u65f6\u590d\u5236\u521b\u5efa\u7684\uff0c\u8fd9\u5c31\u610f\u5473\u7740\u6587\u4ef6\u7cfb\u7edf\u65f6\u5206\u5c42\u7684\u3001\u5feb\u901f\u7684\u3001\u800c\u4e14\u5360\u7528\u7684\u78c1\u76d8\u7a7a\u95f4\u66f4\u5c0f\u3002</p> </li> <li> <p>\u65e5\u5fd7\uff1a\u5bb9\u5668\u4ea7\u751f\u7684STDOUT\u3001STDERR\u548cSTDIN\u8fd9\u4e9bIO\u6d41\u4f1a\u88ab\u6536\u96c6\u5e76\u8bb0\u5165\u65e5\u5fd7\uff0c\u7528\u6765\u8fdb\u884c\u65e5\u5fd7\u5206\u6790\u548c\u6545\u969c\u6392\u9519\u3002</p> </li> <li> <p>\u4ea4\u4e92\u5f0fSHELL\uff1a\u7528\u6237\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u4f2atty\u7ec8\u7aef\uff0c\u5c06\u5176\u8fde\u63a5\u5230STDIN\uff0c\u4e3a\u5bb9\u5668\u63d0\u4f9b\u4e00\u4e2a\u4ea4\u4e92\u5f0f\u7684shell\u3002</p> </li> </ul>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#\u4e03docker\u8d44\u6e90","title":"\u4e03\u3001Docker\u8d44\u6e90","text":"<p>\u200b       Docker\u5b98\u65b9\u4e3b\u9875</p> <p>       Docker Hub</p> <p>\u200b       Docker\u5b98\u65b9\u6587\u6863</p> <p>\u200b       Docker\u5b98\u65b9\u535a\u5ba2</p>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#\u516bdocker\u4e0e\u865a\u62df\u673a\u5bf9\u6bd4","title":"\u516b\u3001Docker\u4e0e\u865a\u62df\u673a\u5bf9\u6bd4","text":""},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#81-\u865a\u62df\u673a\u7f3a\u70b9","title":"8.1 \u865a\u62df\u673a\u7f3a\u70b9","text":"<p>\u200b       \u865a\u62df\u673a\uff08virtual machine\uff09\u5c31\u662f\u5e26\u73af\u5883\u5b89\u88c5\u7684\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u200b       \u5b83\u53ef\u4ee5\u5728\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\u91cc\u9762\u8fd0\u884c\u53e6\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6bd4\u5982\u5728Windows10\u7cfb\u7edf\u91cc\u9762\u8fd0\u884cLinux\u7cfb\u7edfCentOS7\u3002\u5e94\u7528\u7a0b\u5e8f\u5bf9\u6b64\u6beb\u65e0\u611f\u77e5\uff0c\u56e0\u4e3a\u865a\u62df\u673a\u770b\u4e0a\u53bb\u8ddf\u771f\u5b9e\u7cfb\u7edf\u4e00\u6a21\u4e00\u6837\u3002</p> <p>\u200b       \u539f\u6765\uff1a\u4f20\u7edf\u865a\u62df\u673a\u6280\u672f\u57fa\u4e8e\u4e3b\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u865a\u62df\u673a\u7ba1\u7406\u7cfb\u7edf\uff08VirtualBox \u548c VMWare\u7b49\uff09\uff0c\u521b\u5efa\u865a\u62df\u673a\uff08\u865a\u62df\u51fa\u5404\u79cd\u786c\u4ef6\uff09\u3002\u5728\u865a\u62df\u673a\u4e0a\u5b89\u88c5\u4ece\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5728\u4ece\u64cd\u4f5c\u7cfb\u7edf\u79cd\u5b89\u88c5\u90e8\u7f72\u5404\u79cd\u5e94\u7528\u3002</p> <p>\u200b       \u7f3a\u70b9\uff1a\u8d44\u6e90\u5360\u7528\u591a\uff0c\u5197\u4f59\u6b65\u9aa4\u591a\uff0c\u542f\u52a8\u6162\u3002</p>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#82-docker\u4f18\u70b9","title":"8.2 Docker\u4f18\u70b9","text":"<p>\u200b       Linux \u5bb9\u5668\u662f\u4e0e\u7cfb\u7edf\u5176\u4ed6\u90e8\u5206\u9694\u79bb\u5f00\u7684\u4e00\u7cfb\u5217\u8fdb\u7a0b\uff0c\u4ece\u53e6\u4e00\u4e2a\u955c\u50cf\u8fd0\u884c\uff0c\u5e76\u7531\u8be5\u955c\u50cf\u63d0\u4f9b\u652f\u6301\u8fdb\u7a0b\u6240\u9700\u7684\u5168\u90e8\u6587\u4ef6\u3002\u5bb9\u5668\u63d0\u4f9b\u7684\u955c\u50cf\u5305\u542b\u4e86\u5e94\u7528\u7684\u6240\u6709\u4f9d\u8d56\u9879\uff0c\u56e0\u800c\u5728\u4ece\u5f00\u53d1\u5230\u6d4b\u8bd5\u518d\u5230\u751f\u4ea7\u7684\u6574\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u5b83\u90fd\u5177\u6709\u53ef\u79fb\u690d\u6027\u548c\u4e00\u81f4\u6027\u3002</p> <p>\u200b       Linux \u5bb9\u5668\u4e0d\u662f\u6a21\u62df\u4e00\u4e2a\u5b8c\u6574\u7684\u64cd\u4f5c\u7cfb\u7edf\u800c\u662f\u5bf9\u8fdb\u7a0b\u8fdb\u884c\u9694\u79bb\u3002\u6709\u4e86\u5bb9\u5668\uff0c\u5c31\u53ef\u4ee5\u5c06\u8f6f\u4ef6\u8fd0\u884c\u6240\u9700\u7684\u6240\u6709\u8d44\u6e90\u6253\u5305\u5230\u4e00\u4e2a\u9694\u79bb\u7684\u5bb9\u5668\u4e2d\u3002\u5bb9\u5668\u4e0e\u865a\u62df\u673a\u4e0d\u540c\uff0c\u4e0d\u9700\u8981\u6346\u7ed1\u4e00\u6574\u5957\u64cd\u4f5c\u7cfb\u7edf.</p> <p>\u200b       Docker \u5bb9\u5668\u662f\u5728\u64cd\u4f5c\u7cfb\u7edf\u5c42\u9762\u4e0a\u5b9e\u73b0\u865a\u62df\u6280\u672f\uff0c\u76f4\u63a5\u590d\u7528\u672c\u5730\u4e3b\u673a\u64cd\u4f5c\u7cfb\u7edf\uff0c\u865a\u62df\u673a\u5219\u662f\u5728\u786c\u4ef6\u5c42\u9762\u5b9e\u73b0\u5b9e\u73b0\u865a\u62df\u5316\u3002\u8fd9\u4f7f\u5f97 Dokcer \u5360\u7528\u4f53\u79ef\u5c0f\u3001\u542f\u52a8\u901f\u5ea6\u5feb\u3002</p>"},{"location":"docker/docker-note/1%20docker%E6%A6%82%E5%BF%B5/#83-docker-\u6765\u4e86\u4ec0\u4e48\u53d8\u5316","title":"8.3 Docker \u6765\u4e86\u4ec0\u4e48\u53d8\u5316","text":"<ul> <li>\u4e00\u6b21\u6784\u5efa\uff0c\u968f\u5904\u8fd0\u884c\uff1b</li> <li>\u66f4\u5feb\u901f\u7684\u5e94\u7528\u4ea4\u4ed8\u548c\u90e8\u7f72\uff0c\u901a\u8fc7\u52a0\u8f7d\u955c\u50cf\u8fd0\u884c\u5373\u53ef\uff1b</li> <li>\u66f4\u4fbf\u6377\u7684\u6269\u5bb9\u548c\u7f29\u5bb9\uff0c\u4f7f\u5e94\u7528\u6269\u5bb9\u7531\u539f\u6765\u7684\u5929\u7ea7\u53d8\u4e3a\u5206\u949f\u7ea7\u751a\u81f3\u79d2\u7ea7\uff1b</li> <li>\u66f4\u7b80\u5355\u7684\u7cfb\u7edf\u8fd0\u7ef4\uff0c\u8fd0\u7ef4\u540c\u5b66\u4e0d\u518d\u53d7\u73af\u5883\u914d\u7f6e\u7684\u56f0\u6270\uff1b</li> <li>\u66f4\u9ad8\u6548\u7684\u8ba1\u7b97\u8d44\u6e90\u5229\u7528\uff0c\u4e00\u53f0\u7269\u7406\u673a\u53ef\u4ee5\u8fd0\u884c\u591a\u4e2a\u5bb9\u5668\u5b9e\u4f8b\uff0c\u5927\u5927\u63d0\u5347\u7269\u7406\u670d\u52a1\u5668\u7684 CPU \u548c\u5185\u5b58\u7684\u5229\u7528\u7387\u3002</li> </ul>"},{"location":"docker/docker-note/19.1%20%E9%83%A8%E7%BD%B2OpenLDAP/","title":"\u90e8\u7f72OpenLDAP","text":"<p>\u90e8\u7f72openLDAP\u53c2\u8003</p>"},{"location":"docker/docker-note/19.1%20%E9%83%A8%E7%BD%B2OpenLDAP/#\u4e00ldap\u6982\u5ff5","title":"\u4e00\u3001LDAP\u6982\u5ff5","text":"<p>\u200b       LDAP\u662f\u8f7b\u91cf\u7ea7\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae\uff08Lightweight Directory Access Protocol\uff09\u7684\u7f29\u5199\u3002\u5b83\u662f\u4e00\u79cd\u7528\u4e8e\u5728\u7f51\u7edc\u4e0a\u8bbf\u95ee\u548c\u7ef4\u62a4\u5206\u5e03\u5f0f\u76ee\u5f55\u4fe1\u606f\u670d\u52a1\u7684\u534f\u8bae\u3002LDAP\u901a\u5e38\u7528\u4e8e\u96c6\u4e2d\u5f0f\u8eab\u4efd\u9a8c\u8bc1\u3001\u6388\u6743\u548c\u914d\u7f6e\u4fe1\u606f\u3002</p> <p>\u200b       \u5173\u4e8eLDAP\u7684\u4e00\u4e9b\u5173\u952e\u70b9\uff1a</p> <ol> <li>\u76ee\u5f55\u670d\u52a1\uff1aLDAP\u901a\u5e38\u4e0e\u76ee\u5f55\u670d\u52a1\u4e00\u8d77\u4f7f\u7528\uff0c\u7528\u4e8e\u4ee5\u5206\u5c42\u7ed3\u6784\u5b58\u50a8\u6709\u5173\u7528\u6237\u3001\u7ec4\u3001\u8bbe\u5907\u548c\u5176\u4ed6\u8d44\u6e90\u7684\u4fe1\u606f\u3002</li> <li>\u8eab\u4efd\u9a8c\u8bc1\uff1aLDAP\u53ef\u7528\u4e8e\u8eab\u4efd\u9a8c\u8bc1\u76ee\u7684\uff0c\u5141\u8bb8\u7528\u6237\u4f7f\u7528\u5b58\u50a8\u5728LDAP\u76ee\u5f55\u4e2d\u7684\u4e00\u7ec4\u51ed\u636e\u767b\u5f55\u5230\u5404\u79cd\u7cfb\u7edf\u548c\u670d\u52a1\u3002</li> <li>\u6388\u6743\uff1aLDAP\u8fd8\u53ef\u4ee5\u7528\u4e8e\u5b58\u50a8\u6709\u5173\u6743\u9650\u548c\u8bbf\u95ee\u63a7\u5236\u7684\u4fe1\u606f\uff0c\u5141\u8bb8\u7ba1\u7406\u5458\u7ba1\u7406\u8c01\u6709\u6743\u8bbf\u95ee\u54ea\u4e9b\u8d44\u6e90\u3002</li> <li>\u8f7b\u91cf\u7ea7\uff1aLDAP\u88ab\u8ba4\u4e3a\u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u534f\u8bae\uff0c\u9002\u7528\u4e8e\u5feb\u901f\u8bbf\u95ee\u548c\u7ba1\u7406\u76ee\u5f55\u4fe1\u606f\u3002</li> </ol>"},{"location":"docker/docker-note/19.1%20%E9%83%A8%E7%BD%B2OpenLDAP/#\u4e8c\u5b89\u88c5docker","title":"\u4e8c\u3001\u5b89\u88c5docker","text":"Bash<pre><code>yum install -y yum-utils device-mapper-persistent-data lvm2   //\u5b89\u88c5docker\u4f9d\u8d56\u5305\nyum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo    //\u914d\u7f6e\u56fd\u5185\u963f\u91cc\u4e91\u955c\u50cf\u4ed3\u5e93\uff0c\u89e3\u51b3\u955c\u50cf\u4e0b\u8f7d\u6162\u7684\u95ee\u9898\u3002\nyum install docker-ce docker-ce-cli containerd.io   //\u5b89\u88c5docker-ce\u670d\u52a1\n\nsystemctl start docker          //\u542f\u52a8docker\u547d\u4ee4\nsystemctl enable docker        //\u6dfb\u52a0\u5230\u5f00\u673a\u542f\u52a8\u9879\n</code></pre>"},{"location":"docker/docker-note/19.1%20%E9%83%A8%E7%BD%B2OpenLDAP/#\u4e09\u62c9\u53d6openldap\u4e0ephpldapadmin\u955c\u50cf\u5230\u672c\u5730","title":"\u4e09\u3001\u62c9\u53d6openldap\u4e0ephpldapadmin\u955c\u50cf\u5230\u672c\u5730","text":"Bash<pre><code>docker pull osixia/openldap\n\ndocker pull osixia/phpldapadmin\n</code></pre>"},{"location":"docker/docker-note/19.1%20%E9%83%A8%E7%BD%B2OpenLDAP/#\u56db\u8fd0\u884c\u955c\u50cf","title":"\u56db\u3001\u8fd0\u884c\u955c\u50cf","text":""},{"location":"docker/docker-note/19.1%20%E9%83%A8%E7%BD%B2OpenLDAP/#1\u901a\u8fc7docker-run\u547d\u4ee4\u8fd0\u884copenldap","title":"1.\u901a\u8fc7docker run\u547d\u4ee4\u8fd0\u884copenldap","text":"Bash<pre><code>docker run \\\n-p 389:389 \\\n-p 636:636 \\\n--name myldap_name \\\n--network bridge \\\n--hostname openldap-host \\\n--env LDAP_ORGANISATION=\"sunline\" \\\n--env LDAP_DOMAIN=\"sunline.cn\" \\\n--env LDAP_ADMIN_PASSWORD=\"123456\" \\\n--detach osixia/openldap\n</code></pre> <p>\u6ce8\u91ca\u5982\u4e0b:</p> <p>-p 389:389    TCP/IP\u8bbf\u95ee\u7aef\u53e3</p> <p>-p 636:636    SSL\u8fde\u63a5\u7aef\u53e3</p> <p>\u2013name myldap_name    \u5bb9\u5668\u540d\u79f0\u4e3amyldap_name</p> <p>\u2013network bridge    \u8fde\u63a5\u9ed8\u8ba4\u7684bridge\u7f51\u7edc</p> <p>\u2013hostname openldap-host    \u8bbe\u7f6e\u5bb9\u5668\u4e3b\u673a\u540d\u79f0\u4e3a openldap-host</p> <p>\u2013env LDAP_ORGANISATION=\u201csunline\u201d    \u914d\u7f6eLDAP\u7ec4\u7ec7\u540d\u79f0</p> <p>\u2013env LDAP_DOMAIN=\u201csunline.cn\u201d    \u914d\u7f6eLDAP\u57df\u540d</p> <p>\u2013env LDAP_ADMIN_PASSWORD=\u201c123456\u201d    \u914d\u7f6eLDAP\u5bc6\u7801</p> <p>\u9ed8\u8ba4\u767b\u5f55\u7528\u6237\u540d\uff1aadmin</p> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"docker/docker-note/19.1%20%E9%83%A8%E7%BD%B2OpenLDAP/#2\u901a\u8fc7docker-run\u547d\u4ee4\u8fd0\u884cosixiaphpldapadmin","title":"2.\u901a\u8fc7docker run\u547d\u4ee4\u8fd0\u884cosixia/phpldapadmin","text":"Bash<pre><code>docker run \\\n-d \\\n--privileged \\\n-p 8082:80 \\\n--name myldapadmin \\\n--env PHPLDAPADMIN_HTTPS=false \\\n--env PHPLDAPADMIN_LDAP_HOSTS=10.22.51.63 \\\n--detach osixia/phpldapadmin\n</code></pre> <p>\u6ce8\u91ca\u5982\u4e0b:</p> <p>-d    \u5206\u79bb\u6a21\u5f0f\u542f\u52a8\u5bb9\u5668</p> <p>\u2013privileged    \u7279\u6743\u6a21\u5f0f\u542f\u52a8\uff08\u4f7f\u7528\u8be5\u53c2\u6570\uff0ccontainer\u5185\u7684root\u62e5\u6709\u771f\u6b63\u7684root\u6743\u9650\u3002\u5426\u5219\uff0ccontainer\u5185\u7684root\u53ea\u662f\u5916\u90e8\u7684\u4e00\u4e2a\u666e\u901a\u7528\u6237\u6743\u9650\uff09</p> <p>\u2013env PHPLDAPADMIN_HTTPS=false    \u7981\u7528HTTPS</p> <p>\u2013env PHPLDAPADMIN_LDAP_HOSTS =10.22.51.63    \u914d\u7f6eopenLDAP\u7684IP\u6216\u8005\u57df\u540d\uff0c\u6211\u5b89\u88c5ldap\u673a\u5668IP\u5c31\u662f10.22.51.63</p> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"docker/docker-note/19.1%20%E9%83%A8%E7%BD%B2OpenLDAP/#\u4e94\u767b\u5f55","title":"\u4e94\u3001\u767b\u5f55","text":"<p>\u901a\u8fc7\u8bbf\u95eephpldapadmin\u7ba1\u7406\u5730\u5740http://10.22.51.63:8082/\u8fdb\u884c\u767b\u5f55\u4e0e\u7ba1\u7406\uff0c\u767b\u9646\u754c\u9762\u5982\u4e0b\uff1a</p> <p></p> <p>\u70b9\u51fblogin\u8fdb\u884c\u767b\u5f55,\u5982\u679c\u767b\u5f55\u5931\u8d25\uff0c\u9700\u8981\u68c0\u67e5selinux\u548cfirewalld\u662f\u5426\u542f\u7528\uff0c</p> Bash<pre><code>[root@localhost ~]# getenforce    #\u67e5\u770bselinx\u72b6\u6001\nEnforcing\n\n[root@localhost ~]# setenforce 0    #\u4e34\u65f6\u5173\u95ed\n\n[root@localhost ~]# getenforce      #\u72b6\u6001\u5bbd\u677e\u5373\u53ef\nPermissive\n</code></pre> Bash<pre><code>Login DN\uff1acn=admin,dc=sunline,dc=cn\nPassword\uff1a123456\n</code></pre> <p></p>"},{"location":"docker/docker-note/19.2%20%E9%83%A8%E7%BD%B2gogs/","title":"\u90e8\u7f72Gogs","text":""},{"location":"docker/docker-note/19.2%20%E9%83%A8%E7%BD%B2gogs/#\u4e00gogs\u6982\u5ff5","title":"\u4e00\u3001Gogs\u6982\u5ff5","text":""},{"location":"docker/docker-note/19.2%20%E9%83%A8%E7%BD%B2gogs/#1gogs","title":"1\u3001Gogs","text":""},{"location":"docker/docker-note/19.2%20%E9%83%A8%E7%BD%B2gogs/#11-\u6982\u5ff5","title":"1.1 \u6982\u5ff5","text":"<p>\u200b       Gogs \u662f\u4e00\u6b3e\u6781\u6613\u642d\u5efa\u7684\u81ea\u52a9 Git \u670d\u52a1\uff0c\u662f\u4e00\u4e2a\u5f00\u6e90\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\u3002</p>"},{"location":"docker/docker-note/19.2%20%E9%83%A8%E7%BD%B2gogs/#12-\u76ee\u7684","title":"1.2 \u76ee\u7684","text":"<p>\u200b       Gogs \u7684\u76ee\u6807\u662f\u6253\u9020\u4e00\u4e2a\u6700\u7b80\u5355\u3001\u6700\u5feb\u901f\u548c\u6700\u8f7b\u677e\u7684\u65b9\u5f0f\u642d\u5efa\u81ea\u52a9 Git \u670d\u52a1\u3002\u4f7f\u7528 Go \u8bed\u8a00\u5f00\u53d1\u4f7f\u5f97 Gogs \u80fd\u591f\u901a\u8fc7\u72ec\u7acb\u7684\u4e8c\u8fdb\u5236\u5206\u53d1\uff0c\u5e76\u4e14\u652f\u6301 Go \u8bed\u8a00\u652f\u6301\u7684 \u6240\u6709\u5e73\u53f0\uff0c\u5305\u62ec Linux\u3001Mac OS X\u3001Windows \u4ee5\u53ca ARM \u5e73\u53f0\u3002</p>"},{"location":"docker/docker-note/19.2%20%E9%83%A8%E7%BD%B2gogs/#\u4e8cdocker\u642d\u5efagogs\u5e76\u4e0a\u4f20\u9879\u76ee","title":"\u4e8c\u3001Docker\u642d\u5efaGogs\uff0c\u5e76\u4e0a\u4f20\u9879\u76ee","text":""},{"location":"docker/docker-note/19.2%20%E9%83%A8%E7%BD%B2gogs/#1\u5b89\u88c5gogs","title":"1\u3001\u5b89\u88c5Gogs","text":"Bash<pre><code>docker pull gogs/gogs    #\u62c9\u53d6gogs\n\n#\u542f\u52a8gogs\uff0c\u914d\u7f6eSSH\u7aef\u53e3122\uff0c\u8bbf\u95ee\u7aef\u53e33001\uff0cgogs\u6301\u4e45\u5316\u5b58\u50a8\u76ee\u5f55\u4e3a/var/gogs\ndocker run --name=gogs -p 122:22 -p 3001:3000 -v /var/gogs:/data gogs/gogs\n</code></pre> <p>\u6d4b\u8bd5\u8bbf\u95eegogs\u9875\u9762\uff1ahttp://10.22.51.63:3001</p> <p></p> <p>\u7531\u4e8e\u672a\u6dfb\u52a0<code>-d</code>\u53c2\u6570\u540e\u53f0\u8fd0\u884c\uff0c\u542f\u52a8\u65f6\u663e\u793a\u76d1\u542c3000\u7aef\u53e3\u540e\u5373\u53ef\u5728\u6d4f\u89c8\u5668\u8bbf\u95ee\uff1a</p> <p></p> <p>\u5982\u679c\u60f3\u8ba9\u5b83\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u53ef\u4ee5\u6dfb\u52a0<code>-d</code>\u53c2\u6570\uff0c\u542f\u52a8\u540e\u5728\u6d4f\u89c8\u5668\u8bbf\u95ee\u5373\u53ef\u3002</p> Bash<pre><code>docker run -d --name=gogs -p 122:22 -p 3001:3000 -v /var/gogs:/data gogs/gogs\n</code></pre>"},{"location":"docker/docker-note/19.2%20%E9%83%A8%E7%BD%B2gogs/#2\u521b\u5efagogs\u6570\u636e\u5e93","title":"2\u3001\u521b\u5efagogs\u6570\u636e\u5e93","text":"<p>\u9996\u6b21\u8fd0\u884cgogs\u5b89\u88c5\u7a0b\u5e8f\u9700\u586b\u5199\u6570\u636e\u5e93\u4fe1\u606f\uff0c\u6240\u4ee5\u8981\u521b\u5efagogs\u6570\u636e\u5e93\u548cgogs\u7528\u6237\u3002</p> Bash<pre><code>#\u8fdb\u5165MySQL\u5bb9\u5668\u5185\ndocker exec -it mysql-master /bin/bash    #\u6570\u636e\u5e93\u4e3b\u673a\u7aef\u53e3\u4e3a10.22.51.63:3307\n\n#\u8fdb\u5165mysql\nmysql -uroot -p\n#\u521b\u5efagogs\u6570\u636e\u5e93\ncreate database gogs;\ngrant all privileges on gogs.* to gogs@'%' identified by 'gogs';   #\u521b\u5efa\u7528\u6237\u5e76\u6388\u6743\nflush privileges;    #\u5237\u65b0\u6743\u9650\n</code></pre>"},{"location":"docker/docker-note/19.2%20%E9%83%A8%E7%BD%B2gogs/#3\u586b\u5199\u5b89\u88c5\u7a0b\u5e8f\u6240\u9700\u7684\u4fe1\u606f","title":"3\u3001\u586b\u5199\u5b89\u88c5\u7a0b\u5e8f\u6240\u9700\u7684\u4fe1\u606f","text":"<p>\u6d4f\u89c8\u5668\u8bbf\u95eehttp://10.22.51.63:3001\uff0c\u586b\u5199\u5b89\u88c5\u7a0b\u5e8f\u6240\u9700\u7684\u4fe1\u606f\u3002</p>"},{"location":"docker/docker-note/19.2%20%E9%83%A8%E7%BD%B2gogs/#4\u505c\u6b62\u5bb9\u5668","title":"4\u3001\u505c\u6b62\u5bb9\u5668","text":"Bash<pre><code>docker rm -f gogs    #\u5220\u9664\u73b0\u6709\u7684\u5bb9\u5668gogs\ndocker stop gogs    #\u547d\u4ee4\u505c\u6b62\u73b0\u6709\u7684\u5bb9\u5668\ndocker rename gogs old_gogs    #\u5c06\u73b0\u6709\u7684\u5bb9\u5668gogs\uff0c\u91cd\u547d\u540d\u4e3aold_gogs\ndocker ps\n</code></pre>"},{"location":"docker/docker-note/19.3%20%E9%83%A8%E7%BD%B2chatgpt/","title":"\u90e8\u7f72ChatGPT","text":"<p>\u672c\u5730\u642d\u5efaChatGPT\u6559\u7a0b\uff1ahttps://www.techxiaofei.com/post/chatgpt/local/</p> <p>docker\u624b\u518c\uff1ahttps://docs.docker.com/</p> <p>docker hub\u5bb9\u5668\u955c\u50cf\u5e93\uff1ahttps://hub.docker.com/</p>"},{"location":"docker/docker-note/19.3%20%E9%83%A8%E7%BD%B2chatgpt/#\u4e00\u80cc\u666f","title":"\u4e00\u3001\u80cc\u666f","text":"<p>\u200b       \u6211\u76f8\u4fe1\u5f88\u591a\u5c0f\u4f19\u4f34\u5728\u56fd\u5185\u4f7f\u7528\u673a\u573a\u4f7f\u7528ChatGPT\u6709\u88ab\u5c01\u53f7\u7684\uff0c\u56e0\u4e3a\u516c\u5171\u673a\u573a\u7684IP\u90fd\u662f\u5927\u5bb6\u5171\u7528\u7684\uff0c\u5f88\u5bb9\u6613\u88abChatGPT\u8bc6\u522b\u51fa\u6765\u5e76\u5c01\u53f7\u3002</p> <p>\u200b       \u6bd4\u5982\u4f60\u4f7f\u7528ChatGPT\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u5404\u6837\u7684\u9519\u8bef\uff0c<code>\u673a\u573aIP\u88ab\u5c01</code>\u6216\u8005<code>\u8d26\u53f7\u88ab\u5c01</code>\u7b49\u3002</p> <p>\u200b       \u672c\u8282\u6559\u5927\u5bb6\u5982\u4f55\u5728\u672c\u673a\u7535\u8111\uff08<code>Windows</code>\uff0c\u5f53\u7136\u4e5f\u652f\u6301MacOS\u5e76\u4e14\u66f4\u7b80\u5355\uff09\u4e0a\u642d\u5efaChatGPT\uff0c<code>\u65e0\u9700\u7ffb\u5899\uff0c\u514d\u8d39\u4f53\u9a8c</code>\u670d\u52a1\u5668\u8fdb\u884c\u8f6c\u53d1\u3002</p> <p>\u200b       \u5f53\u7136\u5982\u679c\u4f60\u6709\u56fd\u5185\u7684<code>\u4e91\u670d\u52a1\u5668</code>\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u4e91\u670d\u52a1\u5668\u91cc\u9762\u5b89\u88c5\u8bbf\u95ee\u3002</p> <p>\u200b       \u7ed9\u5927\u5bb6\u5c55\u793a\u4e00\u4e0b\u6548\u679c\u3002\u53ef\u4ee5\u770b\u4e00\u4e0b\uff0c\u8ddfChatGPT\u4e0d\u8bf4\u662f\u957f\u5f97\u5f88\u50cf\uff0c\u53ef\u4ee5\u8bf4\u662f\u6beb\u65e0\u533a\u522b\u3002</p> <p></p> <p>\u200b       \u540c\u65f6\u6211\u4eec\u4f7f\u7528\u7684\u662fOpenAI\u7684<code>Access Token</code>\u767b\u5f55\uff0c\u4e0d\u9700\u8981API\uff0c\u6211\u4eec\u90fd\u77e5\u9053API\u9664\u4e86\u6ce8\u518c\u7684\u65f6\u5019\u9001\u7684\u51e0\u7f8e\u91d1\u5230\u671f\u4e4b\u540e\u5c31\u65e0\u6cd5\u4f7f\u7528\u4e86\uff0c\u9700\u8981\u5145\u503c\u3002\u6240\u4ee5\u6211\u4eec\u4f7f\u7528\u5b8c\u5168\u514d\u8d39\u7684\u7f51\u9875\u7248\u767b\u5f55\u7684token\u3002</p>"},{"location":"docker/docker-note/19.3%20%E9%83%A8%E7%BD%B2chatgpt/#\u4e8c\u8f6f\u4ef6\u5b89\u88c5","title":"\u4e8c\u3001\u8f6f\u4ef6\u5b89\u88c5","text":"<p>\u200b       \u60f3\u8981\u5728\u672c\u5730\u642d\u5efaChatGPT\uff0c\u53ea\u9700\u8981\u51e0\u6b65\u7b80\u5355\u7684\u5b89\u88c5\u5373\u53ef\u3002</p>"},{"location":"docker/docker-note/19.3%20%E9%83%A8%E7%BD%B2chatgpt/#1docker","title":"1.docker","text":"<p>\u200b       Docker\u662f\u4e00\u4e2a\u5168\u7403\u6700\u6d41\u884c\u7684\u955c\u50cf\u670d\u52a1\u7ba1\u7406\u5e73\u53f0\uff0c\u91cc\u9762\u662f\u6253\u5305\u597d\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u76f4\u63a5\u4e0b\u8f7d\u5c31\u80fd\u4f7f\u7528\uff0c\u800c\u4e0d\u9700\u8981\u81ea\u5df1\u8fdb\u884c\u590d\u6742\u7684\u73af\u5883\u914d\u7f6e\uff0c\u514d\u53bb\u4e86\u81ea\u5df1\u5b89\u88c5\u4f9d\u8d56\u7684\u9ebb\u70e6\u3002</p> <p>\u200b       \u4f7f\u7528Docker\u4f60\u4ec0\u4e48\u90fd\u4e0d\u9700\u8981\u88c5\uff0c\u53ea\u9700\u8981\u4e00\u952e\u4e0b\u8f7dDocker\u955c\u50cf\u5c31\u53ef\u4ee5\u8fd0\u884c\u4e86\u3002</p> <p>\u200b       \u6211\u4eec\u53bb\u5b98\u7f51\u4e0b\u8f7d Docker\uff0c\u6211\u4eec\u6839\u636e\u6211\u4eec\u7684\u7535\u8111\u7cfb\u7edf\u9009\u62e9\u5bf9\u5e94\u7684\u7248\u672c\u4e0b\u8f7d\u5373\u53ef\u3002\u6211\u7528\u7684\u662fWindows\uff0c\u6240\u4ee5\u4e0b\u8f7dWindows\u7248\u672c\uff0c\u4e0b\u8f7d\u5b8c\u76f4\u63a5\u5b89\u88c5\u3002</p> <p></p> <p>\u200b       \u5b89\u88c5\u5b8c\u6210\u4e4b\u540e\u53ef\u80fd\u4f1a\u63d0\u793a\uff1aDocker\u684c\u9762\u7248\u9700\u8981\u4e00\u4e2a\u65b0\u7684WSL\u5185\u6838\u7248\u672c\u3002</p> <p>\u200b       \u5728Windows\u641c\u7d22\u6846\u8f93\u5165powershell\u6253\u5f00<code>Windows PowerShell</code>\u5e94\u7528\u3002\u7136\u540e\u6267\u884c <code>wsl --update</code>\u5373\u53ef\u3002</p> <p></p> <p>\u200b       \u540c\u65f6\uff0c\u8fd8\u9700\u8981\u5f00\u542fdocker\u670d\u52a1\uff0c\u641c\u7d22\u6846\u8f93\u5165<code>services.msc</code>\u6253\u5f00\u670d\u52a1\uff0c\u5f00\u542f<code>Docker Desktop Service</code>\u670d\u52a1\uff1a</p> <p></p>"},{"location":"docker/docker-note/19.3%20%E9%83%A8%E7%BD%B2chatgpt/#2\u4e0b\u8f7ddocker\u955c\u50cf","title":"2.\u4e0b\u8f7dDocker\u955c\u50cf","text":"<p>\u200b       Docker\u7a0b\u5e8f\u4e0b\u8f7d\u597d\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528<code>docker\u547d\u4ee4</code>\u4e0b\u8f7dChatGPT\u7684Docker\u955c\u50cf\u4e86\uff0c\u8fd9\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u9879\u76ee\uff0c\u540d\u5b57\u53eb Pandora\uff08\u6f58\u591a\u62c9\uff09\uff0c\u5728 Github \u4e0a\u7684\u6e90\u7801\uff0c\u67098\u5343\u591a\u4e2astar\u3002\u5f53\u7136\u6211\u4eec\u4e0d\u9700\u8981\u4e0b\u8f7d\u8fd9\u4efd\u6e90\u7801\u6765\u5b89\u88c5\u3002\u6211\u4eec\u53ea\u9700\u8981\u6267\u884c<code>docker</code>\u547d\u4ee4\u4ecedocker\u7684\u670d\u52a1\u5668\u4e0b\u8f7d\u522b\u4eba\u4e0a\u4f20\u7684\u955c\u50cf\u5373\u53ef\u3002</p>"},{"location":"docker/docker-note/19.3%20%E9%83%A8%E7%BD%B2chatgpt/#3\u6267\u884c\u547d\u4ee4","title":"3.\u6267\u884c\u547d\u4ee4","text":"<p>\u200b       \u641c\u7d22\u6846\u8f93\u5165cmd\u627e\u5230<code>\u547d\u4ee4\u63d0\u793a\u7b26</code>\uff0c\u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u8fd0\u884c\u3002</p>"},{"location":"docker/docker-note/19.3%20%E9%83%A8%E7%BD%B2chatgpt/#31-\u4e0b\u8f7ddocker\u955c\u50cf","title":"3.1 \u4e0b\u8f7ddocker\u955c\u50cf","text":"Bash<pre><code>docker pull pengzhile/pandora\n</code></pre>"},{"location":"docker/docker-note/19.3%20%E9%83%A8%E7%BD%B2chatgpt/#32-\u8fd0\u884cdocker\u955c\u50cf","title":"3.2 \u8fd0\u884cdocker\u955c\u50cf","text":"Bash<pre><code>docker run -d -p 8899:8899 -e PANDORA_CLOUD=cloud -e PANDORA_SERVER=0.0.0.0:8899 pengzhile/pandora\n</code></pre>"},{"location":"docker/docker-note/19.3%20%E9%83%A8%E7%BD%B2chatgpt/#\u4e09\u6d4f\u89c8\u5668\u6253\u5f00ip\u7aef\u53e3","title":"\u4e09\u3001\u6d4f\u89c8\u5668\u6253\u5f00IP\u7aef\u53e3","text":"<p>\u200b       \u8fd0\u884c\u6210\u529f\u4e4b\u540e\u4e0b\u4e00\u6b65\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u6253\u5f00 http://127.0.0.1:8899\u3002</p> <p>\u200b       \u7136\u540e\u53ef\u4ee5\u770b\u5230\u6709\u4e24\u79cd\u767b\u5f55\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f\u4f7f\u7528\u8d26\u53f7\u5bc6\u7801\u767b\u5f55\uff0c\u4e00\u79cd\u662f\u4f7f\u7528<code>Access Token</code>\u767b\u5f55\u3002</p> <p>\u200b       \u5f53\u7136\u6211\u662f\u63a8\u8350\u4f7f\u7528<code>Access Token</code>\u767b\u5f55\u7684\u3002</p> <p></p>"},{"location":"docker/docker-note/19.3%20%E9%83%A8%E7%BD%B2chatgpt/#1access-token","title":"1.Access Token","text":"<p>\u200b       \u8fd9\u4e2aToken\u600e\u4e48\u83b7\u5f97\u5462\uff1f\u6211\u4eec\u6253\u5f00\u4e0b\u9762\u8fd9\u4e2a\u5730\u5740\u3002</p> <p>\u200b       Token\u83b7\u5f97\u5730\u5740\uff1ahttp://chat.openai.com/api/auth/session\uff08\u7528\u8c37\u6b4c\u6253\u5f00\uff09</p> <p>\u200b       \u6211\u7ed9\u5c0f\u4f19\u4f34\u89e3\u91ca\u4e0b\uff0c<code>Access Token</code>\u5c31\u662f\u4f60\u4f7f\u7528\u8d26\u53f7\u5bc6\u7801\u767b\u5f55\u7684ChatGPT\u7684\u7f51\u7ad9\u4f1a\u751f\u6210\u4e00\u4e2aToken\uff0c\u8fd9\u4e2aToken\u662f30\u5929\u8fc7\u671f\uff0c\u4e0b\u6b21\u91cd\u65b0\u751f\u6210\u5c31\u884c\uff0c\u7f51\u9875\u7248\u662f\u5b8c\u5168\u514d\u8d39\u7684\uff0c\u6240\u4ee5\u8fd9\u4e2a\u4f7f\u7528\u65b9\u6cd5\u4e5f\u662f\u5b8c\u5168\u514d\u8d39\u7684\u3002</p> <p>\u200b       \u5173\u6ce8accessToken\u548cexpires\u5c31\u884c\uff0c\u5c31\u662f\u5177\u4f53\u7684token\u548c\u8fc7\u671f\u65f6\u95f4\u3002</p> <p></p> Bash<pre><code>{\n  \"user\": {\n    \"id\": \"user-idNAxWDUK6FwBfyvkuZLt9LM\",\n    \"name\": \"\u9f8d\u9f8d\",\n    \"email\": \"whizhzl@gmail.com\",\n    \"image\": \"https://lh3.googleusercontent.com/a/ACg8ocJw_k-lGj6ZTIVDasQHY5MbuLzDa4w3yRexUxz0MQbyZyfP8Q=s96-c\",\n    \"picture\": \"https://lh3.googleusercontent.com/a/ACg8ocJw_k-lGj6ZTIVDasQHY5MbuLzDa4w3yRexUxz0MQbyZyfP8Q=s96-c\",\n    \"idp\": \"google-oauth2\",\n    \"iat\": 1715965459,\n    \"mfa\": false,\n    \"groups\": [],\n    \"intercom_hash\": \"b42fb87b6916a8423310361888ef0816411d4030d2874b0f012832c967263f58\"\n  },\n  \"expires\": \"2024-08-27T13:54:24.872Z\",\n  \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ik1UaEVOVUpHTkVNMVFURTRNMEZCTWpkQ05UZzVNRFUxUlRVd1FVSkRNRU13UmtGRVFrRXpSZyJ9.eyJodHRwczovL2FwaS5vcGVuYWkuY29tL3Byb2ZpbGUiOnsiZW1haWwiOiJ3aGl6aHpsQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlfSwiaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS9hdXRoIjp7InBvaWQiOiJvcmctT0FMaGNqd1pnR0E3RWlYT3dNN3I5SDlZIiwidXNlcl9pZCI6InVzZXItaWROQXhXRFVLNkZ3QmZ5dmt1Wkx0OUxNIn0sImlzcyI6Imh0dHBzOi8vYXV0aDAub3BlbmFpLmNvbS8iLCJzdWIiOiJnb29nbGUtb2F1dGgyfDEwMjA0ODY1OTUxMTQ1MDUwMDg0NiIsImF1ZCI6WyJodHRwczovL2FwaS5vcGVuYWkuY29tL3YxIiwiaHR0cHM6Ly9vcGVuYWkub3BlbmFpLmF1dGgwYXBwLmNvbS91c2VyaW5mbyJdLCJpYXQiOjE3MTY5MDA0NDgsImV4cCI6MTcxNzc2NDQ0OCwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSBtb2RlbC5yZWFkIG1vZGVsLnJlcXVlc3Qgb3JnYW5pemF0aW9uLnJlYWQgb3JnYW5pemF0aW9uLndyaXRlIG9mZmxpbmVfYWNjZXNzIiwiYXpwIjoiVGRKSWNiZTE2V29USHROOTVueXl3aDVFNHlPbzZJdEcifQ.NmXJMEVV75nCCCnT6ytwYqRCIizSOb1px1V-6qxO5RvqcYkAdJIK_O-okkvlIvCOSSMJVTwbRl_vNOFCIfeCiPiSTo49c_-COtKhzI3jPqMH8E_wx1p1Q0FMMLL7P9YJmIeNdGI_fyZWklXi_ZFLH6eW1Xrh_4gpBZrMikbWe0kSCimfHWjxI2FR7rhmfX4qayjEJQApHp7mutlSFUv0D8-HRyTINlPX2F4-eeWIarZNfh-D6Oy3_cw0br-5OPs_lLukq5Acm8s9PKeX4zruv_KutlNlN7HFHVS9FS_rEoRDYChhW86F9pTJY8xaN-arsDPFFSRauT7lV4elE79lxg\",\n  \"authProvider\": \"login-web\"\n}\n</code></pre> <p>\u6ce8\u610f\uff1a \u83b7\u53d6Token\u662f\u901a\u8fc7\u8bbf\u95eeOpenAI\u5b98\u7f51\u7684\u94fe\u63a5\u83b7\u53d6\u7684\uff0c\u6240\u4ee5\u5728\u56fd\u5185\u7684\u5c0f\u4f19\u4f34\u9700\u8981\u5f00\u542f\u5168\u5c40\u4ee3\u7406\uff0c\u5982\u679c\u4f60\u5f00\u542f\u4ee3\u7406\u8fd8\u65e0\u6cd5\u8bbf\u95ee\uff0c\u90a3\u5c31\u662f\u4f60\u4f7f\u7528\u7684\u673a\u573aIP\u88ab\u6c61\u67d3\u4e86\uff0c\u88abOpenAI\u5c01\u7981\u4e86\uff0c\u4f60\u9700\u8981\u627e\u5230\u5e72\u51c0\u7684\u673a\u573a\u8bbf\u95ee\uff0c\u6216\u8005\u76f4\u63a5\u627e\u56fd\u5916\u7684\u670b\u53cb\u5e2e\u4f60\u767b\u5f55\u751f\u6210Token\u3002</p>"},{"location":"docker/docker-note/19.3%20%E9%83%A8%E7%BD%B2chatgpt/#2\u8bbf\u95ee","title":"2.\u8bbf\u95ee","text":"<p>\u200b       \u590d\u5236accessToken\u7684\u503c\uff0c\u7136\u540e\u7c98\u8d34\u5230\u521a\u624d\u7684\u7f51\u7ad9\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86\u3002</p> <p></p>"},{"location":"docker/docker-note/2%20docker%E5%AE%89%E8%A3%85/","title":"docker\u5b89\u88c5","text":""},{"location":"docker/docker-note/2%20docker%E5%AE%89%E8%A3%85/#\u4e00\u5b89\u88c5\u524d\u51c6\u5907","title":"\u4e00\u3001\u5b89\u88c5\u524d\u51c6\u5907","text":"Bash<pre><code>uname -r    #\u67e5\u770b\u4e0b\u5185\u6838\u7248\u672c\uff0c\u5efa\u8bae3.10\u4ee5\u4e0a\n\n\u5347\u7ea7\u5185\u6838\u53ca\u5347\u7ea7\u7cfb\u7edf\u5305\uff1a\nyum -y update\uff1a\u5347\u7ea7\u6240\u6709\u5305\u540c\u65f6\u4e5f\u5347\u7ea7\u8f6f\u4ef6\u548c\u7cfb\u7edf\u5185\u6838\uff1b\nyum -y upgrade\uff1a\u53ea\u5347\u7ea7\u6240\u6709\u5305\uff0c\u4e0d\u5347\u7ea7\u8f6f\u4ef6\u548c\u7cfb\u7edf\u5185\u6838\n</code></pre>"},{"location":"docker/docker-note/2%20docker%E5%AE%89%E8%A3%85/#\u4e8c\u5378\u8f7ddocker\u65e7\u7248\u672c","title":"\u4e8c\u3001\u5378\u8f7ddocker\u65e7\u7248\u672c","text":"Bash<pre><code>docker version  # \u67e5\u770b\u5f53\u524dDocker\u7248\u672c\nyum erase docker \\\n    docker-client \\\n    docker-client-latest \\\n    docker-common \\\n    docker-latest \\\n    docker-latest-logrotate \\\n    docker-logrotate \\\n    docker-selinux \\\n    docker-engine-selinux \\\n    docker-engine \\\n    docker-ce\n</code></pre> <p>\u200b       yum\u53ef\u80fd\u4f1a\u62a5\u544a\u60a8\u6ca1\u6709\u5b89\u88c5\u8fd9\u4e9b\u8f6f\u4ef6\u5305\u3002/var/lib/docker/\u5378\u8f7d Docker \u65f6\uff0c\u4e0d\u4f1a\u81ea\u52a8\u5220\u9664\u5b58\u50a8\u7684\u6620\u50cf\u3001\u5bb9\u5668\u3001\u5377\u548c\u7f51\u7edc\u3002</p> <p>\u200b       \u5220\u9664\u76f8\u5173\u914d\u7f6e\u6587\u4ef6\uff1a</p> Bash<pre><code>find /etc/systemd -name '*docker*' -exec rm -f {} \\;\nfind /lib/systemd -name '*docker*' -exec rm -f {} \\;\n</code></pre>"},{"location":"docker/docker-note/2%20docker%E5%AE%89%E8%A3%85/#\u4e09\u5b89\u88c5docker","title":"\u4e09\u3001\u5b89\u88c5docker","text":""},{"location":"docker/docker-note/2%20docker%E5%AE%89%E8%A3%85/#1\u5b89\u88c5\u4f9d\u8d56gcc-gcc-c","title":"1.\u5b89\u88c5\u4f9d\u8d56gcc gcc-c++","text":"Bash<pre><code>yum -y install gcc gcc-c++\n</code></pre>"},{"location":"docker/docker-note/2%20docker%E5%AE%89%E8%A3%85/#2\u8bbe\u7f6e\u5b58\u50a8\u5e93","title":"2.\u8bbe\u7f6e\u5b58\u50a8\u5e93","text":"<p>\u200b       \u5728\u65b0\u4e3b\u673a\u4e0a\u9996\u6b21\u5b89\u88c5 Docker Engine \u4e4b\u524d\uff0c\u9700\u8981\u8bbe\u7f6e Docker \u5b58\u50a8\u5e93\u3002\u4e4b\u540e\uff0c\u60a8\u53ef\u4ee5\u4ece\u5b58\u50a8\u5e93\u5b89\u88c5\u548c\u66f4\u65b0 Docker\u3002</p> <p>\u200b       \u5b89\u88c5yum-utils\u8f6f\u4ef6\u5305\uff08\u63d0\u4f9byum-config-manager \u5b9e\u7528\u7a0b\u5e8f\uff09\u5e76\u8bbe\u7f6e\u5b58\u50a8\u5e93\u3002</p> Bash<pre><code>yum install -y yum-utils device-mapper-persistent-data lvm2\nyum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n</code></pre> <p>\u200b       yum-util \u63d0\u4f9byum-config-manager\u529f\u80fd\uff0c\u53e6\u4e24\u4e2a\u662fdevicemapper\u9a71\u52a8\u4f9d\u8d56\u3002</p> <p>\u200b       \u8bbe\u7f6edocker\u955c\u50cf\u6e90\u4e3a\u963f\u91cc\u4e91\u7684yum\u6e90\u4f5c\u4e3adocker\u4ed3\u5e93\uff0c\u5728/etc/yum.repos.d/\u4e2d\u53ef\u4ee5\u53d1\u73b0\u751f\u6210\u4e86docker-ce.repo\u955c\u50cf\u6e90\u3002</p> <p></p>"},{"location":"docker/docker-note/2%20docker%E5%AE%89%E8%A3%85/#3\u66f4\u65b0yum\u8f6f\u4ef6\u5305\u7d22\u5f15","title":"3.\u66f4\u65b0yum\u8f6f\u4ef6\u5305\u7d22\u5f15","text":"Bash<pre><code>yum makecache fast        #\u521b\u5efa\u7f13\u5b58\uff08\u975e\u5fc5\u9009\u9879\uff09\n</code></pre> <p>\u6ce8\uff1aCentOS8\u4ee5\u4e0a\u6ca1\u6709fast\u8fd9\u4e2a\u547d\u4ee4\uff0c\u53bb\u6389\u5c31\u53ef\u4ee5\u4e86\u3002</p>"},{"location":"docker/docker-note/2%20docker%E5%AE%89%E8%A3%85/#4\u67e5\u770bdocker\u53ef\u7528\u7248\u672c","title":"4.\u67e5\u770bdocker\u53ef\u7528\u7248\u672c","text":"Bash<pre><code>yum list docker-ce --showduplicates | sort -r\n</code></pre>"},{"location":"docker/docker-note/2%20docker%E5%AE%89%E8%A3%85/#5\u5b89\u88c5docker","title":"5.\u5b89\u88c5docker","text":"<p>\u200b       \u9009\u62e9\u4e00\u4e2a\u7248\u672c\u5b89\u88c5\uff1ayum install docker-ce-\u7248\u672c\u53f7</p> Bash<pre><code>yum -y install docker-ce-18.03.1.ce\n</code></pre> <p>\u200b       \u5b89\u88c5docker\u6700\u65b0\u7248\uff1ayum install -y docker-ce docker-ce-cli containerd.io</p>"},{"location":"docker/docker-note/2%20docker%E5%AE%89%E8%A3%85/#6\u542f\u52a8docker\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\u52a8","title":"6.\u542f\u52a8docker\uff0c\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\u52a8","text":"Bash<pre><code>systemctl start docker\nsystemctl enable docker\n\nsystemctl stop docker  #\u505c\u6b62\n</code></pre>"},{"location":"docker/docker-note/2%20docker%E5%AE%89%E8%A3%85/#7\u6d4b\u8bd5docker","title":"7.\u6d4b\u8bd5docker","text":"Bash<pre><code> docker run hello-world\n</code></pre>"},{"location":"docker/docker-note/3.1%20docker%E4%B8%8B%E8%BD%BD%E5%8A%A0%E9%80%9F/","title":"docker\u4e0b\u8f7d\u52a0\u901f","text":"<p>\u67e5\u770bdocker\u955c\u50cf\u6e90\uff1a</p> Bash<pre><code>cat /etc/docker/daemon.json\n</code></pre>"},{"location":"docker/docker-note/3.1%20docker%E4%B8%8B%E8%BD%BD%E5%8A%A0%E9%80%9F/#\u4e00\u767b\u5f55\u963f\u91cc\u4e91\u641c\u7d22\u5bb9\u5668\u955c\u50cf\u670d\u52a1","title":"\u4e00\u3001\u767b\u5f55\u963f\u91cc\u4e91\uff0c\u641c\u7d22\uff1a\u5bb9\u5668\u955c\u50cf\u670d\u52a1","text":""},{"location":"docker/docker-note/3.1%20docker%E4%B8%8B%E8%BD%BD%E5%8A%A0%E9%80%9F/#\u4e8c\u5b89\u88c5\u5347\u7ea7docker\u5ba2\u6237\u7aef","title":"\u4e8c\u3001\u5b89\u88c5\uff0f\u5347\u7ea7Docker\u5ba2\u6237\u7aef","text":"<p>\u200b       \u63a8\u8350\u5b89\u88c51.10.0\u4ee5\u4e0a\u7248\u672c\u7684Docker\u5ba2\u6237\u7aef\uff0c\u53c2\u8003\u6587\u6863docker-ce\u3002</p>"},{"location":"docker/docker-note/3.1%20docker%E4%B8%8B%E8%BD%BD%E5%8A%A0%E9%80%9F/#\u4e09\u914d\u7f6e\u955c\u50cf\u52a0\u901f\u5668","title":"\u4e09\u3001\u914d\u7f6e\u955c\u50cf\u52a0\u901f\u5668","text":"<p>\u200b       \u9488\u5bf9Docker\u5ba2\u6237\u7aef\u7248\u672c\u5927\u4e8e 1.10.0 \u7684\u7528\u6237</p> <p>\u200b       \u60a8\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539daemon\u914d\u7f6e\u6587\u4ef6/etc/docker/daemon.json\u6765\u4f7f\u7528\u52a0\u901f\u5668</p> Bash<pre><code>mkdir -p /etc/docker\ntee /etc/docker/daemon.json &lt;&lt;-'EOF'\n{    \n\"registry-mirrors\": [\"https://ip6hzdyo.mirror.aliyuncs.com\"]\n}\n\nEOF\n\n\u91cd\u8f7ddocker\nsystemctl daemon-reload\nsystemctl restart docker\n</code></pre> <p></p>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/","title":"Registry\u642d\u5efadocker\u79c1\u4ed3","text":"<p>\u200b       Docker Registry\u662f\u5b98\u65b9\u63d0\u4f9b\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u6784\u5efa\u79c1\u6709\u955c\u50cf\u4ed3\u5e93\u3002</p>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#\u4e00\u73af\u5883\u642d\u5efa","title":"\u4e00\u3001\u73af\u5883\u642d\u5efa","text":"<p>\u200b       Docker Registry\u4e5f\u662fDocker Hub\u63d0\u4f9b\u7684\u4e00\u4e2a\u955c\u50cf\uff0c\u53ef\u4ee5\u76f4\u63a5\u62c9\u53d6\u8fd0\u884c\u3002</p>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#1\u62c9\u53d6\u955c\u50cf","title":"1.\u62c9\u53d6\u955c\u50cf","text":"Bash<pre><code>docker pull registry\n</code></pre>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#2\u542f\u52a8docker-registry","title":"2.\u542f\u52a8Docker Registry","text":"<p>\u6ce8\uff1a-d\u547d\u4ee4\u8868\u793a\u540e\u53f0\u8fd0\u884c\u3002</p> Bash<pre><code>docker run -d -p 5000:5000 -v /app/myregistry/:/tmp/registry --privileged=true registry\n</code></pre> <p></p>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#3\u9a8c\u8bc1\u67e5\u770b\u79c1\u670d\u4e2d\u7684\u6240\u6709\u955c\u50cfregistry\u4f1a\u8fd4\u56dejson\u683c\u5f0f\u7684\u6240\u6709\u955c\u50cf\u76ee\u5f55","title":"3.\u9a8c\u8bc1\uff08\u67e5\u770b\u79c1\u670d\u4e2d\u7684\u6240\u6709\u955c\u50cf\uff09\uff0cRegistry\u4f1a\u8fd4\u56dejson\u683c\u5f0f\u7684\u6240\u6709\u955c\u50cf\u76ee\u5f55","text":"Bash<pre><code>curl http://10.22.51.63:5000/v2/_catalog        #IP\u548c\u7aef\u53e3\u4e3adocker\u4e3b\u673aIP\n</code></pre>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#\u4e8c\u5411registry\u79c1\u4ed3\u4e2d\u4e0a\u4f20\u955c\u50cf","title":"\u4e8c\u3001\u5411Registry\u79c1\u4ed3\u4e2d\u4e0a\u4f20\u955c\u50cf","text":""},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#1\u4ecehub\u4e0a\u4e0b\u8f7dubuntu\u955c\u50cf\u5230\u672c\u5730\u5e76\u6210\u529f\u8fd0\u884c","title":"1.\u4eceHub\u4e0a\u4e0b\u8f7dubuntu\u955c\u50cf\u5230\u672c\u5730\u5e76\u6210\u529f\u8fd0\u884c","text":"Bash<pre><code>docker pull ubuntu\ndocker run -d -it ubuntu\ndocker exec -it docker\u5bb9\u5668id /bin/bash    # \u8fd9\u91ccdocker\u5bb9\u5668id\u4e3aff61b666e6a4\n</code></pre>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#2\u539f\u59cb\u7684ubuntu\u955c\u50cf\u662f\u4e0d\u5e26\u7740ifconfig\u547d\u4ee4\u7684\u5916\u7f51\u8fde\u901a\u7684\u60c5\u51b5\u4e0b\u5b89\u88c5ifconfig\u547d\u4ee4\u5e76\u6d4b\u8bd5\u901a\u8fc7","title":"2.\u539f\u59cb\u7684ubuntu\u955c\u50cf\u662f\u4e0d\u5e26\u7740ifconfig\u547d\u4ee4\u7684,\u5916\u7f51\u8fde\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5b89\u88c5ifconfig\u547d\u4ee4\u5e76\u6d4b\u8bd5\u901a\u8fc7","text":"Bash<pre><code>apt-get update\napt-get install -y net-tools\n</code></pre>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#3\u5b89\u88c5\u5b8c\u6210\u540ecommit\u6211\u4eec\u81ea\u5df1\u7684\u65b0\u955c\u50cf","title":"3.\u5b89\u88c5\u5b8c\u6210\u540e\uff0ccommit\u6211\u4eec\u81ea\u5df1\u7684\u65b0\u955c\u50cf","text":"Bash<pre><code>docker commit -m=\"ifconfig cmd add\" -a=\"jerion\" ff61b666e6a4 jerionubuntu:1.2\n</code></pre>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#4\u542f\u52a8\u6211\u4eec\u7684\u65b0\u955c\u50cf\u5e76\u548c\u539f\u6765\u7684\u5bf9\u6bd4","title":"4.\u542f\u52a8\u6211\u4eec\u7684\u65b0\u955c\u50cf\u5e76\u548c\u539f\u6765\u7684\u5bf9\u6bd4","text":"Bash<pre><code>docker stop ff61b666e6a4    #\u505c\u6389\u539f\u6765\u7684ubuntu\u5bb9\u5668id\ndocker images\ndocker run -it docker\u955c\u50cfid /bin/bash    #\u542f\u52a8\u4e2a\u65b0\u7684\u6d4b\u8bd5ifconfig(\u8fd9\u91ccdocker\u955c\u50cfid\u4e3a92c1dbc89906)\n</code></pre>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#5\u5c06\u65b0\u955c\u50cf\u4fee\u6539\u7b26\u5408docker\u955c\u50cf\u89c4\u8303","title":"5.\u5c06\u65b0\u955c\u50cf\u4fee\u6539\u7b26\u5408docker\u955c\u50cf\u89c4\u8303","text":"<p>\u6309\u7167\u516c\u5f0f\uff1adocker tag \u955c\u50cf\uff1aTag Host:Port/Repository:Tag</p> <p>\u81ea\u5df1host\u4e3b\u673aIP\u5730\u5740\uff0c\u586b\u5199\u540c\u5b66\u4f60\u4eec\u81ea\u5df1\u7684\uff0c\u4e0d\u8981\u7c98\u8d34\u9519\u8bef\uff0c</p> <p>\u4f7f\u7528\u547d\u4ee4 docker tag \u5c06jerionubuntu:1.2 \u8fd9\u4e2a\u955c\u50cf\u4fee\u6539\u4e3a10.22.51.63:5000/jerionubuntu:1.2</p> Bash<pre><code>docker tag jerionubuntu:1.2 10.22.51.63:5000/jerionubuntu:1.2\ndocker images    #\u68c0\u9a8c\n</code></pre>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#6\u914d\u7f6edocker\u5141\u8bb8\u63a5\u6536http\u8bf7\u6c42","title":"6.\u914d\u7f6edocker\u5141\u8bb8\u63a5\u6536http\u8bf7\u6c42","text":"<p>\u4fee\u6539/etc/docker/daemon.json\uff0c\u6dfb\u52a0insecure-registries\u5141\u8bb8http\uff1a </p> Bash<pre><code>{ \n    \"registry-mirros\": [\"https://xxxx.mirror.aliyuncs.com\"], \n    \"insecure-registries\": [\"10.22.xxx.xxx:5000\"] \n}\n</code></pre> <p>\u200b       \u7136\u540e\u91cd\u542fdocker\uff1a\uff08\u65b0\u7248\u672c\u7684docker\u4f1a\u7acb\u5373\u751f\u6548\uff09</p> Bash<pre><code># centos6 \u7684\u547d\u4ee4\nchkconfig daemon-reload\nservice docker restart\n\n# centos7/8 \u7684\u547d\u4ee4\nsystemctl daemon-reload\nsystemctl restart docker\n\n\u91cd\u542f\u5bb9\u5668\ndocker run -d -p 5000:5000 -v /app/myregistry/:/tmp/registry --privileged=true registry\n</code></pre> <p>\u6ce8\uff1a\u91cd\u542f\u5bb9\u5668\u540e\uff0c\u5bb9\u5668ID\u4f1a\u53d8\u5316\uff0c\u8fd9\u91cc\u5bb9\u5668id\u53d8\u4e3a4e9aea0a4ee3\u3002</p>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#\u4e09\u63a8\u9001\u5230\u79c1\u4ed3","title":"\u4e09\u3001\u63a8\u9001\u5230\u79c1\u4ed3","text":""},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#1\u6dfb\u52a0\u4e00\u4e2a\u5bf9\u5e94\u79c1\u4ed3\u5730\u5740\u7684tag","title":"1.\u6dfb\u52a0\u4e00\u4e2a\u5bf9\u5e94\u79c1\u4ed3\u5730\u5740\u7684tag","text":""},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#2\u63a8\u9001\u5230\u79c1\u670d\u5e93","title":"2.\u63a8\u9001\u5230\u79c1\u670d\u5e93","text":"Bash<pre><code>docker push 10.22.51.63:5000/jerionubuntu:1.2\n</code></pre>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#3\u518d\u6b21\u9a8c\u8bc1\u79c1\u670d\u5e93","title":"3.\u518d\u6b21\u9a8c\u8bc1\u79c1\u670d\u5e93","text":"Bash<pre><code>curl http://10.22.51.63:5000/v2/_catalog\n</code></pre>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#\u56dbpull\u5230\u672c\u5730\u5e76\u8fd0\u884c","title":"\u56db\u3001pull\u5230\u672c\u5730\u5e76\u8fd0\u884c","text":""},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#1\u590d\u5236\u4e00\u4efd\u5230\u4e3b\u673a","title":"1.\u590d\u5236\u4e00\u4efd\u5230\u4e3b\u673a","text":"<p>\u200b       \u5c0610.22.51.63:5000/jerionubuntu\u590d\u5236\u4e00\u4efd\u5230\u4e3b\u673a\uff08\u53ef\u5ffd\u7565\u6b21\u6b65\u9aa4\uff09</p> Bash<pre><code>docker run -it 92c1dbc89906 /bin/bash   #\u8fd0\u884c\u4e00\u4e2a10.22.51.63:5000/joshubuntu\u865a\u62df\u673a\uff08\u4e0d\u52a0-d\u9000\u51fa\u5373\u505c\u6b62\u8fd0\u884c\uff09\ndocker export 202062990a66 &gt;bak.tar #\u5c06\u865a\u62df\u673a\u6253\u5305\u5230Linux\ndocker rmi -f 92c1dbc89906      #\u5220\u6389\u539f\u6709\u7684images\u955c\u50cf\u5305\n</code></pre>"},{"location":"docker/docker-note/3.2%20Registry%E6%90%AD%E5%BB%BAdocker%E7%A7%81%E4%BB%93/#2pull\u5230\u672c\u5730","title":"2.pull\u5230\u672c\u5730","text":"Bash<pre><code>curl -XGET http://10.22.51.63:5000/v2/_catalog\ndocker pull 10.22.51.63:5000/jerionubuntu:1.2\n</code></pre>"},{"location":"docker/docker-note/3.3%20%E5%B0%86%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/","title":"\u5c06\u955c\u50cf\u63a8\u9001\u5230\u963f\u91cc\u4e91","text":""},{"location":"docker/docker-note/3.3%20%E5%B0%86%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/#\u4e00\u5bb9\u5668\u955c\u50cf\u670d\u52a1","title":"\u4e00\u3001\u5bb9\u5668\u955c\u50cf\u670d\u52a1","text":"<p>\u767b\u5f55\u963f\u91cc\u4e91\uff0c\u641c\u7d22\u5e76\u6253\u5f00\u5bb9\u5668\u955c\u50cf\u670d\u52a1\uff0c\u8fdb\u5165\u4e2a\u4eba\u5b9e\u4f8b\u3002</p> <p></p>"},{"location":"docker/docker-note/3.3%20%E5%B0%86%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/#\u4e8c\u521b\u5efa\u547d\u540d\u7a7a\u95f4","title":"\u4e8c\u3001\u521b\u5efa\u547d\u540d\u7a7a\u95f4","text":"<p>\u4e2a\u4eba\u5b9e\u4f8b\u2014\u547d\u4ee4\u7a7a\u95f4\u2014\u521b\u5efa\u547d\u540d\u7a7a\u95f4\u3002</p> <p></p>"},{"location":"docker/docker-note/3.3%20%E5%B0%86%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/#\u4e09\u521b\u5efa\u955c\u50cf","title":"\u4e09\u3001\u521b\u5efa\u955c\u50cf","text":"<p>\u4e2a\u4eba\u5b9e\u4f8b\u2014\u955c\u50cf\u4ed3\u5e93\u2014\u521b\u5efa\u955c\u50cf\u4ed3\u5e93\u3002</p> <p></p> <p></p>"},{"location":"docker/docker-note/3.3%20%E5%B0%86%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/#\u56db\u4fee\u6539\u51ed\u8bc1\u5bc6\u7801","title":"\u56db\u3001\u4fee\u6539\u51ed\u8bc1\u5bc6\u7801","text":"<p>\u60a8\u53ef\u4ee5\u5728\u8bbf\u95ee\u51ed\u8bc1\u9875\u9762\u4fee\u6539\u51ed\u8bc1\u5bc6\u7801\u3002</p> <p></p>"},{"location":"docker/docker-note/3.3%20%E5%B0%86%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/#\u4e94\u63a8\u9001\u955c\u50cf","title":"\u4e94\u3001\u63a8\u9001\u955c\u50cf","text":""},{"location":"docker/docker-note/3.3%20%E5%B0%86%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/#1\u767b\u5f55\u963f\u91cc\u4e91docker-registry","title":"1.\u767b\u5f55\u963f\u91cc\u4e91Docker Registry","text":"<p>docker login \u2013username=zyx3721 registry.cn-shenzhen.aliyuncs.com</p> <p>#\u7528\u4e8e\u767b\u5f55\u7684\u7528\u6237\u540d\u4e3a\u963f\u91cc\u4e91\u8d26\u53f7\u5168\u540d\uff0c\u5bc6\u7801\u4e3a\u5f00\u901a\u670d\u52a1\u65f6\u8bbe\u7f6e\u7684\u5bc6\u7801\u3002\u60a8\u53ef\u4ee5\u5728\u8bbf\u95ee\u51ed\u8bc1\u9875\u9762\u4fee\u6539\u51ed\u8bc1\u5bc6\u7801\u3002 </p> <p></p>"},{"location":"docker/docker-note/3.3%20%E5%B0%86%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/#2\u5c06\u955c\u50cf\u63a8\u9001\u5230registry","title":"2.\u5c06\u955c\u50cf\u63a8\u9001\u5230Registry","text":"Bash<pre><code>docker tag [ImageId] registry.cn-shenzhen.aliyuncs.com/jerion/ubuntu_vim:[\u955c\u50cf\u7248\u672c\u53f7]\ndocker push registry.cn-shenzhen.aliyuncs.com/jerion/ubuntu_vim:[\u955c\u50cf\u7248\u672c\u53f7]\n</code></pre> <p>\u6ce8\uff1a\u8fd9\u91cc\u5c063.2\u4e2d\u768410.22.51.63:5000/jerionubuntu\u7684\u955c\u50cf\u530592c1dbc89906\u63a8\u9001\u5230\u963f\u91cc\u4e91docker registry\u4e0a\u3002</p> <p></p> <p></p>"},{"location":"docker/docker-note/3.3%20%E5%B0%86%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/#3\u4eceregistry\u4e2d\u62c9\u53d6\u955c\u50cf","title":"3.\u4eceRegistry\u4e2d\u62c9\u53d6\u955c\u50cf","text":"<p>docker pull registry.cn-shenzhen.aliyuncs.com/jerion/ubuntu_vim:[\u955c\u50cf\u7248\u672c\u53f7] </p> Bash<pre><code>docker stop 373a02dc3190        #\u505c\u6b62\u539f\u6709ubuntu\u955c\u50cf\u5305\u7684\u5bb9\u5668id\u540e\u53f0\u8fd0\u884c\ndocker rmi -f 92c1dbc89906        #\u5220\u6389\u539f\u6709\u7684images\u955c\u50cf\u5305\ndocker pull registry.cn-shenzhen.aliyuncs.com/jerion/ubuntu_vim:1.2    #\u91cd\u65b0\u4e0b\u8f7d\n</code></pre> <p></p>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/","title":"\u955c\u50cf\u547d\u4ee4","text":""},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#\u4e00\u5e2e\u52a9\u4e0e\u542f\u52a8\u547d\u4ee4","title":"\u4e00\u3001\u5e2e\u52a9\u4e0e\u542f\u52a8\u547d\u4ee4","text":""},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#1\u542f\u52a8docker\u547d\u4ee4","title":"1.\u542f\u52a8docker\u547d\u4ee4","text":"Bash<pre><code>\u542f\u52a8docker: systemctl start docker\n\u505c\u6b62docker: systemctl stop docker\n\u91cd\u542fdocker: systemctl restart docker\n\u67e5\u770bdocker\u72b6\u6001\uff1asystemctl status docker\n\u5f00\u673a\u542f\u52a8: systemctl enable dqsker\n</code></pre>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#2docker\u5e2e\u52a9\u547d\u4ee4","title":"2.docker\u5e2e\u52a9\u547d\u4ee4","text":"Bash<pre><code>\u67e5\u770bdocker\u6982\u8981\u4fe1\u606f: docker info\n\u67e5\u770bdocker\u603b\u4f53\u5e2e\u52a9\u6587\u6863: docker --help\n\u67e5\u770bdocker\u547d\u4ee4\u5e2e\u52a9\u6587\u6863: docker \u5177\u4f53\u547d\u4ee4 --help\n</code></pre>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#\u4e8c\u955c\u50cf\u547d\u4ee4","title":"\u4e8c\u3001\u955c\u50cf\u547d\u4ee4","text":""},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#1\u5217\u51fa\u672c\u5730\u4e3b\u673a\u4e0a\u7684\u955c\u50cf","title":"1.\u5217\u51fa\u672c\u5730\u4e3b\u673a\u4e0a\u7684\u955c\u50cf","text":"Bash<pre><code>docker images\n\n\u53c2\u6570\uff1a\n    -a\uff1a\u5217\u51fa\u6240\u6709\u955c\u50cf\uff08\u542b\u5386\u53f2\u955c\u50cf\uff09\n    -q\uff1a\u53ea\u663e\u793a\u955c\u50cfID\n    -f\uff1a\u8fc7\u6ee4\n\n\u5404\u4e2a\u9009\u9879\u8bf4\u660e:\n    REPOSITORY: \u8868\u793a\u955c\u50cf\u7684\u4ed3\u5e93\u6e90\n    TAG: \u955c\u50cf\u7684\u6807\u7b7e\u7248\u672c\u53f7\n    IMAGE ID: \u955c\u50cfID\n    CREATED: \u955c\u50cf\u521b\u5efa\u65f6\u95f4\n    SIZE: \u955c\u50cf\u5927\u5c0f\n\n\u540c\u4e00\u4ed3\u5e93\u6e90\u53ef\u4ee5\u6709\u591a\u4e2aTAG\u7248\u672c\uff0c\u4ee3\u8868\u8fd9\u4e2a\u4ed3\u5e93\u6e90\u7684\u4e0d\u540c\u4e2a\u7248\u672c\uff0c\u6211\u4eec\u4f7f\u7528 REPOSITORY:TAG \u6765\u5b9a\u4e49\u4e0d\u540c\u7684\u955c\u50cf\u3002\n\u5982\u679c\u4f60\u4e0d\u6307\u5b9a\u4e00\u4e2a\u955c\u50cf\u7684\u7248\u672c\u6807\u7b7e\uff0c\u4f8b\u5982\u4f60\u53ea\u4f7f\u7528 ubuntu\uff0cdocker \u5c06\u9ed8\u8ba4\u4f7f\u7528ubuntu:latest \u955c\u50cf\n\n\u4e3e\u4f8b\uff1adocker images\n</code></pre>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#2\u5728\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u641c\u7d22\u955c\u50cf","title":"2.\u5728\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u641c\u7d22\u955c\u50cf","text":"Bash<pre><code>docker search \u955c\u50cf\u540d\u79f0\uff08\uff08\u9ed8\u8ba4\u53d6docker hub\u4e2d\u641c\u7d22\uff09\uff09\n\n\u53c2\u6570\uff1a\n    -f\uff1a\u8fc7\u6ee4\n    --limit \u6570\u91cf\uff1a\u53ea\u5c55\u793a\u524d\u51e0\u9879\n\n\u4e3e\u4f8b\uff1adocker search redis --limit 5\n</code></pre>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#3\u955c\u50cf\u540d\u79f0tag","title":"3.\u955c\u50cf\u540d\u79f0[:tag]","text":"Bash<pre><code>\u53c2\u6570\uff1a\n    tag\u4e3a\u6807\u7b7e\u7248\u672c\u53f7\uff08\u9ed8\u8ba4\u4e0b\u8f7d\u6700\u65b0\u7248\uff09\n\n\u4e3e\u4f8b\uff1adocker pull ubuntu\n</code></pre>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#4\u67e5\u770b\u5360\u636e\u7684\u7a7a\u95f4","title":"4.\u67e5\u770b\u5360\u636e\u7684\u7a7a\u95f4","text":"Bash<pre><code>docker system df    #\u67e5\u770b\u955c\u50cf\uff08Images\uff09/\u5bb9\u5668\uff08Containers\uff09/\u6570\u636e\u5377\uff08Local Volumes\uff09\u6240\u5360\u7684\u7a7a\u95f4\n</code></pre>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#5\u5220\u9664\u955c\u50cf","title":"5.\u5220\u9664\u955c\u50cf","text":"Bash<pre><code>docker rmi \u955c\u50cf\u540d\u79f0/ID\ndocker rmi -f hello-world                 #\u5f3a\u5236\u5220\u9664\u955c\u50cf\u5305\ndocker rmi \u955c\u50cf1 \u955c\u50cf2 \u955c\u50cf3               #\u53ef\u4ee5\u4f7f\u7528\u7a7a\u683c\u5206\u9694\uff0c\u5220\u9664\u591a\u4e2a\u955c\u50cf\ndocker rmi -f $(docker images -qa)        #\u5220\u9664\u5168\u90e8\n</code></pre>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#6\u865a\u60ac\u955c\u50cf\u4ed3\u5e93\u540d\u6807\u7b7e\u90fd\u662f\u7a7a\u7684\u955c\u50cf\u4fd7\u79f0\u865a\u60ac\u955c\u50cf","title":"6.\u865a\u60ac\u955c\u50cf\uff08\u4ed3\u5e93\u540d\u3001\u6807\u7b7e\u90fd\u662f\u7a7a\u7684\u955c\u50cf\uff0c\u4fd7\u79f0\u865a\u60ac\u955c\u50cf\uff09","text":"<p>\u200b       \u865a\u60ac\u955c\u50cf(dangling image)\u662f\u6307\u5728 Dockera \u4e2d\u5b58\u5728\u7684\u4e00\u79cd\u955c\u50cf\uff0c\u5b83\u5df2\u7ecf\u88ab\u521b\u5efa\uff0c\u4f46\u662f\u6ca1\u6709\u88ab\u4efb\u4f55\u5bb9\u5668\u6240\u5f15\u7528\u3002\u8fd9\u901a\u5e38\u53d1\u751f\u5728\u5f53\u4f60\u5728\u6784\u5efa\u955c\u50cf\u7684\u8fc7\u7a0b\u4e2d\uff0c\u56e0\u4e3a\u4e00\u4e9b\u539f\u56e0\uff08\u4f8b\u5982\u6784\u5efa\u53d6\u6d88\u6216\u6784\u5efa\u5931\u8d25)\u4f60\u521b\u5efa\u4e86\u4e00\u4e2a\u955c\u50cf\uff0c\u4f46\u662f\u6ca1\u6709\u5c06\u5176\u547d\u540d\u6216\u6807\u8bb0\u3002\u8fd9\u4e9b\u955c\u50cf\u88ab\u79f0\u4e3a\u865a\u60ac\u955c\u50cf\uff0c\u56e0\u4e3a\u5b83\u4eec\u201c\u60ac\u6d6e\u201d\u5728 Docker\u4e2d\uff0c\u6ca1\u6709\u88ab\u4efb\u4f55\u5bb9\u5668\u6240\u4f7f\u7528\uff0c\u800c\u4e14\u4e5f\u4e0d\u4f1a\u88ab Docker \u6e05\u7406\u5de5\u5177\u5220\u9664\u3002</p>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#61-\u6784\u5efa\u4e00\u4e2a\u865a\u60ac\u955c\u50cf","title":"6.1 \u6784\u5efa\u4e00\u4e2a\u865a\u60ac\u955c\u50cf","text":"<p>1.\u7f16\u5199Dockerfile\u6587\u4ef6\uff1a</p> Bash<pre><code>[root@jerion tmp]# cd /tmp\n[root@jerion tmp]# vim Dockerfile\nfrom ubuntu\nCMD echo 'action is success'\n</code></pre> <p>2.\u6784\u5efa\u955c\u50cf\uff1a</p> Bash<pre><code>[root@jerion tmp]# docker build .    #\u5728\u5f53\u524d\u76ee\u5f55\u67e5\u627e\u540d\u4e3aDockerfile\u7684\u6587\u4ef6\uff0c\u5e76\u57fa\u4e8e\u8be5Dockerfile\u6784\u5efa\u955c\u50cf\n</code></pre> <p></p>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#62-\u67e5\u770bdocker\u5bb9\u5668\u4e2d\u5b58\u5728\u7684\u865a\u60ac\u955c\u50cf","title":"6.2 \u67e5\u770bdocker\u5bb9\u5668\u4e2d\u5b58\u5728\u7684\u865a\u60ac\u955c\u50cf","text":"Bash<pre><code>\u67e5\u770b\u6240\u6709\u955c\u50cf\u5305\uff1a\ndocker images\n\n\u67e5\u770b\u6307\u5b9a\u7684\u865a\u60ac\u955c\u50cf\u5305\uff1a\ndocker image ls -l dangling=true\n</code></pre>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#63\u5220\u9664\u865a\u7384\u955c\u50cf","title":"6.3\u5220\u9664\u865a\u7384\u955c\u50cf","text":"Bash<pre><code>\u624b\u52a8\u786e\u8ba4\u5220\u9664\uff1a\ndocker image prune\n\n\u624b\u52a8\u5f3a\u5236\u5220\u9664\uff1a\ndocker image prune -f\n</code></pre>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#7\u4e0b\u8f7d\u955c\u50cf","title":"7.\u4e0b\u8f7d\u955c\u50cf","text":"Bash<pre><code>docker pull \u955c\u50cf\u540d\u79f0\n\u4e3e\u4f8b\uff1a\ndocker pull tomcat\ndocker pull redis\ndocker pull unbuntu\ndocker pull mysql:5.7\n</code></pre>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#71-\u67e5\u770bdocker\u955c\u50cf\u6e90","title":"7.1 \u67e5\u770bdocker\u955c\u50cf\u6e90","text":"Bash<pre><code># \u67e5\u770bdocker\u955c\u50cf\u6e90\ncat /etc/docker/daemon.json\n</code></pre>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#8\u955c\u50cf\u4f20\u8f93","title":"8.\u955c\u50cf\u4f20\u8f93","text":"<p>\u8981\u5c06\u4e00\u4e2aDocker\u955c\u50cf\u4ece\u4e00\u53f0\u670d\u52a1\u5668\u4f20\u8f93\u5230\u53e6\u4e00\u53f0\u670d\u52a1\u5668\uff0c\u4f60\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a</p>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#\u65b9\u6cd5\u4e00\u901a\u8fc7-docker-hub","title":"\u65b9\u6cd5\u4e00\uff1a\u901a\u8fc7 Docker Hub","text":"<ol> <li>\u63a8\u9001\u955c\u50cf\u5230 Docker Hub\uff1a</li> <li>\u5728\u6e90\u670d\u52a1\u5668\u4e0a\u767b\u5f55\u5230 Docker Hub\uff1a<code>docker login</code></li> <li>\u6807\u8bb0\u8981\u4f20\u8f93\u7684\u955c\u50cf\uff1a<code>docker tag IMAGE_ID YOUR_DOCKERHUB_USERNAME/REPOSITORY_NAME:TAG</code></li> <li>\u63a8\u9001\u955c\u50cf\u5230 Docker Hub\uff1a<code>docker push YOUR_DOCKERHUB_USERNAME/REPOSITORY_NAME:TAG</code></li> <li>\u4ece Docker Hub \u62c9\u53d6\u955c\u50cf\uff1a</li> <li>\u5728\u76ee\u6807\u670d\u52a1\u5668\u4e0a\u767b\u5f55\u5230 Docker Hub\uff1a<code>docker login</code></li> <li>\u62c9\u53d6\u955c\u50cf\uff1a<code>docker pull YOUR_DOCKERHUB_USERNAME/REPOSITORY_NAME:TAG</code></li> </ol>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#\u65b9\u6cd5\u4e8c\u901a\u8fc7\u4fdd\u5b58\u548c\u52a0\u8f7d\u955c\u50cf\u6587\u4ef6","title":"\u65b9\u6cd5\u4e8c\uff1a\u901a\u8fc7\u4fdd\u5b58\u548c\u52a0\u8f7d\u955c\u50cf\u6587\u4ef6","text":"<ol> <li>\u5728\u6e90\u670d\u52a1\u5668\u4e0a\u4fdd\u5b58\u955c\u50cf\u4e3a\u6587\u4ef6\uff1a</li> <li>\u4fdd\u5b58\u955c\u50cf\u4e3a tar \u6587\u4ef6\uff1a<code>docker save -o IMAGE_NAME.tar IMAGE_ID</code></li> <li>\u5c06\u4fdd\u5b58\u7684\u955c\u50cf\u6587\u4ef6\u4f20\u8f93\u5230\u76ee\u6807\u670d\u52a1\u5668\uff1a</li> <li>\u4f7f\u7528 scp\u3001rsync \u6216\u5176\u4ed6\u6587\u4ef6\u4f20\u8f93\u5de5\u5177\u5c06 tar \u6587\u4ef6\u4f20\u8f93\u5230\u76ee\u6807\u670d\u52a1\u5668\u4e0a\u3002</li> <li>\u5728\u76ee\u6807\u670d\u52a1\u5668\u4e0a\u52a0\u8f7d\u955c\u50cf\u6587\u4ef6\uff1a</li> <li>\u52a0\u8f7d\u955c\u50cf\u6587\u4ef6\uff1a<code>docker load -i IMAGE_NAME.tar</code></li> <li>\u4f7f\u7528 <code>docker tag</code> \u547d\u4ee4\u4e3a\u52a0\u8f7d\u7684\u955c\u50cf\u6307\u5b9a\u65b0\u7684\u540d\u79f0\u548c\u6807\u7b7e\u3002\u4f8b\u5982\uff1a</li> </ol> Bash<pre><code>#\u52a0\u8f7d\u955c\u50cf\n[root@josh-clound ~]# docker load -i deluan_navidrome.tar \naedc3bda2944: Loading layer [==================================================&gt;]   7.63MB/7.63MB\nb96cafd12891: Loading layer [==================================================&gt;]  142.4MB/142.4MB\n5f70bf18a086: Loading layer [==================================================&gt;]  1.024kB/1.024kB\nadd7684a85dc: Loading layer [==================================================&gt;]  44.42MB/44.42MB\nLoaded image ID: sha256:59f3c0949a3150359677d6a61785a39b4b713fa8a6a761f3f4ddc530ffe13c1f\n\n#\u67e5\u770b\u955c\u50cf\u6587\u4ef6\u540d\u79f0\u4e3a\uff1anone\n[root@josh-clound ~]# docker images\nREPOSITORY                 TAG       IMAGE ID       CREATED        SIZE\n&lt;none&gt;                     &lt;none&gt;    59f3c0949a31   4 weeks ago    193MB\n\n\n#\u6307\u5b9a\u65b0\u7684\u955c\u50cf\u540d\u79f0\u548c\u6807\u7b7edeluan/navidrome:latest\n[root@josh-clound ~]# docker tag 59f3c0949a31 deluan/navidrome:latest\n\n#\u518d\u6b21\u67e5\u770b\n[root@josh-clound ~]# docker images\nREPOSITORY                 TAG       IMAGE ID       CREATED        SIZE\ndeluan/navidrome           latest    59f3c0949a31   4 weeks ago    193MB\n</code></pre>"},{"location":"docker/docker-note/4%20%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4/#\u65b9\u6cd5\u4e09\u4f7f\u7528-docker-\u5bfc\u51fa\u548c\u5bfc\u5165","title":"\u65b9\u6cd5\u4e09\uff1a\u4f7f\u7528 Docker \u5bfc\u51fa\u548c\u5bfc\u5165","text":"<ol> <li>\u5728\u6e90\u670d\u52a1\u5668\u4e0a\u5bfc\u51fa\u955c\u50cf\uff1a</li> <li>\u5bfc\u51fa\u955c\u50cf\u4e3a tar \u6587\u4ef6\uff1a<code>docker export CONTAINER_ID &gt; IMAGE_NAME.tar</code></li> <li>\u5c06\u5bfc\u51fa\u7684\u955c\u50cf\u6587\u4ef6\u4f20\u8f93\u5230\u76ee\u6807\u670d\u52a1\u5668\u3002</li> <li>\u5728\u76ee\u6807\u670d\u52a1\u5668\u4e0a\u5bfc\u5165\u955c\u50cf\uff1a</li> <li>\u5bfc\u5165\u955c\u50cf\uff1a<code>cat IMAGE_NAME.tar | docker import - IMAGE_NAME:TAG</code></li> </ol> <p>\u6ce8\u610f\u4e8b\u9879\uff1a</p> <ul> <li>\u786e\u4fdd\u76ee\u6807\u670d\u52a1\u5668\u4e0a\u6709\u8db3\u591f\u7684\u7a7a\u95f4\u6765\u5b58\u50a8\u4f20\u8f93\u7684\u955c\u50cf\u3002</li> <li>\u5728\u76ee\u6807\u670d\u52a1\u5668\u4e0a\u8fd0\u884c <code>docker images</code> \u786e\u8ba4\u955c\u50cf\u5df2\u6210\u529f\u52a0\u8f7d\u3002</li> </ul> <p>\u9009\u62e9\u9002\u5408\u4f60\u60c5\u51b5\u7684\u65b9\u6cd5\uff0c\u5e76\u6839\u636e\u5177\u4f53\u9700\u6c42\u6267\u884c\u76f8\u5e94\u7684\u6b65\u9aa4\uff0c\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u5c06 Docker \u955c\u50cf\u4ece\u4e00\u53f0\u670d\u52a1\u5668\u4f20\u8f93\u5230\u53e6\u4e00\u53f0\u670d\u52a1\u5668\u3002</p>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/","title":"\u5bb9\u5668\u547d\u4ee4","text":""},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#\u4e00\u5bb9\u5668\u547d\u4ee4","title":"\u4e00\u3001\u5bb9\u5668\u547d\u4ee4","text":""},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#51-\u5bb9\u5668\u547d\u4ee4\u53c2\u6570","title":"5.1 \u5bb9\u5668\u547d\u4ee4\u53c2\u6570","text":"Bash<pre><code>\u542f\u52a8\u5bb9\u5668\u683c\u5f0f\u53c2\u6570\uff1a\ndocker run [OPTIONS] IMAGE [COMMAND] [ARG...]\n    OPTIONS: \u662f\u4e00\u7cfb\u5217\u7684\u9009\u9879\uff0c\u7528\u4e8e\u914d\u7f6e\u5bb9\u5668\u7684\u5404\u79cd\u5c5e\u6027\uff0c\u5982\u6302\u8f7d\u5377\u3001\u7aef\u53e3\u6620\u5c04\u3001\u73af\u5883\u53d8\u91cf\u7b49\u3002\n    IMAGE: \u6307\u5b9a\u8981\u4f7f\u7528\u7684Docker\u955c\u50cf\u3002\n    COMMAND: \u662f\u5bb9\u5668\u542f\u52a8\u65f6\u8981\u6267\u884c\u7684\u547d\u4ee4\u3002\u5982\u679c\u7701\u7565\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528\u955c\u50cf\u4e2d\u5b9a\u4e49\u7684\u9ed8\u8ba4\u547d\u4ee4\u3002\n    ARG: \u662f\u4f20\u9012\u7ed9\u5bb9\u5668\u542f\u52a8\u547d\u4ee4\u7684\u53c2\u6570\u3002\n\n\u5e38\u7528\u7684\u53c2\u6570\uff1a\n    --name\uff1a\u4e3a\u5bb9\u5668\u6307\u5b9a\u4e00\u4e2a\u540d\u79f0\n    --restart\uff1a\u7528\u4e8e\u6307\u5b9a\u5bb9\u5668\u7684\u91cd\u542f\u7b56\u7565\n    -d\uff1a\u540e\u53f0\u8fd0\u884c\u5bb9\u5668\u5e76\u8fd4\u56de\u5bb9\u5668ID\uff0c\u4e5f\u5373\u542f\u52a8\u5b88\u62a4\u5f0f\u5bb9\u5668\n    -i\uff1a\u4ee5\u4ea4\u4e92\u6a21\u5f0f\uff08interactive\uff09\u8fd0\u884c\u5bb9\u5668\uff0c\u901a\u5e38\u4e0e-t\u540c\u65f6\u4f7f\u7528\n    -v: \u5bb9\u5668\u4e2d\u6302\u8f7d\u5377\n    -t\uff1a\u4e3a\u5bb9\u5668\u91cd\u65b0\u5206\u914d\u4e00\u4e2a\u4f2a\u8f93\u5165\u7ec8\u7aef\uff08tty\uff09\uff0c\u901a\u5e38\u4e0e-i\u540c\u65f6\u4f7f\u7528\u3002\n    -e\uff1a\u4e3a\u5bb9\u5668\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\n    -P\uff1a\u968f\u673a\u7aef\u53e3\u6620\u5c04\u3002\u5c06\u5bb9\u5668\u5185\u66b4\u9732\u7684\u6240\u6709\u7aef\u53e3\u6620\u5c04\u5230\u5bbf\u4e3b\u673a\u968f\u673a\u7aef\u53e3\n    -p\uff1a\u6307\u5b9a\u7aef\u53e3\u6620\u5c04\n\n\n-p\u6307\u5b9a\u7aef\u53e3\u6620\u5c04\u7684\u51e0\u79cd\u4e0d\u540c\u5f62\u5f0f\uff1a\n    -p hostPort:containerPort    \uff1a\u7aef\u53e3\u6620\u5c04\uff0c\u4f8b\u5982-p 8080:80\n    -p ip:hostPort:containerPort    \uff1a\u914d\u7f6e\u76d1\u542c\u5730\u5740\uff0c\u4f8b\u5982 -p 10.0.0.1:8080:80\n    -p ip::containerPort        \uff1a\u968f\u673a\u5206\u914d\u7aef\u53e3\uff0c\u4f8b\u5982 -p 10.0.0.1::80\n    -p hostPort1:containerPort1 -p hostPort2:containerPort2        \n    \uff1a\u6307\u5b9a\u591a\u4e2a\u7aef\u53e3\u6620\u5c04\uff0c\u4f8b\u5982-p 8080:80 -p 8888:3306\n</code></pre> <p><code>--restart</code> \u9009\u9879\u53ef\u7528\u7684\u53c2\u6570\uff1a</p> <ul> <li><code>no</code>\uff1a\u9ed8\u8ba4\u503c\u3002\u8868\u793a\u5bb9\u5668\u9000\u51fa\u65f6\u4e0d\u4f1a\u81ea\u52a8\u91cd\u542f\u3002</li> <li><code>always</code>\uff1a\u8868\u793a\u5bb9\u5668\u9000\u51fa\u65f6\u603b\u662f\u81ea\u52a8\u91cd\u542f\u3002</li> <li><code>on-failure[:max-retries]</code>\uff1a\u8868\u793a\u5bb9\u5668\u5728\u975e\u96f6\u9000\u51fa\u4ee3\u7801\u65f6\u81ea\u52a8\u91cd\u542f\u3002\u53ef\u9009\u7684 <code>max-retries</code> \u53c2\u6570\u6307\u5b9a Docker \u91cd\u8bd5\u542f\u52a8\u5bb9\u5668\u7684\u6700\u5927\u6b21\u6570\u3002</li> <li><code>unless-stopped</code>\uff1a\u8868\u793a\u5bb9\u5668\u9000\u51fa\u65f6\u603b\u662f\u81ea\u52a8\u91cd\u542f\uff0c\u9664\u975e\u5bb9\u5668\u88ab\u624b\u52a8\u505c\u6b62\u3002</li> </ul>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#52-\u542f\u52a8\u4ea4\u4e92\u5f0f\u5bb9\u5668","title":"5.2  \u542f\u52a8\u4ea4\u4e92\u5f0f\u5bb9\u5668","text":"Bash<pre><code>docker run -it ubuntu /bin/bash\n\u547d\u4ee4\u53c2\u6570\uff1a\n    -i \u4ea4\u4e92\u6a21\u5f0f\n    -t \u5206\u914d\u4e00\u4e2a\u4f2a\u8f93\u5165\u7ec8\u7aeftty\n    ubuntu \u955c\u50cf\u540d\u79f0\n    /bin/bash\uff08\u6216\u8005bash\uff09 shell\u4ea4\u4e92\u7684\u63a5\u53e3\n\n# ubuntu\u4ea4\u4e92\u6a21\u5f0f\uff0c\u81ea\u5b9a\u4e49\u5bb9\u5668\u540d\u79f0myu01\ndocker run -it --name=myu01 ubuntu bash        \n\n# \u9000\u51fa\u4ea4\u4e92\u6a21\u5f0f\n\u65b9\u6cd51\uff1a\u5728\u4ea4\u4e92shell\u4e2dexit\u5373\u53ef\u9000\u56de\u5bbf\u4e3b\u673a\uff0c\u5bb9\u5668\u505c\u6b62\n\u65b9\u5f0f2\uff1a\u4f7f\u7528\u5feb\u6377\u952ectrl + P + Q\uff0c\u5bb9\u5668\u4ecd\u7136\u5728\u8fd0\u884c\n</code></pre>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#53-\u542f\u52a8\u5b88\u62a4\u5f0f\u5bb9\u5668","title":"5.3 \u542f\u52a8\u5b88\u62a4\u5f0f\u5bb9\u5668","text":"<p>\u200b       \u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0cdocker\u5728\u540e\u53f0\u8fd0\u884c\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7-d\u6307\u5b9a\u5bb9\u5668\u7684\u540e\u53f0\u8fd0\u884c\u6a21\u5f0f\uff1a</p> Bash<pre><code>docker run -d \u5bb9\u5668\u540d\n\u547d\u4ee4\u53c2\u6570\uff1a\n    -d\uff1a\u540e\u53f0\u8fd0\u884c\u5bb9\u5668\u5e76\u8fd4\u56de\u5bb9\u5668ID\uff0c\u4e5f\u5373\u542f\u52a8\u5b88\u62a4\u5f0f\u5bb9\u5668\n\u4e3e\u4f8b\uff1a\ndocker run -d redis    \n</code></pre> <p>\u200b       \u6ce8\u610f\u4e8b\u9879\uff1a\u5982\u679c\u4f7f\u7528<code>docker run -d ubuntu</code>\u5c1d\u8bd5\u542f\u52a8\u5b88\u62a4\u5f0f\u7684ubuntu\uff0c\u4f1a\u53d1\u73b0\u5bb9\u5668\u542f\u52a8\u540e\u5c31\u81ea\u52a8\u9000\u51fa\u4e86\u3002</p> <p>\u200b       \u56e0\u4e3aDocker\u5bb9\u5668\u5982\u679c\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u5c31\u5fc5\u987b\u8981\u6709\u4e00\u4e2a\u524d\u53f0\u8fdb\u7a0b\u3002\u5bb9\u5668\u8fd0\u884c\u7684\u547d\u4ee4\u5982\u679c\u4e0d\u662f\u90a3\u4e9b\u4e00\u76f4\u6302\u8d77\u7684\u547d\u4ee4\uff08\u4f8b\u5982<code>top</code>\u3001<code>tail</code>\uff09\uff0c\u5c31\u4f1a\u81ea\u52a8\u9000\u51fa\u3002</p>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#54-\u5217\u51fa\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668","title":"5.4 \u5217\u51fa\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668","text":"Bash<pre><code>docker ps [OPTIONS]\n    \u5e38\u7528\u53c2\u6570\uff1a\n    -a\uff1a\u5217\u51fa\u5f53\u524d\u6240\u6709\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668+\u5386\u53f2\u4e0a\u8fd0\u884c\u8fc7\u7684\u5bb9\u5668\n    -l\uff1a\u663e\u793a\u6700\u8fd1\u521b\u5efa\u7684\u5bb9\u5668\n    -n\uff1a\u663e\u793a\u6700\u8fd1n\u4e2a\u521b\u5efa\u7684\u5bb9\u5668\n    -q\uff1a\u9759\u9ed8\u6a21\u5f0f\uff0c\u53ea\u663e\u793a\u5bb9\u5668\u7f16\u53f7\n\u4e3e\u4f8b\uff1a\ndocker ps -n 3     #\u67e5\u770b\u6700\u8fd13\u4e2a\u521b\u5efa\u7684\u5bb9\u5668\n</code></pre>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#55-\u65e5\u5fd7-\u8fd0\u884c\u8fdb\u7a0b-\u5185\u90e8\u7ec6\u8282","title":"5.5 \u65e5\u5fd7-\u8fd0\u884c\u8fdb\u7a0b-\u5185\u90e8\u7ec6\u8282","text":"Bash<pre><code>docker logs \u5bb9\u5668ID\u6216\u5bb9\u5668\u540d      #\u67e5\u770b\u5bb9\u5668\u65e5\u5fd7\ndocker top \u5bb9\u5668ID\u6216\u5bb9\u5668\u540d       #\u67e5\u770b\u5bb9\u5668\u5185\u8fd0\u884c\u7684\u8fdb\u7a0b\ndocker inspect \u5bb9\u5668ID\u6216\u5bb9\u5668\u540d   #\u67e5\u770b\u5bb9\u5668\u5185\u90e8\u7ec6\u8282\n</code></pre>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#56-\u542f\u52a8\u505c\u6b62\u91cd\u542f\u5bb9\u5668","title":"5.6 \u542f\u52a8\u505c\u6b62\u91cd\u542f\u5bb9\u5668","text":"Bash<pre><code>docker start       \u5bb9\u5668ID\u6216\u5bb9\u5668\u540d          #\u542f\u52a8\u5df2\u7ecf\u505c\u6b62\u7684\u5bb9\u5668\ndocker restart     \u5bb9\u5668ID\u6216\u5bb9\u5668\u540d          #\u91cd\u542f\u5bb9\u5668\ndocker stop        \u5bb9\u5668ID\u6216\u5bb9\u5668\u540d          #\u505c\u6b62\u5bb9\u5668\ndocker kill        \u5bb9\u5668ID\u6216\u5bb9\u5668\u540d          #\u5f3a\u5236\u505c\u6b62\u5bb9\u5668\n</code></pre>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#57-\u5220\u9664\u5bb9\u5668","title":"5.7 \u5220\u9664\u5bb9\u5668","text":"Bash<pre><code>docker rm \u5bb9\u5668ID\u6216\u5bb9\u5668\u540d       #\u5220\u9664\u5bb9\u5668\uff08\u5220\u9664\u5bb9\u5668\u662fdocker rm\uff0c\u5220\u9664\u955c\u50cf\u662fdocker rmi\uff0c\u6ce8\u610f\u533a\u5206\uff09\ndocker rm -f \u5bb9\u5668ID\u6216\u5bb9\u5668\u540d    #\u5f3a\u5236\u5220\u9664\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\n\n\u4e00\u6b21\u5220\u9664\u591a\u4e2a\u5bb9\u5668\u5b9e\u4f8b\uff1a\ndocker rm -f ${docker ps -a -q}\n# \u6216\u8005\ndocker ps -a -q | xargs docker rm\n</code></pre>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#58-\u8fdb\u5165\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668","title":"5.8 \u8fdb\u5165\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668","text":"Bash<pre><code>docker exec -it \u5bb9\u5668ID /bin/bash     #\u8fdb\u5165\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668(\u8fdb\u5165\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\uff0c\u5e76\u4ee5\u547d\u4ee4\u884c\u4ea4\u4e92\uff1a)\ndocker attach \u5bb9\u5668ID                 #\u91cd\u65b0\u8fdb\u5165\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668(exit\u9000\u51fa\u4f1a\u5bfc\u81f4\u5bb9\u5668\u505c\u6b62)\n</code></pre> <p>docker exec \u548c docker attach \u533a\u522b\uff1a</p> <p>attach\u76f4\u63a5\u8fdb\u5165\u5bb9\u5668\u542f\u52a8\u547d\u4ee4\u7684\u7ec8\u7aef\uff0c\u4e0d\u4f1a\u542f\u52a8\u65b0\u7684\u8fdb\u7a0b\uff0c\u7528exit\u9000\u51fa\u4f1a\u5bfc\u81f4\u5bb9\u5668\u7684\u505c\u6b62</p> <p>exec\u662f\u5728\u5bb9\u5668\u4e2d\u6253\u5f00\u65b0\u7684\u7ec8\u7aef\uff0c\u5e76\u4e14\u53ef\u4ee5\u542f\u52a8\u65b0\u7684\u8fdb\u7a0b\uff0c\u7528exit\u9000\u51fa\u4e0d\u4f1a\u5bfc\u81f4\u5bb9\u5668\u7684\u505c\u6b62</p> <p>\u5982\u679c\u6709\u591a\u4e2a\u7ec8\u7aef\uff0c\u90fd\u5bf9\u540c\u4e00\u4e2a\u5bb9\u5668\u6267\u884c\u4e86 docker attach\uff0c\u5c31\u4f1a\u51fa\u73b0\u7c7b\u4f3c\u6295\u5c4f\u663e\u793a\u7684\u6548\u679c\u3002\u4e00\u4e2a\u7ec8\u7aef\u4e2d\u8f93\u5165\u8f93\u51fa\u7684\u5185\u5bb9\uff0c\u5728\u5176\u4ed6\u7ec8\u7aef\u4e0a\u4e5f\u4f1a\u540c\u6b65\u7684\u663e\u793a\u3002</p> <p>\u4e3e\u4f8b\uff1a</p> <p>docker exec -it e36c0f50ec13 bash</p>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#59-\u5bb9\u5668\u548c\u5bbf\u4e3b\u673a\u6587\u4ef6\u62f7\u8d1d","title":"5.9 \u5bb9\u5668\u548c\u5bbf\u4e3b\u673a\u6587\u4ef6\u62f7\u8d1d","text":"Bash<pre><code>docker cp \u5bb9\u5668ID:\u5bb9\u5668\u5185\u8def\u5f84 \u76ee\u7684\u4e3b\u673a\u8def\u5f84    #\u5bb9\u5668\u5185\u6587\u4ef6\u62f7\u8d1d\u5230\u5bbf\u4e3b\u673a\ndocker cp \u4e3b\u673a\u8def\u5f84 \u5bb9\u5668ID:\u5bb9\u5668\u5185\u8def\u5f84       #\u5bbf\u4e3b\u673a\u6587\u4ef6\u62f7\u8d1d\u5230\u5bb9\u5668\u4e2d\n\n\u4e3e\u4f8b\uff1a\ndocker cp 79443d0c6126:/tmp/josh.txt /tmp\ndocker cp /tmp/askage.sh 79443d0c6126:/tmp\n</code></pre>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#510-\u5bfc\u5165\u548c\u5bfc\u51fa\u5bb9\u5668","title":"5.10 \u5bfc\u5165\u548c\u5bfc\u51fa\u5bb9\u5668","text":"<p>export\uff1a\u5bfc\u51fa\u5bb9\u5668\u7684\u5185\u5bb9\u6d41\u4f5c\u4e3a\u4e00\u4e2atar\u5f52\u6863\u6587\u4ef6\uff08\u5bf9\u5e94import\u547d\u4ee4\uff09\uff1b</p> <p>import\uff1a\u4ecetar\u5305\u4e2d\u7684\u5185\u5bb9\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\u7cfb\u7edf\u518d\u5bfc\u5165\u4e3a\u955c\u50cf\uff08\u5bf9\u5e94export\u547d\u4ee4\uff09</p> Bash<pre><code># \u5bfc\u51fa\n# docker export \u5bb9\u5668ID &gt; tar\u6587\u4ef6\u540d\ndocker export 202062990a66 &gt;bak.tar        #\u4f1a\u5bfc\u51fa\u5230linux\u670d\u52a1\u5668\u4f60\u6240\u5728\u7684\u76ee\u5f55\u4e0b\n\n# \u5bfc\u5165\n# cat tar\u6587\u4ef6 | docker import - \u81ea\u5b9a\u4e49\u955c\u50cf\u7528\u6237/\u81ea\u5b9a\u4e49\u955c\u50cf\u540d:\u81ea\u5b9a\u4e49\u955c\u50cf\u7248\u672c\u53f7\n\u4e3e\u4f8b\uff1a\ncat bak.tar | docker import - test/ubuntu_my:1.1        #\u5bfc\u5165\u540e\u7528docker images\u786e\u8ba4 \n</code></pre> <p></p> <p>docker run -it 9133655d6ea8 bash      #\u91cd\u542f\u5bfc\u5165\u7684test/ybuntu_my\u7cfb\u7edf</p>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#511-\u63d0\u4ea4\u5bb9\u5668\u526f\u672c\u4f7f\u4e4b\u6210\u4e3a\u4e00\u4e2a\u65b0\u7684\u955c\u50cf","title":"5.11 \u63d0\u4ea4\u5bb9\u5668\u526f\u672c\u4f7f\u4e4b\u6210\u4e3a\u4e00\u4e2a\u65b0\u7684\u955c\u50cf","text":"Bash<pre><code>docker commit -m=\"\u63d0\u4ea4\u7684\u63cf\u8ff0\u4fe1\u606f\u201d -a=\"\u4f5c\u8005\u201d \u5bb9\u5668ID \u8981\u521b\u5efa\u7684\u76ee\u6807\u955c\u50cf\u540d:[\u6807\u7b7e\u540d]\n\u4e3e\u4f8b\uff1a\ndocker commit -m=\"ifconfig cmd add\" -a=\"jerion\" ff61b666e6a4 jerionubuntu:1.2\n</code></pre> <p>\u6848\u4f8b\u6f14\u793aubuntu\u5b89\u88c5vim</p> <p>\u4eceHub\u4e0a\u4e0b\u8f7dubuntu\u955c\u50cf\u5230\u672c\u5730\u5e76\u6210\u529f</p> <p>\u8fd0\u884c\u539f\u59cb\u7684\u9ed8\u8ba4ubuntu\u955c\u50cf\u662f\u4e0d\u5e26\u7740vim\u547d\u4ee4\u7684 </p> <p>\u5916\u7f51\u8fde\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5b89\u88c5vim</p> <p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0ccommit\u6211\u4eec\u81ea\u5df1\u7684\u65b0\u955c\u50cf</p> <p>\u542f\u52a8\u65b0\u955c\u50cf\u548c\u539f\u6765\u7684\u955c\u50cf\u5bf9\u6bd4</p>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#\u4e8c\u5bb9\u5668\u6570\u636e\u5377","title":"\u4e8c\u3001\u5bb9\u5668\u6570\u636e\u5377","text":""},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#1\u5bb9\u5668\u6570\u636e\u5377\u7684\u6982\u5ff5","title":"1.\u5bb9\u5668\u6570\u636e\u5377\u7684\u6982\u5ff5","text":"<p>\u5377\u5c31\u662f\u76ee\u5f55\u6216\u6587\u4ef6\uff0c\u5b58\u5728\u4e8e\u4e00\u4e2a\u6216\u591a\u4e2a\u5bb9\u5668\u4e2d\uff0c\u7531docker\u6302\u8f7d\u5230\u5bb9\u5668\uff0c\u4f46\u4e0d\u5c5e\u4e8e\u8054\u5408\u6587\u4ef6\u7cfb\u7edf\uff0c\u56e0\u6b64\u80fd\u591f\u7ed5\u8fc7UnionFS\uff0c\u63d0\u4f9b\u4e00\u4e9b\u7528\u4e8e\u6301\u7eed\u5b58\u50a8\u6216\u5171\u4eab\u6570\u636e\u3002</p> <p>\u7279\u6027\uff1a\u5377\u8bbe\u8ba1\u7684\u76ee\u7684\u5c31\u662f\u6570\u636e\u7684\u6301\u4e45\u5316\uff0c\u5b8c\u5168\u72ec\u7acb\u4e8e\u5bb9\u5668\u7684\u751f\u5b58\u5468\u671f\uff0c\u56e0\u6b64Docker\u4e0d\u4f1a\u5728\u5bb9\u5668\u5220\u9664\u65f6\u5220\u9664\u5176\u6302\u8f7d\u7684\u6570\u636e\u5377\u3002</p> <p>\u7279\u70b9\uff1a</p> <ul> <li> <p>\u6570\u636e\u5377\u53ef\u4ee5\u5728\u5bb9\u5668\u4e4b\u95f4\u5171\u4eab\u6216\u91cd\u7528\u6570\u636e</p> </li> <li> <p>\u5377\u4e2d\u7684\u66f4\u6539\u53ef\u4ee5\u76f4\u63a5\u5b9e\u65bd\u751f\u6548</p> </li> <li> <p>\u6570\u636e\u5377\u4e2d\u7684\u66f4\u6539\u4e0d\u4f1a\u5305\u542b\u5728\u955c\u50cf\u7684\u66f4\u65b0\u4e2d</p> </li> <li> <p>\u6570\u636e\u5377\u7684\u751f\u547d\u5468\u671f\u4e00\u76f4\u6301\u7eed\u5230\u6ca1\u6709\u5bb9\u5668\u4f7f\u7528\u5b83\u4e3a\u6b62</p> </li> </ul> <p>docker run -v &lt;\u5bbf\u4e3b\u673a\u8def\u5f84&gt;:&lt;\u5bb9\u5668\u8def\u5f84&gt; &lt;\u5176\u4ed6\u9009\u9879&gt; &lt;\u955c\u50cf&gt;</p> <p>\u5728 Docker Compose\u6587\u4ef6\u4e2d\uff0c<code>volumes</code> \u90e8\u5206\u7528\u4e8e\u5b9a\u4e49\u5bb9\u5668\u4e2d\u7684\u6570\u636e\u5377\u3002\u5728\u4f60\u63d0\u4f9b\u7684\u4e24\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5b83\u4eec\u7684\u4f5c\u7528\u662f\u76f8\u540c\u7684\uff0c\u90fd\u662f\u7528\u6765\u5b9a\u4e49\u6570\u636e\u5377\u7684\u6302\u8f7d\u65b9\u5f0f\u3002</p> <ul> <li>\u539f\u59cb\u7684\u5b9a\u4e49\u65b9\u5f0f\uff1a</li> </ul> Bash<pre><code>volumes:\n  - type: bind\n    source: \"/data/NginxWebUI\"\n    target: \"/home/nginxWebUI\"\n</code></pre> <ul> <li>\u7b80\u5316\u540e\u7684\u5b9a\u4e49\u65b9\u5f0f\uff1a</li> </ul> Bash<pre><code>volumes:\n  - /data/NginxWebUI:/home/nginxWebUI\n</code></pre> <p>\u8fd9\u4e24\u79cd\u65b9\u5f0f\u7684\u4f5c\u7528\u662f\u4e00\u6837\u7684\uff0c\u90fd\u662f\u5c06\u4e3b\u673a\u4e0a\u7684<code>/data/NginxWebUI</code>\u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u4e2d\u7684<code>/home/nginxWebUI</code>\u76ee\u5f55\u3002\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u662f\u4e00\u79cd\u66f4\u4e3a\u7b80\u6d01\u7684\u5199\u6cd5\uff0c\u5b83\u7701\u7565\u4e86<code>type: bind</code>\u3001<code>source</code> \u548c <code>target</code> \u8fd9\u4e9b\u5c5e\u6027\uff0c\u56e0\u4e3a\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cDocker \u4f1a\u9ed8\u8ba4\u5c06\u8fd9\u4e2a\u6302\u8f7d\u89c6\u4e3a\u7ed1\u5b9a\u7c7b\u578b\u7684\u6302\u8f7d\u3002</p> <p>\u56e0\u6b64\uff0c\u8fd9\u4e24\u79cd\u65b9\u5f0f\u5728\u529f\u80fd\u4e0a\u662f\u7b49\u6548\u7684\u3002</p>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#2\u8fd0\u884c\u4e00\u4e2a\u5e26\u6709\u5bb9\u5668\u5377\u5b58\u50a8\u529f\u80fd\u7684\u5bb9\u5668\u5b9e\u4f8b","title":"2.\u8fd0\u884c\u4e00\u4e2a\u5e26\u6709\u5bb9\u5668\u5377\u5b58\u50a8\u529f\u80fd\u7684\u5bb9\u5668\u5b9e\u4f8b","text":"Bash<pre><code>docker run -it --privileged=true -v \u5bbf\u4e3b\u673a\u7edd\u5bf9\u8def\u5f84\u76ee\u5f55:\u5bb9\u5668\u5185\u76ee\u5f55[rw | ro] \u955c\u50cf\u540d\n</code></pre>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#3\u67e5\u770b\u5bb9\u5668\u7ed1\u5b9a\u7684\u6570\u636e\u5377\u53ef\u4ee5\u4f7f\u7528docker-inspect","title":"3.\u67e5\u770b\u5bb9\u5668\u7ed1\u5b9a\u7684\u6570\u636e\u5377\u53ef\u4ee5\u4f7f\u7528docker inspect","text":"<p>\u6743\u9650\uff1a</p> <p>rw\uff1a\u8bfb\u5199  </p> <p>ro\uff1a\u53ea\u8bfb\u3002\u5982\u679c\u5bbf\u4e3b\u673a\u5199\u5165\u5185\u5bb9\uff0c\u53ef\u4ee5\u540c\u6b65\u7ed9\u5bb9\u5668\u5185\uff0c\u5bb9\u5668\u5185\u53ef\u4ee5\u8bfb\u53d6\u3002 </p>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#4\u5bb9\u5668\u5377\u7684\u7ee7\u627f","title":"4.\u5bb9\u5668\u5377\u7684\u7ee7\u627f","text":"Bash<pre><code># \u542f\u52a8\u4e00\u4e2a\u5bb9\u5668\ndocker run -it --privileged=true /tmp/test:/tmp/docker --name u1 ubuntu /bin/bash\n\n# \u4f7f\u7528--volumes-from\u7ee7\u627fu1\u7684\u5bb9\u5668\u5377\u6620\u5c04\u914d\u7f6e\ndocker run -it --privileged=true --volumes-from u1 --name u2 ubuntu\n</code></pre>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#5\u4f8b1\u4e3b\u673a\u4e0e\u5bb9\u5668\u53cc\u5411\u4e92\u5199\u6587\u4ef6","title":"5.\u4f8b1\uff1a\u4e3b\u673a\u4e0e\u5bb9\u5668\u53cc\u5411\u4e92\u5199\u6587\u4ef6","text":"Bash<pre><code>docker run -it --privileged=true -v /tmp/host_data:/tmp/docker_data --name=u1 ubuntu\ntouch /tmp/docker_data/aaa.txt\n</code></pre> Bash<pre><code>ll /tmp/host_data/        #\u5bbf\u4e3b\u673a\u67e5\u770b\u540c\u6b65\u60c5\u51b5\n</code></pre>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#6\u4f8b2\u5bb9\u5668\u53ea\u8bfb\u4e3b\u673a\u5199\u5165","title":"6.\u4f8b2\uff1a\u5bb9\u5668\u53ea\u8bfb\uff0c\u4e3b\u673a\u5199\u5165","text":"Bash<pre><code>docker run -it --privileged=true -v /tmp/mydocker/u:/tmp/u:ro --name u2 ubuntu\n</code></pre>"},{"location":"docker/docker-note/5%20%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4/#\u4e09\u6240\u6709\u547d\u4ee4\u793a\u610f\u56fe","title":"\u4e09\u3001\u6240\u6709\u547d\u4ee4\u793a\u610f\u56fe","text":""},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/","title":"\u90e8\u7f72MySQL","text":""},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#\u4e00\u5b89\u88c5mysql-57","title":"\u4e00\u3001\u5b89\u88c5Mysql 5.7","text":"Bash<pre><code>docker pull mysql:5.7        #\u5b89\u88c5\u5bb9\u5668\ndocker images mysql:5.7      #\u786e\u8ba4\u5305\n</code></pre> <p>\u8981\u67e5\u770b Docker Hub \u4e0a\u53ef\u7528\u7684 MySQL \u7248\u672c\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>#\u6ca1\u6709\u6307\u5b9a\u5177\u4f53\u7684\u6807\u7b7e\u65f6\uff0c\u4f1a\u9ed8\u8ba4\u62c9\u53d6mysql:latest\u6807\u7b7e\uff0c\u4ee3\u8868\u6700\u65b0\u7248\u672c\u7684MySQL\u955c\u50cf\ndocker run -it --rm mysql mysql --version\n\n#\u5982\u679c\u60f3\u67e5\u770b\u5176\u4ed6\u7279\u5b9a\u7248\u672c\u7684MySQL\uff0c\u9700\u8981\u660e\u786e\u6307\u5b9a\u8be5\u7248\u672c\u7684\u6807\u7b7e\uff0c\u5982mysql:5.7\u3001mysql:8.0\u7b49\ndocker run -it --rm mysql\uff1a5.7 mysql --version\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#\u4e8c\u7b80\u5355\u7248\u672c","title":"\u4e8c\u3001\u7b80\u5355\u7248\u672c","text":""},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#1\u542f\u52a8mysql\u5bb9\u5668","title":"1.\u542f\u52a8Mysql\u5bb9\u5668","text":"Bash<pre><code>\u9700\u8981\u4f7f\u7528 -e \u914d\u7f6e\u73af\u5883\u53d8\u91cf MYSQL_ROOT_PASSWORD\uff08mysql root\u7528\u6237\u7684\u5bc6\u7801\uff09\uff0c\u5982\u679clinux\u672c\u8eab\u6709mysql\uff0c\u52193306\u4f1a\u88ab\u5360\u7528\ndocker run -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.7\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#2\u8fde\u63a5mysql","title":"2.\u8fde\u63a5mysql","text":"Bash<pre><code>docker exec -it 71bfb1ce8010 /bin/bash         #\u8fde\u63a5\u5bb9\u5668\nmysql -uroot -p                                #\u8fde\u63a5\u6570\u636e\u5e93\n</code></pre> Bash<pre><code>\u5982\u8fde\u63a5\u65f6\uff0c\u4f7f\u7528mysql -uroot -p \u62a5\u9519'/var/run/mysqld/mysqld.sock'\uff0c\n\u4f7f\u7528mysql -u root -h 127.0.0.1 -p\u5373\u53ef\u3002\nmysql -u root -h 127.0.0.1 -p\n\n\uff08\u9047\u5230\u4e00\u6b21\u62a5\u9519\uff0c\u76f4\u63a5\u56de\u8f66\u5373\u53ef\u767b\u5f55\uff0c\u6ca1\u6709\u5bc6\u7801\uff09\n\n\u5c06 MYSQL_HOST \u4ece localhost \u6539\u4e3a 127.0.0.1 \u5373\u53ef\n\u4f7f\u7528 localhost \u65f6\uff0cmysql \u5ba2\u6237\u7aef\u5e76\u4e0d\u662f\u8bbf\u95ee localhost:3306\uff0c\u800c\u662f\u76f4\u63a5\u8bbf\u95ee /var/run/mysqld/mysqld.sock\u3002\n\u5982\u679c\u662f\u5728\u672c\u5730\u90e8\u7f72 MySQL\uff0c\u8fd9\u6837\u5f53\u7136\u6ca1\u6709\u95ee\u9898\uff1b\u4f46\u662f\u5982\u679c\u4f7f\u7528 Docker \u90e8\u7f72 MySQL\uff0c\n/var/run/mysqld/mysqld.sock \u6839\u672c\u4e0d\u5b58\u5728\uff0c\u5fc5\u987b\u901a\u8fc7 127.0.0.1:3306 \u8fdb\u884c\u8bbf\u95ee\u3002\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#3\u6570\u636e\u5e93\u64cd\u4f5c","title":"3.\u6570\u636e\u5e93\u64cd\u4f5c","text":"Bash<pre><code>-- \u521b\u5efadb01\u6570\u636e\u5e93\ncreate database db01;\n-- \u5207\u6362\u5230db01;\nuse db01;\n-- \u521b\u5efa\u8868\ncreate table t1(id int, name varchar(20));\n\n-- \u63d2\u5165\u82f1\u6587\u53ef\u4ee5\u6b63\u5e38\u63d2\u5165\ninsert into t1 values(1, 'abc');\n\n-- \u63d2\u5165\u4e2d\u6587\u62a5\u9519\ninsert into t1 values(3, '\u5f20\u4e09');\n\n\u8fd9\u662f\u56e0\u4e3adocker\u9ed8\u8ba4\u7684\u5b57\u7b26\u96c6\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u5728mysql\u4e2d\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u6570\u636e\u5e93\u5b57\u7b26\u96c6\uff1a\nshow variables like 'character%';\n\n\u8fd4\u56de\u7684\u5b57\u7b26\u96c6\u4e2d\uff0ccharacter_set_database\u3001character_set_server\u7b49\u90fd\u4e3alatin1\u5b57\u7b26\u96c6\uff0c\u6240\u4ee5\u4f1a\u62a5\u9519\u3002\n\u800c\u4e14\u56e0\u4e3a\u542f\u52a8\u5bb9\u5668\u65f6\u6ca1\u6709\u914d\u7f6e\u5bb9\u5668\u5377\u6620\u5c04\uff0c\u5f53\u5bb9\u5668\u610f\u5916\u88ab\u5220\u65f6\uff0c\u6570\u636e\u65e0\u6cd5\u627e\u56de\u3002\n</code></pre> <p>navicat\u5de5\u5177</p> <p></p>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#\u4e09\u5b9e\u6218\u7248","title":"\u4e09\u3001\u5b9e\u6218\u7248","text":""},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#1\u542f\u52a8-mysql-\u5bb9\u5668\u5e76\u914d\u7f6e\u5bb9\u5668\u5377\u6620\u5c04","title":"1.\u542f\u52a8 Mysql \u5bb9\u5668\uff0c\u5e76\u914d\u7f6e\u5bb9\u5668\u5377\u6620\u5c04","text":"Bash<pre><code>docker run -d -p 3306:3306 \\\n           --privileged=true \\\n           -v /data/mysql/log:/var/log/mysql \\\n           -v /data/mysql/data:/var/lib/mysql \\\n           -v /data/mysql/conf:/etc/mysql/conf.d \\\n           -e MYSQL_ROOT_PASSWORD=jerion \\\n           --name mysql \\\n           mysql:5.7\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#2\u5728datamysqlconf\u4e0b\u65b0\u5efamycnf\u901a\u8fc7\u5bb9\u5668\u5377\u540c\u6b65\u7ed9mysql\u5b9e\u4f8b\u89e3\u51b3\u4e2d\u6587\u4e71\u7801\u95ee\u9898","title":"2.\u5728/data/mysql/conf\u4e0b\u65b0\u5efamy.cnf\uff0c\u901a\u8fc7\u5bb9\u5668\u5377\u540c\u6b65\u7ed9mysql\u5b9e\u4f8b\uff0c\u89e3\u51b3\u4e2d\u6587\u4e71\u7801\u95ee\u9898","text":"Bash<pre><code>cd /data/mysql/conf/\nvim my.cnf\n\n[client]\ndefault_character_set=utf8\n[mysqld]\ncollation_server = utf8_general_ci\ncharacter_set_server = utf8\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#3\u91cd\u542fmysql\u5bb9\u5668\u4f7f\u5f97\u5bb9\u5668\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6","title":"3.\u91cd\u542fmysql\u5bb9\u5668\uff0c\u4f7f\u5f97\u5bb9\u5668\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6","text":"Bash<pre><code>docker restart mysql\n</code></pre> <p>\u200b       \u6b64\u65f6\u4fbf\u89e3\u51b3\u4e86\u4e2d\u6587\u4e71\u7801\uff08\u4e2d\u6587\u63d2\u5165\u62a5\u9519\uff09\u95ee\u9898\u3002</p> <p>centos8\u8fdb\u5165mysql\u5bb9\u5668\u540e\u8f93\u5165\u4e2d\u6587\u53ef\u80fd\u4f1a\u4e0d\u663e\u793a\uff0c\u5728\u542f\u52a8mysql\u5bb9\u5668\u65f6\uff0c\u53ef\u6dfb\u52a0<code>env LANG='C.UTF-8'</code>\u540e\u6709\u6548\uff0c\u4e0d\u8fc7\u53ea\u9650\u5236\u8fdb\u5165\u7684\u8fd9\u4e00\u6b21\uff0c\u6bcf\u6b21\u542f\u52a8\u9700\u8981\u624b\u52a8\u6dfb\u52a0\u6539\u53c2\u6570\u3002</p> <p>\u200b       \u800c\u4e14\u56e0\u4e3a\u542f\u52a8\u65f6\u5c06\u5bb9\u5668\u505a\u4e86\u5bb9\u5668\u5377\u6620\u5c04\uff0c\u5c06mysql\u7684\u914d\u7f6e\uff08\u6620\u5c04\u5230/app/mysql/conf\uff09\u3001\u6570\u636e\uff08\u6620\u5c04\u5230/app/mysql/data\uff09\u3001\u65e5\u5fd7\uff08\u6620\u5c04\u5230/app/mysql/log\uff09\u90fd\u6620\u5c04\u5230\u4e86\u5bbf\u4e3b\u673a\u5b9e\u9645\u76ee\u5f55\uff0c\u6240\u4ee5\u5373\u4f7f\u5220\u9664\u4e86\u5bb9\u5668\uff0c\u4e5f\u4e0d\u4f1a\u4ea7\u751f\u592a\u5927\u5f71\u54cd\u3002\u53ea\u9700\u8981\u518d\u6267\u884c\u4e00\u4e0b\u542f\u52a8Mysql\u5bb9\u5668\u547d\u4ee4\uff0c\u5bb9\u5668\u5377\u8fd8\u6309\u76f8\u540c\u7684\u4f4d\u7f6e\u8fdb\u884c\u6620\u5c04\uff0c\u6240\u6709\u7684\u6570\u636e\u4fbf\u90fd\u53ef\u4ee5\u6b63\u5e38\u6062\u590d\u3002</p>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#\u56dbmysql\u4e3b\u4ece\u590d\u5236\u5b89\u88c5","title":"\u56db\u3001Mysql\u4e3b\u4ece\u590d\u5236\u5b89\u88c5","text":""},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#1\u5b89\u88c5\u4e3b\u670d\u52a1\u5668\u5bb9\u5668\u5b9e\u4f8b\u7aef\u53e3\u53f73307","title":"1.\u5b89\u88c5\u4e3b\u670d\u52a1\u5668\u5bb9\u5668\u5b9e\u4f8b\uff08\u7aef\u53e3\u53f73307\uff09","text":""},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#11-\u542f\u52a8\u5bb9\u5668\u5b9e\u4f8b","title":"1.1 \u542f\u52a8\u5bb9\u5668\u5b9e\u4f8b","text":"Bash<pre><code>docker run -p 3307:3306 \\\n           --name mysql-master \\\n           --privileged=true \\\n           -v /mydata/mysql-master/log:/var/log/mysql \\\n           -v /mydata/mysql-master/data:/var/lib/mysql \\\n           -v /mydata/mysql-master/conf:/etc/mysql \\\n           -e MYSQL_ROOT_PASSWORD=123456 \\\n           -d mysql:5.7\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#12-\u8fdb\u5165mydatamysql-masterconf\u65b0\u5efamycnf\u914d\u7f6e\u6587\u4ef6","title":"1.2 \u8fdb\u5165/mydata/mysql-master/conf\uff0c\u65b0\u5efamy.cnf\u914d\u7f6e\u6587\u4ef6","text":"<p>vim /mydata/mysql-master/conf/my.cnf    </p> Bash<pre><code>[mysqld]\n## \u8bbe\u7f6eserver_id, \u540c\u4e00\u4e2a\u5c40\u57df\u7f51\u4e2d\u9700\u8981\u552f\u4e00\nserver_id=101\n## \u6307\u5b9a\u4e0d\u9700\u8981\u540c\u6b65\u7684\u6570\u636e\u5e93\u540d\u79f0\nbinlog-ignore-db=mysql\n## \u5f00\u542f\u4e8c\u8fdb\u5236\u65e5\u5fd7\u529f\u80fd\nlog-bin=mall-mysql-bin\n## \u8bbe\u7f6e\u4e8c\u8fdb\u5236\u65e5\u5fd7\u4f7f\u7528\u5185\u5b58\u5927\u5c0f\uff08\u4e8b\u52a1\uff09\nbinlog_cache_size=1M\n## \u8bbe\u7f6e\u4f7f\u7528\u7684\u4e8c\u8fdb\u5236\u65e5\u5fd7\u683c\u5f0f\uff08mixed,statement,row\uff09\nbinlog_format=mixed\n## \u4e8c\u8fdb\u5236\u65e5\u5fd7\u8fc7\u671f\u6e05\u7406\u65f6\u95f4\u3002\u9ed8\u8ba4\u503c\u4e3a0\uff0c\u8868\u793a\u4e0d\u81ea\u52a8\u6e05\u7406\nexpire_logs_days=7\n## \u8df3\u8fc7\u4e3b\u4ece\u590d\u5236\u4e2d\u9047\u5230\u7684\u6240\u6709\u9519\u8bef\u6216\u6307\u5b9a\u7c7b\u578b\u7684\u9519\u8bef\uff0c\u907f\u514dslave\u7aef\u590d\u5236\u4e2d\u65ad\n## \u5982\uff1a1062\u9519\u8bef\u662f\u6307\u4e00\u4e9b\u4e3b\u952e\u91cd\u590d\uff0c1032\u9519\u8bef\u662f\u56e0\u4e3a\u4e3b\u4ece\u6570\u636e\u5e93\u6570\u636e\u4e0d\u4e00\u81f4\nslave_skip_errors=1062\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#13-\u91cd\u542f\u5bb9\u5668\u5b9e\u4f8b","title":"1.3 \u91cd\u542f\u5bb9\u5668\u5b9e\u4f8b","text":"Bash<pre><code>docker restart mysql-master\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#14-\u8fdb\u5165\u5bb9\u5668\u5b9e\u4f8b\u5185","title":"1.4 \u8fdb\u5165\u5bb9\u5668\u5b9e\u4f8b\u5185","text":"Bash<pre><code>docker exec -it mysql-master /bin/bash\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#15-\u767b\u5f55mysql\u521b\u5efa\u6570\u636e\u540c\u6b65\u7528\u6237","title":"1.5 \u767b\u5f55mysql\uff0c\u521b\u5efa\u6570\u636e\u540c\u6b65\u7528\u6237","text":"SQL<pre><code>-- \u9996\u5148\u4f7f\u7528 mysql -uroot -p \u767b\u5f55mysql\n-- \u521b\u5efa\u6570\u636e\u540c\u6b65\u7528\u6237\ncreate user 'slave'@'%' identified by '123456';#host\u4e3a%\u8868\u793a\u7528\u6237\u53ef\u4ee5\u4ece\u4efb\u4f55\u4e3b\u673a\u8fde\u63a5\u5230MySQL\u670d\u52a1\n-- \u6388\u6743\ngrant replication slave, replication client on *.* to 'slave'@'%';\nflush privileges;\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#2\u5b89\u88c5\u4ece\u670d\u52a1\u5668\u5bb9\u5668\u5b9e\u4f8b\u7aef\u53e3\u53f73308","title":"2.\u5b89\u88c5\u4ece\u670d\u52a1\u5668\u5bb9\u5668\u5b9e\u4f8b\uff08\u7aef\u53e3\u53f73308\uff09","text":""},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#21-\u542f\u52a8\u5bb9\u5668\u670d\u52a1","title":"2.1 \u542f\u52a8\u5bb9\u5668\u670d\u52a1","text":"Bash<pre><code>docker run -p 3308:3306 \\\n           --name mysql-slave \\\n           --privileged=true \\\n           -v /mydata/mysql-slave/log:/var/log/mysql \\\n           -v /mydata/mysql-slave/data:/var/lib/mysql \\\n           -v /mydata/mysql-slave/conf:/etc/mysql \\\n           -e MYSQL_ROOT_PASSWORD=123456 \\\n           -d mysql:5.7\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#22-\u8fdb\u5165mydatamysql-slaveconf\u76ee\u5f55\u521b\u5efamycnf\u914d\u7f6e\u6587\u4ef6","title":"2.2  \u8fdb\u5165/mydata/mysql-slave/conf\u76ee\u5f55\uff0c\u521b\u5efamy.cnf\u914d\u7f6e\u6587\u4ef6","text":"<p><code>vim /mydata/mysql-slave/conf/my.cnf</code></p> Bash<pre><code>[mysqld]\n## \u8bbe\u7f6eserver_id, \u540c\u4e00\u4e2a\u5c40\u57df\u7f51\u5185\u9700\u8981\u552f\u4e00\nserver_id=102\n## \u6307\u5b9a\u4e0d\u9700\u8981\u540c\u6b65\u7684\u6570\u636e\u5e93\u540d\u79f0\nbinlog-ignore-db=mysql\n## \u5f00\u542f\u4e8c\u8fdb\u5236\u65e5\u5fd7\u529f\u80fd\uff0c\u4ee5\u5907slave\u4f5c\u4e3a\u5176\u5b83\u6570\u636e\u5e93\u5b9e\u4f8b\u7684Master\u65f6\u4f7f\u7528\nlog-bin=mall-mysql-slave1-bin\n## \u8bbe\u7f6e\u4e8c\u8fdb\u5236\u65e5\u5fd7\u4f7f\u7528\u5185\u5b58\u5927\u5c0f\uff08\u4e8b\u52a1\uff09\nbinlog_cache_size=1M\n## \u8bbe\u7f6e\u4f7f\u7528\u7684\u4e8c\u8fdb\u5236\u65e5\u5fd7\u683c\u5f0f\uff08mixed,statement,row\uff09\nbinlog_format=mixed\n## \u4e8c\u8fdb\u5236\u65e5\u5fd7\u8fc7\u671f\u6e05\u7406\u65f6\u95f4\u3002\u9ed8\u8ba4\u503c\u4e3a0\uff0c\u8868\u793a\u4e0d\u81ea\u52a8\u6e05\u7406\nexpire_logs_days=7\n## \u8df3\u8fc7\u4e3b\u4ece\u590d\u5236\u4e2d\u9047\u5230\u7684\u6240\u6709\u9519\u8bef\u6216\u6307\u5b9a\u7c7b\u578b\u7684\u9519\u8bef\uff0c\u907f\u514dslave\u7aef\u590d\u5236\u4e2d\u65ad\n## \u5982\uff1a1062\u9519\u8bef\u662f\u6307\u4e00\u4e9b\u4e3b\u952e\u91cd\u590d\uff0c1032\u662f\u56e0\u4e3a\u4e3b\u4ece\u6570\u636e\u5e93\u6570\u636e\u4e0d\u4e00\u81f4\nslave_skip_errors=1062\n## relay_log\u914d\u7f6e\u4e2d\u7ee7\u65e5\u5fd7\nrelay_log=mall-mysql-relay-bin\n## log_slave_updates\u8868\u793aslave\u5c06\u590d\u5236\u4e8b\u4ef6\u5199\u8fdb\u81ea\u5df1\u7684\u4e8c\u8fdb\u5236\u65e5\u5fd7\nlog_slave_updates=1\n## slave\u8bbe\u7f6e\u53ea\u8bfb\uff08\u5177\u6709super\u6743\u9650\u7684\u7528\u6237\u9664\u5916\uff09\nread_only=1\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#23-\u4fee\u6539\u5b8c\u914d\u7f6e\u9700\u8981\u91cd\u542fslave\u5bb9\u5668\u5b9e\u4f8b","title":"2.3 \u4fee\u6539\u5b8c\u914d\u7f6e\u9700\u8981\u91cd\u542fslave\u5bb9\u5668\u5b9e\u4f8b","text":"Bash<pre><code>docker restart mysql-slave\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#3\u5728\u4e3b\u6570\u636e\u5e93\u4e2d\u67e5\u770b\u4e3b\u4ece\u540c\u6b65\u72b6\u6001","title":"3.\u5728\u4e3b\u6570\u636e\u5e93\u4e2d\u67e5\u770b\u4e3b\u4ece\u540c\u6b65\u72b6\u6001","text":""},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#31-\u8fdb\u5165\u4e3b\u6570\u636e\u5e93\u5bb9\u5668","title":"3.1 \u8fdb\u5165\u4e3b\u6570\u636e\u5e93\u5bb9\u5668","text":"Bash<pre><code>docker exec -it mysql-master /bin/bash\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#32-\u8fdb\u5165mysql","title":"3.2  \u8fdb\u5165Mysql","text":"Bash<pre><code>mysql -uroot -p\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#33-\u67e5\u770b\u4e3b\u4ece\u540c\u6b65\u72b6\u6001","title":"3.3 \u67e5\u770b\u4e3b\u4ece\u540c\u6b65\u72b6\u6001","text":"Bash<pre><code>show master status;\n</code></pre> <p>\u4e3b\u8981\u67e5\u770b\u8fd4\u56de\u7ed3\u679c\u7684\u6587\u4ef6\u540dFile\u3001\u5f53\u524d\u4f4d\u7f6ePosition\u3002</p> <p></p>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#4\u8fdb\u5165\u4ece\u6570\u636e\u5e93\u5bb9\u5668\u914d\u7f6e\u4e3b\u4ece\u590d\u5236","title":"4.\u8fdb\u5165\u4ece\u6570\u636e\u5e93\u5bb9\u5668\uff0c\u914d\u7f6e\u4e3b\u4ece\u590d\u5236","text":""},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#41-\u8fdb\u5165\u4ece\u6570\u636e\u5e93\u5bb9\u5668","title":"4.1 \u8fdb\u5165\u4ece\u6570\u636e\u5e93\u5bb9\u5668","text":"Bash<pre><code>docker exec -it mysql-slave /bin/bash\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#42-\u8fdb\u5165\u6570\u636e\u5e93","title":"4.2 \u8fdb\u5165\u6570\u636e\u5e93","text":"Bash<pre><code>mysql -uroot -p\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#43-\u914d\u7f6e\u4ece\u6570\u636e\u5e93\u6240\u5c5e\u7684\u4e3b\u6570\u636e\u5e93","title":"4.3 \u914d\u7f6e\u4ece\u6570\u636e\u5e93\u6240\u5c5e\u7684\u4e3b\u6570\u636e\u5e93","text":"Bash<pre><code>-- \u683c\u5f0f\uff1a\n-- change master to master_host='\u5bbf\u4e3b\u673aip',\nmaster_user='\u4e3b\u6570\u636e\u5e93\u914d\u7f6e\u7684\u4e3b\u4ece\u590d\u5236\u7528\u6237\u540d',\nmaster_password='\u4e3b\u6570\u636e\u5e93\u914d\u7f6e\u7684\u4e3b\u4ece\u590d\u5236\u7528\u6237\u5bc6\u7801',\nmaster_port=\u5bbf\u4e3b\u673a\u4e3b\u6570\u636e\u5e93\u7aef\u53e3,\nmaster_log_file='\u4e3b\u6570\u636e\u5e93\u4e3b\u4ece\u540c\u6b65\u72b6\u6001\u7684\u6587\u4ef6\u540dFile',\nmaster_log_pos=\u4e3b\u6570\u636e\u5e93\u4e3b\u4ece\u540c\u6b65\u72b6\u6001\u7684Position,\nmaster_connect_retry=\u8fde\u63a5\u5931\u8d25\u91cd\u8bd5\u65f6\u95f4\u95f4\u9694\uff08\u79d2\uff09;\n\nchange master to master_host='10.22.51.63',\nmaster_user='slave',\nmaster_password='123456',\nmaster_port=3307,\nmaster_log_file='mall-mysql-bin.000001',\nmaster_log_pos=769,master_connect_retry=30;\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#44-\u67e5\u770b\u4e3b\u4ece\u540c\u6b65\u72b6\u6001","title":"4.4 \u67e5\u770b\u4e3b\u4ece\u540c\u6b65\u72b6\u6001","text":"Bash<pre><code># \\G \u53ef\u4ee5\u5c06\u6a2a\u5411\u7684\u7ed3\u679c\u96c6\u8868\u683c\u8f6c\u6362\u6210\u7eb5\u5411\u5c55\u793a\u3002\n# slave status\u7684\u5b57\u6bb5\u6bd4\u8f83\u591a\uff0c\u7eb5\u5411\u5c55\u793a\u6bd4\u53cb\u597d\nshow slave status \\G;\n</code></pre> <p>\u200b       \u9664\u4e86\u5c55\u793a\u521a\u521a\u914d\u7f6e\u7684\u6570\u636e\u5e93\u4fe1\u606f\u5916\uff0c\u4e3b\u8981\u5173\u6ce8 Slave_IO_Running\u3001Slave_SQL_Running\u3002\u76ee\u524d\u4e24\u4e2a\u503c\u5e94\u8be5\u90fd\u4e3aNo\uff0c\u8868\u793a\u8fd8\u6ca1\u6709\u5f00\u59cb\u3002 </p>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#45-\u5f00\u542f\u4e3b\u4ece\u540c\u6b65","title":"4.5 \u5f00\u542f\u4e3b\u4ece\u540c\u6b65","text":"Bash<pre><code>start slave;\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#46-\u518d\u6b21\u67e5\u770b\u4e3b\u4ece\u540c\u6b65\u72b6\u6001slave_io_runningslave_sql_running\u90fd\u53d8\u4e3ayes","title":"4.6 \u518d\u6b21\u67e5\u770b\u4e3b\u4ece\u540c\u6b65\u72b6\u6001\uff0cSlave_IO_Running\u3001Slave_SQL_Running\u90fd\u53d8\u4e3aYes\u3002","text":"<p>\u4e3b\u4ece\u590d\u5236\u6d4b\u8bd5\uff1a\u5728\u4e3b\u6570\u636e\u5e93\u4e0a\u65b0\u5efa\u5e93\u3001\u4f7f\u7528\u5e93\u3001\u65b0\u5efa\u8868\u3001\u63d2\u5165\u6570\u636e </p> SQL<pre><code>create database db01;\nuse db01;\ncreate table t1 (id int, name varchar(20));\ninsert into t1 values (1, 'abc');\n</code></pre>"},{"location":"docker/docker-note/6%20%E9%83%A8%E7%BD%B2mysql/#47-\u5728\u4ece\u6570\u636e\u5e93\u4e0a\u4f7f\u7528\u5e93\u67e5\u770b\u8bb0\u5f55","title":"4.7 \u5728\u4ece\u6570\u636e\u5e93\u4e0a\u4f7f\u7528\u5e93\u3001\u67e5\u770b\u8bb0\u5f55","text":"SQL<pre><code>show databases;\nuse db01;\nselect * from t1;\n</code></pre>"},{"location":"docker/docker-note/7%20%E9%83%A8%E7%BD%B2tomcat/","title":"\u90e8\u7f72Tomcat","text":""},{"location":"docker/docker-note/7%20%E9%83%A8%E7%BD%B2tomcat/#\u4e00\u5b89\u88c5tomcat","title":"\u4e00\u3001\u5b89\u88c5tomcat","text":"Bash<pre><code>docker pull tomcat\n</code></pre>"},{"location":"docker/docker-note/7%20%E9%83%A8%E7%BD%B2tomcat/#\u4e8c\u968f\u673a\u7aef\u53e3\u542f\u52a8tomcat","title":"\u4e8c\u3001\u968f\u673a\u7aef\u53e3\u542f\u52a8tomcat","text":"Bash<pre><code>docker run -it -P --name t1 tomcat    #-P\u8868\u793a\u968f\u673a\u5206\u914d\u6620\u5c04\u7aef\u53e3\n</code></pre>"},{"location":"docker/docker-note/7%20%E9%83%A8%E7%BD%B2tomcat/#\u4e09\u6307\u5b9a\u7aef\u53e3\u542f\u52a8tomcat","title":"\u4e09\u3001\u6307\u5b9a\u7aef\u53e3\u542f\u52a8tomcat","text":"<p>\u6307\u5b9alinux\u4e3b\u673a\u7aef\u53e38080\uff0c\u5bb9\u5668\u7aef\u53e38080\uff0c\u547d\u540dt1\uff1a</p> Bash<pre><code>docker run -d -p 8080:8080 --name t1 tomcat\n</code></pre>"},{"location":"docker/docker-note/7%20%E9%83%A8%E7%BD%B2tomcat/#\u56db\u8bbf\u95ee\u8fd4\u56de404","title":"\u56db\u3001\u8bbf\u95ee\u8fd4\u56de404","text":"<p>\u200b       \u6253\u5f00\u670d\u52a1\u5668\u5730\u5740\uff1ahttp://10.22.51.63:32769/\uff0c\u8fd4\u56de404\uff0c\u7b2c5\u6b65\u7ed9\u51fa\u7b54\u6848\u3002</p> <p></p>"},{"location":"docker/docker-note/7%20%E9%83%A8%E7%BD%B2tomcat/#\u4e94\u8fdb\u5165tomcat\u6587\u4ef6\u5939","title":"\u4e94\u3001\u8fdb\u5165tomcat\u6587\u4ef6\u5939","text":"Python<pre><code>docker exec -it 8a819cc62efa /bin/bash\nrm -rf webapps    #\u5f3a\u5236\u5220\u9664\u76ee\u5f55\u53ca\u5176\u6240\u6709\u5b50\u76ee\u5f55\nmv webapps.dist webapps    #\u5c06\u76ee\u5f55\u540d\u66f4\u6539\u4e3awebapps\n</code></pre>"},{"location":"docker/docker-note/7%20%E9%83%A8%E7%BD%B2tomcat/#\u516d\u5b89\u88c5tomcat-8","title":"\u516d\u3001\u5b89\u88c5tomcat 8","text":"<p>tomcat8\u4e0b\u8f7d\u5b89\u88c5\u547d\u4ee4\uff08\u6ca1\u6709\u7684\u5305run\u540e\u4f1a\u81ea\u52a8\u5b89\u88c5\uff09\uff1a</p> Text Only<pre><code>docker run -d -p 8080:8080 --name mytomcat8 billygoo/tomcat8-jdk8\n</code></pre> <p></p> <p>tomcat8\u65e0\u9700\u5220\u9664webapps\uff1a</p> <p></p>"},{"location":"docker/docker-note/9%20Dockerfile/","title":"Dockerfile","text":""},{"location":"docker/docker-note/9%20Dockerfile/#\u4e00dockerfile\u6982\u5ff5","title":"\u4e00\u3001Dockerfile\u6982\u5ff5","text":"<p>\u200b       Dockerfile\u662f\u7528\u6765\u6784\u5efaDocker\u955c\u50cf\u7684\u6587\u672c\u6587\u4ef6\uff0c\u662f\u7531\u4e00\u6761\u6761\u6784\u5efa\u955c\u50cf\u6240\u9700\u7684\u6307\u4ee4\u548c\u53c2\u6570\u6784\u6210\u7684\u811a\u672c\u3002</p>"},{"location":"docker/docker-note/9%20Dockerfile/#1\u6784\u5efa\u6b65\u9aa4","title":"1.\u6784\u5efa\u6b65\u9aa4","text":"<ol> <li>\u7f16\u5199Dockerfile\u6587\u4ef6</li> <li><code>docker build</code>\u547d\u4ee4\u6784\u5efa\u955c\u50cf</li> <li><code>docker run</code>\u4f9d\u636e\u955c\u50cf\u8fd0\u884c\u5bb9\u5668\u5b9e\u4f8b</li> </ol>"},{"location":"docker/docker-note/9%20Dockerfile/#2\u6784\u5efa\u8fc7\u7a0b","title":"2.\u6784\u5efa\u8fc7\u7a0b","text":""},{"location":"docker/docker-note/9%20Dockerfile/#21-dockerfile\u7f16\u5199","title":"2.1 Dockerfile\u7f16\u5199","text":"<ul> <li> <p>\u6bcf\u6761\u4fdd\u7559\u5b57\u6307\u4ee4\u90fd\u5fc5\u987b\u4e3a\u5927\u5199\u5b57\u6bcd\uff0c\u4e14\u540e\u9762\u8981\u8ddf\u968f\u81f3\u5c11\u4e00\u4e2a\u53c2\u6570</p> </li> <li> <p>\u6307\u4ee4\u6309\u7167\u4ece\u4e0a\u5230\u4e0b\u987a\u5e8f\u6267\u884c</p> </li> <li> <p>#\u8868\u793a\u6ce8\u91ca</p> </li> <li> <p>\u6bcf\u6761\u6307\u4ee4\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u955c\u50cf\u5c42\u5e76\u5bf9\u955c\u50cf\u8fdb\u884c\u63d0\u4ea4</p> </li> </ul>"},{"location":"docker/docker-note/9%20Dockerfile/#22-docker\u5f15\u64ce\u6267\u884cdocker\u7684\u5927\u81f4\u6d41\u7a0b","title":"2.2 Docker\u5f15\u64ce\u6267\u884cDocker\u7684\u5927\u81f4\u6d41\u7a0b","text":"<ol> <li> <p>docker\u4ece\u57fa\u7840\u955c\u50cf\u8fd0\u884c\u4e00\u4e2a\u5bb9\u5668</p> </li> <li> <p>\u6267\u884c\u4e00\u6761\u6307\u4ee4\u5e76\u5bf9\u5bb9\u5668\u505a\u51fa\u4fee\u6539</p> </li> <li> <p>\u6267\u884c\u7c7b\u4f3cdocker commit\u7684\u64cd\u4f5c\u63d0\u4ea4\u4e00\u4e2a\u65b0\u7684\u955c\u50cf\u5c42</p> </li> <li> <p>docker\u518d\u57fa\u4e8e\u521a\u63d0\u4ea4\u7684\u955c\u50cf\u8fd0\u884c\u4e00\u4e2a\u65b0\u5bb9\u5668</p> </li> <li> <p>\u6267\u884cDockerfile\u4e2d\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\uff0c\u76f4\u5230\u6240\u6709\u6307\u4ee4\u90fd\u6267\u884c\u5b8c\u6210</p> </li> </ol>"},{"location":"docker/docker-note/9%20Dockerfile/#\u4e8cdockerfile\u4fdd\u7559\u5b57","title":"\u4e8c\u3001Dockerfile\u4fdd\u7559\u5b57","text":""},{"location":"docker/docker-note/9%20Dockerfile/#1from","title":"1.FROM","text":"<p>\u57fa\u7840\u955c\u50cf\uff0c\u5f53\u524d\u65b0\u955c\u50cf\u662f\u57fa\u4e8e\u54ea\u4e2a\u955c\u50cf\u7684\uff0c\u6307\u5b9a\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u955c\u50cf\u4f5c\u4e3a\u6a21\u677f\u3002Dockerfile\u7b2c\u4e00\u6761\u5fc5\u987b\u662fFROM\u3002</p> Bash<pre><code># FROM \u955c\u50cf\u540d\nFROM hub.c.163.com/library/tomcat\n</code></pre>"},{"location":"docker/docker-note/9%20Dockerfile/#2maintainer","title":"2.MAINTAINER","text":"<p>\u955c\u50cf\u7ef4\u62a4\u8005\u7684\u59d3\u540d\u548c\u90ae\u7bb1\u5730\u5740\uff1a</p> Bash<pre><code># \u975e\u5fc5\u987b\nMAINTAINER ZhangSan zs@163.com\n</code></pre> <p>\u81ea\u4ece Docker 1.13 \u7248\u672c\u5f00\u59cb\uff0c<code>MAINTAINER</code> \u6307\u4ee4\u5df2\u88ab\u6807\u8bb0\u4e3a\u8fc7\u65f6\uff0c\u63a8\u8350\u4f7f\u7528 <code>LABEL</code> \u6307\u4ee4\u6765\u4ee3\u66ff\u3002</p> <p>\u4e0b\u9762\u662f\u4f7f\u7528 <code>LABEL</code> \u6307\u4ee4\u6765\u6307\u5b9a\u955c\u50cf\u7ef4\u62a4\u8005\u59d3\u540d\u548c\u90ae\u7bb1\u5730\u5740\u7684\u793a\u4f8b\uff1a</p> Bash<pre><code>LABEL maintainer=\"ZhangSan &lt;zs@163.com&gt;\"\n</code></pre>"},{"location":"docker/docker-note/9%20Dockerfile/#3run","title":"3.RUN","text":"<p>\u5bb9\u5668\u6784\u5efa\u65f6\u9700\u8981\u8fd0\u884c\u7684\u547d\u4ee4\u3002\u6709\u4e24\u79cd\u683c\u5f0f\uff1a</p> <p>\uff081\uff09shell\u683c\u5f0f\uff1a</p> Bash<pre><code># \u7b49\u540c\u4e8e\u5728\u7ec8\u7aef\u64cd\u4f5c\u7684shell\u547d\u4ee4\n# \u683c\u5f0f\uff1aRUN &lt;\u547d\u4ee4\u884c\u547d\u4ee4&gt;\nRUN yum -y install vim\n</code></pre> <p>\uff082\uff09exec\u683c\u5f0f\uff1a</p> Bash<pre><code># \u683c\u5f0f\uff1aRUN [\"\u53ef\u6267\u884c\u6587\u4ef6\" , \"\u53c2\u65701\", \"\u53c2\u65702\"]\nRUN [\"./test.php\", \"dev\", \"offline\"]  # \u7b49\u4ef7\u4e8e RUN ./test.php dev offline\n</code></pre> <p><code>RUN</code>\u662f\u5728<code>docker build</code>\u65f6\u8fd0\u884c\u3002</p>"},{"location":"docker/docker-note/9%20Dockerfile/#4expose","title":"4.EXPOSE","text":"<p>\u5f53\u524d\u5bb9\u5668\u5bf9\u5916\u66b4\u9732\u51fa\u7684\u7aef\u53e3\u3002</p> Bash<pre><code># EXPOSE \u8981\u66b4\u9732\u7684\u7aef\u53e3\n# EXPOSE &lt;port&gt;[/&lt;protocol] ....\nEXPOSE 3306 33060\n</code></pre>"},{"location":"docker/docker-note/9%20Dockerfile/#5workdir","title":"5.WORKDIR","text":"<p>\u6307\u5b9a\u5728\u521b\u5efa\u5bb9\u5668\u540e\uff0c \u7ec8\u7aef\u9ed8\u8ba4\u767b\u5f55\u8fdb\u6765\u7684\u5de5\u4f5c\u76ee\u5f55\u3002</p> Bash<pre><code>ENV CATALINA_HOME /usr/local/tomcat\nWORKDIR $CATALINA_HOME\n</code></pre>"},{"location":"docker/docker-note/9%20Dockerfile/#6user","title":"6.USER","text":"<p>\u6307\u5b9a\u8be5\u955c\u50cf\u4ee5\u4ec0\u4e48\u6837\u7684\u7528\u6237\u53bb\u6267\u884c\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u9ed8\u8ba4\u662froot\u3002\uff08\u4e00\u822c\u4e0d\u4fee\u6539\u8be5\u914d\u7f6e\uff09</p> Bash<pre><code># USER &lt;user&gt;[:&lt;group&gt;]\nUSER patrick\n</code></pre>"},{"location":"docker/docker-note/9%20Dockerfile/#7env","title":"7.ENV","text":"<p>\u7528\u6765\u5728\u6784\u5efa\u955c\u50cf\u8fc7\u7a0b\u4e2d\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u3002\u8fd9\u4e2a\u73af\u5883\u53d8\u91cf\u53ef\u4ee5\u5728\u540e\u7eed\u7684\u4efb\u4f55RUN\u6307\u4ee4\u6216\u5176\u4ed6\u6307\u4ee4\u4e2d\u4f7f\u7528</p> Bash<pre><code># \u683c\u5f0f ENV \u73af\u5883\u53d8\u91cf\u540d \u73af\u5883\u53d8\u91cf\u503c\n# \u6216\u8005 ENV \u73af\u5883\u53d8\u91cf\u540d=\u503c\nENV MY_PATH /usr/mytest\n\n# \u4f7f\u7528\u73af\u5883\u53d8\u91cf\nWORKDIR $MY_PATH\n</code></pre>"},{"location":"docker/docker-note/9%20Dockerfile/#8volume","title":"8.VOLUME","text":"<p>\u5bb9\u5668\u6570\u636e\u5377\uff0c\u7528\u4e8e\u6570\u636e\u4fdd\u5b58\u548c\u6301\u4e45\u5316\u5de5\u4f5c\u3002\u7c7b\u4f3c\u4e8e<code>docker run</code>\u7684-v\u53c2\u6570\u3002</p> Bash<pre><code># VOLUME \u6302\u8f7d\u70b9\n# \u6302\u8f7d\u70b9\u53ef\u4ee5\u662f\u4e00\u4e2a\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u662f\u6570\u7ec4\uff08\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e00\u9879\u5fc5\u987b\u7528\u53cc\u5f15\u53f7\uff09\nVOLUME /var/lib/mysql\n</code></pre>"},{"location":"docker/docker-note/9%20Dockerfile/#9add","title":"9.ADD","text":"<p>\u5c06\u5bbf\u4e3b\u673a\u76ee\u5f55\u4e0b\uff08\u6216\u8fdc\u7a0b\u6587\u4ef6\uff09\u7684\u6587\u4ef6\u62f7\u8d1d\u8fdb\u955c\u50cf\uff0c\u4e14\u4f1a\u81ea\u52a8\u5904\u7406URL\u548c\u89e3\u538btar\u538b\u7f29\u5305\u3002</p>"},{"location":"docker/docker-note/9%20Dockerfile/#10copy","title":"10.COPY","text":"<p>\u7c7b\u4f3c<code>ADD</code>\uff0c\u62f7\u8d1d\u6587\u4ef6\u548c\u76ee\u5f55\u5230\u955c\u50cf\u4e2d\u3002</p> <p>\u5c06\u4ece\u6784\u5efa\u4e0a\u4e0b\u6587\u76ee\u5f55\u4e2d&lt;\u6e90\u8def\u5f84&gt;\u7684\u6587\u4ef6\u76ee\u5f55\u590d\u5236\u5230\u65b0\u7684\u4e00\u5c42\u955c\u50cf\u5185\u7684&lt;\u76ee\u6807\u8def\u5f84&gt;\u4f4d\u7f6e\u3002</p> Bash<pre><code>COPY src dest\nCOPY [\"src\", \"dest\"]\n# &lt;src\u6e90\u8def\u5f84&gt;\uff1a\u6e90\u6587\u4ef6\u6216\u8005\u6e90\u76ee\u5f55\n# &lt;dest\u76ee\u6807\u8def\u5f84&gt;\uff1a\u5bb9\u5668\u5185\u7684\u6307\u5b9a\u8def\u5f84\uff0c\u8be5\u8def\u5f84\u4e0d\u7528\u4e8b\u5148\u5efa\u597d\u3002\u5982\u679c\u4e0d\u5b58\u5728\u4f1a\u81ea\u52a8\u521b\u5efa\n</code></pre>"},{"location":"docker/docker-note/9%20Dockerfile/#11cmd","title":"11.CMD","text":"<p>\u6307\u5b9a\u5bb9\u5668\u542f\u52a8\u540e\u8981\u5e72\u7684\u4e8b\u60c5\u3002</p> <p>\u6709\u4e24\u79cd\u683c\u5f0f\uff1a</p> <ul> <li>shell\u683c\u5f0f </li> </ul> Bash<pre><code># CMD &lt;\u547d\u4ee4&gt;\nCMD echo \"hello world\"\n</code></pre> <ul> <li>exec\u683c\u5f0f </li> </ul> Bash<pre><code># CMD [\"\u53ef\u6267\u884c\u6587\u4ef6\", \"\u53c2\u65701\", \"\u53c2\u65702\" ...]\nCMD [\"catalina.sh\", \"run\"]\n</code></pre> <ul> <li>\u53c2\u6570\u5217\u8868\u683c\u5f0f </li> </ul> Bash<pre><code># CMD [\"\u53c2\u65701\", \"\u53c2\u65702\" ....]\uff0c\u4e0eENTRYPOINT\u6307\u4ee4\u914d\u5408\u4f7f\u7528\n</code></pre> <p>Dockerfile\u4e2d\u5982\u679c\u51fa\u73b0\u591a\u4e2a<code>CMD</code>\u6307\u4ee4\uff0c\u53ea\u6709\u6700\u540e\u4e00\u4e2a\u751f\u6548\u3002<code>CMD</code>\u4f1a\u88ab<code>docker run</code>\u4e4b\u540e\u7684\u53c2\u6570\u66ff\u6362\u3002</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8etomcat\u955c\u50cf\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u4f1a\u6709\u4e0d\u540c\u7684\u6548\u679c\uff1a</p> Bash<pre><code># \u56e0\u4e3atomcat\u7684Dockerfile\u4e2d\u6307\u5b9a\u4e86 CMD [\"catalina.sh\", \"run\"]\n# \u6240\u4ee5\u76f4\u63a5docker run \u65f6\uff0c\u5bb9\u5668\u542f\u52a8\u540e\u4f1a\u81ea\u52a8\u6267\u884c catalina.sh run\ndocker run -it -p 8080:8080 tomcat\n\n# \u6307\u5b9a\u5bb9\u5668\u542f\u52a8\u540e\u6267\u884c /bin/bash\n# \u6b64\u65f6\u6307\u5b9a\u7684/bin/bash\u4f1a\u8986\u76d6\u6389Dockerfile\u4e2d\u6307\u5b9a\u7684 CMD [\"catalina.sh\", \"run\"]\ndocker run -it -p 8080:8080 tomcat /bin/bash\n</code></pre> <p><code>CMD</code>\u662f\u5728<code>docker run</code>\u65f6\u8fd0\u884c\uff0c\u800c<code>RUN</code>\u662f\u5728<code>docker build</code>\u65f6\u8fd0\u884c\u3002</p>"},{"location":"docker/docker-note/9%20Dockerfile/#12entrypoint","title":"12.ENTRYPOINT","text":"<p>\u7528\u6765\u6307\u5b9a\u4e00\u4e2a\u5bb9\u5668\u542f\u52a8\u65f6\u8981\u8fd0\u884c\u7684\u547d\u4ee4\u3002</p> <p>\u7c7b\u4f3c\u4e8e<code>CMD</code>\u547d\u4ee4\uff0c\u4f46\u662f<code>ENTRYPOINT</code>\u4e0d\u4f1a\u88ab<code>docker run</code>\u540e\u9762\u7684\u547d\u4ee4\u8986\u76d6\uff0c\u8fd9\u4e9b\u547d\u4ee4\u53c2\u6570\u4f1a\u88ab\u5f53\u505a\u53c2\u6570\u9001\u7ed9<code>ENTRYPOINT</code>\u6307\u4ee4\u6307\u5b9a\u7684\u7a0b\u5e8f\u3002</p> <p><code>ENTRYPOINT</code>\u53ef\u4ee5\u548c<code>CMD</code>\u4e00\u8d77\u7528\uff0c\u4e00\u822c\u662f\u53ef\u53d8\u53c2\u6570\u624d\u4f1a\u4f7f\u7528<code>CMD</code>\uff0c\u8fd9\u91cc\u7684<code>CMD</code>\u7b49\u4e8e\u662f\u5728\u7ed9<code>ENTRYPOINT</code>\u4f20\u53c2\u3002</p> <p>\u5f53\u6307\u5b9a\u4e86<code>ENTRYPOINT</code>\u540e\uff0c<code>CMD</code>\u7684\u542b\u4e49\u5c31\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u4e0d\u518d\u662f\u76f4\u63a5\u8fd0\u884c\u5176\u547d\u4ee4\uff0c\u800c\u662f\u5c06<code>CMD</code>\u7684\u5185\u5bb9\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9<code>ENTRYPOINT</code>\u6307\u4ee4\uff0c\u5b83\u4eec\u4e24\u4e2a\u7ec4\u5408\u4f1a\u53d8\u6210<code>&lt;ENTRYPOINT&gt; \"&lt;CMD&gt;\"</code>\u3002</p> <p>\u4f8b\u5982\uff1a</p> Bash<pre><code>FROM nginx\n\nENTRYPOINT [\"nginx\", \"-c\"]  # \u5b9a\u53c2\nCMD [\"/etc/nginx/nginx.conf\"] # \u53d8\u53c2\n</code></pre> <p>\u5bf9\u4e8e\u6b64Dockerfile\uff0c\u6784\u5efa\u6210\u955c\u50cf nginx:test\u540e\uff0c\u5982\u679c\u6267\u884c\uff1b</p> <ul> <li> <p>docker run nginx:test\uff0c\u5219\u5bb9\u5668\u542f\u52a8\u540e\uff0c\u4f1a\u6267\u884c nginx -c /etc/nginx/nginx.conf</p> </li> <li> <p>docker run nginx:test /app/nginx/new.conf\uff0c\u5219\u5bb9\u5668\u542f\u52a8\u540e\uff0c\u4f1a\u6267\u884c nginx -c /app/nginx/new.conf</p> </li> </ul>"},{"location":"docker/docker-note/9%20Dockerfile/#\u4e09\u6784\u5efa\u955c\u50cf","title":"\u4e09\u3001\u6784\u5efa\u955c\u50cf","text":"<p>\u521b\u5efa\u540d\u79f0\u4e3aDockerfile\u7684\u6587\u4ef6\uff0c\u793a\u4f8b\uff1a</p> Bash<pre><code>FROM ubuntu\nLABEL maintainer=\"jerion &lt;hzl@163.com&gt;\"\n\nENV MYPATH /usr/local\nWORKDIR $MYPATH\n\nRUN apt-get update\nRUN apt-get install net-tools\n\nEXPOSE 80\n\nCMD echo $MYPATH\nCMD echo \"install ifconfig cmd into ubuntu success .....\"\nCMD /bin/bash\n</code></pre> <p></p> <p>\u7f16\u5199\u5b8c\u6210\u4e4b\u540e\uff0c\u5c06\u5176\u6784\u5efa\u6210docker\u955c\u50cf\u3002</p> <p>\u547d\u4ee4\uff1a</p> Bash<pre><code># \u6ce8\u610f\uff1a\u5b9a\u4e49\u7684TAG\u540e\u9762\u6709\u4e2a\u7a7a\u683c\uff0c\u7a7a\u683c\u540e\u9762\u6709\u4e2a\u70b9\n# docker build -t \u65b0\u955c\u50cf\u540d\u5b57:TAG .\ndocker build -t ubuntu:1.0.1 .\n</code></pre> <p></p> <p></p> <p>\u5728\u6784\u5efaDocker\u955c\u50cf\u65f6\u4f7f\u7528\u7684<code>docker build</code>\u547d\u4ee4\u4e0d\u9700\u8981<code>-it</code>\u53c2\u6570\u3002<code>-it</code>\u53c2\u6570\u901a\u5e38\u7528\u4e8e\u5728\u8fd0\u884c\u5bb9\u5668\u65f6\u521b\u5efa\u4e00\u4e2a\u4ea4\u4e92\u5f0f\u4f1a\u8bdd\uff0c\u800c\u4e0d\u662f\u5728\u6784\u5efa\u955c\u50cf\u65f6\u3002</p> <p>\u5728\u6784\u5efaDocker\u955c\u50cf\u65f6\uff0c\u53ea\u9700\u4f7f\u7528<code>docker build</code>\u547d\u4ee4\uff0c\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u65b9\u5f0f\uff1a</p> Bash<pre><code>docker build -t my_image .\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>-t</code>\u53c2\u6570\u7528\u4e8e\u7ed9\u955c\u50cf\u6307\u5b9a\u4e00\u4e2a\u540d\u79f0my_image\uff0c<code>.</code> \u8868\u793a Dockerfile \u6240\u5728\u7684\u5f53\u524d\u76ee\u5f55\u3002</p> <p>\u955c\u50cf\u7ef4\u62a4\u8005\u7684\u59d3\u540d\u548c\u90ae\u7bb1\u5730\u5740\u53ef\u901a\u8fc7\u8fd0\u884c<code>docker inspect</code>\u547d\u4ee4\u6765\u67e5\u770b\u955c\u50cf\u7684\u5143\u6570\u636e\uff0c\u91cc\u9762\u5305\u62ec\u4e86<code>LABEL</code>\u4e2d\u5b9a\u4e49\u7684\u4fe1\u606f\u3002</p>"},{"location":"docker/docker-note/9%20Dockerfile/#\u56db\u865a\u60ac\u955c\u50cf","title":"\u56db\u3001\u865a\u60ac\u955c\u50cf","text":"<p>\u865a\u60ac\u955c\u50cf\uff1a\u4ed3\u5e93\u540d\u3001\u6807\u7b7e\u540d\u90fd\u662f\u7a7a\u7684\u955c\u50cf\uff0c\u79f0\u4e3adangling images\uff08\u865a\u60ac\u955c\u50cf\uff09\u3002</p> <p>\u5728\u6784\u5efa\u6216\u8005\u5220\u9664\u955c\u50cf\u65f6\u53ef\u80fd\u7531\u4e8e\u4e00\u4e9b\u9519\u8bef\u5bfc\u81f4\u51fa\u73b0\u865a\u60ac\u955c\u50cf\u3002</p> <p>\u4f8b\u5982\uff1a</p> Bash<pre><code># \u6784\u5efa\u65f6\u5019\u6ca1\u6709\u955c\u50cf\u540d\u3001tag\ndocker build .\n</code></pre> <p>\u5217\u51fadocker\u4e2d\u7684\u865a\u60ac\u955c\u50cf\uff1a</p> Bash<pre><code>docker image ls -f dangling=true\n</code></pre> <p>\u865a\u60ac\u955c\u50cf\u4e00\u822c\u662f\u56e0\u4e3a\u4e00\u4e9b\u9519\u8bef\u800c\u51fa\u73b0\u7684\uff0c\u6ca1\u6709\u5b58\u5728\u4ef7\u503c\uff0c\u53ef\u4ee5\u5220\u9664\uff1a</p> Bash<pre><code># \u5220\u9664\u6240\u6709\u7684\u865a\u60ac\u955c\u50cf\ndocker image prune\n</code></pre>"},{"location":"essay/","title":"\u968f\u7b14\u4ecb\u7ecd","text":"<p>\u5728\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u4e2d\uff0c\u968f\u7b14\u6a21\u5757\u662f\u6211\u8868\u8fbe\u4e2a\u4eba\u89c1\u89e3\u548c\u5206\u4eab\u601d\u8003\u7684\u5730\u65b9\u3002\u8fd9\u4e9b\u968f\u7b14\u6db5\u76d6\u4e86\u4ece\u65e5\u5e38\u751f\u6d3b\u7684\u89c2\u5bdf\u5230\u6df1\u523b\u7684\u6280\u672f\u53cd\u601d\uff0c\u4ece\u8f7b\u677e\u7684\u8da3\u95fb\u5230\u4e25\u8083\u7684\u8ba8\u8bba\u3002\u8fd9\u91cc\u7684\u6bcf\u4e00\u7bc7\u968f\u7b14\u90fd\u627f\u8f7d\u7740\u6211\u7684\u601d\u8003\u548c\u611f\u609f\uff0c\u65e8\u5728\u4e0e\u8bfb\u8005\u5206\u4eab\u6211\u5bf9\u4e16\u754c\u7684\u72ec\u7279\u89c6\u89d2\u3002\u5e0c\u671b\u901a\u8fc7\u8fd9\u4e9b\u6587\u5b57\uff0c\u80fd\u591f\u6fc0\u53d1\u5927\u5bb6\u7684\u601d\u8003\uff0c\u5e26\u6765\u4e00\u4e9b\u542f\u53d1\uff0c\u4e5f\u5e0c\u671b\u6211\u7684\u7ecf\u5386\u548c\u89c1\u89e3\u80fd\u591f\u4e3a\u4f60\u4eec\u7684\u751f\u6d3b\u548c\u5de5\u4f5c\u63d0\u4f9b\u4e00\u4e9b\u6709\u4ef7\u503c\u7684\u53c2\u8003\u3002</p>"},{"location":"essay/%E6%97%A5%E8%AE%B0/20240901---%E4%B8%AA%E4%BA%BA%E6%97%A5%E8%AE%B0/","title":"20240901---\u4e2a\u4eba\u65e5\u8bb0","text":""},{"location":"essay/%E6%97%A5%E8%AE%B0/20240901---%E4%B8%AA%E4%BA%BA%E6%97%A5%E8%AE%B0/#\u4eca\u65e5\u65e5\u8bb0day-001","title":"\u4eca\u65e5\u65e5\u8bb0\u2014day 001","text":"<p>\u4eca\u5929\u7684\u65e9\u6668\uff0c\u9633\u5149\u900f\u8fc7\u7a97\u5e18\u7684\u7f1d\u9699\u6d12\u8fdb\u4e86\u623f\u95f4\uff0c\u7ed9\u8fd9\u4e2a\u5e73\u9759\u7684\u5468\u65e5\u65e9\u6668\u5e26\u6765\u4e86\u6e29\u6696\u7684\u8272\u5f69\u3002\u968f\u7740\u95f9\u949f\u7684\u94c3\u58f0\u54cd\u8d77\uff0c\u6211\u4ece\u6e29\u6696\u7684\u88ab\u7a9d\u4e2d\u9192\u6765\uff0c\u51b3\u5b9a\u4eca\u5929\u4e0d\u6025\u4e8e\u5f00\u59cb\u4e00\u5929\u7684\u5de5\u4f5c\uff0c\u800c\u662f\u7ed9\u81ea\u5df1\u4e00\u4e2a\u653e\u677e\u7684\u65e9\u6668\u3002</p> <p>\u65e9\u9910\u65f6\uff0c\u6211\u716e\u4e86\u4e00\u676f\u6d53\u9999\u7684\u5496\u5561\uff0c\u914d\u4e0a\u65b0\u70e4\u7684\u9762\u5305\u548c\u4e00\u4efd\u65b0\u9c9c\u7684\u6c34\u679c\u6c99\u62c9\u3002\u5750\u5728\u9910\u684c\u65c1\uff0c\u6211\u4eab\u53d7\u7740\u8fd9\u4efd\u7b80\u5355\u800c\u7f8e\u597d\u7684\u65e9\u9910\u65f6\u5149\uff0c\u6d4f\u89c8\u4e86\u4e00\u4e9b\u65b0\u95fb\u548c\u535a\u5ba2\uff0c\u653e\u677e\u5fc3\u60c5\uff0c\u4e3a\u5373\u5c06\u5230\u6765\u7684\u65b0\u4e00\u5468\u505a\u597d\u51c6\u5907\u3002</p> <p>\u4e0a\u5348\uff0c\u6211\u51b3\u5b9a\u53bb\u9644\u8fd1\u7684\u516c\u56ed\u6563\u6b65\u3002\u5fae\u98ce\u62c2\u9762\uff0c\u9e1f\u9e23\u58f0\u4f34\u968f\u7740\u6211\u7684\u811a\u6b65\uff0c\u7a7a\u6c14\u4e2d\u5f25\u6f2b\u7740\u82b1\u9999\u548c\u6ce5\u571f\u7684\u6c14\u606f\u3002\u516c\u56ed\u91cc\u7684\u7eff\u610f\u548c\u5b81\u9759\u8ba9\u6211\u611f\u5230\u683c\u5916\u653e\u677e\uff0c\u8fd9\u6837\u7684\u6563\u6b65\u4e0d\u4ec5\u80fd\u953b\u70bc\u8eab\u4f53\uff0c\u4e5f\u80fd\u8ba9\u5fc3\u7075\u5f97\u5230\u653e\u677e\u3002</p> <p>\u4e2d\u5348\uff0c\u6211\u548c\u670b\u53cb\u7ea6\u597d\u4e86\u4e00\u8d77\u53bb\u5c1d\u8bd5\u4e00\u5bb6\u65b0\u7684\u9910\u5385\u3002\u9910\u5385\u7684\u6c1b\u56f4\u8212\u9002\u5b9c\u4eba\uff0c\u83dc\u54c1\u4e5f\u975e\u5e38\u7f8e\u5473\u3002\u6211\u4eec\u8fb9\u5403\u8fb9\u804a\uff0c\u5206\u4eab\u4e86\u5f7c\u6b64\u6700\u8fd1\u7684\u751f\u6d3b\u548c\u5de5\u4f5c\u8da3\u4e8b\uff0c\u6b22\u58f0\u7b11\u8bed\u5145\u6ee1\u4e86\u6574\u4e2a\u5348\u9910\u65f6\u5149\u3002</p> <p>\u4e0b\u5348\uff0c\u6211\u56de\u5230\u5bb6\uff0c\u82b1\u4e86\u4e00\u4e9b\u65f6\u95f4\u6574\u7406\u81ea\u5df1\u7684\u5de5\u4f5c\u7a7a\u95f4\u3002\u867d\u7136\u770b\u4f3c\u662f\u4e00\u9879\u7410\u788e\u7684\u4efb\u52a1\uff0c\u4f46\u6574\u7406\u540e\u7684\u7a7a\u95f4\u8ba9\u6211\u7684\u601d\u7ef4\u53d8\u5f97\u66f4\u52a0\u6e05\u6670\u3002\u6574\u7406\u5b8c\u540e\uff0c\u6211\u7ee7\u7eed\u8fdb\u884c\u4e86\u4e00\u4e9b\u4e2a\u4eba\u9879\u76ee\u7684\u5de5\u4f5c\uff0c\u5904\u7406\u4e86\u51e0\u4efd\u6280\u672f\u6587\u6863\u548c\u4ee3\u7801\uff0c\u611f\u89c9\u6548\u7387\u63d0\u9ad8\u4e86\u4e0d\u5c11\u3002</p> <p>\u508d\u665a\u65f6\u5206\uff0c\u6211\u51b3\u5b9a\u653e\u677e\u4e00\u4e0b\uff0c\u9605\u8bfb\u4e86\u4e00\u672c\u6700\u8fd1\u8d2d\u5165\u7684\u4e66\u7c4d\u3002\u6c89\u6d78\u5728\u4e66\u4e2d\u7684\u6545\u4e8b\u91cc\uff0c\u6211\u6682\u65f6\u5fd8\u5374\u4e86\u65e5\u5e38\u7684\u70e6\u607c\uff0c\u4eab\u53d7\u7740\u8fd9\u6bb5\u5b81\u9759\u7684\u65f6\u5149\u3002</p> <p>\u665a\u4e0a\uff0c\u6211\u51c6\u5907\u4e86\u4e00\u987f\u7b80\u5355\u7684\u665a\u9910\uff0c\u4e4b\u540e\u770b\u4e86\u4e00\u90e8\u671f\u5f85\u5df2\u4e45\u7684\u7535\u5f71\u3002\u7535\u5f71\u7684\u60c5\u8282\u6263\u4eba\u5fc3\u5f26\uff0c\u8ba9\u6211\u5728\u4e00\u7247\u8f7b\u677e\u6109\u60a6\u7684\u6c1b\u56f4\u4e2d\u7ed3\u675f\u4e86\u4e00\u5929\u7684\u751f\u6d3b\u3002</p> <p>\u4eca\u5929\u7684\u65e5\u5b50\u5145\u5b9e\u800c\u6109\u5feb\uff0c\u7b80\u5355\u7684\u751f\u6d3b\u7ec6\u8282\u548c\u6e29\u99a8\u7684\u65f6\u5149\u8ba9\u6211\u611f\u5230\u6ee1\u8db3\u548c\u5e78\u798f\u3002\u5e0c\u671b\u63a5\u4e0b\u6765\u7684\u65e5\u5b50\u91cc\uff0c\u80fd\u591f\u7ee7\u7eed\u4fdd\u6301\u8fd9\u6837\u7684\u8282\u594f\uff0c\u4eab\u53d7\u751f\u6d3b\u4e2d\u7684\u6bcf\u4e00\u4e2a\u7f8e\u597d\u77ac\u95f4\u3002</p>"},{"location":"git/","title":"Git\u4ecb\u7ecd","text":"<p>\u5728\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u4e2d\uff0cGit \u6a21\u5757\u662f\u8bb0\u5f55\u6211\u65e5\u5e38\u7248\u672c\u63a7\u5236\u548c\u4ee3\u7801\u7ba1\u7406\u7684\u5de5\u5177\u3002Git \u662f\u6211\u5728\u5f00\u53d1\u5de5\u4f5c\u4e2d\u4e0d\u53ef\u6216\u7f3a\u7684\u52a9\u624b\uff0c\u5e2e\u52a9\u6211\u9ad8\u6548\u5730\u8fdb\u884c\u4ee3\u7801\u7684\u8ffd\u8e2a\u3001\u7ba1\u7406\u548c\u534f\u4f5c\u3002\u4ece\u5355\u4eba\u7684\u9879\u76ee\u5f00\u53d1\u5230\u56e2\u961f\u5408\u4f5c\uff0cGit \u901a\u8fc7\u5176\u5f3a\u5927\u7684\u5206\u652f\u7ba1\u7406\u548c\u7248\u672c\u56de\u6eaf\u529f\u80fd\uff0c\u4f7f\u5f97\u4ee3\u7801\u7ba1\u7406\u53d8\u5f97\u66f4\u52a0\u8f7b\u677e\u548c\u6709\u5e8f\u3002\u4e0d\u8bba\u662f\u5e94\u5bf9\u590d\u6742\u7684\u9879\u76ee\u9700\u6c42\uff0c\u8fd8\u662f\u8fdb\u884c\u4ee3\u7801\u7684\u591a\u7248\u672c\u7ef4\u62a4\uff0cGit \u90fd\u4e3a\u6211\u7684\u5f00\u53d1\u5de5\u4f5c\u63d0\u4f9b\u4e86\u5f3a\u6709\u529b\u7684\u652f\u6301\u3002</p>"},{"location":"git/Git/Git%20Extensions%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3/","title":"Git Extensions\u4f7f\u7528\u6587\u6863","text":""},{"location":"git/Git/Git%20Extensions%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3/#\u4e00-\u83dc\u5355\u680f\u5de5\u5177\u8bbe\u7f6e","title":"\u4e00\u3001 \u83dc\u5355\u680f\u2014\u5de5\u5177\u2014\u8bbe\u7f6e","text":"<p>\u67e5\u770b\u57fa\u672c\u8bbe\u7f6e\u662f\u5426\u6709\u62a5\u9519\uff1a</p> <p></p> <p>\u786e\u8ba4SSH\u8bbe\u7f6e\uff1a</p> <p></p> <p>\u82e5\u4e3a\u7b2c\u4e00\u6b21\u4f7f\u7528Git\uff0c\u9700\u751f\u6210ssh-key\uff1a</p> <ul> <li> <p>\u83dc\u5355\u680f\u2014\u5de5\u5177\u2014Git base\u547d\u4ee4\u884c\uff1b</p> </li> <li> <p>ssh-keygen -t rsa -C\u201d\u516c\u53f8\u90ae\u7bb1\u5730\u5740\u201d\uff1b</p> </li> <li> <p>\u4e14\u4f1a\u63d0\u793aid_rsa.pub\u6587\u4ef6\u5b58\u653e\u8def\u5f84\u3002</p> </li> </ul> <p></p>"},{"location":"git/Git/Git%20Extensions%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3/#\u4e8c-\u767b\u5165gitlab-web\u7aef","title":"\u4e8c\u3001 \u767b\u5165Gitlab Web\u7aef","text":"<p>http://gitlab16.com:8999/   \uff08Gitlab\u53ea\u652f\u6301\u7ba1\u7406\u5458\u5efa\u7acb\u8d26\u53f7\uff09</p> <p></p> <p></p> <p>\u8fdb\u5165\u4e0a\u6b65\u9aa4\u751f\u6210\u7684id_rsa.pub\u6587\u4ef6\u5b58\u653e\u8def\u5f84\uff0c\u5c06id_rsa.pub\u6587\u4ef6\u5185\u5bb9\u590d\u5236\u5e76\u9ecf\u8d34\u81f3\u201cProfile Setting\u201d\u2014\u201cSSH Keys\u201d\u2014\u201cADD SSH KEY\u201d\u3002</p> <p>Gitlab Web\u7aef\u8fdb\u5165Projects\uff0c\u83b7\u53d6Project ssh\u5730\u5740\uff1a</p> <p></p>"},{"location":"git/Git/Git%20Extensions%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3/#\u4e09-\u5728git-extensions-\u9009\u62e9\u514b\u9686\u7248\u672c\u5e93","title":"\u4e09\u3001 \u5728Git Extensions \u9009\u62e9\u514b\u9686\u7248\u672c\u5e93","text":""},{"location":"git/Git/Git%20Extensions%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3/#\u56db-\u63d0\u4ea4","title":"\u56db\u3001 \u63d0\u4ea4","text":"<p>1\u533a\u662f\u5bf9\u5e94\u6587\u4ef6\u5939\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff0c\u9009\u62e9\u4f60\u9700\u8981\u4e0a\u4f20\u7684\u6587\u4ef6\uff0c\u53cc\u51fb\u5b83\u8fdb\u51653\u533a\uff01</p> <p>\uff08\u6ce8\u610f\uff1a1\u533a\u53ea\u663e\u793a\u6700\u65b0\u4fee\u6539\u7684\u6587\u4ef6\uff0c\u672a\u4fee\u6539\u7684\u6587\u4ef6\u4e0d\u4f1a\u663e\u793a\u51fa\u6765\uff09</p> <p>2\u533a\u662f\u663e\u793a\u6587\u672c\u6587\u4ef6\u7684\u5185\u5bb9\u3002</p> <p>3\u533a\u662f\u9009\u62e9\u597d\u540e\u9700\u8981\u4e0a\u4f20\u7684\u6587\u4ef6\uff0c\u53cc\u51fb\u5b83\u53d6\u6d88\u9009\u62e9</p> <p>4\u533a\u662f\u586b\u5199\u64cd\u4f5c\u539f\u56e0</p> <p>\u6587\u4ef6\u9009\u62e9\u5b8c\u6bd5\u4e4b\u540e\uff0c\u586b\u5199\u539f\u56e0.\u7136\u540e\u70b9\u51fb\u63d0\u4ea4</p> <p> </p>"},{"location":"git/Git/Git%20Extensions%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3/#\u4e94-\u62c9\u53d6","title":"\u4e94\u3001 \u62c9\u53d6","text":""},{"location":"git/Git/Git%20Extensions%E5%90%88%E5%B9%B6%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/","title":"Git Extensions\u5408\u5e76\u51b2\u7a81\u89e3\u51b3\u529e\u6cd5","text":"<p>\u573a\u666f\uff1a</p> <p>GITHUB\u66f4\u65b0\u4e86\u4ee3\u7801\uff0c\u800c\u5ba2\u6237\u7aef\u672a\u8fdb\u884c\u62c9\u53d6\uff0c\u76f4\u63a5\u63d0\u4ea4\uff0c\u5c31\u4ea7\u751f\u4e86\u51b2\u7a81\u3002</p> <p>\u5408\u5e76\uff1a</p> <p>1.\u5b89\u88c5\u5408\u5e76\u5de5\u5177Kdiff3</p> <p>2.Git Extensions\u914d\u7f6eKdiff3\u8def\u5f84</p> <p></p> <p>\u63d0\u4ea4\u4ee3\u7801\uff0c\u5f39\u51fa\u5408\u5e76\uff0c\u8fdb\u884c\u7f16\u8f91\uff0c\u53c2\u8003\u535a\u5ba2\uff1a\u5982\u4f55\u4f7f\u7528kdiff3\u5904\u7406merge\u65f6\u7684\u51b2\u7a81</p> <p>Kdiff3\u4e71\u7801\u8bbe\u7f6e\uff1aSettings-&gt;Configure Kdiff3-&gt;</p> <p></p>"},{"location":"git/Git/Git%20Extensions%E6%8A%A5%E9%94%99/","title":"Git Extensions\u62a5\u9519","text":""},{"location":"git/Git/Git%20Extensions%E6%8A%A5%E9%94%99/#1\u79fb\u52a8\u5b58\u50a8\u5e93\u540e\u6253\u5f00\u4ed3\u5e93\u62a5\u9519","title":"1\u3001\u79fb\u52a8\u5b58\u50a8\u5e93\u540e\u6253\u5f00\u4ed3\u5e93\u62a5\u9519","text":"<p>\u6253\u5f00 Git Bash\uff0c\u6267\u884c\u547d\u4ee4\u6765\u6dfb\u52a0\u4fe1\u4efb\u8fd9\u4e2a\u76ee\u5f55</p> <p>\u4fe1\u4efb\u5355\u4e2a\u76ee\u5f55</p> Text Only<pre><code>git config --global --add safe.directory 'E:/GitHub/LearningNotes'\n</code></pre> <p>\u4fe1\u4efb\u6240\u6709\u76ee\u5f55</p> Text Only<pre><code>git config --global --add safe.directory '*'\n</code></pre> <p>2\u3001\u63a8\u9001\u62a5\u9519</p> <p>remote: GitLab: You are not allowed to push code to protected branches on this project. To 10.22.51.64:yunwei/devp_scripts.git ! [remote rejected] main -&gt; main (pre-receive hook declined) error: failed to push some refs to \u201810.22.51.64:yunwei/devp_scripts.git\u2019 Done</p> Text Only<pre><code>josh@DESKTOP-85OL1ON MINGW64 /e/GitHub/devp_scripts (main)\n$ git checkout -b shell     #\u521b\u5efa\u5206\u652f\nSwitched to a new branch 'shell'\n\njosh@DESKTOP-85OL1ON MINGW64 /e/GitHub/devp_scripts (shell)\n$ git push origin shell      #\u63a8\u9001\u4ee3\u7801\nEnumerating objects: 10, done.\nCounting objects: 100% (10/10), done.\nDelta compression using up to 8 threads\nCompressing objects: 100% (9/9), done.\nWriting objects: 100% (9/9), 16.58 KiB | 2.76 MiB/s, done.\nTotal 9 (delta 3), reused 0 (delta 0), pack-reused 0 (from 0)\nremote:\nremote: To create a merge request for shell, visit:\nremote:   http://10.22.51.64:7070/yunwei/devp_scripts/-/merge_requests/new?merge_request%5Bsource_branch%5D=shell\nremote:\nTo 10.22.51.64:yunwei/devp_scripts.git\n * [new branch]      shell -&gt; shell\n\njosh@DESKTOP-85OL1ON MINGW64 /e/GitHub/devp_scripts (shell)\n</code></pre>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/","title":"Git\u901a\u8fc7ssh\u5bc6\u94a5\u514b\u9686\u9879\u76ee\u5230\u670d\u52a1\u5668\u5e76\u63d0\u4ea4\u9879\u76ee","text":"<p>\u53c2\u8003GitHub\u5b98\u65b9\u6587\u6863</p>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#\u4e00github\u6dfb\u52a0ssh-key","title":"\u4e00\u3001GitHub\u6dfb\u52a0SSH Key","text":""},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#1\u5b89\u88c5git","title":"1.\u5b89\u88c5git","text":"Bash<pre><code>yum -y install git\n</code></pre>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#2\u5ba2\u6237\u7aef\u751f\u6210ssh-key","title":"2.\u5ba2\u6237\u7aef\u751f\u6210SSH Key","text":"<p>\u751f\u6210\u4e00\u4e2a SSH \u5bc6\u94a5\u5e76\u5c06\u5176\u6dfb\u52a0\u5230 GitHub \u8d26\u6237\uff1a</p> Bash<pre><code>ssh-keygen -t rsa -b 4096 -C \"you_github_mail\"\n</code></pre> <p>\u751f\u6210\u8fc7\u7a0b\uff0c\u9700\u8981\u6267\u884c\u4e09\u6b21\u56de\u8f66\uff08Enter\uff09\uff1a</p> Bash<pre><code>Generating public/private rsa key pair.\nEnter file in which to save the key (/root/.ssh/id_rsa): \nEnter passphrase (empty for no passphrase): \nEnter same passphrase again: \nYour identification has been saved in /root/.ssh/id_rsa.\nYour public key has been saved in /root/.ssh/id_rsa.pub.\nThe key fingerprint is:\nSHA256:QyPWLQ9/kpUOYUBMP8g1aVtzKbHQIPhj3uoeq1fNPqU whizhzl@gmail.com\nThe key's randomart image is:\n+---[RSA 4096]----+\n|       ==.B+.. . |\n|      .o.Bo+=oo  |\n|      o.O.=o++   |\n|     . o+*.*     |\n|       oSo=oo    |\n|        ..ooo .  |\n|        .o . o   |\n|        oo  E    |\n|      .=+    .   |\n+----[SHA256]-----+\n</code></pre>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#3\u67e5\u770b\u5bc6\u94a5","title":"3.\u67e5\u770b\u5bc6\u94a5","text":"<p>\u67e5\u770b\u8f93\u51fa\u7684\u516c\u94a5\u5185\u5bb9\uff0c\u5e76\u5728 GitHub \u7684\u8d26\u6237\u8bbe\u7f6e\u4e2d\u6dfb\u52a0\u8fd9\u4e2a SSH \u5bc6\u94a5\uff1a</p> Bash<pre><code>cat ~/.ssh/id_rsa.pub\n</code></pre>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#4\u6dfb\u52a0\u5bc6\u94a5","title":"4.\u6dfb\u52a0\u5bc6\u94a5","text":"<p>\u8bbf\u95eeGitHub\uff0c\u767b\u9646GitHub\u8d26\u6237\uff0c\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a</p> <ul> <li>\u5728 GitHub \u4efb\u610f\u9875\u7684\u53f3\u4e0a\u89d2\uff0c\u5355\u51fb\u4e2a\u4eba\u8d44\u6599\u7167\u7247\uff0c\u7136\u540e\u70b9\u51fb\u8bbe\u7f6e\u3010Settings\u3011\uff1b</li> <li>\u5728\u5de6\u8fb9\u7684\u3010Access\u3011\u680f\u4e2d\uff0c\u70b9\u51fbSSH \u548c GPG \u5bc6\u94a5\u3010SSH and GPG keys\u3011\uff1b</li> <li>\u70b9\u51fb\u65b0\u5efa SSH \u5bc6\u94a5\u3010New SSH key\u3011\uff1b</li> <li>\u586b\u5199\u6807\u9898\u3010Title\u3011\u5b57\u6bb5\uff1b</li> <li>\u9009\u62e9\u5bc6\u94a5\u7c7b\u578b\u3010Key type\u3011\u4e3a <code>Authentication Key</code>\uff1b</li> <li>\u5728\u5bc6\u94a5\u3010Key\u3011\u5b57\u6bb5\u4e2d\uff0c\u7c98\u8d34\u516c\u94a5\uff1b</li> <li>\u70b9\u51fb\u6dfb\u52a0SSH\u5bc6\u94a5\u3010Add SSH key\u3011\u6309\u94ae\u3002</li> </ul> <p></p>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#\u4e8cgithub\u6dfb\u52a0\u7528\u6237","title":"\u4e8c\u3001GitHub\u6dfb\u52a0\u7528\u6237","text":""},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#1\u67e5\u770bgit\u914d\u7f6e","title":"1.\u67e5\u770bGit\u914d\u7f6e","text":"<p>\u67e5\u770b Git \u662f\u5426\u5df2\u7ecf\u914d\u7f6e\u4e86\u7528\u6237\u540d\u79f0\u548c\u90ae\u7bb1\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>git config --global user.name\ngit config --global user.email\n</code></pre>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#2\u914d\u7f6e\u7528\u6237\u4e0e\u90ae\u7bb1","title":"2.\u914d\u7f6e\u7528\u6237\u4e0e\u90ae\u7bb1","text":"<p>\u5982\u679c\u4f60\u5e0c\u671b\u5728 GitHub \u4e0a\u63d0\u4ea4\u65f6\uff0c\u63d0\u4ea4\u8bb0\u5f55\u4e0e\u4f60\u7684 GitHub \u8d26\u53f7\u4e00\u81f4\uff0c\u90a3\u4e48\u4f60\u5728\u672c\u5730 Git \u914d\u7f6e\u7684\u7528\u6237\u540d\u548c\u90ae\u7bb1\u4e0e GitHub \u8d26\u53f7\u4e5f\u9700\u8981\u4fdd\u6301\u4e00\u81f4\u3002</p> Bash<pre><code>git config --global user.name \"Your Name\"\ngit config --global user.email \"your_email@example.com\"\n</code></pre> <p>[root@jerion2 ~]# git config \u2013global user.name \u201czyx3721\u201d [root@jerion2 ~]# git config \u2013global user.email \u201cwhizhzl@gmail.com\u201d [root@jerion2 ~]# git config \u2013global user.email                   whizhzl@gmail.com [root@jerion2 ~]# git config \u2013global user.name                    zyx3721</p>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#\u4e09github\u4ed3\u5e93\u64cd\u4f5c","title":"\u4e09\u3001GItHub\u4ed3\u5e93\u64cd\u4f5c","text":""},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#1\u514b\u9686\u9879\u76ee","title":"1.\u514b\u9686\u9879\u76ee","text":"<p>\u514b\u9686\u4e00\u4e2a\u975e\u81ea\u5df1\u7684\u9879\u76ee\u5230\u670d\u52a1\u5668\u672c\u5730\u76ee\u5f55\u4e0a\uff0c\u8fd9\u91cc\u4ee5 Mkdocs-material \u7ad9\u70b9\u9879\u76ee\u4e3a\u4f8b\uff1a</p> Bash<pre><code>mkdir -p /data/Mkdocs-material\ncd /data/Mkdocs-material\ngit clone https://github.com/shenweiyan/Knowledge-Garden.git\n\n# \u663e\u793a\u4fe1\u606f\nCloning into 'Knowledge-Garden'...\nremote: Enumerating objects: 14860, done.\nremote: Counting objects: 100% (14629/14629), done.\nremote: Compressing objects: 100% (1484/1484), done.\nremote: Total 14860 (delta 6743), reused 14330 (delta 6721), pack-reused 231 (from 1)\nReceiving objects: 100% (14860/14860), 80.26 MiB | 1.11 MiB/s, done.\nResolving deltas: 100% (6774/6774), done.\n</code></pre>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#2\u67e5\u770b\u5f53\u524d\u8fdc\u7a0b\u4ed3\u5e93","title":"2.\u67e5\u770b\u5f53\u524d\u8fdc\u7a0b\u4ed3\u5e93","text":"<p>\u67e5\u770b\u5f53\u524dGit \u4ed3\u5e93\u4e2d\u914d\u7f6e\u7684\u8fdc\u7a0b\u4ed3\u5e93\uff08remote\uff09\u4fe1\u606f\u5730\u5740\uff1a</p> Bash<pre><code>/data/Mkdocs-material/Knowledge-Garden\ngit remote -v\n\n# \u663e\u793a\u4fe1\u606f\norigin  https://github.com/shenweiyan/Knowledge-Garden.git (fetch)\norigin  https://github.com/shenweiyan/Knowledge-Garden.git (push)\n</code></pre> <p>\u89e3\u91ca\u8bf4\u660e\uff1a</p> <ul> <li><code>origin</code>\uff1a\u8fd9\u662f\u8fdc\u7a0b\u4ed3\u5e93\u7684\u540d\u79f0\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cGit \u5c06\u514b\u9686\u7684\u8fdc\u7a0b\u4ed3\u5e93\u547d\u540d\u4e3a <code>origin</code>\u3002\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u8fdc\u7a0b\u4ed3\u5e93\u8bbe\u7f6e\u4e0d\u540c\u7684\u540d\u5b57\u3002</li> <li><code>(fetch)</code>\uff1a\u8868\u793a\u7528\u4e8e\u62c9\u53d6\u6570\u636e\u7684 URL\u3002\u5f53\u8fd0\u884c <code>git fetch</code> \u6216 <code>git pull</code> \u65f6\uff0cGit \u4f1a\u4ece\u8fd9\u4e2a URL \u83b7\u53d6\u6570\u636e\u3002</li> <li><code>(push)</code>\uff1a\u8868\u793a\u7528\u4e8e\u63a8\u9001\u6570\u636e\u7684 URL\u3002\u5f53\u8fd0\u884c <code>git push</code> \u65f6\uff0cGit \u4f1a\u5c06\u6570\u636e\u63a8\u9001\u5230\u8fd9\u4e2a URL\u3002</li> </ul>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#3\u79fb\u9664\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740","title":"3.\u79fb\u9664\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740","text":"<p>\u4f7f\u7528 <code>git remote remove</code> \u547d\u4ee4\u79fb\u9664\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\uff1a</p> Bash<pre><code>git remote remove origin\ngit remote -v    # \u518d\u6b21\u67e5\u770b\u5f53\u524d\u914d\u7f6e\u7684\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\uff0c\u4f1a\u53d1\u73b0\u5df2\u7ecf\u6ca1\u6709\u4e86\n</code></pre>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#4\u6dfb\u52a0\u6211\u7684github\u4ed3\u5e93\u4f5c\u4e3a\u8fdc\u7a0b\u4ed3\u5e93","title":"4.\u6dfb\u52a0\u6211\u7684GitHub\u4ed3\u5e93\u4f5c\u4e3a\u8fdc\u7a0b\u4ed3\u5e93","text":"<p>\u5728\u5f53\u524d\u670d\u52a1\u5668\u7684\u672c\u5730\u4ed3\u5e93\u76ee\u5f55\u4e0b\uff0c\u4f7f\u7528 <code>git remote add</code> \u547d\u4ee4\u6dfb\u52a0\u6211\u7684github\u8fdc\u7a0b\u4ed3\u5e93\uff08\u8fd9\u91cc\u6211\u5728github\u4e0a\u521b\u4e86\u4e00\u4e2a\u7a7a\u7684\u4ed3\u5e93\uff09\uff1a</p> Bash<pre><code>git remote add origin https://github.com/zyx3721/Jerion-MkDoc.git   # https\u65b9\u5f0f\ngit remote add origin git@github.com:zyx3721/Jerion-MkDoc.git       # ssh\u65b9\u5f0f\n</code></pre> <p>\u4e4b\u524d\u5df2\u7ecf\u914d\u7f6e\u4e86 SSH \u5bc6\u94a5\u5e76\u6dfb\u52a0\u5230 GitHub\uff0c\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 SSH URL\uff0c\u8fd9\u6837\u65e0\u9700\u6bcf\u6b21\u63a8\u9001\u65f6\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801</p> <p>\u518d\u6b21\u67e5\u770b\u5f53\u524d\u914d\u7f6e\u7684\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\uff0c\u786e\u8ba4\u5730\u5740\u662f\u5426\u53d8\u66f4\uff1a</p> Bash<pre><code>git remote -v\n\n# \u663e\u793a\u4fe1\u606f\norigin  git@github.com:zyx3721/Jerion-MkDoc.git (fetch)\norigin  git@github.com:zyx3721/Jerion-MkDoc.git (push)\n</code></pre>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#5\u63d0\u4ea4\u4ee3\u7801","title":"5.\u63d0\u4ea4\u4ee3\u7801","text":"Bash<pre><code>git commit -m \"Mkdocs-material\"    # \u63d0\u4ea4\u4ee3\u7801\ngit push origin main               # main \u6216\u8005 master\u6307\u5206\u652f\u540d\u79f0\ngit push --force origin main       # \u5f3a\u5236\u63a8\u9001\n</code></pre>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#6\u62c9\u53d6\u66f4\u65b0\u4ee3\u7801","title":"6.\u62c9\u53d6\u66f4\u65b0\u4ee3\u7801","text":"<p>\u4f7f\u7528 <code>git pull</code> \u547d\u4ee4\u4ece\u8fdc\u7a0b\u4ed3\u5e93\u540d <code>origin</code> \u4e0a\u62c9\u53d6 main \u5206\u652f\u6700\u65b0\u4ee3\u7801\uff1a</p> Bash<pre><code>git pull origin main\n</code></pre> <p>\u89e3\u91ca\u8bf4\u660e\uff1a</p> <ul> <li><code>origin</code> \u662f\u8fdc\u7a0b\u4ed3\u5e93\u7684\u9ed8\u8ba4\u540d\u79f0\u3002</li> <li><code>main</code> \u662f\u8981\u62c9\u53d6\u7684\u8fdc\u7a0b\u5206\u652f\u540d\u79f0\u3002</li> </ul>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#\u56db\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","title":"\u56db\u3001\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","text":""},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#1git-add\u62a5\u9519\u53c2\u8003","title":"1.git add\u62a5\u9519\u53c2\u8003","text":"<p>\u4e3a\u4ec0\u4e48\u4f1a\u4f7f\u7528 <code>git add .</code>\uff0c\u662f\u56e0\u4e3a\u8fdc\u7a0b\u4ee3\u7801\u548c\u60a8\u7684\u672c\u5730\u4ee3\u7801\u4e4b\u95f4\u6709\u51b2\u7a81\uff0cGit \u4f1a\u63d0\u793a\u60a8\u89e3\u51b3\u51b2\u7a81\u3002</p>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#11-git-add\u62a5\u9519","title":"1.1 git add\u62a5\u9519","text":"Bash<pre><code>(venv) [root@josh JoshZhong-MkDoc]# git add .\n</code></pre> <p>\u5982\u679c\u5728\u6267\u884c <code>git add .</code> \u65f6\u9047\u5230\u4e86\u5220\u9664\u6587\u4ef6\u672a\u88ab\u8ffd\u8e2a\u7684\u95ee\u9898\u3002\u8fd9\u662f\u56e0\u4e3a\u5f53\u524d\u7248\u672c\u7684 Git \u9ed8\u8ba4\u4e0d\u4f1a\u8ffd\u8e2a\u5df2\u5220\u9664\u7684\u6587\u4ef6\uff0c\u60a8\u9700\u8981\u660e\u786e\u544a\u8bc9 Git \u8bb0\u5f55\u8fd9\u4e9b\u5220\u9664\u64cd\u4f5c\u3002</p>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#12-git-add\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","title":"1.2 git add\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","text":"<p>\u4f7f\u7528 <code>git status</code> \u68c0\u67e5\u5de5\u4f5c\u533a\u72b6\u6001\uff1a</p> Bash<pre><code># \u4f7f\u7528 git status \u68c0\u67e5\u54ea\u4e9b\u6587\u4ef6\u88ab\u5220\u9664\u6216\u4fee\u6539\ngit status\n# \u4f7f\u7528 git add --all \u8bb0\u5f55\u6240\u6709\u66f4\u6539\ngit add --all\n</code></pre> <p>(venv) [root@josh JoshZhong-MkDoc]# git add \u2013all (venv) [root@josh JoshZhong-MkDoc]# git commit -m \u201c\u4fee\u6539mkdocs.yml\u201d [main 85fbf1e] \u4fee\u6539mkdocs.yml 327 files changed, 40126 insertions(+), 40303 deletions(-) create mode 100644 pycache/hooks.cpython-39.pyc create mode 100644 pycache/meta_slugs.cpython-39.pyc delete mode 100644 script/discussions2Mkdocs.py</p> <p>\u4f7f\u7528 <code>git add --all</code> \u6216 <code>git add -A</code>\uff0c\u8fd9\u6837 Git \u5c06\u4f1a\u8ffd\u8e2a\u65b0\u589e\u3001\u4fee\u6539\u548c\u5220\u9664\u7684\u6240\u6709\u6587\u4ef6\uff0c\u6267\u884c <code>git add --all</code> \u540e\uff0c\u53ef\u4ee5\u7ee7\u7eed\u63d0\u4ea4\u66f4\u6539\u3002</p>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#13-\u518d\u6b21\u63d0\u4ea4\u4ee3\u7801","title":"1.3 \u518d\u6b21\u63d0\u4ea4\u4ee3\u7801","text":"Bash<pre><code>git commit -m \"Your commit message\"\n</code></pre>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#14-\u63a8\u9001\u66f4\u6539\u5230\u8fdc\u7a0b\u4ed3\u5e93","title":"1.4 \u63a8\u9001\u66f4\u6539\u5230\u8fdc\u7a0b\u4ed3\u5e93","text":"Bash<pre><code>git push origin main\n</code></pre>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#2git-push\u62a5\u9519\u53c2\u8003","title":"2.git push\u62a5\u9519\u53c2\u8003","text":""},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#21-\u63a8\u9001\u4ee3\u7801\u62a5\u9519","title":"2.1 \u63a8\u9001\u4ee3\u7801\u62a5\u9519","text":"Bash<pre><code>git push origin main\n</code></pre> <p>(venv) [root@josh JoshZhong-MkDoc]# git push origin main The authenticity of host \u2018github.com (20.205.243.166)\u2019 can\u2019t be established. ECDSA key fingerprint is SHA256:p2QAMXNIC1TJYWeIOttrVc98/R1BUFWu3/LiyKgUfQM. ECDSA key fingerprint is MD5:7b:99:81:1e:4c:91:a5:0d:5a:2e:2e:80:13:3f:24:ca. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added \u2018github.com,20.205.243.166\u2019 (ECDSA) to the list of known hosts. To git@github.com:joshzhong66/JoshZhong-MkDoc.git ! [rejected]        main -&gt; main (fetch first) error: failed to push some refs to \u2018git@github.com:joshzhong66/JoshZhong-MkDoc.git\u2019 hint: Updates were rejected because the remote contains work that you do hint: not have locally. This is usually caused by another repository pushing hint: to the same ref. You may want to first merge the remote changes (e.g., hint: \u2018git pull\u2019) before pushing again. hint: See the \u2018Note about fast-forwards\u2019 in \u2018git push \u2013help\u2019 for details.</p> <p>\u9519\u8bef\u662f\u56e0\u4e3a\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u7684 <code>main</code> \u5206\u652f\u5305\u542b\u4e86\u4e00\u4e9b\u60a8\u672c\u5730\u4ed3\u5e93\u6ca1\u6709\u7684\u66f4\u6539\u3002Git \u9632\u6b62\u60a8\u5728\u4e0d\u5408\u5e76\u8fd9\u4e9b\u8fdc\u7a0b\u66f4\u6539\u7684\u60c5\u51b5\u4e0b\u76f4\u63a5\u63a8\u9001\u65b0\u7684\u66f4\u6539\uff0c\u4ee5\u907f\u514d\u4e22\u5931\u6570\u636e\u3002</p>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#22-\u63a8\u9001\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","title":"2.2 \u63a8\u9001\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","text":""},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#\u89e3\u51b3\u529e\u6cd5\u4e00\u5408\u5e76\u51b2\u7a81\u518d\u6b21\u63d0\u4ea4","title":"\u89e3\u51b3\u529e\u6cd5\u4e00\uff1a\u5408\u5e76\u51b2\u7a81\uff0c\u518d\u6b21\u63d0\u4ea4","text":"<ul> <li>\u62c9\u53d6\u8fdc\u7a0b\u4ed3\u5e93\u7684\u66f4\u6539\u5e76\u5408\u5e76\uff1a</li> </ul> Bash<pre><code>git pull origin main\n</code></pre> <p>\u5c06\u62c9\u53d6\u8fdc\u7a0b\u4ed3\u5e93\u7684 <code>main</code> \u5206\u652f\u5e76\u4e0e\u60a8\u7684\u672c\u5730 <code>main</code> \u5206\u652f\u5408\u5e76\u3002\u5982\u679c\u6709\u51b2\u7a81\uff0c\u60a8\u9700\u8981\u624b\u52a8\u89e3\u51b3\u51b2\u7a81\uff0c\u7136\u540e\u63d0\u4ea4\u5408\u5e76\u540e\u7684\u7ed3\u679c\u3002</p> <ul> <li>\u63a8\u9001\u5408\u5e76\u540e\u7684\u66f4\u6539\uff08\u5982\u679c\u5408\u5e76\u6210\u529f\u4e14\u6ca1\u6709\u51b2\u7a81\uff0c\u53ef\u4ee5\u63a8\u9001\uff09\uff1a</li> </ul> Text Only<pre><code>git push origin main\n</code></pre>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE/#\u89e3\u51b3\u529e\u6cd5\u4e8c\u8986\u76d6\u8fdc\u7a0b\u4ed3\u5e93","title":"\u89e3\u51b3\u529e\u6cd5\u4e8c\uff1a\u8986\u76d6\u8fdc\u7a0b\u4ed3\u5e93","text":"<p>\u5982\u679c\u4e0d\u4fdd\u7559\u8fdc\u7a0b\u66f4\u6539\uff0c\u53ef\u4ee5\u4f7f\u7528\u5f3a\u5236\u63a8\u9001\uff1a</p> Bash<pre><code>git push --force origin main\n</code></pre> <p>Counting objects: 1094, done. Delta compression using up to 2 threads. Compressing objects: 100% (938/938), done. Writing objects: 100% (1094/1094), 2.81 MiB | 833.00 KiB/s, done. Total 1094 (delta 429), reused 389 (delta 119) remote: Resolving deltas: 100% (429/429), done. remote: To git@github.com:joshzhong66/JoshZhong-MkDoc.git</p> <ul> <li>f47159d\u202685fbf1e main -&gt; main (forced update)</li> </ul> <p>\u5173\u952e\u70b9\uff1a</p> <ul> <li>Counting objects \u548c Compressing objects\uff1a\u8868\u793a Git \u6b63\u5728\u51c6\u5907\u63a8\u9001\u7684\u5bf9\u8c61\u3002</li> <li>Writing objects\uff1a\u8868\u793a\u8fd9\u4e9b\u5bf9\u8c61\u5df2\u7ecf\u6210\u529f\u5199\u5165\u8fdc\u7a0b\u4ed3\u5e93\u3002</li> <li>Resolving deltas\uff1a\u8fdc\u7a0b\u4ed3\u5e93\u5df2\u7ecf\u6210\u529f\u5904\u7406\u5e76\u5e94\u7528\u4e86\u8fd9\u4e9b\u66f4\u6539\u3002</li> <li>forced update\uff1a\u8868\u793a\u60a8\u4f7f\u7528\u4e86\u5f3a\u5236\u63a8\u9001\uff0c\u8986\u76d6\u4e86\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u7684 <code>main</code> \u5206\u652f\u3002</li> </ul>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%AC%E5%9C%B0/","title":"Git\u901a\u8fc7ssh\u5bc6\u94a5\u514b\u9686\u9879\u76ee\u5230\u672c\u5730","text":""},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%AC%E5%9C%B0/#\u4e00\u6253\u5f00\u547d\u4ee4\u884c\u7ec8\u7aef","title":"\u4e00\u3001\u6253\u5f00\u547d\u4ee4\u884c\u7ec8\u7aef","text":"<p>\u6253\u5f00\u547d\u4ee4\u884c\u7ec8\u7aef\uff0c\u4f8b\u5982\uff1a<code>Git Bash</code>\u3001<code>\u547d\u4ee4\u63d0\u793a\u7b26</code> \u6216 <code>PowerShell</code>\u3002</p>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%AC%E5%9C%B0/#\u4e8c\u751f\u6210ssh\u5bc6\u94a5","title":"\u4e8c\u3001\u751f\u6210SSH\u5bc6\u94a5","text":"<p>\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u751f\u6210\u4e00\u4e2a SSH \u5bc6\u94a5\u5e76\u5c06\u5176\u6dfb\u52a0\u5230 github \u8d26\u6237\uff1a</p> Bash<pre><code>ssh-keygen -t rsa -b 4096 -C \"hongzelong@sunline.cn\"\n</code></pre> <p>\u751f\u6210\u8fc7\u7a0b\uff0c\u9700\u8981\u6267\u884c\u4e09\u6b21\u56de\u8f66\uff08Enter\uff09\uff1a</p> Text Only<pre><code>Generating public/private rsa key pair.\nEnter file in which to save the key (C:\\Users\\Jerion/.ssh/id_rsa):\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again:\nYour identification has been saved in C:\\Users\\Jerion/.ssh/id_rsa.\nYour public key has been saved in C:\\Users\\Jerion/.ssh/id_rsa.pub.\nThe key fingerprint is:\nSHA256:ctaFzDjvbQGVaOLV7VZancE2DVSB1O1qReTSYSytzsk hongzelong@sunline.cn\nThe key's randomart image is:\n+---[RSA 4096]----+\n|           oo=OOX|\n|        .++oooo@O|\n|       .o+= ..=*+|\n|        .+ o .+.o|\n|      . S o =..o |\n|       + . . Eo  |\n|          . o.   |\n|           .     |\n|                 |\n+----[SHA256]-----+\n</code></pre>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%AC%E5%9C%B0/#\u4e09\u6dfb\u52a0\u5bc6\u94a5","title":"\u4e09\u3001\u6dfb\u52a0\u5bc6\u94a5","text":"<p>\u6253\u5f00 <code>C:\\Users\\Jerion/.ssh/id_rsa.pub</code> \u516c\u94a5\u6587\u4ef6\uff0c\u590d\u5236\u91cc\u9762\u7684\u5bc6\u94a5\u5185\u5bb9\uff1a</p> <p></p> <p>\u5728 github \u6216\u8005 gitlab \u7b49\u5e73\u53f0\uff0c\u6dfb\u52a0\u516c\u94a5\uff0c\u8fd9\u91cc\u6dfb\u52a0\u5230 github \u5e73\u53f0\u4e0a\uff1a</p> <ul> <li>\u5728 GitHub \u4efb\u610f\u9875\u7684\u53f3\u4e0a\u89d2\uff0c\u5355\u51fb\u4e2a\u4eba\u8d44\u6599\u7167\u7247\uff0c\u7136\u540e\u70b9\u51fb\u8bbe\u7f6e\u3010Settings\u3011\uff1b</li> <li>\u5728\u5de6\u8fb9\u7684\u3010Access\u3011\u680f\u4e2d\uff0c\u70b9\u51fbSSH \u548c GPG \u5bc6\u94a5\u3010SSH and GPG keys\u3011\uff1b</li> <li>\u70b9\u51fb\u65b0\u5efa SSH \u5bc6\u94a5\u3010New SSH key\u3011\uff1b</li> <li>\u586b\u5199\u6807\u9898\u3010Title\u3011\u5b57\u6bb5\uff1b</li> <li>\u9009\u62e9\u5bc6\u94a5\u7c7b\u578b\u3010Key type\u3011\u4e3a <code>Authentication Key</code>\uff1b</li> <li>\u5728\u5bc6\u94a5\u3010Key\u3011\u5b57\u6bb5\u4e2d\uff0c\u7c98\u8d34\u516c\u94a5\uff1b</li> <li>\u70b9\u51fb\u6dfb\u52a0SSH\u5bc6\u94a5\u3010Add SSH key\u3011\u6309\u94ae\u3002</li> </ul> <p></p>"},{"location":"git/Git/Git%E9%80%9A%E8%BF%87ssh%E5%AF%86%E9%92%A5%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%AC%E5%9C%B0/#\u56db\u514b\u9686\u9879\u76ee\u5230\u672c\u5730","title":"\u56db\u3001\u514b\u9686\u9879\u76ee\u5230\u672c\u5730","text":"<p>\u518d\u6b21\u6253\u5f00\u547d\u4ee4\u884c\u7ec8\u7aef\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u514b\u9686\u9879\u76ee\u5230\u672c\u5730\u6307\u5b9a\u8def\u5f84\u4e0b\uff1a</p> Bash<pre><code>git clone git@github.com:zyx3721/Jerion-MkDoc.git D:\\Jerion-MkDoc\n</code></pre> <p></p> <p>\u589e\u5927Git\u7684\u7f13\u51b2\u533a\u5927\u5c0f\uff1a </p> Bash<pre><code>git config --global http.postBuffer 524288000\n</code></pre> <p>\u5173\u95ed\u90e8\u5206Git\u7279\u6027\u4ee5\u51cf\u5c11\u8d44\u6e90\u6d88\u8017\uff1a</p> Bash<pre><code>git config --global core.compression 0\n</code></pre>"},{"location":"git/Github/GitHub%20%E4%BB%8D%E7%84%B6%E9%98%BB%E6%AD%A2%E4%BA%86%E6%82%A8%E7%9A%84%E6%8E%A8%E9%80%81/","title":"GitHub \u4ecd\u7136\u963b\u6b62\u4e86\u60a8\u7684\u63a8\u9001","text":"<p>\u56e0\u4e3a\u63d0\u4ea4\u4e2d\u7684\u5185\u5bb9\u5305\u542b\u654f\u611f\u4fe1\u606f<code>docs/tech/Git/Github\u83b7\u53d6repo-id.md:25</code></p> Text Only<pre><code>remote:       \u2014\u2014 GitHub Personal Access Token \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\nremote:        locations:\nremote:          - commit: 2b31f3e717c36d7cef273e1ff310dbca62aa3093\nremote:            path: docs/tech/Git/Github\u83b7\u53d6repo-id.md:19\nremote:          - commit: 7690cabb1ca5cf842f511bb586b396945a82c1f9\nremote:            path: docs/tech/Git/Github\u83b7\u53d6repo-id.md:19\nremote:          - commit: 2b31f3e717c36d7cef273e1ff310dbca62aa3093\nremote:            path: docs/tech/Git/Github\u83b7\u53d6repo-id.md:25\nremote:\nremote:        (?) To push, remove secret from commit(s) or follow this URL to allow the secret.\nremote:        https://github.com/joshzhong66/Josh-Mkdocs/security/secret-scanning/unblock-secret/2lSrrQiEjBVFhIRKMt6bRtdCwc7\nremote:\nremote:\nremote:\nTo https://github.com/joshzhong66/Josh-Mkdocs.git\n ! [remote rejected] master -&gt; master (push declined due to repository rule violations)\n</code></pre> <p>\u6839\u636e\u65e5\u5fd7\u4fe1\u606f\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee\u6307\u5b9a\u7684 URL \u6765\u89e3\u9664\u5bf9\u7279\u5b9a\u63d0\u4ea4\u7684\u963b\u6b62\u3002\u5982\u679c\u60a8\u786e\u5b9a\u63d0\u4ea4\u4e2d\u7684\u5185\u5bb9\u4e0d\u662f\u654f\u611f\u4fe1\u606f\u6216\u8005\u60a8\u5df2\u7ecf\u5904\u7406\u4e86\u76f8\u5173\u5185\u5bb9\uff0c\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u6765\u89e3\u9664\u9650\u5236\u5e76\u7ee7\u7eed\u63a8\u9001\uff1a</p> <p>\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u4ee5\u4e0b\u94fe\u63a5\uff1a</p> Text Only<pre><code>https://github.com/joshzhong66/Josh-Mkdocs/security/secret-scanning/unblock-secret/2lSrrNaIXxv0fv0MOrM9wAZSZQ9\n</code></pre> <p>\u8fd9\u4e2a\u94fe\u63a5\u5c06\u5e26\u60a8\u8fdb\u5165 GitHub \u7684\u89e3\u9664\u963b\u6b62\u9875\u9762\uff0c\u60a8\u9700\u8981\u5728\u8fd9\u4e2a\u9875\u9762\u4e0a\u786e\u8ba4\u662f\u5426\u5141\u8bb8\u63a8\u9001\u5305\u542b\u68c0\u6d4b\u5230\u7684\u201c\u654f\u611f\u4fe1\u606f\u201d\u7684\u63d0\u4ea4\u3002</p> <p></p> <p>\u91cd\u65b0\u63a8\u9001\uff1a</p> <ul> <li>\u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\u540e\uff0c\u8fd4\u56de\u547d\u4ee4\u884c\uff0c\u518d\u6b21\u5c1d\u8bd5\u63a8\u9001\uff1a   Bash<pre><code>git push origin master\n</code></pre></li> <li>\u5982\u679c\u89e3\u9664\u9650\u5236\u6210\u529f\uff0c\u63a8\u9001\u5e94\u8be5\u53ef\u4ee5\u987a\u5229\u5b8c\u6210\u3002</li> </ul>"},{"location":"git/Github/GitHub%20%E8%B4%A6%E6%88%B7%E7%94%9F%E6%88%90token/","title":"GitHub \u8d26\u6237\u751f\u6210token","text":"<p>\u83b7\u53d6 GitHub Token \u9700\u8981\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\uff1a</p>"},{"location":"git/Github/GitHub%20%E8%B4%A6%E6%88%B7%E7%94%9F%E6%88%90token/#1-\u767b\u5f55-github-\u8d26\u6237","title":"1. \u767b\u5f55 GitHub \u8d26\u6237","text":"<p>\u9996\u5148\uff0c\u4f60\u9700\u8981\u767b\u5f55\u5230\u4f60\u7684 GitHub \u8d26\u6237\u3002</p>"},{"location":"git/Github/GitHub%20%E8%B4%A6%E6%88%B7%E7%94%9F%E6%88%90token/#2-\u8fdb\u5165\u4e2a\u4eba\u8bbe\u7f6e","title":"2. \u8fdb\u5165\u4e2a\u4eba\u8bbe\u7f6e","text":"<p>\u5728\u767b\u5f55\u540e\uff0c\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u5934\u50cf\uff0c\u7136\u540e\u9009\u62e9 \u201cSettings\u201d \u8fdb\u5165\u4e2a\u4eba\u8bbe\u7f6e\u9875\u9762\u3002</p>"},{"location":"git/Github/GitHub%20%E8%B4%A6%E6%88%B7%E7%94%9F%E6%88%90token/#3-\u8fdb\u5165-developer-settings","title":"3. \u8fdb\u5165 Developer Settings","text":"<p>\u5728\u8bbe\u7f6e\u9875\u9762\u7684\u5de6\u4fa7\u83dc\u5355\u680f\u4e2d\uff0c\u5411\u4e0b\u6eda\u52a8\u627e\u5230 \u201cDeveloper settings\u201d \u5e76\u70b9\u51fb\u8fdb\u5165\u3002</p>"},{"location":"git/Github/GitHub%20%E8%B4%A6%E6%88%B7%E7%94%9F%E6%88%90token/#4-\u8fdb\u5165-personal-access-tokens","title":"4. \u8fdb\u5165 Personal Access Tokens","text":"<p>\u5728 Developer settings \u9875\u9762\uff0c\u9009\u62e9 \u201cPersonal access tokens\u201d\uff0c\u7136\u540e\u70b9\u51fb \u201cTokens (classic)\u201d\u3002\u8fd9\u662f\u7528\u6765\u751f\u6210 GitHub Token \u7684\u9875\u9762\u3002</p>"},{"location":"git/Github/GitHub%20%E8%B4%A6%E6%88%B7%E7%94%9F%E6%88%90token/#5-\u751f\u6210\u65b0-token","title":"5. \u751f\u6210\u65b0 Token","text":"<p>\u5728 Tokens (classic) \u9875\u9762\uff0c\u70b9\u51fb \u201cGenerate new token\u201d \u6309\u94ae\uff0c\u5f00\u59cb\u751f\u6210\u65b0\u7684 Token\u3002</p>"},{"location":"git/Github/GitHub%20%E8%B4%A6%E6%88%B7%E7%94%9F%E6%88%90token/#6-\u9009\u62e9\u6743\u9650","title":"6. \u9009\u62e9\u6743\u9650","text":"<p>\u5728\u751f\u6210 Token \u7684\u9875\u9762\uff0c\u4f60\u9700\u8981\u4e3a\u8fd9\u4e2a Token \u9009\u62e9\u6743\u9650\u3002\u6743\u9650\u51b3\u5b9a\u4e86\u8fd9\u4e2a Token \u80fd\u505a\u4ec0\u4e48\u64cd\u4f5c\u3002\u5e38\u89c1\u7684\u6743\u9650\u5305\u62ec\uff1a</p> <ul> <li><code>repo</code>: \u8bbf\u95ee\u516c\u5171\u548c\u79c1\u6709\u4ed3\u5e93\u3002</li> <li><code>gist</code>: \u8bbf\u95ee Gist\u3002</li> <li><code>admin:org</code>: \u7ba1\u7406\u7ec4\u7ec7\u3002</li> <li><code>workflow</code>: \u8bbf\u95ee\u548c\u7ba1\u7406 GitHub Actions \u5de5\u4f5c\u6d41\u3002</li> </ul> <p>\u6839\u636e\u4f60\u7684\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u6743\u9650\u3002\u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u9700\u8981\u54ea\u4e9b\u6743\u9650\uff0c\u901a\u5e38 <code>repo</code> \u662f\u4e00\u4e2a\u6bd4\u8f83\u5e38\u7528\u7684\u9009\u9879\uff0c\u5b83\u5141\u8bb8\u4f60\u5bf9\u4ed3\u5e93\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002</p>"},{"location":"git/Github/GitHub%20%E8%B4%A6%E6%88%B7%E7%94%9F%E6%88%90token/#7-\u8bbe\u7f6e-token-\u7684\u540d\u79f0\u548c\u6709\u6548\u671f","title":"7. \u8bbe\u7f6e Token \u7684\u540d\u79f0\u548c\u6709\u6548\u671f","text":"<p>\u5728\u6743\u9650\u8bbe\u7f6e\u7684\u4e0a\u65b9\uff0c\u4f60\u53ef\u4ee5\u4e3a\u8fd9\u4e2a Token \u8bbe\u7f6e\u4e00\u4e2a\u63cf\u8ff0\u6027\u7684\u540d\u79f0\uff0c\u5e76\u9009\u62e9 Token \u7684\u6709\u6548\u671f\uff08\u4f8b\u598230\u5929\uff0c60\u5929\u7b49\uff09\u3002\u9009\u62e9\u5408\u7406\u7684\u6709\u6548\u671f\u540e\uff0c\u4f60\u7684 Token \u5c06\u5728\u6b64\u671f\u9650\u540e\u81ea\u52a8\u5931\u6548\u3002</p>"},{"location":"git/Github/GitHub%20%E8%B4%A6%E6%88%B7%E7%94%9F%E6%88%90token/#8-\u751f\u6210-token","title":"8. \u751f\u6210 Token","text":"<p>\u786e\u8ba4\u8bbe\u7f6e\u65e0\u8bef\u540e\uff0c\u70b9\u51fb\u9875\u9762\u5e95\u90e8\u7684 \u201cGenerate token\u201d \u6309\u94ae\u3002\u6b64\u65f6\uff0cGitHub \u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684 Token\uff0c\u5e76\u5c55\u793a\u5728\u9875\u9762\u4e0a\u3002</p> <p></p> <p>Generate new token (Beta) - Fine-grained, repo-scoped: \u8fd9\u662f\u4e00\u4e2a\u65b0\u7684\u3001\u66f4\u7cbe\u7ec6\u5316\u7684 Token \u7c7b\u578b\uff0c\u5141\u8bb8\u4f60\u4e3a\u7279\u5b9a\u7684\u4ed3\u5e93\u6216\u4e00\u7ec4\u4ed3\u5e93\u751f\u6210 Token\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u4ed3\u5e93\u9009\u62e9\u66f4\u7ec6\u81f4\u7684\u6743\u9650\u3002\u8fd9\u79cd Token \u66f4\u5b89\u5168\uff0c\u56e0\u4e3a\u5b83\u53ea\u6388\u4e88\u4f60\u9009\u62e9\u7684\u7279\u5b9a\u6743\u9650\u548c\u4ed3\u5e93\u3002</p> <p>Generate new token (classic): \u8fd9\u662f\u4f20\u7edf\u7684 Token \u7c7b\u578b\uff0c\u9002\u7528\u4e8e\u66f4\u5e7f\u6cdb\u7684\u4f7f\u7528\u573a\u666f\u3002\u4f60\u53ef\u4ee5\u4e3a\u6240\u6709\u7684\u4ed3\u5e93\u751f\u6210\u4e00\u4e2a\u5168\u5c40\u7684 Token\uff0c\u9002\u5408\u9700\u8981\u5728\u591a\u4e2a\u4ed3\u5e93\u4e2d\u6267\u884c\u64cd\u4f5c\u7684\u7528\u6237\u3002</p> <p></p>"},{"location":"git/Github/GitHub%20%E8%B4%A6%E6%88%B7%E7%94%9F%E6%88%90token/#9-\u590d\u5236-token","title":"9. \u590d\u5236 Token","text":"<p>\u6ce8\u610f\uff1a \u751f\u6210\u7684 Token \u53ea\u4f1a\u663e\u793a\u4e00\u6b21\uff0c\u786e\u4fdd\u4f60\u5728\u9875\u9762\u4e0a\u5c06 Token \u590d\u5236\u5230\u5b89\u5168\u7684\u5730\u65b9\u4fdd\u5b58\u3002\u5982\u679c\u4f60\u5fd8\u8bb0\u4fdd\u5b58\uff0c\u9700\u8981\u91cd\u65b0\u751f\u6210\u4e00\u4e2a\u65b0\u7684 Token\u3002</p>"},{"location":"git/Github/GitHub%20%E8%B4%A6%E6%88%B7%E7%94%9F%E6%88%90token/#10-\u4f7f\u7528-token","title":"10. \u4f7f\u7528 Token","text":"<p>\u4f60\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u6216\u5176\u4ed6\u5e94\u7528\u4e2d\u4f7f\u7528\u8fd9\u4e2a Token\u3002\u4f8b\u5982\uff0c\u901a\u8fc7\u547d\u4ee4\u884c\u8bbf\u95ee GitHub API \u6216\u5728\u4f60\u7684 Git \u5ba2\u6237\u7aef\u4e2d\u4f7f\u7528 Token \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002</p> Bash<pre><code>curl -H \"Authorization: token YOUR_GITHUB_TOKEN\" https://api.github.com/repos/\u7528\u6237\u540d/\u4ed3\u5e93\u540d\n</code></pre>"},{"location":"git/Github/GitHub%E5%90%AF%E7%94%A8Discussions/","title":"GitHub\u542f\u7528Discussions","text":""},{"location":"git/Github/GitHub%E5%90%AF%E7%94%A8Discussions/#github\u5f00\u542f-discussions","title":"GitHub\u5f00\u542f Discussions","text":""},{"location":"git/Github/GitHub%E5%90%AF%E7%94%A8Discussions/#1-\u542f\u7528-github-discussions","title":"1. \u542f\u7528 GitHub Discussions","text":"<p>Giscus \u4f9d\u8d56\u4e8e GitHub Discussions \u529f\u80fd\uff0c\u56e0\u6b64\u4f60\u9700\u8981\u5728\u4ed3\u5e93\u4e2d\u542f\u7528 Discussions\u3002\u4f60\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u6765\u542f\u7528\uff1a</p> <ol> <li>\u8fdb\u5165\u4f60\u7684 GitHub \u4ed3\u5e93 <code>joshzhong66/Josh-Mkdocs</code>\u3002</li> <li>\u70b9\u51fb\u4e0a\u65b9\u7684 \u201cSettings\u201d\u3002</li> <li>\u5728\u5de6\u4fa7\u83dc\u5355\u4e2d\u627e\u5230 \u201cFeatures\u201d \u9009\u9879\u3002</li> <li>\u786e\u4fdd \u201cDiscussions\u201d \u5df2\u7ecf\u52fe\u9009\u5e76\u542f\u7528\u3002</li> </ol>"},{"location":"git/Github/GitHub%E5%90%AF%E7%94%A8Discussions/#2-\u521b\u5efa\u4e00\u4e2a-discussions","title":"2. \u521b\u5efa\u4e00\u4e2a Discussions","text":"<p>\u542f\u7528 Discussions \u540e\uff0c\u4f60\u9700\u8981\u521b\u5efa\u4e00\u4e2a Discussions\uff1a</p> <ol> <li>\u6253\u5f00\u4ed3\u5e93\u7684 Discussions \u9875\u9762\uff0c\u70b9\u51fb\u4ed3\u5e93\u4e3b\u9875\u9762\u4e2d\u7684 Discussions \u6807\u7b7e\u3002</li> <li>\u70b9\u51fb New discussion \u6309\u94ae\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8ba8\u8bba\u3002</li> <li>\u5728\u521b\u5efa\u8fc7\u7a0b\u4e2d\uff0c\u4e3a\u8ba8\u8bba\u6dfb\u52a0\u6807\u9898\u548c\u5185\u5bb9\uff0c\u7136\u540e\u63d0\u4ea4\u3002</li> </ol>"},{"location":"git/Github/GitHub%E5%90%AF%E7%94%A8Discussions/#3-\u83b7\u53d6-discussions-\u7684\u7f16\u53f7","title":"3. \u83b7\u53d6 Discussions \u7684\u7f16\u53f7","text":"<p>\u63d0\u4ea4 Discussions \u540e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u83b7\u53d6\u7f16\u53f7\uff1a</p>"},{"location":"git/Github/GitHub%E5%90%AF%E7%94%A8Discussions/#\u65b9\u6cd5\u4e00\u67e5\u770b-url","title":"\u65b9\u6cd5\u4e00\uff1a\u67e5\u770b URL","text":"<ol> <li>\u6253\u5f00\u4f60\u521a\u521a\u521b\u5efa\u7684 Discussions\u3002</li> <li>\u5728\u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u4e2d\u67e5\u770b URL\u3002URL \u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u683c\u5f0f\uff1a    Text Only<pre><code>https://github.com/joshzhong66/Josh-Mkdocs/discussions/6\n</code></pre></li> <li>URL \u4e2d\u7684\u6700\u540e\u4e00\u90e8\u5206\u6570\u5b57\uff08\u4f8b\u5982 <code>/6</code>\uff09\u5c31\u662f\u8fd9\u4e2a Discussions \u7684\u7f16\u53f7\u3002\u8fd9\u4e2a\u7f16\u53f7\u5c31\u662f\u4f60\u8981\u5728 <code>data-term</code> \u4e2d\u4f7f\u7528\u7684\u503c\u3002</li> </ol>"},{"location":"git/Github/GitHub%E5%90%AF%E7%94%A8Discussions/#\u65b9\u6cd5\u4e8c\u4f7f\u7528-github-api","title":"\u65b9\u6cd5\u4e8c\uff1a\u4f7f\u7528 GitHub API","text":"<p>\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 GitHub API \u83b7\u53d6 Discussions \u7684\u7f16\u53f7\uff1a</p> <ol> <li>\u901a\u8fc7 API \u83b7\u53d6\u4ed3\u5e93 Discussions \u5217\u8868\uff1a    Bash<pre><code>curl -H \"Authorization: token YOUR_GITHUB_TOKEN\" https://api.github.com/repos/joshzhong66/Josh-Mkdocs/discussions\n</code></pre></li> <li>\u5728\u8fd4\u56de\u7684 JSON \u6570\u636e\u4e2d\u67e5\u627e Discussions \u7684 <code>number</code> \u5b57\u6bb5\uff0c\u8fd9\u5c31\u662f\u4f60\u9700\u8981\u7684\u7f16\u53f7\u3002</li> </ol>"},{"location":"git/Github/GitHub%E5%90%AF%E7%94%A8Discussions/#4-\u5728-giscus-\u4e2d\u4f7f\u7528\u7f16\u53f7","title":"4. \u5728 Giscus \u4e2d\u4f7f\u7528\u7f16\u53f7","text":"<p>\u5c06\u83b7\u53d6\u7684\u7f16\u53f7\u586b\u5165 <code>data-term</code> \u53c2\u6570\u4e2d\uff1a</p> HTML<pre><code>&lt;script src=\"https://giscus.app/client.js\"\n    data-repo=\"joshzhong66/Josh-Mkdocs\"\n    data-repo-id=\"850548176\"\n    data-mapping=\"number\"\n    data-term=\"6\"  &lt;!-- \u8fd9\u91cc\u7684 6 \u5c31\u662f Discussions \u7684\u7f16\u53f7 --&gt;\n    data-reactions-enabled=\"1\"\n    data-emit-metadata=\"0\"\n    data-input-position=\"bottom\"\n    data-theme=\"light\"\n    data-lang=\"zh-CN\"\n    crossorigin=\"anonymous\"\n    async&gt;\n&lt;/script&gt;\n</code></pre> <p>\u901a\u8fc7\u8fd9\u4e9b\u6b65\u9aa4\uff0c\u4f60\u53ef\u4ee5\u786e\u4fdd <code>data-term</code> \u53c2\u6570\u7684\u503c\u6b63\u786e\u65e0\u8bef\uff0c\u4ece\u800c\u907f\u514d\u4e0e Discussions \u5173\u8054\u65f6\u51fa\u73b0\u95ee\u9898\u3002</p>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/","title":"GitHub\u64cd\u4f5c\u6587\u6863\u53c2\u8003","text":""},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#1github\u6dfb\u52a0ssh-key","title":"1\u3001GitHub\u6dfb\u52a0SSH Key","text":"<p>\u514b\u9686\u9879\u76ee\u9047\u5230\u62a5\u9519\uff1a</p> <p>RPC failed; result=35</p>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#1\u5b89\u88c5git","title":"1.\u5b89\u88c5git","text":"Text Only<pre><code>yum -y install git\n</code></pre>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#2\u5ba2\u6237\u7aef\u751f\u6210ssh-key","title":"2.\u5ba2\u6237\u7aef\u751f\u6210SSH Key","text":"<p>\u751f\u6210\u4e00\u4e2a SSH \u5bc6\u94a5\u5e76\u5c06\u5176\u6dfb\u52a0\u5230 GitHub \u8d26\u6237</p> Text Only<pre><code>ssh-keygen -t rsa -b 4096 -C \"you_github_mail\"\n</code></pre> <p>\u751f\u6210\u8fc7\u7a0b\uff0c\u9700\u8981\u6267\u884c\u4e09\u6b21\u56de\u8f66\uff08Enter\uff09\uff1a</p> <p>Generating public/private rsa key pair. Enter file in which to save the key (/root/.ssh/id_rsa):  Enter passphrase (empty for no passphrase):  Enter same passphrase again:  Your identification has been saved in /root/.ssh/id_rsa. Your public key has been saved in /root/.ssh/id_rsa.pub. The key fingerprint is: SHA256:eK6Ft7m/EUja3Ux+7IrhaOmOaV5ydH5vUQdI0EFusIQ josh.zhong66@gmail.com The key\u2019s randomart image is: +\u2014[RSA 4096]----+ |         .+=+o   | |        E. +o .  | |        . . +  . | |       = o * .  o| |      o S + + o..| |       = o . o.  | |      o *.+ . .. | |      .Xo= = o.  | |     o=+Bo=....  | +----[SHA256]-----+</p>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#3\u67e5\u770b\u5bc6\u94a5","title":"3.\u67e5\u770b\u5bc6\u94a5","text":"<p>\u67e5\u770b\u8f93\u51fa\u7684\u516c\u94a5\u5185\u5bb9\uff0c\u5e76\u5728 GitHub \u7684\u8d26\u6237\u8bbe\u7f6e\u4e2d\u6dfb\u52a0\u8fd9\u4e2a SSH \u5bc6\u94a5\u3002</p> Bash<pre><code>cat ~/.ssh/id_rsa.pub\n</code></pre>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#4\u6dfb\u52a0\u5bc6\u94a5","title":"4.\u6dfb\u52a0\u5bc6\u94a5","text":"<p>\u8bbf\u95eeGitHub\uff0c\u767b\u9646GitHub\u8d26\u6237\uff0c\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a</p> <ol> <li>\u5728 GitHub \u4efb\u610f\u9875\u7684\u53f3\u4e0a\u89d2\uff0c\u5355\u51fb\u4e2a\u4eba\u8d44\u6599\u7167\u7247\uff0c\u7136\u540e\u5355\u51fb\u201c\u8bbe\u7f6e\u201d\u3002</li> <li>\u5728\u8fb9\u680f\u7684\u201cAccess\u201d\u90e8\u5206\u4e2d\uff0c\u5355\u51fb \u201cSSH \u548c GPG \u5bc6\u94a5\u201d\u3002</li> <li>\u5355\u51fb\u201c\u65b0\u5efa SSH \u5bc6\u94a5\u201d\u6216\u201c\u6dfb\u52a0 SSH \u5bc6\u94a5\u201d \u3002</li> <li>\u5728 \u201cTitle\u201d\uff08\u6807\u9898\uff09\u5b57\u6bb5\u4e2d\uff0c\u4e3a\u65b0\u5bc6\u94a5\u6dfb\u52a0\u63cf\u8ff0\u6027\u6807\u7b7e\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u4f7f\u7528\u7684\u662f\u4e2a\u4eba\u7b14\u8bb0\u672c\u7535\u8111\uff0c\u5219\u53ef\u4ee5\u5c06\u6b64\u5bc6\u94a5\u79f0\u4e3a\u201c\u4e2a\u4eba\u7b14\u8bb0\u672c\u7535\u8111\u201d\u3002</li> <li>\u9009\u62e9\u5bc6\u94a5\u7c7b\u578b\uff08\u8eab\u4efd\u9a8c\u8bc1\u6216\u7b7e\u540d\uff09\u3002 \u6709\u5173\u63d0\u4ea4\u7b7e\u540d\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u201c\u5173\u4e8e\u63d0\u4ea4\u7b7e\u540d\u9a8c\u8bc1\u201d\u3002</li> <li>\u5728\u201c\u5bc6\u94a5\u201d\u5b57\u6bb5\u4e2d\uff0c\u7c98\u8d34\u516c\u94a5\u3002</li> <li>\u5355\u51fb\u201c\u6dfb\u52a0 SSH \u5bc6\u94a5\u201d\u3002</li> <li>\u5982\u679c\u51fa\u73b0\u63d0\u793a\uff0c\u8bf7\u786e\u8ba4\u4f60\u7684\u5e10\u6237\u662f\u5426\u62e5\u6709 GitHub \u8bbf\u95ee\u6743\u9650\u3002 \u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u201cSudo \u6a21\u5f0f\u201d\u3002</li> </ol> <p></p>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#2github\u6dfb\u52a0\u7528\u6237","title":"2\u3001GitHub\u6dfb\u52a0\u7528\u6237","text":""},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#1\u67e5\u770bgit\u914d\u7f6e","title":"1.\u67e5\u770bGit\u914d\u7f6e","text":"<p>\u67e5\u770b Git \u662f\u5426\u5df2\u7ecf\u914d\u7f6e\u4e86\u7528\u6237\u540d\u79f0\u548c\u90ae\u7bb1\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Text Only<pre><code>git config --global user.name\ngit config --global user.email\n</code></pre>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#2\u914d\u7f6e\u7528\u6237\u4e0e\u90ae\u7bb1","title":"2.\u914d\u7f6e\u7528\u6237\u4e0e\u90ae\u7bb1","text":"<p>\u5982\u679c\u4f60\u5e0c\u671b\u5728 GitHub \u4e0a\u63d0\u4ea4\u65f6\uff0c\u63d0\u4ea4\u8bb0\u5f55\u4e0e\u4f60\u7684 GitHub \u8d26\u53f7\u4e00\u81f4\uff0c\u90a3\u4e48\u4f60\u5728\u672c\u5730 Git \u914d\u7f6e\u7684\u7528\u6237\u540d\u548c\u90ae\u7bb1\u4e0e GitHub \u8d26\u53f7\u4e5f\u9700\u8981\u4fdd\u6301\u4e00\u81f4\u3002</p> Text Only<pre><code>git config --global user.name \"Your Name\"\ngit config --global user.email \"your_email@example.com\"\n</code></pre> <p>(venv) [root@josh]# git config \u2013global user.name joshzhong66 (venv) [root@josh]# git config \u2013global user.email josh.zhong66@gmail.com (venv) [root@josh]# git config \u2013global user.email josh.zhong66@gmail.com (venv) [root@josh]# git config \u2013global user.name        joshzhong66</p>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#3github\u4ed3\u5e93\u64cd\u4f5c","title":"3\u3001GItHub\u4ed3\u5e93\u64cd\u4f5c","text":""},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#1\u514b\u9686\u9879\u76ee","title":"1.\u514b\u9686\u9879\u76ee","text":"Text Only<pre><code>git clone https://github.com/joshzhong66/JoshZhong-MkDoc.git\n</code></pre> <p>Cloning into \u2018JoshZhong-MkDoc\u2019\u2026 remote: Enumerating objects: 3, done. remote: Counting objects: 100% (3/3), done. remote: Compressing objects: 100% (2/2), done. remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0 (from 0) Unpacking objects: 100% (3/3), done.</p>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#2\u67e5\u770b\u5f53\u524d\u8fdc\u7a0b\u4ed3\u5e93","title":"2.\u67e5\u770b\u5f53\u524d\u8fdc\u7a0b\u4ed3\u5e93","text":"<p>\u67e5\u770b\u5f53\u524d\u914d\u7f6e\u7684\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740</p> Text Only<pre><code>cd /data/Mkdocs-material/JoshZhong-MkDoc\ngit remote -v\n</code></pre> <p>origin  https://github.com/shenweiyan/Knowledge-Garden.git (fetch) origin  https://github.com/shenweiyan/Knowledge-Garden.git (push)</p>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#3\u79fb\u9664\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740","title":"3.\u79fb\u9664\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740","text":"Text Only<pre><code>git remote remove origin\ngit remote -v   #\u518d\u6b21\u67e5\u770b\u5f53\u524d\u914d\u7f6e\u7684\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\uff0c\u4f1a\u53d1\u73b0\u5df2\u7ecf\u6ca1\u6709\u4e86\n</code></pre>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#4\u6dfb\u52a0\u60a8\u7684-github-\u4ed3\u5e93\u4f5c\u4e3a\u8fdc\u7a0b\u4ed3\u5e93","title":"4.\u6dfb\u52a0\u60a8\u7684 GitHub \u4ed3\u5e93\u4f5c\u4e3a\u8fdc\u7a0b\u4ed3\u5e93","text":"<p>\u6dfb\u52a0\u6211\u7684\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u4f5c\u4e3a\u4f5c\u4e3a\u8fdc\u7a0b\u4ed3\u5e93</p> Text Only<pre><code>git remote add origin https://github.com/joshzhong66/JoshZhong-MkDoc.git    $https\ngit remote add origin git@github.com:joshzhong66/JoshZhong-MkDoc.git        #ssh url\n</code></pre> <p>\u4e4b\u524d\u5df2\u7ecf\u914d\u7f6e\u4e86 SSH \u5bc6\u94a5\u5e76\u6dfb\u52a0\u5230 GitHub\uff0c\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 SSH URL\uff0c\u8fd9\u6837\u65e0\u9700\u6bcf\u6b21\u63a8\u9001\u65f6\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801</p> <p>\u518d\u6b21\u67e5\u770b\u5f53\u524d\u914d\u7f6e\u7684\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\uff0c\u786e\u8ba4\u5730\u5740\u662f\u5426\u53d8\u66f4</p> Text Only<pre><code>git remote -v\n</code></pre> <p>(venv) [root@josh JoshZhong-MkDoc]# git remote -v origin  https://github.com/joshzhong66/JoshZhong-MkDoc.git (fetch) origin  https://github.com/joshzhong66/JoshZhong-MkDoc.git (push)</p>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#5\u63d0\u4ea4\u4ee3\u7801","title":"5.\u63d0\u4ea4\u4ee3\u7801","text":"Text Only<pre><code>git commit -m \"Your commit message\" #\u63d0\u4ea4\u4ee3\u7801\ngit push --force origin main        # main\u6216\u8005 master\u6307\u5206\u652f\u540d\u79f0\ngit push --force origin main        #\u5f3a\u5236\u63a8\u9001\n</code></pre>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#6\u62c9\u53d6\u66f4\u65b0\u4ee3\u7801","title":"6.\u62c9\u53d6\u66f4\u65b0\u4ee3\u7801","text":"Text Only<pre><code>git pull origin main\n</code></pre> <ul> <li><code>origin</code> \u662f\u8fdc\u7a0b\u4ed3\u5e93\u7684\u9ed8\u8ba4\u540d\u79f0\u3002</li> <li><code>main</code> \u662f\u60a8\u8981\u62c9\u53d6\u7684\u8fdc\u7a0b\u5206\u652f\u540d\u79f0\u3002</li> </ul>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#4\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","title":"4\u3001\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","text":""},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#1git-add\u62a5\u9519\u53c2\u8003","title":"1.git add\u62a5\u9519\u53c2\u8003","text":"<p>\u4e3a\u4ec0\u4e48\u4f1a\u4f7f\u7528<code>git add .</code>\uff0c\u662f\u56e0\u4e3a\u8fdc\u7a0b\u4ee3\u7801\u548c\u60a8\u7684\u672c\u5730\u4ee3\u7801\u4e4b\u95f4\u6709\u51b2\u7a81\uff0cGit \u4f1a\u63d0\u793a\u60a8\u89e3\u51b3\u51b2\u7a81\u3002</p>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#1git-add\u62a5\u9519","title":"1.git add\u62a5\u9519","text":"Text Only<pre><code>(venv) [root@josh JoshZhong-MkDoc]# git add .\n</code></pre> <p>\u5982\u679c\u5728\u6267\u884c <code>git add .</code> \u65f6\u9047\u5230\u4e86\u5220\u9664\u6587\u4ef6\u672a\u88ab\u8ffd\u8e2a\u7684\u95ee\u9898\u3002\u8fd9\u662f\u56e0\u4e3a\u5f53\u524d\u7248\u672c\u7684 Git \u9ed8\u8ba4\u4e0d\u4f1a\u8ffd\u8e2a\u5df2\u5220\u9664\u7684\u6587\u4ef6\uff0c\u60a8\u9700\u8981\u660e\u786e\u544a\u8bc9 Git \u8bb0\u5f55\u8fd9\u4e9b\u5220\u9664\u64cd\u4f5c\u3002</p>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#2git-add\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","title":"2.git add\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","text":"<p>\u4f7f\u7528 <code>git status</code> \u68c0\u67e5\u5de5\u4f5c\u533a\u72b6\u6001</p> Text Only<pre><code>git status      #\u4f7f\u7528 git status \u68c0\u67e5\u54ea\u4e9b\u6587\u4ef6\u88ab\u5220\u9664\u6216\u4fee\u6539\n git add --all  #\u4f7f\u7528 git add --all \u8bb0\u5f55\u6240\u6709\u66f4\u6539\n</code></pre> <p>(venv) [root@josh JoshZhong-MkDoc]# git add \u2013all (venv) [root@josh JoshZhong-MkDoc]# git commit -m \u201c\u4fee\u6539mkdocs.yml\u201d [main 85fbf1e] \u4fee\u6539mkdocs.yml 327 files changed, 40126 insertions(+), 40303 deletions(-) create mode 100644 pycache/hooks.cpython-39.pyc create mode 100644 pycache/meta_slugs.cpython-39.pyc delete mode 100644 script/discussions2Mkdocs.py</p> <p>\u4f7f\u7528 <code>git add --all</code> \u6216 <code>git add -A</code>\uff0c\u8fd9\u6837 Git \u5c06\u4f1a\u8ffd\u8e2a\u65b0\u589e\u3001\u4fee\u6539\u548c\u5220\u9664\u7684\u6240\u6709\u6587\u4ef6\uff0c\u6267\u884c <code>git add --all</code> \u540e\uff0c\u60a8\u53ef\u4ee5\u7ee7\u7eed\u63d0\u4ea4\u66f4\u6539</p>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#3\u518d\u6b21\u63d0\u4ea4\u4ee3\u7801","title":"3.\u518d\u6b21\u63d0\u4ea4\u4ee3\u7801","text":"Text Only<pre><code>git commit -m \"Your commit message\"\n</code></pre>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#4\u63a8\u9001\u66f4\u6539\u5230\u8fdc\u7a0b\u4ed3\u5e93","title":"4.\u63a8\u9001\u66f4\u6539\u5230\u8fdc\u7a0b\u4ed3\u5e93","text":"Text Only<pre><code>git push origin main\n</code></pre>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#2\u63a8\u9001\u4ee3\u7801\u62a5\u9519","title":"2.\u63a8\u9001\u4ee3\u7801\u62a5\u9519","text":"Text Only<pre><code>git push origin main\n</code></pre> <p>(venv) [root@josh JoshZhong-MkDoc]# git push origin main The authenticity of host \u2018github.com (20.205.243.166)\u2019 can\u2019t be established. ECDSA key fingerprint is SHA256:p2QAMXNIC1TJYWeIOttrVc98/R1BUFWu3/LiyKgUfQM. ECDSA key fingerprint is MD5:7b:99:81:1e:4c:91:a5:0d:5a:2e:2e:80:13:3f:24:ca. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added \u2018github.com,20.205.243.166\u2019 (ECDSA) to the list of known hosts. To git@github.com:joshzhong66/JoshZhong-MkDoc.git ! [rejected]        main -&gt; main (fetch first) error: failed to push some refs to \u2018git@github.com:joshzhong66/JoshZhong-MkDoc.git\u2019 hint: Updates were rejected because the remote contains work that you do hint: not have locally. This is usually caused by another repository pushing hint: to the same ref. You may want to first merge the remote changes (e.g., hint: \u2018git pull\u2019) before pushing again. hint: See the \u2018Note about fast-forwards\u2019 in \u2018git push \u2013help\u2019 for details.</p> <p>\u9519\u8bef\u662f\u56e0\u4e3a\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u7684 <code>main</code> \u5206\u652f\u5305\u542b\u4e86\u4e00\u4e9b\u60a8\u672c\u5730\u4ed3\u5e93\u6ca1\u6709\u7684\u66f4\u6539\u3002Git \u9632\u6b62\u60a8\u5728\u4e0d\u5408\u5e76\u8fd9\u4e9b\u8fdc\u7a0b\u66f4\u6539\u7684\u60c5\u51b5\u4e0b\u76f4\u63a5\u63a8\u9001\u65b0\u7684\u66f4\u6539\uff0c\u4ee5\u907f\u514d\u4e22\u5931\u6570\u636e\u3002</p>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#8\u63a8\u9001\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","title":"8.\u63a8\u9001\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","text":""},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#1\u89e3\u51b3\u529e\u6cd51\u5408\u5e76\u51b2\u7a81\u518d\u6b21\u63d0\u4ea4","title":"1.\u89e3\u51b3\u529e\u6cd51\uff1a\u5408\u5e76\u51b2\u7a81\uff0c\u518d\u6b21\u63d0\u4ea4","text":"<p>1.\u62c9\u53d6\u8fdc\u7a0b\u4ed3\u5e93\u7684\u66f4\u6539\u5e76\u5408\u5e76</p> Text Only<pre><code>git pull origin main\n</code></pre> <p>\u5c06\u62c9\u53d6\u8fdc\u7a0b\u4ed3\u5e93\u7684 <code>main</code> \u5206\u652f\u5e76\u4e0e\u60a8\u7684\u672c\u5730 <code>main</code> \u5206\u652f\u5408\u5e76\u3002\u5982\u679c\u6709\u51b2\u7a81\uff0c\u60a8\u9700\u8981\u624b\u52a8\u89e3\u51b3\u51b2\u7a81\uff0c\u7136\u540e\u63d0\u4ea4\u5408\u5e76\u540e\u7684\u7ed3\u679c\u3002</p> <p>\u63a8\u9001\u5408\u5e76\u540e\u7684\u66f4\u6539</p> <p>2.\u5982\u679c\u5408\u5e76\u6210\u529f\u4e14\u6ca1\u6709\u51b2\u7a81\uff0c\u60a8\u53ef\u4ee5\u63a8\u9001</p> Text Only<pre><code>git push origin main\n</code></pre>"},{"location":"git/Github/GitHub%E6%B7%BB%E5%8A%A0SSH%20Key/#2\u89e3\u51b3\u529e\u6cd52\u8986\u76d6\u8fdc\u7a0b\u4ed3\u5e93","title":"2.\u89e3\u51b3\u529e\u6cd52\uff1a\u8986\u76d6\u8fdc\u7a0b\u4ed3\u5e93","text":"<p>\u5982\u679c\u4e0d\u4fdd\u7559\u8fdc\u7a0b\u66f4\u6539\uff0c\u53ef\u4ee5\u4f7f\u7528\u5f3a\u5236\u63a8\u9001</p> Text Only<pre><code>git push --force origin main\n</code></pre> <p>Counting objects: 1094, done. Delta compression using up to 2 threads. Compressing objects: 100% (938/938), done. Writing objects: 100% (1094/1094), 2.81 MiB | 833.00 KiB/s, done. Total 1094 (delta 429), reused 389 (delta 119) remote: Resolving deltas: 100% (429/429), done. remote: To git@github.com:joshzhong66/JoshZhong-MkDoc.git</p> <ul> <li>f47159d\u202685fbf1e main -&gt; main (forced update)</li> </ul> <p>\u5173\u952e\u70b9\uff1a</p> <ul> <li>Counting objects \u548c Compressing objects: \u8868\u793a Git \u6b63\u5728\u51c6\u5907\u63a8\u9001\u7684\u5bf9\u8c61\u3002</li> <li>Writing objects: \u8868\u793a\u8fd9\u4e9b\u5bf9\u8c61\u5df2\u7ecf\u6210\u529f\u5199\u5165\u8fdc\u7a0b\u4ed3\u5e93\u3002</li> <li>Resolving deltas: \u8fdc\u7a0b\u4ed3\u5e93\u5df2\u7ecf\u6210\u529f\u5904\u7406\u5e76\u5e94\u7528\u4e86\u8fd9\u4e9b\u66f4\u6539\u3002</li> <li>forced update: \u8868\u793a\u60a8\u4f7f\u7528\u4e86\u5f3a\u5236\u63a8\u9001\uff0c\u8986\u76d6\u4e86\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u7684 <code>main</code> \u5206\u652f\u3002</li> </ul> <p>\u53c2\u8003GitHub\u5b98\u65b9\u6587\u6863</p>"},{"location":"git/Github/GitHub%E9%85%8D%E7%BD%AEGiscus%20%26%20Discussions/","title":"GitHub\u914d\u7f6eGiscus &amp; Discussions","text":""},{"location":"git/Github/GitHub%E9%85%8D%E7%BD%AEGiscus%20%26%20Discussions/#1\u521b\u5efa-github-token","title":"1\u3001\u521b\u5efa GitHub Token:","text":"<ol> <li>\u767b\u5f55\u4f60\u7684 GitHub \u8d26\u6237\u3002</li> <li>\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u5934\u50cf\uff0c\u9009\u62e9 \u201cSettings\u201d\u3002</li> <li>\u5728\u5de6\u4fa7\u83dc\u5355\u4e2d\u9009\u62e9 \u201cDeveloper settings\u201d\u3002</li> <li>\u70b9\u51fb \u201cPersonal access tokens\u201d &gt; \u201cTokens (classic)\u201d &gt; \u201cGenerate new token\u201d\u3002</li> <li>\u9009\u62e9\u9700\u8981\u7684\u6743\u9650\uff0c\u751f\u6210 Token\u3002</li> </ol> <p>\u5728\u751f\u6210 Token \u7684\u9875\u9762\uff0c\u4f60\u9700\u8981\u4e3a\u8fd9\u4e2a Token \u9009\u62e9\u6743\u9650\u3002\u6743\u9650\u51b3\u5b9a\u4e86\u8fd9\u4e2a Token \u80fd\u505a\u4ec0\u4e48\u64cd\u4f5c\u3002\u5e38\u89c1\u7684\u6743\u9650\u5305\u62ec\uff1a</p> <ul> <li><code>repo</code>: \u8bbf\u95ee\u516c\u5171\u548c\u79c1\u6709\u4ed3\u5e93\u3002</li> <li><code>gist</code>: \u8bbf\u95ee Gist\u3002</li> <li><code>admin:org</code>: \u7ba1\u7406\u7ec4\u7ec7\u3002</li> <li><code>workflow</code>: \u8bbf\u95ee\u548c\u7ba1\u7406 GitHub Actions \u5de5\u4f5c\u6d41\u3002</li> </ul> <p>\u6839\u636e\u4f60\u7684\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u6743\u9650\u3002\u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u9700\u8981\u54ea\u4e9b\u6743\u9650\uff0c\u901a\u5e38 <code>repo</code> \u662f\u4e00\u4e2a\u6bd4\u8f83\u5e38\u7528\u7684\u9009\u9879\uff0c\u5b83\u5141\u8bb8\u4f60\u5bf9\u4ed3\u5e93\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002</p> <ol> <li>\u8bbe\u7f6e Token \u7684\u540d\u79f0\u548c\u6709\u6548\u671f</li> </ol> <p>\u5728\u6743\u9650\u8bbe\u7f6e\u7684\u4e0a\u65b9\uff0c\u4f60\u53ef\u4ee5\u4e3a\u8fd9\u4e2a Token \u8bbe\u7f6e\u4e00\u4e2a\u63cf\u8ff0\u6027\u7684\u540d\u79f0\uff0c\u5e76\u9009\u62e9 Token \u7684\u6709\u6548\u671f\uff08\u4f8b\u598230\u5929\uff0c60\u5929\u7b49\uff09\u3002\u9009\u62e9\u5408\u7406\u7684\u6709\u6548\u671f\u540e\uff0c\u4f60\u7684 Token \u5c06\u5728\u6b64\u671f\u9650\u540e\u81ea\u52a8\u5931\u6548\u3002</p> <ol> <li>\u751f\u6210 Token</li> </ol> <p>\u70b9\u51fb \u201cGenerate token\u201d \u6309\u94ae\uff0cGitHub \u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684 Token\uff0c\u5e76\u5c55\u793a\u5728\u9875\u9762\u4e0a\u3002</p> <p>**Generate new token (Beta) ** \u5141\u8bb8\u4f60\u4e3a\u7279\u5b9a\u7684\u4ed3\u5e93\u6216\u4e00\u7ec4\u4ed3\u5e93\u751f\u6210 Token\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u4ed3\u5e93\u9009\u62e9\u66f4\u7ec6\u81f4\u7684\u6743\u9650\u3002\u8fd9\u79cd Token \u66f4\u5b89\u5168\uff0c\u56e0\u4e3a\u5b83\u53ea\u6388\u4e88\u4f60\u9009\u62e9\u7684\u7279\u5b9a\u6743\u9650\u548c\u4ed3\u5e93\u3002</p> <p>Generate new token (classic): \u8fd9\u662f\u4f20\u7edf\u7684 Token \u7c7b\u578b\uff0c\u9002\u7528\u4e8e\u66f4\u5e7f\u6cdb\u7684\u4f7f\u7528\u573a\u666f\u3002\u4f60\u53ef\u4ee5\u4e3a\u6240\u6709\u7684\u4ed3\u5e93\u751f\u6210\u4e00\u4e2a\u5168\u5c40\u7684 Token\uff0c\u9002\u5408\u9700\u8981\u5728\u591a\u4e2a\u4ed3\u5e93\u4e2d\u6267\u884c\u64cd\u4f5c\u7684\u7528\u6237\u3002</p> <ol> <li>\u590d\u5236 Token</li> </ol> <p>\u751f\u6210\u7684 Token \u53ea\u4f1a\u663e\u793a\u4e00\u6b21\uff0c\u786e\u4fdd\u4f60\u5728\u9875\u9762\u4e0a\u5c06 Token \u590d\u5236\u5230\u5b89\u5168\u7684\u5730\u65b9\u4fdd\u5b58\u3002\u5982\u679c\u4f60\u5fd8\u8bb0\u4fdd\u5b58\uff0c\u9700\u8981\u91cd\u65b0\u751f\u6210\u4e00\u4e2a\u65b0\u7684 Token\u3002</p>"},{"location":"git/Github/GitHub%E9%85%8D%E7%BD%AEGiscus%20%26%20Discussions/#2github-api-\u83b7\u53d6\u4ed3\u5e93\u4fe1\u606f","title":"2\u3001GitHub API \u83b7\u53d6\u4ed3\u5e93\u4fe1\u606f","text":"<p>\u590d\u5236\u751f\u6210\u7684token\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\uff0c\u7528\u4e8e\u83b7\u53d6GitHub \u4ed3\u5e93\u7684\u76f8\u5173\u4fe1\u606f\uff08\u4f8b\u5982\u4ed3\u5e93\u7684 ID \u6216\u5176\u4ed6 metadata\uff09</p> Bash<pre><code>curl -H \"Authorization: token YOUR_GITHUB_TOKEN\" https://api.github.com/repos/\u7528\u6237\u540d/\u4ed3\u5e93\u540d\n</code></pre> <p>\u5176\u4e2d\uff0c<code>YOUR_GITHUB_TOKEN</code> \u662f\u4f60\u7684 GitHub Personal Access Token\u3002\u4f60\u9700\u8981\u66ff\u6362 <code>\u7528\u6237\u540d/\u4ed3\u5e93\u540d</code> \u4e3a\u4f60\u8981\u67e5\u8be2\u7684 GitHub \u4ed3\u5e93\u3002</p> <p>\u5728\u8fd4\u56de\u7684 JSON \u6570\u636e\u4e2d\uff0c\u4f60\u53ef\u4ee5\u627e\u5230 <code>id</code> \u5b57\u6bb5\uff0c\u8fd9\u5c31\u662f <code>repo_id</code></p>"},{"location":"git/Github/GitHub%E9%85%8D%E7%BD%AEGiscus%20%26%20Discussions/#3\u542f\u7528-github-discussions","title":"3\u3001\u542f\u7528 GitHub Discussions","text":"<p>Giscus \u4f9d\u8d56\u4e8e GitHub Discussions \u529f\u80fd\uff0c\u56e0\u6b64\u4f60\u9700\u8981\u5728\u4ed3\u5e93\u4e2d\u542f\u7528 Discussions\u3002\u4f60\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u6765\u542f\u7528\uff1a</p> <ol> <li>\u8fdb\u5165\u4f60\u7684 GitHub \u4ed3\u5e93 <code>joshzhong66/Josh-Mkdocs</code>\u3002</li> <li>\u70b9\u51fb\u4e0a\u65b9\u7684 \u201cSettings\u201d\u3002</li> <li>\u5728\u5de6\u4fa7\u83dc\u5355\u4e2d\u627e\u5230 \u201cFeatures\u201d \u9009\u9879\u3002</li> <li>\u786e\u4fdd \u201cDiscussions\u201d \u5df2\u7ecf\u52fe\u9009\u5e76\u542f\u7528\u3002</li> </ol>"},{"location":"git/Github/GitHub%E9%85%8D%E7%BD%AEGiscus%20%26%20Discussions/#4\u5b89\u88c5giscus","title":"4\u3001\u5b89\u88c5Giscus","text":"<p>\u8bbf\u95ee\u5730\u5740Giscus\u5730\u5740\u5b89\u88c5Giscus\uff1a</p> <ol> <li>\u70b9\u51fb \u201cInstall it for free\u201d \u6309\u94ae\u3002</li> <li>\u9009\u62e9\u4ed3\u5e93\uff1a\u5728\u63a5\u4e0b\u6765\u7684\u9875\u9762\u4e2d\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u5c06 Giscus \u5b89\u88c5\u5230 \u6240\u6709\u4ed3\u5e93 \u6216 \u7279\u5b9a\u7684\u4ed3\u5e93\u3002\u9009\u62e9 \u201cOnly select repositories\u201d\uff0c\u7136\u540e\u9009\u62e9\u4f60\u8981\u4f7f\u7528\u7684\u4ed3\u5e93\uff08\u4f8b\u5982 <code>joshzhong66/Josh-Mkdocs</code>\uff09\u3002</li> <li>\u786e\u8ba4\u5b89\u88c5\uff1a\u70b9\u51fb Install \u6309\u94ae\uff0c\u786e\u8ba4\u5c06 Giscus \u5b89\u88c5\u5230\u6240\u9009\u7684\u4ed3\u5e93\u3002</li> </ol> <p></p> <p>5\u3001\u914d\u7f6eGiscus</p> <p>1.\u8bbf\u95eeGiscus\u7f51\u5740</p> <p>2.\u8f93\u5165\u4ed3\u5e93\u540d\u79f0\u8fdb\u884c\u9a8c\u8bc1</p> <p></p>"},{"location":"git/Github/GitHub%E9%85%8D%E7%BD%AEGiscus%20%26%20Discussions/#_1","title":"GitHub\u914d\u7f6eGiscus &amp; Discussions","text":"Text Only<pre><code>&lt;script src=\"https://giscus.app/client.js\"\n        data-repo=\"joshzhong66/Josh-Mkdocs\"\n        data-repo-id=\"R_kgDOMrJV0A\"\n        data-category=\"Announcements\"\n        data-category-id=\"DIC_kwDOMrJV0M4CiH4K\"\n        data-mapping=\"pathname\"\n        data-strict=\"0\"\n        data-reactions-enabled=\"0\"\n        data-emit-metadata=\"0\"\n        data-input-position=\"bottom\"\n        data-theme=\"light\"\n        data-lang=\"zh-CN\"\n        crossorigin=\"anonymous\"\n        async&gt;\n&lt;/script&gt;\n</code></pre>"},{"location":"git/Github/Github%E8%8E%B7%E5%8F%96repo-id/","title":"Github\u83b7\u53d6repo id","text":""},{"location":"git/Github/Github%E8%8E%B7%E5%8F%96repo-id/#github\u83b7\u53d6repo-id","title":"Github\u83b7\u53d6repo-id","text":""},{"location":"git/Github/Github%E8%8E%B7%E5%8F%96repo-id/#1-github-\u4ed3\u5e93\u4fe1\u606f","title":"1. GitHub \u4ed3\u5e93\u4fe1\u606f","text":"<p>\u5982\u679c\u4f60\u60f3\u83b7\u53d6 GitHub \u4ed3\u5e93\u7684\u76f8\u5173\u4fe1\u606f\uff08\u4f8b\u5982\u4ed3\u5e93\u7684 ID \u6216\u5176\u4ed6 metadata\uff09\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 GitHub API \u6216\u8005\u901a\u8fc7 GitHub \u7f51\u7ad9\u76f4\u63a5\u83b7\u53d6\u3002</p> <p>\u4f7f\u7528 GitHub API \u83b7\u53d6\u4ed3\u5e93\u4fe1\u606f\uff1a \u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u83b7\u53d6\u4e00\u4e2a\u4ed3\u5e93\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec <code>repo_id</code> \u7b49\u6570\u636e\u3002</p> Bash<pre><code>curl -H \"Authorization: token YOUR_GITHUB_TOKEN\" https://api.github.com/repos/\u7528\u6237\u540d/\u4ed3\u5e93\u540d\n</code></pre> <p>\u5176\u4e2d\uff0c<code>YOUR_GITHUB_TOKEN</code> \u662f\u4f60\u7684 GitHub Personal Access Token\u3002\u4f60\u9700\u8981\u66ff\u6362 <code>\u7528\u6237\u540d/\u4ed3\u5e93\u540d</code> \u4e3a\u4f60\u8981\u67e5\u8be2\u7684 GitHub \u4ed3\u5e93\u3002</p> <p>\u793a\u4f8b:</p> Bash<pre><code>curl -H \"Authorization: token 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\" https://api.github.com/repos/joshzhong66/Josh-Mkdocs\n</code></pre> <p>\u5728\u8fd4\u56de\u7684 JSON \u6570\u636e\u4e2d\uff0c\u4f60\u53ef\u4ee5\u627e\u5230 <code>id</code> \u5b57\u6bb5\uff0c\u8fd9\u5c31\u662f <code>repo_id</code>\u3002</p>"},{"location":"git/Github/Github%E8%8E%B7%E5%8F%96repo-id/#2-git-\u672c\u5730\u4ed3\u5e93\u4fe1\u606f","title":"2. Git \u672c\u5730\u4ed3\u5e93\u4fe1\u606f","text":"<p>\u5982\u679c\u4f60\u662f\u60f3\u83b7\u53d6\u672c\u5730 Git \u4ed3\u5e93\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <p>\u67e5\u770b Git \u914d\u7f6e: Bash<pre><code>git config --list\n</code></pre></p> <p>\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5217\u51fa\u5f53\u524d\u4ed3\u5e93\u7684\u6240\u6709 Git \u914d\u7f6e\uff0c\u5305\u62ec\u7528\u6237\u4fe1\u606f\u3001\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u7b49\u3002</p> <p>\u83b7\u53d6\u5f53\u524d\u4ed3\u5e93\u7684\u8fdc\u7a0b\u4ed3\u5e93 URL: Bash<pre><code>git remote -v\n</code></pre></p> <p>\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u663e\u793a\u5f53\u524d Git \u4ed3\u5e93\u914d\u7f6e\u7684\u6240\u6709\u8fdc\u7a0b\u4ed3\u5e93 URL\u3002</p> <p>\u67e5\u770b\u5f53\u524d\u4ed3\u5e93\u7684\u72b6\u6001: Bash<pre><code>git status\n</code></pre></p> <p>\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u663e\u793a\u5f53\u524d\u4ed3\u5e93\u7684\u72b6\u6001\u4fe1\u606f\uff0c\u5305\u62ec\u672a\u63d0\u4ea4\u7684\u66f4\u6539\u3001\u5206\u652f\u4fe1\u606f\u7b49\u3002</p>"},{"location":"git/Github/Github%E8%8E%B7%E5%8F%96repo-id/#3-\u83b7\u53d6-github-token","title":"3. \u83b7\u53d6 GitHub Token","text":"<p>\u5982\u679c\u4f60\u9700\u8981\u8bbf\u95ee GitHub API \u6216\u8fdb\u884c\u5176\u4ed6\u4e0e GitHub \u76f8\u5173\u7684\u64cd\u4f5c\uff0c\u53ef\u80fd\u9700\u8981\u4e00\u4e2a GitHub Personal Access Token\u3002</p> <p>\u521b\u5efa GitHub Token: 1. \u767b\u5f55\u4f60\u7684 GitHub \u8d26\u6237\u3002 2. \u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u5934\u50cf\uff0c\u9009\u62e9 \u201cSettings\u201d\u3002 3. \u5728\u5de6\u4fa7\u83dc\u5355\u4e2d\u9009\u62e9 \u201cDeveloper settings\u201d\u3002 4. \u70b9\u51fb \u201cPersonal access tokens\u201d &gt; \u201cTokens (classic)\u201d &gt; \u201cGenerate new token\u201d\u3002 5. \u9009\u62e9\u9700\u8981\u7684\u6743\u9650\uff0c\u751f\u6210 Token\u3002</p> <p>\u751f\u6210\u7684 Token \u9700\u8981\u59a5\u5584\u4fdd\u7ba1\uff0c\u56e0\u4e3a\u5b83\u53ea\u80fd\u5728\u751f\u6210\u65f6\u67e5\u770b\u4e00\u6b21\u3002</p>"},{"location":"git/Github/Github%E8%8E%B7%E5%8F%96repo-id/#4-\u4f7f\u7528-github-cli","title":"4. \u4f7f\u7528 GitHub CLI","text":"<p>GitHub \u63d0\u4f9b\u4e86\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177 <code>gh</code>\uff0c\u53ef\u4ee5\u7528\u6765\u83b7\u53d6\u5f88\u591a\u4e0e GitHub \u76f8\u5173\u7684\u4fe1\u606f\u3002</p> <p>\u5b89\u88c5 GitHub CLI: Bash<pre><code>brew install gh  # macOS\nsudo apt install gh  # Ubuntu/Debian\n</code></pre></p> <p>\u767b\u5f55 GitHub CLI: Bash<pre><code>gh auth login\n</code></pre></p> <p>\u83b7\u53d6\u4ed3\u5e93\u4fe1\u606f: Bash<pre><code>gh repo view \u7528\u6237\u540d/\u4ed3\u5e93\u540d --json id,name,description\n</code></pre></p> <p>\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u8fd4\u56de\u5305\u542b\u4ed3\u5e93 ID\u3001\u540d\u79f0\u548c\u63cf\u8ff0\u7684 JSON \u6570\u636e\u3002</p> <p>\u901a\u8fc7\u8fd9\u4e9b\u65b9\u6cd5\uff0c\u4f60\u53ef\u4ee5\u83b7\u53d6\u4e0e Git \u76f8\u5173\u7684\u5404\u79cd\u4fe1\u606f\u3002\u6839\u636e\u4f60\u7684\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u65b9\u6cd5\u3002</p>"},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/","title":"Typora + PicGo-Core + Github\u5b9e\u73b0\u56fe\u7247\u4e0a\u4f20Github","text":"<p>\u53c2\u8003\u535a\u5ba2\uff1ahttps://blog.csdn.net/qq_43351000/article/details/123560560</p>"},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#\u4e00\u914d\u7f6enodejs\u73af\u5883","title":"\u4e00\u3001\u914d\u7f6eNodejs\u73af\u5883","text":""},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#1\u4e0b\u8f7dnodejs","title":"1.\u4e0b\u8f7dnodejs","text":"<p>\u4e0b\u8f7d\u5730\u5740\uff1ahttps://nodejs.org/en/download/</p>"},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#2\u5b89\u88c5nodejs","title":"2.\u5b89\u88c5nodejs","text":"<p>\u8bbe\u7f6e\u8def\u5f84\uff1a<code>D:\\GitHub\\nodejs</code>\uff0c\u4e0b\u4e00\u6b65\u5230\u5b8c\u6210\u3002</p>"},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#3\u68c0\u6d4bnodejs\u5b89\u88c5","title":"3.\u68c0\u6d4bnodejs\u5b89\u88c5","text":"<p>\u5f53\u6267\u884c\u5b8c\u4e0a\u6b65\u5b89\u88c5\u5305\u5b89\u88c5\u540e\uff0c\u9700\u8981\u8fdb\u884c\u5b89\u88c5\u662f\u5426\u6210\u529f\uff0cwin+r\u6253\u5f00\u8fd0\u884c\uff0c\u8f93\u5165cmd\u540e\u8fdb\u5165\u547d\u4ee4\u884c\u754c\u9762\u3002</p> <p>\u5206\u522b\u8f93\u5165<code>node -v</code>\u548c<code>npm -v</code>\u547d\u4ee4\u8fdb\u884cnode\u7684\u7248\u672c\u53f7\u3002</p> Bash<pre><code>C:\\Users\\jerion&gt;node -v\nv20.12.2\n\nC:\\Users\\jerion&gt;npm -v\n10.5.0\n</code></pre>"},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#4\u914d\u7f6enpm\u5b89\u88c5\u5168\u5c40\u6a21\u5757\u7684\u8def\u5f84\u4e0e\u7f13\u5b58\u8def\u5f84","title":"4.\u914d\u7f6enpm\u5b89\u88c5\u5168\u5c40\u6a21\u5757\u7684\u8def\u5f84\u4e0e\u7f13\u5b58\u8def\u5f84","text":"<p>\u7ba1\u7406\u5458\u8fd0\u884ccmd\uff0c\u8fdb\u5165\u547d\u4ee4\u884c\u754c\u9762\uff0c\u5206\u522b\u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\u6267\u884c\uff1a</p> Bash<pre><code>npm config set prefix \"D:\\Program Files\\nodejs\\node_global\"\nnpm config set cache  \"D:\\Program Files\\nodejs\\node_cache\"\n</code></pre> <p>\u518d\u6253\u5f00D:\\GitHub\\nodejs\u8def\u5f84\uff0c\u521b\u5efa\u4e24\u4e2a\u6587\u4ef6\u5939\uff1a</p> Bash<pre><code>node_global\nnode_cache\n</code></pre> <p></p>"},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#5\u6dfb\u52a0\u73af\u5883\u53d8\u91cf","title":"5.\u6dfb\u52a0\u73af\u5883\u53d8\u91cf","text":"<p>\u5728\u7cfb\u7edf\u53d8\u91cf\u4e2d\u65b0\u5efa<code>NODE_PATH</code>\uff1a</p> Bash<pre><code>NODE_PATH   D:\\GitHub\\nodejs\\node_global\\node_modules\n</code></pre> <p>\u7f16\u8f91\u7528\u6237\u53d8\u91cf\u7684path\uff0c\u4fee\u6539\u5bf9\u5e94\u7684npm\u7684\u8def\u5f84\u503c\u4e3a\u4e0a\u6587\u4e2d\u81ea\u5b9a\u4e49\u7684<code>node_global</code>\u8def\u5f84\uff1a</p> Bash<pre><code>D:\\GitHub\\nodejs\\node_global\n</code></pre> <p>\u7ba1\u7406\u5458\u8fd0\u884ccmd\uff0c\u6267\u884c\uff1a<code>npm install webpack -g</code>\uff1a</p> Bash<pre><code>C:\\Users\\jerion&gt;npm install webpack -g\n\nadded 78 packages in 20s\n\n9 packages are looking for funding\nrun `npm fund` for details\nnpm notice\nnpm notice New patch version of npm available! 10.5.0 -&gt; 10.5.2\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v10.5.2\nnpm notice Run npm install -g npm@10.5.2 to update!\nnpm notice\n</code></pre>"},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#\u4e8c\u5b89\u88c5picgo","title":"\u4e8c\u3001\u5b89\u88c5picgo","text":""},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#1\u6267\u884c\u5b89\u88c5\u547d\u4ee4","title":"1.\u6267\u884c\u5b89\u88c5\u547d\u4ee4","text":"<p>\u6267\u884c\u547d\u4ee4<code>npm install picgo -g</code>\uff1a</p> Bash<pre><code>npm WARN deprecated @types/bson@4.2.0: This is a stub types definition. bson provides its own type definitions, so you do not need this installed.\n\nadded 297 packages in 37s\n\n30 packages are looking for funding\nrun `npm fund` for details\n</code></pre>"},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#2\u6dfb\u52a0\u73af\u5883\u53d8\u91cf","title":"2.\u6dfb\u52a0\u73af\u5883\u53d8\u91cf","text":"<p>\u6dfb\u52a0picgo\u5230\u7528\u6237\u73af\u5883\u53d8\u91cfPath\uff1a</p> Bash<pre><code>D:\\GitHub\\nodejs\\node_global\\node_modules\\picgo\\bin\n</code></pre> <p>\u6dfb\u52a0picgo\u5230\u7cfb\u7edf\u73af\u5883\u53d8\u91cfPath\uff1a</p> Bash<pre><code>D:\\GitHub\\nodejs\\node_global\\node_modules\\picgo\\bin\n</code></pre>"},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#3\u5b89\u88c5github-plus","title":"3.\u5b89\u88c5github-plus","text":"<p>\u6267\u884c\u547d\u4ee4<code>picgo install github-plus</code>\uff1a</p> Bash<pre><code>C:\\Users\\jerion&gt;picgo install github-plus\n\nadded 74 packages, and audited 75 packages in 13s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\n3 high severity vulnerabilities\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n[PicGo SUCCESS]: \u63d2\u4ef6\u5b89\u88c5\u6210\u529f\n</code></pre>"},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#\u4e09github\u914d\u7f6e","title":"\u4e09\u3001Github\u914d\u7f6e","text":""},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#1\u65b0\u5efa\u4ed3\u5e93picbed","title":"1.\u65b0\u5efa\u4ed3\u5e93Picbed","text":""},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#2token\u8bbe\u7f6e","title":"2.Token\u8bbe\u7f6e","text":"<p>\u4e2a\u4eba\u5934\u50cf-\u8bbe\u7f6e-Developer settings-Persomal access tokens-&gt;Tokens\u2192\u751f\u6210\u5982\u4e0b\uff1a</p> Bash<pre><code>xxx\n</code></pre> <p></p> <p></p>"},{"location":"git/Github/Typora%20%2B%20PicGo-Core%20%2B%20Github%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0Github/#\u56dbtypora\u914d\u7f6e","title":"\u56db\u3001Typora\u914d\u7f6e","text":"<p>\u5728Typora\u4e2d\u914d\u7f6e\u56fe\u50cf\u4e0a\u4f20\u4fe1\u606f\uff0c\u8bbe\u7f6ePicGo\u7684\u914d\u7f6e\u4fe1\u606f\uff1a</p> <p></p> <ul> <li>\u9996\u5148\u4e0a\u4f20\u670d\u52a1\u9009\u62e9<code>PicGo-Core(command line)</code>\uff1b</li> <li>\u6253\u5f00\u914d\u7f6e\u6587\u4ef6\uff08\u5728C:\\Users\\Jerion\\.picgo\u8def\u5f84\u4e0b\uff09\uff0c\u6dfb\u52a0\u76f8\u5173\u4fe1\u606f\uff1a</li> </ul> Bash<pre><code>{\n  \"picBed\": {\n    \"uploader\": \"githubPlus\",\n    \"current\": \"githubPlus\",\n    \"githubPlus\": {\n      \"repo\": \"zyx3721/Picbed\",\n      \"branch\": \"main\",\n      \"token\": \"xxx\",\n      \"path\": \"blog-images\",\n      \"customUrl\": \"\",\n      \"origin\": \"github\"\n    }\n  },\n  \"picgoPlugins\": {\n    \"picgo-plugin-github-plus\": true,\n    \"picgo-plugin-rename-file\": true\n  },\n  \"picgo-plugin-github-plus\": {\n    \"lastSync\": \"2024-04-25 12:40:25\"\n  },\n  \"picgo-plugin-rename-file\": {\n    \"format\": \"{y}/{m}/{d}/{hash}-{origin}-{rand:6}\"\n  }\n}\n</code></pre> <ul> <li>\u56fe\u7247\u4e0a\u4f20\uff0c\u5b89\u88c5\u6539\u540d\u63d2\u4ef6\uff1a</li> </ul> Bash<pre><code>C:\\Windows\\System32&gt;picgo install rename-file\n\nadded 1 package, and audited 76 packages in 3s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\n3 high severity vulnerabilities\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n[PicGo SUCCESS]: \u63d2\u4ef6\u5b89\u88c5\u6210\u529f\n</code></pre> <ul> <li>\u70b9\u51fb\u201c\u9a8c\u8bc1\u56fe\u7247\u4e0a\u4f20\u9009\u9879\u201c\u8fdb\u884c\u6d4b\u8bd5\uff0c\u663e\u793a\u9a8c\u8bc1\u6210\u529f\uff1a</li> </ul> <p></p> <p>\u5982\u5f39\u51fa\u9a8c\u8bc1\u5931\u8d25\uff0c\u9700\u8981\u5148\u70b9\u51fb<code>\u4e0b\u8f7d\u6216\u66f4\u65b0</code>\u518d\u70b9\u51fb<code>\u9a8c\u8bc1\u56fe\u7247\u4e0a\u4f20\u9009\u9879</code>\u3002</p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/","title":"CentOS7 \u90e8\u7f72Gitlab","text":"<p>\u5b98\u7f51\u5730\u5740\uff1ahttps://about.gitlab.com/install/#centos-7</p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#\u4e00gitlab\u6982\u5ff5","title":"\u4e00\u3001Gitlab\u6982\u5ff5","text":"<p>\u200b       Gitlab\u662f\u4e00\u4e2a\u57fa\u4e8eWeb\u7684Git\u4ed3\u5e93\u7ba1\u7406\u5de5\u5177\uff0c\u5b83\u63d0\u4f9b\u4e86\u7248\u672c\u63a7\u5236\u3001\u4ee3\u7801\u5ba1\u67e5\u3001\u95ee\u9898\u8ddf\u8e2a\u3001\u6301\u7eed\u96c6\u6210\u7b49\u529f\u80fd\uff0c\u9002\u7528\u4e8e\u56e2\u961f\u534f\u4f5c\u548c\u8f6f\u4ef6\u5f00\u53d1\u7ba1\u7406\u3002\u672c\u6587\u5c06\u4ecb\u7ecd\u5982\u4f55\u5728CentOS 7\u4e0a\u90e8\u7f72Gitlab\uff0c\u5e76\u63d0\u4f9b\u4e86\u5b89\u88c5\u6b65\u9aa4\u3001\u914d\u7f6e\u4fee\u6539\u3001\u5907\u4efd\u548c\u6062\u590d\u7b49\u64cd\u4f5c\u793a\u4f8b\u3002</p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#\u4e8c\u73af\u5883\u8981\u6c42","title":"\u4e8c\u3001\u73af\u5883\u8981\u6c42","text":"<ul> <li>CPU &gt;= 4C</li> <li>\u5185\u5b58 &gt;= 4G</li> <li>\u7cfb\u7edf  = Linux</li> </ul>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#\u4e09\u4e0b\u8f7dgitlab","title":"\u4e09\u3001\u4e0b\u8f7dGitlab","text":"<p>\u4e0b\u8f7dGitlab RPM\u5305\uff1a</p> <ul> <li>\u6e05\u534e\u5927\u5b66\u5f00\u6e90\u8f6f\u4ef6\u955c\u50cf\u7ad9\u5730\u5740\uff1aIndex of /gitlab-ce/yum/el7/ | \u6e05\u534e\u5927\u5b66\u5f00\u6e90\u8f6f\u4ef6\u955c\u50cf\u7ad9 | Tsinghua Open Source Mirror</li> <li>Gitlab rpm\u6e90\u4e0b\u8f7d\uff1ael/7/gitlab-ce-15.1.2-ce.0.el7.x86_64.rpm - gitlab/gitlab-ce \u00b7packages.gitlab.com</li> <li>GITLAB\u5b98\u65b9\u6587\u6863\uff1ahttps://docs.gitlab.cn/jh/install/requirements.html</li> </ul> <p>\u540e\u53f0\u901a\u8fc7 <code>wget</code> \u547d\u4ee4\u4e0b\u8f7d\uff1a</p> Bash<pre><code>cd /usr/local/src\nwget https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/gitlab-ce-17.0.2-ce.0.el7.x86_64.rpm\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#\u4e09\u5b89\u88c5gitlab","title":"\u4e09\u3001\u5b89\u88c5Gitlab","text":""},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#1\u8bbe\u7f6e\u4e3b\u673a\u540d\u53ef\u9009","title":"1.\u8bbe\u7f6e\u4e3b\u673a\u540d\uff08\u53ef\u9009\uff09","text":"Bash<pre><code>hostnamectl set-hostname gitlab-20\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#2\u5b89\u88c5\u4f9d\u8d56","title":"2.\u5b89\u88c5\u4f9d\u8d56","text":"Bash<pre><code>yum install -y curl policycoreutils-python openssh-server perl\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#3\u5b89\u88c5gitlab","title":"3.\u5b89\u88c5Gitlab","text":""},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#31-rpm\u5305\u5b89\u88c5\u65b9\u6cd5\u4e00","title":"3.1 rpm\u5305\u5b89\u88c5\uff08\u65b9\u6cd5\u4e00\uff09","text":"<p>\u8fdb\u5165\u4e0b\u8f7d\u5305\u7684\u76ee\u5f55\uff0c\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a</p> Bash<pre><code>rpm -i gitlab-ce-17.0.2-ce.0.el7.x86_64.rpm\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#32-\u811a\u672c\u5b89\u88c5\u65b9\u6cd5\u4e8c","title":"3.2 \u811a\u672c\u5b89\u88c5\uff08\u65b9\u6cd5\u4e8c\uff09","text":"<p>\u4f7f\u7528curl\u5de5\u5177\u4ece\u6307\u5b9aURL\u4e0b\u8f7dGitlab\u7684\u5b89\u88c5\u811a\u672c\uff0c\u5e76\u901a\u8fc7\u7ba1\u9053\u5c06\u811a\u672c\u4f20\u9012\u7ed9bash\u6267\u884c\u3002\u811a\u672c\u7684\u4f5c\u7528\u662f\u8bbe\u7f6eGitlab\u7684\u5b89\u88c5\u6e90\u5e76\u6267\u884c\u5b89\u88c5\u8fc7\u7a0b\uff1a</p> Bash<pre><code>curl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | /bin/bash\n</code></pre> <p>\u89e3\u91ca\u8bf4\u660e\uff1a</p> <ul> <li><code>-f</code> \u6216 <code>--fail</code>\uff1a\u5728 HTTP \u8bf7\u6c42\u5931\u8d25\u65f6\u4e0d\u663e\u793a\u9519\u8bef\u4fe1\u606f\uff0c\u53ea\u8fd4\u56de\u975e\u96f6\u9000\u51fa\u72b6\u6001\u7801\u3002\u8fd9\u5bf9\u4e8e\u811a\u672c\u5904\u7406\u975e\u5e38\u6709\u7528\uff0c\u56e0\u4e3a\u5b83\u907f\u514d\u4e86\u5c06\u9519\u8bef\u9875\u9762\u7684 HTML \u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa\u3002</li> <li><code>-s</code> \u6216 <code>--silent</code>\uff1a\u9759\u9ed8\u6a21\u5f0f\u3002\u4e0d\u663e\u793a\u8fdb\u5ea6\u6761\u6216\u9519\u8bef\u4fe1\u606f\uff0c\u5e38\u7528\u4e8e\u811a\u672c\u4e2d\u4ee5\u907f\u514d\u5e72\u6270\u8f93\u51fa\u3002</li> <li><code>-S</code> \u6216 <code>--show-error</code>\uff1a\u5728\u4f7f\u7528 <code>-s</code> \u9759\u9ed8\u6a21\u5f0f\u65f6\uff0c\u5982\u679c\u53d1\u751f\u9519\u8bef\uff0c\u4f9d\u7136\u663e\u793a\u9519\u8bef\u4fe1\u606f\u3002\u8fd9\u6837\u53ef\u4ee5\u5728\u4fdd\u6301\u9759\u9ed8\u7684\u540c\u65f6\u786e\u4fdd\u9519\u8bef\u4fe1\u606f\u4e0d\u4f1a\u88ab\u5b8c\u5168\u9690\u85cf\u3002</li> <li><code>-L</code> \u6216 <code>--location</code>\uff1a\u5982\u679c\u8bf7\u6c42\u7684\u8d44\u6e90\u5df2\u88ab\u91cd\u5b9a\u5411\uff08HTTP 3xx \u72b6\u6001\u7801\uff09\uff0c\u5219\u8ddf\u968f\u91cd\u5b9a\u5411\u5230\u65b0\u7684 URL\u3002</li> </ul>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#33-\u4f7f\u7528yum\u5305\u7ba1\u7406\u5668\u5b89\u88c5\u65b9\u6cd5\u4e09","title":"3.3 \u4f7f\u7528yum\u5305\u7ba1\u7406\u5668\u5b89\u88c5\uff08\u65b9\u6cd5\u4e09\uff09","text":"<p>\u5176\u4e2d\uff0c<code>EXTERNAL_URL</code>\u662f\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u7528\u4e8e\u6307\u5b9aGitlab\u7684\u8bbf\u95eeURL\uff0c\u9700\u8981\u5c06\u201d\u4f60\u7684IP\u201d\u66ff\u6362\u4e3a\u5b9e\u9645\u7684IP\u5730\u5740\u6216\u57df\u540d\u3002<code>-y</code>\u9009\u9879\u7528\u4e8e\u81ea\u52a8\u56de\u7b54\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u7684\u786e\u8ba4\u63d0\u793a\u3002</p> Bash<pre><code>sudo EXTERNAL_URL=\"http://\u4f60\u7684IP\" yum install -y gitlab-jh\n</code></pre> <p></p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#34-gitlab\u521d\u59cb\u5bc6\u7801","title":"3.4 Gitlab\u521d\u59cb\u5bc6\u7801","text":"<p>\u9664\u975e\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u6307\u5b9a\u4e86\u81ea\u5b9a\u4e49\u5bc6\u7801\uff0c\u5426\u5219\u5c06\u968f\u673a\u751f\u6210\u4e00\u4e2a\u5bc6\u7801\u5e76\u5b58\u50a8\u5728 <code>/etc/gitlab/initial_root_password</code> \u6587\u4ef6\u4e2d\uff08\u51fa\u4e8e\u5b89\u5168\u539f\u56e0\uff0c24 \u5c0f\u65f6\u540e\uff0c\u6b64\u6587\u4ef6\u4f1a\u88ab\u7b2c\u4e00\u6b21 <code>gitlab-ctl reconfigure</code> \u81ea\u52a8\u5220\u9664\uff0c\u56e0\u6b64\u82e5\u4f7f\u7528\u968f\u673a\u5bc6\u7801\u767b\u5f55\uff0c\u5efa\u8bae\u5b89\u88c5\u6210\u529f\u521d\u59cb\u767b\u5f55\u6210\u529f\u4e4b\u540e\uff0c\u7acb\u5373\u4fee\u6539\u521d\u59cb\u5bc6\u7801\uff09\uff0c\u4f7f\u7528\u6b64\u5bc6\u7801\u548c\u7528\u6237\u540d <code>root</code> \u767b\u5f55\u3002</p> Bash<pre><code>cat /etc/gitlab/initial_root_password\n# \u663e\u793a\u6709\u5173\u5bc6\u7801\nPassword: /LivZObhurwA64YUDtEaHnXs/ylVl7JengZtylcD73Q=\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#4\u914d\u7f6egitlab","title":"4.\u914d\u7f6eGitlab","text":""},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#41-\u4fee\u6539gitlab\u914d\u7f6e\u6587\u4ef6","title":"4.1 \u4fee\u6539Gitlab\u914d\u7f6e\u6587\u4ef6","text":"<p><code>/etc/gitlab/gitlab.rb</code> \u662f GitLab \u7684\u4e3b\u8981\u914d\u7f6e\u6587\u4ef6\uff0c\u7528\u4e8e\u7ba1\u7406 GitLab \u5b9e\u4f8b\u7684\u5404\u79cd\u8bbe\u7f6e\u3002\u901a\u8fc7\u4fee\u6539\u8fd9\u4e2a\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u914d\u7f6e GitLab \u7684 URL\u3001\u6570\u636e\u5e93\u8bbe\u7f6e\u3001\u5907\u4efd\u8bbe\u7f6e\u3001\u90ae\u4ef6\u901a\u77e5\u3001SSL \u8bc1\u4e66\u3001\u5916\u90e8\u670d\u52a1\u96c6\u6210\u7b49\u3002</p> <p>\u4fee\u6539 <code>/etc/gitlab/gitlab.rb</code> \u914d\u7f6e\u6587\u4ef6\uff1a</p> Bash<pre><code>vim /etc/gitlab/gitlab.rb\n</code></pre> <p>\u4fee\u6539 <code>external_url</code> \u4e3a\u4f60\u7684\u57df\u540d\u548c\u7aef\u53e3\uff0c\u5982\uff1a</p> Bash<pre><code>external_url 'http://10.22.51.64:7070'\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#42-\u4fee\u6539gitlab-nginx\u914d\u7f6e\u53ef\u9009","title":"4.2 \u4fee\u6539Gitlab nginx\u914d\u7f6e\uff08\u53ef\u9009\uff09","text":"<p>\u7f16\u8f91 <code>/var/opt/gitlab/nginx/conf/gitlab-http.conf</code> \u6587\u4ef6\uff0c\u8bbe\u7f6eHTTP\u6216HTTPS\u7684\u76d1\u542c\u7aef\u53e3\uff0c\u5e76\u4fdd\u5b58\u4fee\u6539\uff1a</p> Bash<pre><code>vim /var/opt/gitlab/nginx/conf/gitlab-http.conf\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#43-\u67e5\u770b\u5f53\u524d\u7ed1\u5b9a\u7684\u57df\u540d\u6216ip","title":"4.3 \u67e5\u770b\u5f53\u524d\u7ed1\u5b9a\u7684\u57df\u540d\u6216IP","text":"Bash<pre><code>grep \"^external_url\" /etc/gitlab/gitlab.rb\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#5\u542f\u52a8gitlab\u670d\u52a1","title":"5.\u542f\u52a8Gitlab\u670d\u52a1","text":"<p>\u5148\u542f\u52a8\u6240\u6709 gitlab \u7ec4\u4ef6\uff1a</p> Bash<pre><code>gitlab-ctl start\n</code></pre> <p>\u518d\u542f\u52a8\u670d\u52a1\uff1a</p> Bash<pre><code>gitlab-ctl reconfigure\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#\u56db\u8bbf\u95eegitlab","title":"\u56db\u3001\u8bbf\u95eeGitlab","text":"<p>\u6d4f\u89c8\u5668\u8bbf\u95ee <code>http://10.22.51.64:7070</code>\uff0c\u8f93\u5165\u7528\u6237\u540d <code>root</code> \u548c\u968f\u673a\u5bc6\u7801\u8fdb\u884c\u767b\u5f55\uff1a</p> <p></p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#\u4e94gitlab\u5e38\u7528\u547d\u4ee4","title":"\u4e94\u3001Gitlab\u5e38\u7528\u547d\u4ee4","text":"Bash<pre><code>gitlab-ctl start                  # \u542f\u52a8\u6240\u6709 gitlab \u7ec4\u4ef6\ngitlab-ctl stop                   # \u505c\u6b62\u6240\u6709 gitlab \u7ec4\u4ef6\ngitlab-ctl restart                # \u91cd\u542f\u6240\u6709 gitlab \u7ec4\u4ef6\ngitlab-ctl status                 # \u67e5\u770b\u670d\u52a1\u72b6\u6001\ngitlab-ctl reconfigure            # \u91cd\u8f7d\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\ngitlab-ctl tail                   # \u5b9e\u65f6\u67e5\u770b gitlab \u7684\u65e5\u5fd7\u8f93\u51fa\ngitlab-ctl tail nginx             # \u6307\u5b9a\u67e5\u770b Nginx \u7684\u65e5\u5fd7\n</code></pre> <p><code>gitlab-ctl reconfigure</code> \u662f\u57fa\u4e8e <code>/etc/gitlab/gitlab.rb</code> \u914d\u7f6e\u6587\u4ef6\u91cd\u65b0\u751f\u6210\u914d\u7f6e\u5e76\u5e94\u7528\u66f4\u6539\u3002\u6bcf\u5f53\u4fee\u6539\u4e86 <code>gitlab.rb</code> \u6587\u4ef6\u540e\uff0c\u90fd\u9700\u8981\u6267\u884c\u8fd9\u4e2a\u547d\u4ee4\u4ee5\u4f7f\u4fee\u6539\u751f\u6548\u3002\u56e0\u6b64\u65e0\u9700\u518d\u91cd\u542f gitlab \u7ec4\u4ef6\u3002</p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#\u516d\u4f7f\u7528gitlab","title":"\u516d\u3001\u4f7f\u7528Gitlab","text":""},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#1\u521b\u5efa\u7fa4\u7ec4","title":"1.\u521b\u5efa\u7fa4\u7ec4","text":"<p>\u767b\u5f55 Gitlab \u5e73\u53f0\uff0c\u5728\u3010\u7fa4\u7ec4\u3011\u680f\u4e2d\u2014\u2014\u70b9\u51fb\u3010\u65b0\u5efa\u7fa4\u7ec4\u3011\u2014\u2014\u70b9\u51fb\u3010\u521b\u5efa\u7fa4\u7ec4\u3011\uff1a</p> <ul> <li>\u586b\u5199\u3010\u7fa4\u7ec4\u540d\u79f0\u3011\u4e3a <code>yunwei</code>\uff1b</li> <li>\u586b\u5199\u3010\u7fa4\u7ec4 URL\u3011\u4e3a <code>yunwei</code>\uff1b</li> <li>\u5176\u4ed6\u914d\u7f6e\u81ea\u5b9a\u4e49\uff0c\u7136\u540e\u70b9\u51fb\u3010\u521b\u5efa\u7fa4\u7ec4\u3011\u3002</li> </ul> <p></p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#2\u521b\u5efa\u9879\u76ee","title":"2.\u521b\u5efa\u9879\u76ee","text":"<p>\u767b\u5f55 Gitlab \u5e73\u53f0\uff0c\u5728\u3010\u9879\u76ee\u3011\u680f\u4e2d\u2014\u2014\u70b9\u51fb\u3010\u65b0\u5efa\u9879\u76ee\u3011\u2014\u2014\u70b9\u51fb\u3010\u521b\u5efa\u7a7a\u767d\u9879\u76ee\u3011\uff1a</p> <ul> <li>\u586b\u5199\u3010\u9879\u76ee\u540d\u79f0\u3011\u4e3a <code>Devp_Scripts</code>\uff1b</li> <li>\u9009\u62e9\u3010\u9879\u76ee URL\u3011\u4e3a\u521a\u521a\u521b\u5efa\u7684\u7fa4\u7ec4 <code>yunwei</code>\uff1b</li> <li>\u3010\u9879\u76ee\u5b57\u7b26\u4e32\u3011\u9ed8\u8ba4\u5c31\u884c\uff0c\u4f1a\u81ea\u52a8\u4e0e\u9879\u76ee\u540d\u79f0\u4e00\u81f4\uff08\u5c0f\u5199\uff09\uff0c\u7136\u540e\u70b9\u51fb\u3010\u65b0\u5efa\u9879\u76ee\u3011\u3002</li> </ul> <p></p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#3\u521b\u5efa\u7528\u6237\u5e76\u6dfb\u52a0\u5230\u7fa4\u7ec4","title":"3.\u521b\u5efa\u7528\u6237\u5e76\u6dfb\u52a0\u5230\u7fa4\u7ec4","text":"<p>\u767b\u5f55 Gitlab \u5e73\u53f0\uff0c\u70b9\u51fb\u5de6\u4e0b\u65b9\u3010Admin\u3011\u8fdb\u5165\u3010Admin area\u3011\u2014\u2014\u70b9\u51fb\u3010\u7528\u6237\u3011\u2014\u2014\u70b9\u51fb\u3010\u65b0\u7528\u6237\u3011\uff0c\u5206\u522b\u8f93\u5165\u8981\u521b\u5efa\u7684\u540d\u79f0\u3001\u7528\u6237\u540d\u3001\u7535\u5b50\u90ae\u4ef6\uff0c\u5e76\u8bbe\u7f6e\u3010\u8bbf\u95ee\u7ea7\u522b\u3011\uff0c\u7136\u540e\u70b9\u51fb\u3010\u521b\u5efa\u7528\u6237\u3011\uff1b\u521b\u5efa\u5b8c\u6210\u540e\uff0c\u518d\u6b21\u70b9\u51fb\u8be5\u7528\u6237\u7684\u3010\u7f16\u8f91\u3011\uff0c\u8bbe\u7f6e\u5bc6\u7801\u5e76\u4fdd\u5b58\u66f4\u6539\uff1a</p> <p></p> <p>\u70b9\u51fb\u3010\u7fa4\u7ec4\u3011\u2014\u2014\u70b9\u51fb\u521b\u5efa\u7684\u7fa4\u7ec4 <code>yunwei</code> \u2014\u2014\u70b9\u51fb\u3010\u7fa4\u7ec4\u6210\u5458\u3011\u680f\u4e2d\u7684\u3010\u7ba1\u7406\u6743\u9650\u3011\u2014\u2014\u70b9\u51fb\u3010\u9080\u8bf7\u6210\u5458\u3011\uff0c\u9009\u62e9\u9700\u8981\u9080\u8bf7\u7684\u7528\u6237\u548c\u7528\u6237\u89d2\u8272\uff0c\u7136\u540e\u70b9\u51fb\u3010\u9080\u8bf7\u3011\uff1a</p> <p></p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#4\u914d\u7f6essh\u5bc6\u94a5\u5e76\u514b\u9686\u9879\u76ee\u5230\u672c\u5730","title":"4.\u914d\u7f6essh\u5bc6\u94a5\u5e76\u514b\u9686\u9879\u76ee\u5230\u672c\u5730","text":""},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#41-\u672c\u5730\u751f\u6210ssh\u5bc6\u94a5","title":"4.1 \u672c\u5730\u751f\u6210SSH\u5bc6\u94a5","text":"<p>\u672c\u5730\u7535\u8111\u6253\u5f00\u547d\u4ee4\u884c\u7ec8\u7aef\uff0c\u4f8b\u5982\uff1a<code>Git Bash</code>\u3001<code>\u547d\u4ee4\u63d0\u793a\u7b26</code> \u6216 <code>PowerShell</code>\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u751f\u6210\u4e00\u4e2a SSH \u5bc6\u94a5\u5e76\u5c06\u5176\u6dfb\u52a0\u5230 gitlab \u8d26\u6237\uff1a</p> Bash<pre><code>ssh-keygen -t rsa -b 4096 -C \"hongzelong@sunline.cn\"\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#42-gitlab\u6dfb\u52a0\u5bc6\u94a5","title":"4.2 Gitlab\u6dfb\u52a0\u5bc6\u94a5","text":"<p>\u6253\u5f00 <code>C:\\Users\\Jerion/.ssh/id_rsa.pub</code> \u516c\u94a5\u6587\u4ef6\uff0c\u590d\u5236\u91cc\u9762\u7684\u5bc6\u94a5\u5185\u5bb9\uff1a</p> <p></p> <p>\u4ee5\u81ea\u5df1\u7684\u666e\u901a\u7528\u6237\u767b\u5f55 Gitlab \u5e73\u53f0\uff0c\u6dfb\u52a0\u516c\u94a5\uff0c\u70b9\u51fb\u5de6\u4e0a\u65b9\u6309\u94ae\u8fdb\u5165\u4e2a\u4eba\u3010\u504f\u597d\u8bbe\u7f6e\u3011\u2014\u2014\u70b9\u51fb\u3010SSH\u5bc6\u94a5\u3011\u2014\u2014\u70b9\u51fb\u3010\u6dfb\u52a0\u65b0\u5bc6\u94a5\u3011\uff0c\u5728\u3010\u5bc6\u94a5\u3011\u5b57\u6bb5\u5185\u586b\u5199\u4e0a\u65b9\u7684\u5bc6\u94a5\u5185\u5bb9\uff0c\u5e76\u586b\u5199\u3010\u6807\u9898\u3011\uff0c\u7136\u540e\u70b9\u51fb\u3010\u6dfb\u52a0\u5bc6\u94a5\u3011\uff1a</p> <p></p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#43-\u590d\u5236git\u9879\u76ee\u8def\u5f84","title":"4.3 \u590d\u5236Git\u9879\u76ee\u8def\u5f84","text":"<p>\u767b\u5f55 Gitlab \u5e73\u53f0\uff0c\u5728\u3010\u9879\u76ee\u3011\u680f\u4e2d\u70b9\u51fb\u4e4b\u524d\u521b\u5efa\u7684\u9879\u76ee <code>Devp_Scripts</code>\uff0c\u70b9\u51fb\u53f3\u65b9\u7684\u3010\u4ee3\u7801\u3011\uff0c\u590d\u5236\u3010\u4f7f\u7528 SSH \u514b\u9686\u3011\u7684Git\u9879\u76ee\u8def\u5f84\uff1a</p> Bash<pre><code>git@10.22.51.64:yunwei/devp_scripts.git\n</code></pre> <p></p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#44-\u514b\u9686git\u9879\u76ee\u5230\u672c\u5730","title":"4.4 \u514b\u9686Git\u9879\u76ee\u5230\u672c\u5730","text":"<p>\u672c\u5730\u7535\u8111\u6253\u5f00\u547d\u4ee4\u884c\u7ec8\u7aef\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u514b\u9686\u9879\u76ee\u5230\u672c\u5730\u6307\u5b9a\u8def\u5f84\u4e0b\uff1a</p> Bash<pre><code># \u9ed8\u8ba4\u514b\u9686\u4ed3\u5e93\u91cc\u7684main\u6216master\u5206\u652f\ngit clone git@10.22.51.64:yunwei/devp_scripts.git D:\\devp_scripts\\main\n# \u4f7f\u7528 -b \u9009\u9879\u624b\u52a8\u6307\u5b9a\u514b\u9686\u4ed3\u5e93\u91cc\u7684shell\u5206\u652f\ngit clone -b shell git@10.22.51.64:yunwei/devp_scripts.git D:\\devp_scripts\\shell\n</code></pre> <p>\u6253\u5f00\u514b\u9686\u5230\u672c\u5730\u540e\u7684main\u5206\u652f\u4ed3\u5e93 <code>D:\\devp_scripts\\main</code> \u8def\u5f84\u76ee\u5f55\u5982\u4e0b\uff1a</p> <p></p> <p>\u6253\u5f00\u514b\u9686\u5230\u672c\u5730\u540e\u7684shell\u5206\u652f\u4ed3\u5e93 <code>D:\\devp_scripts\\shell</code> \u8def\u5f84\u76ee\u5f55\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#45-\u672c\u5730\u63d0\u4ea4\u4ee3\u7801\u5230git\u9879\u76ee","title":"4.5 \u672c\u5730\u63d0\u4ea4\u4ee3\u7801\u5230Git\u9879\u76ee","text":"<p>\u5047\u8bbe\u5728\u672c\u5730\u4e24\u4e2a\u5206\u652f\u4ed3\u5e93\u64cd\u4f5c\u4e86\u6587\u4ef6\uff0c\u5982\u4e0a\u4f20\u4e00\u4e2a\u6587\u6863\u540e\uff0c\u6253\u5f00\u547d\u4ee4\u884c\u7ec8\u7aef\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u63d0\u4ea4\u4ee3\u7801\u5230Git\u9879\u76ee\u4e2d\uff1a</p> <ul> <li>\u63d0\u4ea4\u4ee3\u7801\u5230main\u5206\u652f\u4ed3\u5e93\uff1a</li> </ul> Bash<pre><code>d:    # \u8fdb\u5165d\u76d8\ncd devp_scripts/main    # \u5207\u6362\u5230main\u5206\u652f\u4ed3\u5e93\u76ee\u5f55\ngit add .          # \u5c06\u76ee\u5f55\u4e0b\u66f4\u6539\u4fe1\u606f\uff08\u65b0\u6587\u4ef6\u3001\u5df2\u4fee\u6539\u6587\u4ef6\u6216\u5df2\u5220\u9664\u6587\u4ef6\uff09\u6dfb\u52a0\u5230\u6682\u5b58\u533a, .\u4ee3\u8868\u5f53\u524d\u76ee\u5f55\ngit commit -m \"shell script\"    # \u5c06\u6682\u5b58\u533a\u4e2d\u7684\u5185\u5bb9\u63d0\u4ea4\u5230\u5f53\u524d\u5206\u652f\u4ed3\u5e93\ngit push origin main            # \u5c06\u672c\u5730\u7684\u63d0\u4ea4\u63a8\u9001\u5230\u8fdc\u7a0b\u7684main\u5206\u652f\u4ed3\u5e93\n</code></pre> <ul> <li>\u63d0\u4ea4\u4ee3\u7801\u5230shell\u5206\u652f\u4ed3\u5e93\uff1a</li> </ul> Bash<pre><code>d:    # \u8fdb\u5165d\u76d8\ncd devp_scripts/shell    # \u5207\u6362\u5230shell\u5206\u652f\u4ed3\u5e93\u76ee\u5f55\ngit add .          # \u5c06\u76ee\u5f55\u4e0b\u66f4\u6539\u4fe1\u606f\uff08\u65b0\u6587\u4ef6\u3001\u5df2\u4fee\u6539\u6587\u4ef6\u6216\u5df2\u5220\u9664\u6587\u4ef6\uff09\u6dfb\u52a0\u5230\u6682\u5b58\u533a, .\u4ee3\u8868\u5f53\u524d\u76ee\u5f55\ngit commit -m \"shell script\"    # \u5c06\u6682\u5b58\u533a\u4e2d\u7684\u5185\u5bb9\u63d0\u4ea4\u5230\u5f53\u524d\u5206\u652f\u4ed3\u5e93\ngit push origin shell            # \u5c06\u672c\u5730\u7684\u63d0\u4ea4\u63a8\u9001\u5230\u8fdc\u7a0b\u7684shell\u5206\u652f\u4ed3\u5e93\n</code></pre> <p>\u767b\u5f55 Gitlab \u5e73\u53f0\uff0c\u70b9\u51fb\u3010\u9879\u76ee\u3011\u680f\u4e2d\u7684\u9879\u76ee <code>Devp_Scripts</code>\uff1a</p> <ul> <li>\u67e5\u770bmain\u5206\u652f\u4ed3\u5e93\u521a\u63d0\u4ea4\u7684\u4ee3\u7801\uff1a</li> </ul> <p></p> <ul> <li>\u67e5\u770bshell\u5206\u652f\u4ed3\u5e93\u521a\u63d0\u4ea4\u7684\u4ee3\u7801\uff1a</li> </ul> <p></p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#5\u914d\u7f6egitlab\u6570\u636e\u5907\u4efd","title":"5.\u914d\u7f6eGitlab\u6570\u636e\u5907\u4efd","text":""},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#51-\u8bbe\u7f6e\u5907\u4efd\u76ee\u5f55","title":"5.1 \u8bbe\u7f6e\u5907\u4efd\u76ee\u5f55","text":"<p>\u670d\u52a1\u5668\u540e\u53f0\u521b\u5efa\u5907\u4efd\u76ee\u5f55 <code>/data/backup/gitlab</code>\uff1a</p> Bash<pre><code>mkdir -p /data/backup/gitlab        # \u521b\u5efa\u5907\u4efd\u76ee\u5f55\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#52-\u4fee\u6539gitlab\u914d\u7f6e\u6587\u4ef6","title":"5.2 \u4fee\u6539Gitlab\u914d\u7f6e\u6587\u4ef6","text":"<p>\u4fee\u6539Gitlab\u914d\u7f6e\u6587\u4ef6 <code>/etc/gitlab/gitlab.rb</code>\uff0c\u5c06\u5907\u4efd\u8def\u5f84\u8bbe\u7f6e\u4e3a\u81ea\u5b9a\u4e49\u76ee\u5f55\uff1a</p> Bash<pre><code>sed -i 's@# gitlab_rails\\['\"'\"'backup_path'\"'\"'\\] = \"/var/opt/gitlab/backups\"@gitlab_rails\\['\"'\"'backup_path'\"'\"'\\] = \"/data/backup/gitlab\"@g' /etc/gitlab/gitlab.rb\n\n# \u67e5\u770b\u662f\u5426\u4fee\u6539\u6210\u529f\ngrep \"/data/backup/gitlab\" /etc/gitlab/gitlab.rb\n</code></pre> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u540e\uff0c\u9700\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\u5e76\u786e\u4fdd\u6240\u6709\u66f4\u6539\u751f\u6548\uff1a</p> Bash<pre><code>gitlab-ctl reconfigure\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#53-\u8d4b\u4e88\u76ee\u5f55\u6743\u9650","title":"5.3 \u8d4b\u4e88\u76ee\u5f55\u6743\u9650","text":"<p>\u8bbe\u7f6e\u5907\u4efd\u76ee\u5f55\u7684\u6240\u6709\u6743\u4e3a git \u7528\u6237\uff0c\u6240\u5c5e\u7ec4\u4e3a root\uff0c\u5e76\u8bbe\u7f6e\u6743\u9650\u4e3a <code>700</code>\uff1a</p> Bash<pre><code>chown -R git.root /data/backup/gitlab\nchmod 700 /data/backup/gitlab\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#54-\u521b\u5efagitlab\u6570\u636e\u5907\u4efd","title":"5.4 \u521b\u5efaGitlab\u6570\u636e\u5907\u4efd","text":"<p>\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efaGitlab\u6570\u636e\u5907\u4efd\uff0c\u5c06\u76f8\u5173\u7684\u6570\u636e\uff08\u5982\u6570\u636e\u5e93\u3001\u4e0a\u4f20\u6587\u4ef6\u3001Git \u5b58\u50a8\u5e93\u7b49\uff09\u5907\u4efd\u5230\u914d\u7f6e\u7684\u5907\u4efd\u76ee\u5f55\u4e2d\uff1a</p> Bash<pre><code>gitlab-rake gitlab:backup:create\n</code></pre> <p>\u5907\u4efd\u8fc7\u7a0b\uff1a</p> <ul> <li>\u5907\u4efd\u5185\u5bb9\uff1a\u6570\u636e\u5e93\u3001\u4ed3\u5e93\u3001\u4e0a\u4f20\u7684\u6587\u4ef6\u7b49\u3002</li> <li>\u5907\u4efd\u6587\u4ef6\u540d\uff1a\u901a\u5e38\u4f1a\u6839\u636e\u5f53\u524d\u65e5\u671f\u548c\u65f6\u95f4\u751f\u6210\u4e00\u4e2a\u6587\u4ef6\u540d\uff0c\u4f8b\u5982\uff1a<code>1631966741_2024_08_30_13.0.6_gitlab_backup.tar</code>\u3002</li> </ul>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#55-\u67e5\u770b\u5907\u4efd\u6587\u4ef6","title":"5.5 \u67e5\u770b\u5907\u4efd\u6587\u4ef6","text":"<p>\u4f7f\u7528<code>ls</code> \u547d\u4ee4\u67e5\u770b\u5907\u4efd\u6587\u4ef6\uff1a</p> Bash<pre><code>ls -l /data/backup/gitlab\n\n# \u663e\u793a\u5907\u4efd\u6587\u4ef6\u4fe1\u606f\n-rw------- 1 git git 768000 Aug 30 21:59 1725026349_2024_08_30_17.3.1-jh_gitlab_backup.tar\n\n# 1725026349\u662f\u4e00\u4e2a\u65f6\u95f4\u6233,\u4ece1970\u5e741\u67081\u65e50\u65f6\u5230\u5f53\u524d\u65f6\u95f4\u7684\u79d2\u6570\u3002\u8fd9\u4e2a\u538b\u7f29\u5305\u5305\u542bGitlab\u6240\u6709\u6570\u636e\uff08\u4f8b\u5982\uff1a\u7ba1\u7406\u5458\u3001\u666e\u901a\u8d26\u6237\u4ee5\u53ca\u4ed3\u5e93\u7b49\u7b49\uff09\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#56-\u8bbe\u7f6e\u81ea\u52a8\u5907\u4efd","title":"5.6 \u8bbe\u7f6e\u81ea\u52a8\u5907\u4efd","text":"<p>\u4f7f\u7528 <code>crontab -e</code> \u547d\u4ee4\u7f16\u8f91\u5b9a\u65f6\u4efb\u52a1\uff0c\u8bbe\u7f6e\u6bcf\u5929\u6267\u884c\u5907\u4efd\u7684\u65f6\u95f4\uff1a</p> Bash<pre><code>crontab -e\n\n# \u6dfb\u52a0\u5b9a\u65f6\u4efb\u52a1,\u6bcf\u5929\u51cc\u66682\u70b9\u81ea\u52a8\u521b\u5efa Gitlab \u5907\u4efd\n0 2 * * * /opt/gitlab/bin/gitlab-rake gitlab:backup:create CRON=1\n</code></pre> <p><code>CRON=1</code>\uff1a\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf <code>CRON=1</code>\uff0c\u8fd9\u5728\u67d0\u4e9b\u73af\u5883\u4e0b\u7528\u4e8e\u6307\u5b9a\u4efb\u52a1\u662f\u901a\u8fc7 Cron \u89e6\u53d1\u7684\uff0c\u800c\u4e0d\u662f\u624b\u52a8\u6267\u884c\u3002</p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#6\u4fee\u6539gitlab\u6570\u636e\u5b58\u50a8\u8def\u5f84","title":"6.\u4fee\u6539Gitlab\u6570\u636e\u5b58\u50a8\u8def\u5f84","text":"<p>\u5f53Gitlab\u670d\u52a1\u5668\u7684\u5b58\u50a8\u7a7a\u95f4\u4e0d\u8db3\u60c5\u51b5\u4e0b\uff0c\u5e0c\u671b\u4fee\u6539\u65b0\u6302\u8f7d\u7684\u76ee\u5f55\u4f5c\u4e3a\u5b58\u50a8\u76ee\u5f55\uff0c\u64cd\u4f5c\u5982\u4e0b\uff1a</p>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#61-\u65b0\u5efa\u6570\u636e\u5b58\u50a8\u76ee\u5f55","title":"6.1 \u65b0\u5efa\u6570\u636e\u5b58\u50a8\u76ee\u5f55","text":"<p>\u590d\u5236\u539f\u9ed8\u8ba4\u76ee\u5f55\u5b58\u50a8\u8def\u5f84 <code>/var/opt/gitlab/git-data/repositories</code> \u7684\u6570\u636e\u5230\u65b0\u76ee\u5f55 <code>/data/gitlab</code> \u4e0b\uff1a</p> Bash<pre><code>mkdir -p /data/gitlab\ncp -ar /var/opt/gitlab/git-data/repositories /data/gitlab\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#62-\u4fee\u6539gitlab\u914d\u7f6e\u6587\u4ef6","title":"6.2 \u4fee\u6539Gitlab\u914d\u7f6e\u6587\u4ef6","text":"<p>\u4fee\u6539Gitlab\u914d\u7f6e\u6587\u4ef6 <code>/etc/gitlab/gitlab.rb</code>\uff0c\u5c06\u6570\u636e\u5b58\u50a8\u8def\u5f84\u8bbe\u7f6e\u4e3a\u81ea\u5b9a\u4e49\u76ee\u5f55\uff1a</p> Bash<pre><code>vim /etc/gitlab/gitlab.rb\n\n# \u627e\u5230\u5e76\u4fee\u6539\u4ee5\u4e0b\u5185\u5bb9\ngit_data_dirs({\n  \"default\" =&gt; {\n    \"path\" =&gt; \"/data/gitlab\"\n   }\n})\n</code></pre> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u540e\uff0c\u9700\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\u5e76\u786e\u4fdd\u6240\u6709\u66f4\u6539\u751f\u6548\uff1a</p> Bash<pre><code>gitlab-ctl reconfigure\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#63-\u91cd\u542fgitlab\u670d\u52a1","title":"6.3 \u91cd\u542fGitlab\u670d\u52a1","text":"<p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u540e\uff0c\u9700\u91cd\u542fGitlab\u670d\u52a1\u65b9\u53ef\u751f\u6548\uff1a</p> Bash<pre><code>gitlab-ctl stop         # \u505c\u6b62Gitlab\u670d\u52a1\ngitlab-ctl reconfigure  # \u91cd\u8f7d\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\ngitlab-ctl start        # \u542f\u52a8Gitlab\u670d\u52a1\n</code></pre>"},{"location":"git/Gitlab/CentOS7%20%E9%83%A8%E7%BD%B2Gitlab/#7\u5907\u4efd\u6062\u590d","title":"7.\u5907\u4efd\u6062\u590d","text":"<ul> <li>\u4fee\u6539\u5b58\u50a8\u8def\u5f84\uff1a\u521b\u5efa\u65b0\u7684\u5b58\u50a8\u8def\u5f84\u5e76\u5c06\u539f\u6709\u7684Git\u4ed3\u5e93\u6570\u636e\u8fc1\u79fb\u81f3\u65b0\u8def\u5f84\u3002</li> <li>\u505c\u6b62Gitlab\u670d\u52a1\uff1a\u8fd0\u884c <code>gitlab-ctl stop</code> \u547d\u4ee4\u505c\u6b62Gitlab\u670d\u52a1\u3002</li> <li>\u91cd\u65b0\u914d\u7f6eGitlab\uff1a\u8fd0\u884c <code>gitlab-ctl reconfigure</code> \u547d\u4ee4\u91cd\u65b0\u914d\u7f6eGitlab\u3002</li> <li>\u542f\u52a8Gitlab\u670d\u52a1\uff1a\u8fd0\u884c<code>gitlab-ctl start</code>\u547d\u4ee4\u542f\u52a8Gitlab\u670d\u52a1\u3002</li> </ul>"},{"location":"k8s/","title":"Kubernetes\u4ecb\u7ecd","text":"<p>\u5728\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u4e2d\uff0cKubernetes \u6a21\u5757\u662f\u8bb0\u5f55\u6211\u5728\u5bb9\u5668\u7f16\u6392\u4e0e\u81ea\u52a8\u5316\u90e8\u7f72\u65b9\u9762\u7684\u5b9e\u8df5\u7ecf\u9a8c\u7684\u5730\u65b9\u3002Kubernetes \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5bb9\u5668\u7f16\u6392\u5e73\u53f0\uff0c\u5b83\u5e2e\u52a9\u6211\u5728\u5927\u89c4\u6a21\u7684\u96c6\u7fa4\u4e2d\u9ad8\u6548\u5730\u7ba1\u7406\u548c\u8c03\u5ea6\u5bb9\u5668\u5316\u5e94\u7528\u3002\u901a\u8fc7 Kubernetes\uff0c\u6211\u53ef\u4ee5\u8f7b\u677e\u5b9e\u73b0\u5e94\u7528\u7684\u81ea\u52a8\u5316\u90e8\u7f72\u3001\u6269\u5c55\u548c\u8fd0\u7ef4\uff0c\u786e\u4fdd\u5e94\u7528\u5728\u4e0d\u540c\u73af\u5883\u4e0b\u7684\u4e00\u81f4\u6027\u548c\u9ad8\u53ef\u7528\u6027\u3002\u65e0\u8bba\u662f\u5904\u7406\u590d\u6742\u7684\u5fae\u670d\u52a1\u67b6\u6784\uff0c\u8fd8\u662f\u786e\u4fdd\u5e94\u7528\u7684\u7a33\u5b9a\u8fd0\u884c\uff0cKubernetes \u90fd\u4e3a\u6211\u7684\u9879\u76ee\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u652f\u6301\uff0c\u4f7f\u5f97\u5bb9\u5668\u5316\u5de5\u4f5c\u8d1f\u8f7d\u7684\u7ba1\u7406\u53d8\u5f97\u66f4\u52a0\u667a\u80fd\u548c\u9ad8\u6548\u3002</p>"},{"location":"k8s/k8s%E5%88%9B%E5%BB%BA%E5%AE%89%E8%A3%85dashboard/","title":"K8s\u521b\u5efa\u5b89\u88c5dashboard","text":""},{"location":"k8s/k8s%E5%88%9B%E5%BB%BA%E5%AE%89%E8%A3%85dashboard/#1\u521b\u5efa\u5b89\u88c5dashboard","title":"1.\u521b\u5efa\u5b89\u88c5dashboard","text":"Bash<pre><code>#\u521b\u5efapods\nkubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.7.0/aio/deploy/recommended.yaml\n\n\n#\u67e5\u770b\u8fd0\u884c\u7684dashboard pod\nkubectl get pods -n kubernetes-dashboard\n\n#\u5220\u9664\u8fd0\u884c\u7684dashboard pod\nkubectl delete pods -n kubernetes-dashboard  &lt;pod-name&gt;\n\n\n#\u67e5\u770b\u8fd0\u884c\u7684dashboard services\nkubectl get services -n kubernetes-dashboard\n\n#\u67e5\u770b\u8fd0\u884c\u7684dashboard services\nkubectl delete service &lt;services-name&gt; --namespace=kubernetes-dashboard\n</code></pre>"},{"location":"k8s/k8s%E5%88%9B%E5%BB%BA%E5%AE%89%E8%A3%85dashboard/#2\u4fee\u6539nodeport\u7c7b\u578b","title":"2.\u4fee\u6539NodePort\u7c7b\u578b","text":"<p>\u5982\u679c\u4f60\u7684Service\u7c7b\u578b\u662f<code>ClusterIP</code>\uff0c\u5c1d\u8bd5\u66f4\u6539\u4e3a<code>NodePort</code>\u7c7b\u578b\u3002\u8fd9\u5c06\u4f7f\u5f97Dashboard\u53ef\u4ee5\u901a\u8fc7\u8282\u70b9\u7684IP\u5730\u5740\u548c\u6307\u5b9a\u7684\u7aef\u53e3\u8fdb\u884c\u8bbf\u95ee\u3002</p> <p>\u5c06type: ClusterIP   \u6539\u4e3a   type: NodePort</p> Bash<pre><code>[root@k8s-master01 kubernetes_file]# kubectl edit service kubernetes-dashboard -n kubernetes-dashboard\n# Please edit the object below. Lines beginning with a '#' will be ignored,\n# and an empty file will abort the edit. If an error occurs while saving this file will be\n# reopened with the relevant failures.\n#\napiVersion: v1\nkind: Service\nmetadata:\n  annotations:\n    kubectl.kubernetes.io/last-applied-configuration: |\n  creationTimestamp: \"2023-11-21T00:44:43Z\"\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kubernetes-dashboard\n  resourceVersion: \"374070\"\n  uid: acb66186-6e42-4b80-8087-ed84bf01211e\nspec:\n  clusterIP: 10.107.169.51\n  clusterIPs:\n  - 10.107.169.51\n  internalTrafficPolicy: Cluster\n  ipFamilies:\n  - IPv4\n  ipFamilyPolicy: SingleStack\n  ports:\n  - port: 443\n    protocol: TCP\n    targetPort: 8443\n  selector:\n    k8s-app: kubernetes-dashboard\n  sessionAffinity: None\n  type: NodePort\nstatus:\n</code></pre> <p>\u68c0\u67e5 <code>dashboard</code> \u670d\u52a1\u72b6\u6001\uff1a</p> <ul> <li>\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5 `dashboard \u670d\u52a1\u7684\u72b6\u6001\uff1a</li> </ul> Bash<pre><code>[root@k8s-master01 kubernetes_file]# kubectl get services -n kubernetes-dashboard\nNAME                        TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)         AGE\ndashboard-metrics-scraper   ClusterIP   10.108.113.165   &lt;none&gt;        8000/TCP        6m49s\nkubernetes-dashboard        NodePort    10.107.169.51    &lt;none&gt;        443:30368/TCP   7m2s\n</code></pre>"},{"location":"k8s/k8s%E5%88%9B%E5%BB%BA%E5%AE%89%E8%A3%85dashboard/#3\u8bbf\u95eedashboard-web\u540e\u53f0","title":"3.\u8bbf\u95eedashboard web\u540e\u53f0","text":"<p>\u67e5\u8be2\u5230\u5bf9\u5e94\u7684\u670d\u52a1\u4e0e\u7aef\u53e3\uff0c\u901a\u8fc7https://ip+\u7aef\u53e3\uff0c\u8fdb\u884c\u8bbf\u95ee\uff0c\u5982\uff1ahttps://192.168.31.150:30368/</p> <p></p>"},{"location":"k8s/k8s%E5%88%9B%E5%BB%BA%E5%AE%89%E8%A3%85dashboard/#4\u83b7\u53d6dashboard\u7684token","title":"4.\u83b7\u53d6dashboard\u7684token","text":"<p>\u53c2\u8003\u5b98\u65b9\u6587\u6863</p> <p>https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/creating-sample-user.md</p> <p>\u521b\u5efa\u670d\u52a1\u8d26\u6237</p> <p>vim  dashboard-adminuser.yaml</p> YAML<pre><code>apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: admin-user\n  namespace: kubernetes-dashboard\n</code></pre> <p>\u901a\u8fc7\u547d\u4ee4<code>kubectl apply -f dashboard-adminuser.yaml</code>\u521b\u5efa\u5b83</p> <p>\u521b\u5efa ClusterRoleBinding</p> <p><code>kops</code>\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528<code>kubeadm</code>\u6216\u4efb\u4f55\u5176\u4ed6\u6d41\u884c\u5de5\u5177\u914d\u7f6e\u96c6\u7fa4\u540e\uff0c<code>ClusterRole</code> <code>cluster-admin</code>\u96c6\u7fa4\u4e2d\u5df2\u7ecf\u5b58\u5728\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b83\u5e76\u4e3a<code>ClusterRoleBinding</code>\u6211\u4eec\u7684<code>ServiceAccount</code>. \u5982\u679c\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u60a8\u9700\u8981\u5148\u521b\u5efa\u8be5\u89d2\u8272\u5e76\u624b\u52a8\u6388\u4e88\u6240\u9700\u7684\u6743\u9650\u3002</p> YAML<pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: admin-user\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-admin\nsubjects:\n- kind: ServiceAccount\n  name: admin-user\n  namespace: kubernetes-dashboard\n</code></pre> <p>\u83b7\u53d6 ServiceAccount \u7684\u4e0d\u8bb0\u540d\u4ee4\u724c</p> <p>\u73b0\u5728\u6211\u4eec\u9700\u8981\u627e\u5230\u53ef\u7528\u4e8e\u767b\u5f55\u7684\u4ee4\u724c\u3002\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>[root@k8s-master01 kubernetes_file]# kubectl -n kubernetes-dashboard create token admin-user\n</code></pre> <p>\u53ef\u4ee5\u5c06\u751f\u6210\u7684token\u590d\u5236\u5230web\u5373\u53ef\u767b\u5f55</p> Text Only<pre><code>eyJhbGciOiJSUzI1NiIsImtpZCI6IlgtbmMwN1hQY01SVmU4bUpFS19rVmZSN2ZmQW1sQ05ibzJmc2ZhS0NtTEkifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiXSwiZXhwIjoxNzAwNTMzOTY4LCJpYXQiOjE3MDA1MzAzNjgsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsInNlcnZpY2VhY2NvdW50Ijp7Im5hbWUiOiJhZG1pbi11c2VyIiwidWlkIjoiZjY1YWYyMDktY2NhYy00OWY2LWFlNzMtMTI1Mzk1OTNlYTZhIn19LCJuYmYiOjE3MDA1MzAzNjgsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlcm5ldGVzLWRhc2hib2FyZDphZG1pbi11c2VyIn0.cv2oqAxqPvHKt_QwW_9igHsGeW_WOfnucZiNSdPow_2IqCcboNgIqoThxzllEROBd-9-WohZszignVAPpHtyA03geX5tlKYFdRI5S6HG7g1K3eE8Li_2QvUAi3tlCuIXYnZOGClcHKQFSyEGU3KoTctD0uLiAuwmoLnszGVfJZB2NmVJPxw0C95TWwp2cPNVyVOOJxBWJG5UImDjzAqrthJNERP-3RjySGYgDsklWrar-saWrUrrVGXkm_viX-OCXzjkrPS2mEhHvAP2AUg8Dwp2nUHKlAU7zLgGP9D4nIs0DUyXOTPCj5BUmrcQKrGqqK6F57GRFMH6GHIXyvtazQ\n</code></pre> <p>\u4e3a ServiceAccount \u83b7\u53d6\u957f\u671f\u6301\u6709\u8005\u4ee4\u724c</p> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7ed1\u5b9a\u670d\u52a1\u5e10\u6237\u7684 Secret \u521b\u5efa\u4e00\u4e2a\u4ee4\u724c\uff0c\u8be5\u4ee4\u724c\u5c06\u4fdd\u5b58\u5728 Secret \u4e2d\uff1a</p> Text Only<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: admin-user\n  namespace: kubernetes-dashboard\n  annotations:\n    kubernetes.io/service-account.name: \"admin-user\"   \ntype: kubernetes.io/service-account-token  \n</code></pre> <p>\u521b\u5efaSecret\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u83b7\u53d6Secret\u4e2d\u4fdd\u5b58\u7684token\uff1a</p> Text Only<pre><code>kubectl get secret admin-user -n kubernetes-dashboard -o jsonpath={\".data.token\"} | base64 -d\n</code></pre> <p>\u590d\u5236token\u767b\u5f55</p> Text Only<pre><code>eyJhbGciOiJSUzI1NiIsImtpZCI6IlgtbmMwN1hQY01SVmU4bUpFS19rVmZSN2ZmQW1sQ05ibzJmc2ZhS0NtTEkifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi11c2VyIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImFkbWluLXVzZXIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiJmNjVhZjIwOS1jY2FjLTQ5ZjYtYWU3My0xMjUzOTU5M2VhNmEiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZXJuZXRlcy1kYXNoYm9hcmQ6YWRtaW4tdXNlciJ9.WyrSX__DpMdd8PLxhe4Cf0Uwa9fK9i-6hhGC2qyOYxmqv8zJ0qN0JDOE_4WXO1Vr6MC7CJdJVBaRepA9YmR9E88IX2eAoS7O7B14BuNUqsrgG7STCIv4AgIgI29HDTtHvXh2VHcoGO1GWPsItdkgzn19V9U5jswKxXlftJ-mwZyd4_LiRwdurKfzcJLV39oWWezxLM3AjQlwdgkxty7EaOicMtZ6ttYUsPvQl9iHDDcDH8C0wMXnyGhgxjUHVX8kIysMwwdXlMgKtiQ1GhYzC785UtI4S9_nXyaA1QCS-UgPeoMbCmWAhziIugVjimndIVfD-XjCsok1BGfE1FfJhQ\n</code></pre>"},{"location":"k8s/k8s%E5%88%9B%E5%BB%BA%E5%AE%89%E8%A3%85dashboard/#5\u767b\u5165dashboard","title":"5.\u767b\u5165dashboard","text":"<p>\u5355\u51fb<code>Sign in</code>\u6309\u94ae\u5373\u53ef\u3002\u60a8\u73b0\u5728\u5df2\u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u767b\u5f55\u3002</p> <p></p>"},{"location":"k8s/k8s%E5%88%9B%E5%BB%BA%E5%AE%89%E8%A3%85dashboard/#\u5220\u9664\u7ba1\u7406\u5458","title":"\u5220\u9664\u7ba1\u7406\u5458","text":"<p>\u5220\u9664\u7ba1\u7406\u5458<code>ServiceAccount</code>\u548c<code>ClusterRoleBinding</code>.</p> Text Only<pre><code>kubectl -n kubernetes-dashboard delete serviceaccount admin-user\nkubectl -n kubernetes-dashboard delete clusterrolebinding admin-user\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/","title":"1 K8S\u96c6\u7fa4\u5b89\u88c5","text":""},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#\u524d\u8a00","title":"\u524d\u8a00","text":"<p>Kubeadm-Containerd\u96c6\u7fa4\u5b89\u88c5</p> <p>\u57fa\u4e8econtainerd\u5bb9\u5668\u8fd0\u884c\u65f6\u90e8\u7f72k8s 1.28\u96c6\u7fa4</p>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#\u4e00-\u786c\u4ef6\u548c\u7cfb\u7edf","title":"\u4e00 \u786c\u4ef6\u548c\u7cfb\u7edf","text":"\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c Centos7.9 CPU \u5185\u5b58 \u786c\u76d8 \u89d2\u8272 \u4e3b\u673a\u540d 2c 4G 30G master k8s-master01 1c 4G 30G worker(node) k8s-worker01 1c 4G 30G worker(node) k8s-worker02"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#\u4e8c-\u57fa\u7840\u914d\u7f6e","title":"\u4e8c \u57fa\u7840\u914d\u7f6e","text":"<p>\u200b       \u7531\u4e8e\u672c\u6b21\u4f7f\u75283\u53f0\u4e3b\u673a\u5b8c\u6210kubernetes\u96c6\u7fa4\u90e8\u7f72\uff0c\u5176\u4e2d1\u53f0\u4e3amaster\u8282\u70b9,\u540d\u79f0\u4e3ak8s-master01;\u5176\u4e2d2\u53f0\u4e3aworker\u8282\u70b9\uff0c\u540d\u79f0\u5206\u522b\u4e3a\uff1ak8s-worker01\u53cak8s-worker02\u3002</p>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#21-\u914d\u7f6e\u4e3b\u673a\u540d","title":"2.1 \u914d\u7f6e\u4e3b\u673a\u540d","text":"master\u8282\u70b9 hostnamectl set-hostname k8s-master01 192.168.31.150 worker01\u8282\u70b9 hostnamectl set-hostname k8s-worker01 192.168.31.151 worker02\u8282\u70b9 hostnamectl set-hostname k8s-worker02 192.168.31.152 <p>\u4e09\u53f0\u5bf9\u5e94\u7684\u8bbe\u5907\u5206\u522b\u6267\u884c\uff1a</p> Text Only<pre><code>master\u8282\u70b9\n# hostnamectl set-hostname k8s-master01\n\nworker01\u8282\u70b9\n# hostnamectl set-hostname k8s-worker01\n\nworker02\u8282\u70b9\n# hostnamectl set-hostname k8s-worker02\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#22-\u4e3b\u673a\u540d\u4e0eip\u5730\u5740\u89e3\u6790","title":"2.2 \u4e3b\u673a\u540d\u4e0eIP\u5730\u5740\u89e3\u6790","text":"<p>\u6240\u6709\u96c6\u7fa4\u4e3b\u673a\u5747\u9700\u8981\u8fdb\u884c\u914d\u7f6e\u3002</p> Bash<pre><code># cat &gt;&gt; /etc/hosts &lt;&lt; EOF\n192.168.31.150 k8s-master01\n192.168.31.151 k8s-worker01\n192.168.31.152 k8s-worker02\nEOF\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#23-\u9632\u706b\u5899--selinux","title":"2.3 \u9632\u706b\u5899 &amp; selinux","text":"<p>\u6240\u6709\u4e3b\u673a\u5747\u9700\u8981\u64cd\u4f5c\u3002\u4fee\u6539SELinux\u914d\u7f6e\u9700\u8981\u91cd\u542f\u64cd\u4f5c\u7cfb\u7edf\u3002</p> Text Only<pre><code>#\u5173\u95ed\u9632\u706b\u5899\n# systemctl disable firewalld &amp;&amp; systemctl stop firewalld &amp;&amp; firewall-cmd --state\n\n#\u5173\u95edselinux\n# sed -ri 's/SELINUX=enforcing/SELINUX=disabled/' /etc/selinux/config        &amp;&amp; getenforce 0\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#24-\u65f6\u95f4\u540c\u6b65\u914d\u7f6e","title":"2.4 \u65f6\u95f4\u540c\u6b65\u914d\u7f6e","text":"<p>\u6240\u6709\u4e3b\u673a\u5747\u9700\u8981\u64cd\u4f5c\u3002\u6700\u5c0f\u5316\u5b89\u88c5\u7cfb\u7edf\u9700\u8981\u5b89\u88c5ntpdate\u8f6f\u4ef6\u3002</p> Text Only<pre><code>#\u5b89\u88c5ntp\n# yum install -y ntpdate \n\n#\u914d\u7f6entp\u81ea\u52a8\u66f4\u65b0\u65f6\u95f4\n\n# crontab -e\n0 */1 * * * /usr/sbin/ntpdate time1.aliyun.com\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#25-\u5347\u7ea7\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838","title":"2.5 \u5347\u7ea7\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838","text":"Text Only<pre><code>#\u5bfc\u5165elrepo gpg key\n# rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org\n\n\n\n#\u5b89\u88c5elrepo YUM\u6e90\u4ed3\u5e93\n# yum -y install https://www.elrepo.org/elrepo-release-7.0-4.el7.elrepo.noarch.rpm\n\n\n\n#\u5b89\u88c5kernel-ml\u7248\u672c\uff0cml\u4e3a\u6700\u65b0\u7a33\u5b9a\u7248\u672c\uff0clt\u4e3a\u957f\u671f\u7ef4\u62a4\u7248\u672c\n# yum --enablerepo=\"elrepo-kernel\" -y install kernel-lt.x86_64\n\n\n#\u8bbe\u7f6egrub2\u9ed8\u8ba4\u5f15\u5bfc\u4e3a0\n# echo 'GRUB_DEFAULT=\"0\"' | tee -a /etc/default/grub\n\n\n#\u91cd\u65b0\u751f\u6210grub2\u5f15\u5bfc\u6587\u4ef6\n# grub2-mkconfig -o /boot/grub2/grub.cfg\n\n\n\u91cd\u542f\u7cfb\u7edf\n# reboot\n\n\u91cd\u542f\u540e\uff0c\u9700\u8981\u9a8c\u8bc1\u5185\u6838\u662f\u5426\u4e3a\u66f4\u65b0\u5bf9\u5e94\u7684\u7248\u672c\n# uname -r\n5.4.260-1.el7.elrepo.x86_64\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#26-\u914d\u7f6e\u5185\u6838\u8f6c\u53d1\u53ca\u7f51\u6865\u8fc7\u6ee4","title":"2.6 \u914d\u7f6e\u5185\u6838\u8f6c\u53d1\u53ca\u7f51\u6865\u8fc7\u6ee4","text":"Text Only<pre><code>\u6240\u6709\u4e3b\u673a\u5747\u9700\u8981\u64cd\u4f5c\u3002\n\n\u6dfb\u52a0\u7f51\u6865\u8fc7\u6ee4\u53ca\u5185\u6838\u8f6c\u53d1\u914d\u7f6e\u6587\u4ef6\n# cat &gt; /etc/sysctl.d/k8s.conf &lt;&lt; EOF\nnet.bridge.bridge-nf-call-ip6tables = 1\nnet.bridge.bridge-nf-call-iptables = 1\nnet.ipv4.ip_forward = 1\nvm.swappiness = 0\nEOF\n\n\n\u52a0\u8f7dbr_netfilter\u6a21\u5757\n# modprobe br_netfilter\n\n\n\u67e5\u770b\u662f\u5426\u52a0\u8f7d\n# lsmod | grep br_netfilter\nbr_netfilter           22256  0\nbridge                151336  1 br_netfilter\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#27-\u5b89\u88c5ipset\u53caipvsadm","title":"2.7 \u5b89\u88c5ipset\u53caipvsadm","text":"<p>\u6240\u6709\u4e3b\u673a\u90fd\u9700\u8981\u64cd\u4f5c</p> Text Only<pre><code>\u5b89\u88c5ipset\u53caipvsadm\n# yum -y install ipset ipvsadm\n\n\n\u914d\u7f6eipvsadm\u6a21\u5757\u52a0\u8f7d\u65b9\u5f0f\n\u6dfb\u52a0\u9700\u8981\u52a0\u8f7d\u7684\u6a21\u5757\n# cat &gt; /etc/sysconfig/modules/ipvs.modules &lt;&lt;EOF\n#!/bin/bash\nmodprobe -- ip_vs\nmodprobe -- ip_vs_rr\nmodprobe -- ip_vs_wrr\nmodprobe -- ip_vs_sh\nmodprobe -- nf_conntrack\nEOF\n\n\n\u6388\u6743\u3001\u8fd0\u884c\u3001\u68c0\u67e5\u662f\u5426\u52a0\u8f7d\n# chmod 755 /etc/sysconfig/modules/ipvs.modules &amp;&amp; bash /etc/sysconfig/modules/ipvs.modules &amp;&amp; lsmod | grep -e ip_vs -e nf_conntrack\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#28-\u5173\u95edswap\u5206\u533a","title":"2.8 \u5173\u95edSWAP\u5206\u533a","text":"Text Only<pre><code>\u4fee\u6539\u5b8c\u6210\u540e\u9700\u8981\u91cd\u542f\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5982\u4e0d\u91cd\u542f\uff0c\u53ef\u4e34\u65f6\u5173\u95ed\uff0c\u547d\u4ee4\u4e3a\n# swapoff -a\n\n\u6c38\u8fdc\u5173\u95edswap\u5206\u533a\uff0c\u9700\u8981\u91cd\u542f\u64cd\u4f5c\u7cfb\u7edf\nsed -ri 's/.*swap.*/#&amp;/' /etc/fstab\n\n\u91cd\u542f\u7cfb\u7edf\n# reboot\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#\u4e09-\u5bb9\u5668\u8fd0\u884c\u65f6-containerd\u51c6\u5907","title":"\u4e09 \u5bb9\u5668\u8fd0\u884c\u65f6 Containerd\u51c6\u5907","text":""},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#31-containerd\u83b7\u53d6","title":"3.1 Containerd\u83b7\u53d6","text":"<p>Containerd\u83b7\u53d6\u90e8\u7f72\u6587\u4ef6\uff0c\u8bbf\u95eegithub</p> <p></p> <p></p> <p></p> <p></p> <p>\u4e0b\u8f7d\u89e3\u538b\uff1a</p> Text Only<pre><code>\u4e0b\u8f7d\n# wget https://github.com/containerd/containerd/releases/download/v1.7.3/cri-containerd-1.7.3-linux-amd64.tar.gz\n\n\u89e3\u538b\n# tar zxvf cri-containerd-1.7.3-linux-amd64.tar.gz -C /\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#32-containerd\u914d\u7f6e\u6587\u4ef6\u751f\u6210\u5e76\u4fee\u6539","title":"3.2 Containerd\u914d\u7f6e\u6587\u4ef6\u751f\u6210\u5e76\u4fee\u6539","text":"Text Only<pre><code># mkdir /etc/containerd\n\n# containerd config default &gt; /etc/containerd/config.toml\n\n# vim /etc/containerd/config.toml\nsandbox_image = \"registry.k8s.io/pause:3.9\" \u75313.8\u4fee\u6539\u4e3a3.9\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#33-containerd\u542f\u52a8\u53ca\u5f00\u673a\u81ea\u542f\u52a8","title":"3.3 Containerd\u542f\u52a8\u53ca\u5f00\u673a\u81ea\u542f\u52a8","text":"Text Only<pre><code># systemctl enable --now containerd\n\n\u9a8c\u8bc1\u5176\u7248\u672c\n# containerd --version\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#34-runc\u51c6\u5907","title":"3.4 runc\u51c6\u5907","text":""},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#35-ibseccomp\u51c6\u5907","title":"3.5 ibseccomp\u51c6\u5907","text":"Text Only<pre><code>\u5b89\u88c5 gcc,\u7f16\u8bd1\u9700\u8981\n# yum install gcc -y\n\n# wget https://github.com/opencontainers/runc/releases/download/v1.1.5/libseccomp-2.5.4.tar.gz\n\n# tar xf libseccomp-2.5.4.tar.gz\n\n# cd libseccomp-2.5.4/\n\n# yum install gperf -y\n\n# ./configure\n\n# make &amp;&amp; make install\n\n# find / -name \"libseccomp.so\"\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#36-runc\u5b89\u88c5","title":"3.6 runc\u5b89\u88c5","text":"Text Only<pre><code># wget https://github.com/opencontainers/runc/releases/download/v1.1.9/runc.amd64\n\n# chmod +x runc.amd64\n\n\u67e5\u627econtainerd\u5b89\u88c5\u65f6\u5df2\u5b89\u88c5\u7684runc\u6240\u5728\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u66ff\u6362\n# which runc\n\n\u66ff\u6362containerd\u5b89\u88c5\u5df2\u5b89\u88c5\u7684runc\n# mv runc.amd64 /usr/local/sbin/runc\n\n\u6267\u884crunc\u547d\u4ee4\uff0c\u5982\u679c\u6709\u547d\u4ee4\u5e2e\u52a9\u5219\u4e3a\u6b63\u5e38\n# runc\n</code></pre> <p>\u200b       \u5982\u679c\u8fd0\u884crunc\u547d\u4ee4\u65f6\u63d0\u793a\uff1arunc: error while loading shared libraries: libseccomp.so.2: cannot open shared object file: No such file or directory\uff0c\u5219\u8868\u660erunc\u6ca1\u6709\u627e\u5230libseccomp\uff0c\u9700\u8981\u68c0\u67e5libseccomp\u662f\u5426\u5b89\u88c5\uff0c\u672c\u6b21\u5b89\u88c5\u9ed8\u8ba4\u5c31\u53ef\u4ee5\u67e5\u8be2\u5230\u3002</p>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#\u56db-k8s\u96c6\u7fa4\u90e8\u7f72","title":"\u56db K8S\u96c6\u7fa4\u90e8\u7f72","text":""},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#41-k8s\u96c6\u7fa4\u8f6f\u4ef6yum\u6e90\u51c6\u5907","title":"4.1 K8S\u96c6\u7fa4\u8f6f\u4ef6YUM\u6e90\u51c6\u5907","text":"<p>google\u63d0\u4f9bYUM\u6e90\uff1a</p> Text Only<pre><code># cat &gt; /etc/yum.repos.d/k8s.repo &lt;&lt;EOF\n[kubernetes]\nname=Kubernetes\nbaseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64\nenabled=1\ngpgcheck=1\nrepo_gpgcheck=1\ngpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg\n        https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg\nEOF\n</code></pre> <p>\u963f\u91cc\u4e91\u63d0\u4f9bYUM\u6e90\uff1a</p> Text Only<pre><code># cat &gt; /etc/yum.repos.d/k8s.repo &lt;&lt;EOF\n[kubernetes]\nname=Kubernetes\nbaseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/\nenabled=1\ngpgcheck=0\nrepo_gpgcheck=0\ngpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg\nEOF\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#42-k8s\u96c6\u7fa4\u8f6f\u4ef6\u5b89\u88c5","title":"4.2 K8S\u96c6\u7fa4\u8f6f\u4ef6\u5b89\u88c5","text":"Text Only<pre><code>\u9ed8\u8ba4\u5b89\u88c5\n# yum -y install  kubeadm  kubelet kubectl\n\n\n\u67e5\u770b\u6307\u5b9a\u7248\u672c\n# yum list kubeadm.x86_64 --showduplicates | sort -r\n# yum list kubelet.x86_64 --showduplicates | sort -r\n# yum list kubectl.x86_64 --showduplicates | sort -r\n\n\u5b89\u88c5\u6307\u5b9a\u7248\u672c\n# yum -y install  kubeadm-1.28.X-0  kubelet-1.28.X-0 kubectl-1.28.X-0\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#43-\u914d\u7f6ekubelet","title":"4.3 \u914d\u7f6ekubelet","text":"<p>\u200b       \u4e3a\u4e86\u5b9e\u73b0docker\u4f7f\u7528\u7684cgroupdriver\u4e0ekubelet\u4f7f\u7528\u7684cgroup\u7684\u4e00\u81f4\u6027\uff0c\u5efa\u8bae\u4fee\u6539\u5982\u4e0b\u6587\u4ef6\u5185\u5bb9\u3002</p> Text Only<pre><code># vim /etc/sysconfig/kubelet\nKUBELET_EXTRA_ARGS=\"--cgroup-driver=systemd\"\n\n\n\u8bbe\u7f6ekubelet\u4e3a\u5f00\u673a\u81ea\u542f\u52a8\u5373\u53ef\uff0c\u7531\u4e8e\u6ca1\u6709\u751f\u6210\u914d\u7f6e\u6587\u4ef6\uff0c\u96c6\u7fa4\u521d\u59cb\u5316\u540e\u81ea\u52a8\u542f\u52a8\n# systemctl enable kubelet\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#44-\u96c6\u7fa4\u521d\u59cb\u5316","title":"4.4 \u96c6\u7fa4\u521d\u59cb\u5316","text":""},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#441-\u66ff\u6362100\u5e74\u8bc1\u4e66kubeadm","title":"4.4.1 \u66ff\u6362100\u5e74\u8bc1\u4e66kubeadm","text":"Text Only<pre><code># which kubeadm\n/usr/bin/kubeadm\n</code></pre> Text Only<pre><code>\u4e0b\u8f7d\n# wget https://github.com/kubernetes/kubernetes/archive/refs/tags/v1.28.0.tar.gz\n\n# ls\nv1.28.0.tar.gz\n\n\u89e3\u538b\n# tar zxvf v1.28.0.tar.gz\n\n# ls\nkubernetes-1.28.0\n</code></pre> <p>\u4fee\u6539kubernetes\u6e90\u7801</p> <p>\u4fee\u6539CA\u8bc1\u4e66\u4e3a100\u5e74\u6709\u6548\u671f\uff08\u9ed8\u8ba4\u4e3a10\u5e74\uff09</p> Text Only<pre><code>[root@k8s-master01 ~]# vim kubernetes-1.28.0/staging/src/k8s.io/client-go/util/cert/cert.go\n\n 72         tmpl := x509.Certificate{\n 73                 SerialNumber: serial,\n 74                 Subject: pkix.Name{\n 75                         CommonName:   cfg.CommonName,\n 76                         Organization: cfg.Organization,\n 77                 },\n 78                 DNSNames:              []string{cfg.CommonName},\n 79                 NotBefore:             notBefore,\n 80                 NotAfter:              now.Add(duration365d * 100).UTC(),\n 81                 KeyUsage:              x509.KeyUsageKeyEncipherment | x509.KeyUsageDigitalSignature | x509.KeyUsageCertSign,\n 82                 BasicConstraintsValid: true,\n 83                 IsCA:                  true,\n 84         }\n</code></pre> <p>\u4fee\u6539\u8bf4\u660e\uff1a</p> <p>\u628a\u6587\u4ef6\u4e2d80\u884c\uff0c10\u4fee\u6539\u4e3a100\u5373\u53ef \u3002</p> <p>\u4fee\u6539kubeadm\u8bc1\u4e66\u6709\u6548\u671f\u4e3a100\u5e74\uff08\u9ed8\u8ba4\u4e3a1\u5e74\uff09</p> Text Only<pre><code>[root@k8s-master01 ~]# vim kubernetes-1.28.0/cmd/kubeadm/app/constants/constants.go\n ......\n 37 const (\n 38         // KubernetesDir is the directory Kubernetes owns for storing various configuration files\n 39         KubernetesDir = \"/etc/kubernetes\"\n 40         // ManifestsSubDirName defines directory name to store manifests\n 41         ManifestsSubDirName = \"manifests\"\n 42         // TempDirForKubeadm defines temporary directory for kubeadm\n 43         // should be joined with KubernetesDir.\n 44         TempDirForKubeadm = \"tmp\"\n 45\n 46         // CertificateBackdate defines the offset applied to notBefore for CA certificates generated by kubeadm\n 47         CertificateBackdate = time.Minute * 5\n 48         // CertificateValidity defines the validity for all the signed certificates generated by kubeadm\n 49         CertificateValidity = time.Hour * 24 * 365 * 100\n</code></pre> <p>\u4fee\u6539\u8bf4\u660e\uff1a</p> <p>\u628aCertificateValidity = time.Hour * 24 * 365 \u4fee\u6539\u4e3a\uff1aCertificateValidity = time.Hour * 24 * 365 * 100</p>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#442-\u5b89\u88c5go","title":"4.4.2 \u5b89\u88c5go","text":"Text Only<pre><code>wget https://go.dev/dl/go1.21.0.linux-amd64.tar.gz\n\n[root@k8s-master01 ~]# tar xf go1.21.0.linux-amd64.tar.gz\n\n[root@k8s-master01 ~]# mv go /usr/local/go\n\n[root@k8s-master01 ~]# vim /etc/profile\n[root@k8s-master01 ~]# cat /etc/profile\nexport PATH=$PATH:/usr/local/go/bin\n\n[root@k8s-master01 ~]# source /etc/profile\n\n[root@k8s-master01 ~]# go version\ngo version go1.21.0 linux/amd64\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#443-kubernetes\u6e90\u7801\u7f16\u8bd1","title":"4.4.3 kubernetes\u6e90\u7801\u7f16\u8bd1","text":"Text Only<pre><code>\u5b89\u88c5rsync,\u7f16\u8bd1\u8981\u7528\nyum install rsync -y  \n\n\n[root@k8s-master01 ~]# cd kubernetes-1.28.0/\n[root@k8s-master01 kubernetes-1.28.0]# make all WHAT=cmd/kubeadm GOFLAGS=-v\n\n\n[root@k8s-master01 kubernetes-1.28.0]# ls\n_output\n\n\n[root@k8s-master01 kubernetes-1.28.0]# ls _output/\nbin  local\n[root@k8s-master01 kubernetes-1.28.0]# ls _output/bin/\nkubeadm  ncpu\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#444-\u6821\u9a8c\u4e24\u4e2akubeadm-\u6587\u4ef6md5\u503c\u53ef\u4ee5\u4e0d\u6821\u9a8c","title":"4.4.4 \u6821\u9a8c\u4e24\u4e2akubeadm \u6587\u4ef6md5\u503c\uff08\u53ef\u4ee5\u4e0d\u6821\u9a8c\uff09","text":"Text Only<pre><code>[root@k8s-master01 bin]# md5sum kubeadm \n1d4728a043de707093644ffbd949bca9  kubeadm\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#445-\u66ff\u6362\u6240\u6709\u96c6\u7fa4\u4e3b\u673akubeadm","title":"4.4.5 \u66ff\u6362\u6240\u6709\u96c6\u7fa4\u4e3b\u673akubeadm","text":"Text Only<pre><code>[root@k8s-master01 kubernetes-1.28.0]# which kubeadm\n/usr/bin/kubeadm\n[root@k8s-master01 kubernetes-1.28.0]# rm -rf `which kubeadm`\n[root@k8s-master01 kubernetes-1.28.0]# cp _output/bin/kubeadm /usr/bin/kubeadm\n[root@k8s-master01 kubernetes-1.28.0]# which kubeadm\n/usr/bin/kubeadm\n\nworker01\u548cworker02\u5220\u9664\n[root@k8s-worker01 ~]# rm -rf `which kubeadm`\n[root@k8s-worker02 ~]# rm -rf `which kubeadm`\n\n\n\u590d\u5236\u6587\u4ef6\u5230worker\n[root@k8s-master01 kubernetes-1.28.0]# scp _output/bin/kubeadm 192.168.31.151:/usr/bin/kubeadm\n[root@k8s-master01 kubernetes-1.28.0]# scp _output/bin/kubeadm 192.168.31.152:/usr/bin/kubeadm\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#446-\u83b7\u53d6kubernetes-128\u7ec4\u4ef6\u5bb9\u5668\u955c\u50cf","title":"4.4.6 \u83b7\u53d6kubernetes 1.28\u7ec4\u4ef6\u5bb9\u5668\u955c\u50cf","text":"Text Only<pre><code># kubeadm config images list\nregistry.k8s.io/kube-apiserver:v1.28.0\nregistry.k8s.io/kube-controller-manager:v1.28.0\nregistry.k8s.io/kube-scheduler:v1.28.0\nregistry.k8s.io/kube-proxy:v1.28.0\nregistry.k8s.io/pause:3.9\nregistry.k8s.io/etcd:3.5.9-0\nregistry.k8s.io/coredns/coredns:v1.10.1\n\n\n\n\u62c9\u53d6\u955c\u50cf\n# kubeadm config images pull\n[config/images] Pulled registry.k8s.io/kube-apiserver:v1.28.3\n[config/images] Pulled registry.k8s.io/kube-controller-manager:v1.28.3\n[config/images] Pulled registry.k8s.io/kube-scheduler:v1.28.3\n[config/images] Pulled registry.k8s.io/kube-proxy:v1.28.3\n[config/images] Pulled registry.k8s.io/pause:3.9\n[config/images] Pulled registry.k8s.io/etcd:3.5.9-0\n[config/images] Pulled registry.k8s.io/coredns/coredns:v1.10.1\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#447-\u96c6\u7fa4\u521d\u59cb\u5316","title":"4.4.7 \u96c6\u7fa4\u521d\u59cb\u5316","text":"Text Only<pre><code>\u521d\u59cb\u5316\n# kubeadm init --kubernetes-version=v1.28.0 --pod-network-cidr=10.244.0.0/16 --apiserver-advertise-address=192.168.31.150  --cri-socket unix:///var/run/containerd/containerd.sock\n</code></pre> <p>\u5982\u679c\u53ea\u7528Containerd\uff0c\u4e0d\u7528docker\uff0c\u53ef\u4ee5\u4e0d\u52a0\u2013cri-socket unix:///var/run/containerd/containerd.sock</p> <p>\u5728Kubernetes\uff08\u901a\u5e38\u7b80\u79f0\u4e3aK8s\uff09\u4e2d\uff0c\u2013cri-socket \u53c2\u6570\u7528\u4e8e\u6307\u5b9a\u5bb9\u5668\u8fd0\u884c\u65f6\uff08Container Runtime Interface\uff0cCRI\uff09\u7684\u5957\u63a5\u5b57\u5730\u5740\u3002CRI\u662fKubernetes\u4e0e\u5bb9\u5668\u8fd0\u884c\u65f6\u4e4b\u95f4\u7684\u63a5\u53e3\uff0c\u5141\u8bb8Kubernetes\u4e0e\u4e0d\u540c\u7684\u5bb9\u5668\u8fd0\u884c\u65f6\u8fdb\u884c\u901a\u4fe1\uff0c\u5982Docker\u3001containerd\u7b49\u3002</p> Text Only<pre><code>[root@k8s-master01 ~]# kubeadm init --kubernetes-version=v1.28.0 --pod-network-cidr=10.244.0.0/16 --apiserver-advertise-address=192.168.31.150  --cri-socket unix:///var/run/containerd/containerd.sock\n[init] Using Kubernetes version: v1.28.0\n[preflight] Running pre-flight checks\n[preflight] Pulling images required for setting up a Kubernetes cluster\n[preflight] This might take a minute or two, depending on the speed of your internet connection\n[preflight] You can also perform this action in beforehand using 'kubeadm config images pull'\n[certs] Using certificateDir folder \"/etc/kubernetes/pki\"\n[certs] Generating \"ca\" certificate and key\n[certs] Generating \"apiserver\" certificate and key\n[certs] apiserver serving cert is signed for DNS names [k8s-master01 kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 192.168.31.150]\n[certs] Generating \"apiserver-kubelet-client\" certificate and key\n[certs] Generating \"front-proxy-ca\" certificate and key\n[certs] Generating \"front-proxy-client\" certificate and key\n[certs] Generating \"etcd/ca\" certificate and key\n[certs] Generating \"etcd/server\" certificate and key\n[certs] etcd/server serving cert is signed for DNS names [k8s-master01 localhost] and IPs [192.168.31.150 127.0.0.1 ::1]\n[certs] Generating \"etcd/peer\" certificate and key\n[certs] etcd/peer serving cert is signed for DNS names [k8s-master01 localhost] and IPs [192.168.31.150 127.0.0.1 ::1]\n[certs] Generating \"etcd/healthcheck-client\" certificate and key\n[certs] Generating \"apiserver-etcd-client\" certificate and key\n[certs] Generating \"sa\" key and public key\n[kubeconfig] Using kubeconfig folder \"/etc/kubernetes\"\n[kubeconfig] Writing \"admin.conf\" kubeconfig file\n[kubeconfig] Writing \"kubelet.conf\" kubeconfig file\n[kubeconfig] Writing \"controller-manager.conf\" kubeconfig file\n[kubeconfig] Writing \"scheduler.conf\" kubeconfig file\n[etcd] Creating static Pod manifest for local etcd in \"/etc/kubernetes/manifests\"\n[control-plane] Using manifest folder \"/etc/kubernetes/manifests\"\n[control-plane] Creating static Pod manifest for \"kube-apiserver\"\n[control-plane] Creating static Pod manifest for \"kube-controller-manager\"\n[control-plane] Creating static Pod manifest for \"kube-scheduler\"\n[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"\n[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"\n[kubelet-start] Starting the kubelet\n[wait-control-plane] Waiting for the kubelet to boot up the control plane as static Pods from directory \"/etc/kubernetes/manifests\". This can take up to 4m0s\n[kubelet-check] Initial timeout of 40s passed.\n[apiclient] All control plane components are healthy after 103.502051 seconds\n[upload-config] Storing the configuration used in ConfigMap \"kubeadm-config\" in the \"kube-system\" Namespace\n[kubelet] Creating a ConfigMap \"kubelet-config\" in namespace kube-system with the configuration for the kubelets in the cluster\n[upload-certs] Skipping phase. Please see --upload-certs\n[mark-control-plane] Marking the node k8s-master01 as control-plane by adding the labels: [node-role.kubernetes.io/control-plane node.kubernetes.io/exclude-from-external-load-balancers]\n[mark-control-plane] Marking the node k8s-master01 as control-plane by adding the taints [node-role.kubernetes.io/control-plane:NoSchedule]\n[bootstrap-token] Using token: 2n0t62.gvuu8x3zui9o8xnc\n[bootstrap-token] Configuring bootstrap tokens, cluster-info ConfigMap, RBAC Roles\n[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to get nodes\n[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to post CSRs in order for nodes to get long term certificate credentials\n[bootstrap-token] Configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token\n[bootstrap-token] Configured RBAC rules to allow certificate rotation for all node client certificates in the cluster\n[bootstrap-token] Creating the \"cluster-info\" ConfigMap in the \"kube-public\" namespace\n[kubelet-finalize] Updating \"/etc/kubernetes/kubelet.conf\" to point to a rotatable kubelet client certificate and key\n[addons] Applied essential addon: CoreDNS\n[addons] Applied essential addon: kube-proxy\n\nYour Kubernetes control-plane has initialized successfully!\n\nTo start using your cluster, you need to run the following as a regular user:\n\n  mkdir -p $HOME/.kube\n  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\n  sudo chown $(id -u):$(id -g) $HOME/.kube/config\n\nAlternatively, if you are the root user, you can run:\n\n  export KUBECONFIG=/etc/kubernetes/admin.conf\n\nYou should now deploy a pod network to the cluster.\nRun \"kubectl apply -f [podnetwork].yaml\" with one of the options listed at:\n  https://kubernetes.io/docs/concepts/cluster-administration/addons/\n\nThen you can join any number of worker nodes by running the following on each as root:\n\nkubeadm join 192.168.31.150:6443 --token 2n0t62.gvuu8x3zui9o8xnc \\\n        --discovery-token-ca-cert-hash sha256:d294c082cc7e0d5f620fb10e527a8a7cb4cb6ccd8dc45ffaf2cddd9bd3016695\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#\u4e94-\u5de5\u4f5c\u8282\u70b9\u52a0\u5165\u96c6\u7fa4","title":"\u4e94 \u5de5\u4f5c\u8282\u70b9\u52a0\u5165\u96c6\u7fa4","text":""},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#51-worker\u8282\u70b9\u6267\u884c\u547d\u4ee4\u52a0\u5165","title":"5.1 worker\u8282\u70b9\u6267\u884c\u547d\u4ee4\u52a0\u5165","text":"Text Only<pre><code>kubeadm join 192.168.31.150:6443 --token 2n0t62.gvuu8x3zui9o8xnc \\\n        --discovery-token-ca-cert-hash sha256:d294c082cc7e0d5f620fb10e527a8a7cb4cb6\n</code></pre> <p>kubectl get nodes\u4f7f\u7528\u62a5\u9519</p> <p></p> <p>\u62a5\u9519\u9700\u8981\u5982\u4e0b\u914d\u7f6e\uff1a</p> Text Only<pre><code>mkdir -p $HOME/.kube\ncp -i /etc/kubernetes/admin.conf $HOME/.kube/config\nchown $(id -u):$(id -g) $HOME/.kube/config\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#52-\u9a8c\u8bc1k8s\u96c6\u7fa4\u8282\u70b9\u662f\u5426\u53ef\u7528","title":"5.2 \u9a8c\u8bc1K8S\u96c6\u7fa4\u8282\u70b9\u662f\u5426\u53ef\u7528","text":"Text Only<pre><code>[root@k8s-master01 ~]# kubectl get nodes\nNAME           STATUS     ROLES           AGE   VERSION\nk8s-master01   NotReady   control-plane   30m   v1.28.2\nk8s-worker01   NotReady   &lt;none&gt;          19m   v1.28.2\nk8s-worker02   NotReady   &lt;none&gt;          18m   v1.28.2\n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#53-\u9a8c\u8bc1\u8bc1\u4e66\u6709\u6548\u671f","title":"5.3 \u9a8c\u8bc1\u8bc1\u4e66\u6709\u6548\u671f","text":"Text Only<pre><code>[root@k8s-master01 ~]# openssl x509 -in /etc/kubernetes/pki/apiserver.crt -noout -text | grep ' Not '\n            Not Before: Nov 14 08:10:42 2023 GMT\n            Not After : Oct 21 08:15:42 2123 GMT\n\n\n[root@k8s-master01 ~]# kubeadm certs check-expiration\n[check-expiration] Reading configuration from the cluster...\n[check-expiration] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'\n\nCERTIFICATE                EXPIRES                  RESIDUAL TIME   CERTIFICATE AUTHORITY   EXTERNALLY MANAGED\nadmin.conf                 Oct 21, 2123 08:15 UTC   99y             ca                      no      \napiserver                  Oct 21, 2123 08:15 UTC   99y             ca                      no      \napiserver-etcd-client      Oct 21, 2123 08:15 UTC   99y             etcd-ca                 no      \napiserver-kubelet-client   Oct 21, 2123 08:15 UTC   99y             ca                      no      \ncontroller-manager.conf    Oct 21, 2123 08:15 UTC   99y             ca                      no      \netcd-healthcheck-client    Oct 21, 2123 08:15 UTC   99y             etcd-ca                 no      \netcd-peer                  Oct 21, 2123 08:15 UTC   99y             etcd-ca                 no      \netcd-server                Oct 21, 2123 08:15 UTC   99y             etcd-ca                 no      \nfront-proxy-client         Oct 21, 2123 08:15 UTC   99y             front-proxy-ca          no      \nscheduler.conf             Oct 21, 2123 08:15 UTC   99y             ca                      no      \n\nCERTIFICATE AUTHORITY   EXPIRES                  RESIDUAL TIME   EXTERNALLY MANAGED\nca                      Oct 21, 2123 08:15 UTC   99y             no      \netcd-ca                 Oct 21, 2123 08:15 UTC   99y             no      \nfront-proxy-ca          Oct 21, 2123 08:15 UTC   99y             no \n</code></pre>"},{"location":"k8s/%E5%9F%BA%E4%BA%8EContainerd%E7%9A%84K8S%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/#\u516d-\u7f51\u7edc\u63d2\u4ef6calico\u90e8\u7f72","title":"\u516d \u7f51\u7edc\u63d2\u4ef6calico\u90e8\u7f72","text":"<p>calico\u8bbf\u95ee\u94fe\u63a5\uff1ahttps://projectcalico.docs.tigera.io/about/about-calico</p> <p></p> <p></p> Python<pre><code># kubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.26.1/manifests/tigera-operator.yaml\n\n# wget https://raw.githubusercontent.com/projectcalico/calico/v3.26.1/manifests/custom-resources.yaml\n\n\n# vim custom-resources.yaml\n\n\n# cat custom-resources.yaml\n\n\n# This section includes base Calico installation configuration.\n# For more information, see: https://projectcalico.docs.tigera.io/master/reference/installation/api#operator.tigera.io/v1.Installation\napiVersion: operator.tigera.io/v1\nkind: Installation\nmetadata:\n  name: default\nspec:\n  # Configures Calico networking.\n  calicoNetwork:\n    # Note: The ipPools section cannot be modified post-install.\n    ipPools:\n    - blockSize: 26\n      cidr: 10.244.0.0/16 \u4fee\u6539\u6b64\u884c\u5185\u5bb9\u4e3a\u521d\u59cb\u5316\u65f6\u5b9a\u4e49\u7684pod network cidr\n      encapsulation: VXLANCrossSubnet\n      natOutgoing: Enabled\n      nodeSelector: all()\n\n\n---\n\n# This section configures the Calico API server.\n# For more information, see: https://projectcalico.docs.tigera.io/master/reference/installation/api#operator.tigera.io/v1.APIServer\napiVersion: operator.tigera.io/v1\nkind: APIServer\nmetadata:\n  name: default\nspec: {}\n\n\n# kubectl create -f custom-resources.yaml\n\ninstallation.operator.tigera.io/default created\napiserver.operator.tigera.io/default created\n\n\n\n\n\n[root@k8s-master01 ~]# kubectl get pods -n calico-system\nNAME                                       READY   STATUS    RESTARTS       AGE\ncalico-kube-controllers-7dbdcfcfcb-gv74j   1/1     Running   0              120m\ncalico-node-7k2dq                          1/1     Running   7 (107m ago)   120m\ncalico-node-bf8kk                          1/1     Running   7 (108m ago)   120m\ncalico-node-xbh6b                          1/1     Running   7 (107m ago)   120m\ncalico-typha-9477d4bb6-lcv9f               1/1     Running   0              120m\ncalico-typha-9477d4bb6-wf4hn               1/1     Running   0              120m\ncsi-node-driver-44vt4                      2/2     Running   0              120m\ncsi-node-driver-6867q                      2/2     Running   0              120m\ncsi-node-driver-x96sz                      2/2     Running   0              120m\n</code></pre>"},{"location":"linux/","title":"Linux\u4ecb\u7ecd","text":"<p>\u5728\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u4e2d\uff0cLinux \u6a21\u5757\u4e13\u6ce8\u4e8e\u8bb0\u5f55\u65e5\u5e38\u4f7f\u7528\u4e2d\u642d\u5efa\u7684\u5404\u79cd Linux \u670d\u52a1\u3002\u8fd9\u4e9b\u670d\u52a1\u5982\u540c\u751f\u6d3b\u4e2d\u7684\u5f97\u529b\u52a9\u624b\uff0c\u5e2e\u52a9\u6211\u9ad8\u6548\u5730\u5b8c\u6210\u6587\u4ef6\u7ba1\u7406\u3001\u7cfb\u7edf\u7ef4\u62a4\u548c\u81ea\u52a8\u5316\u65e5\u5e38\u64cd\u4f5c\u7b49\u4efb\u52a1\u3002\u4ece\u57fa\u672c\u7684\u6587\u4ef6\u64cd\u4f5c\u5230\u590d\u6742\u7684\u7cfb\u7edf\u914d\u7f6e\uff0c\u6211\u7684 Linux \u73af\u5883\u4e0d\u4ec5\u63d0\u5347\u4e86\u5de5\u4f5c\u6548\u7387\uff0c\u4e5f\u7b80\u5316\u4e86\u5404\u79cd\u6280\u672f\u7ba1\u7406\u5de5\u4f5c\u3002\u5e0c\u671b\u8fd9\u4e9b\u8bb0\u5f55\u80fd\u4e3a\u5176\u4ed6\u7528\u6237\u63d0\u4f9b\u5b9e\u7528\u7684\u53c2\u8003\u548c\u7075\u611f\uff0c\u8ba9\u5927\u5bb6\u66f4\u597d\u5730\u5229\u7528 Linux \u7cfb\u7edf\u6765\u4f18\u5316\u81ea\u5df1\u7684\u5de5\u4f5c\u6d41\u7a0b\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/","title":"Ansible\u5b89\u88c5\u90e8\u7f72\u4f7f\u7528","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#\u4e00ansible\u6982\u5ff5","title":"\u4e00\u3001Ansible\u6982\u5ff5","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#1\u53c2\u8003\u6587\u6863","title":"1.\u53c2\u8003\u6587\u6863","text":"<p>ansible\u5165\u95e8</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#2ansible\u7b80\u4ecb","title":"2.Ansible\u7b80\u4ecb","text":"<p>Ansible\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u81ea\u52a8\u5316\u5de5\u5177\uff0c\u7528\u4e8e\u914d\u7f6e\u7ba1\u7406\u3001\u5e94\u7528\u90e8\u7f72\u3001\u4efb\u52a1\u81ea\u52a8\u5316\u548c\u591a\u8282\u70b9\u7f16\u6392\u3002\u5b83\u7531Michael DeHaan\u521b\u5efa\uff0c\u5e76\u4e8e2015\u5e74\u88abRed Hat\u516c\u53f8\u6536\u8d2d\u3002Ansible\u4ee5\u5176\u7b80\u5355\u6613\u7528\u3001\u65e0\u4ee3\u7406\u67b6\u6784\u548c\u57fa\u4e8eSSH\u7684\u901a\u4fe1\u800c\u53d7\u5230\u5e7f\u6cdb\u6b22\u8fce\u3002</p> <p>\u5b83\u4e5f\u662f\u4e00\u4e2a\u914d\u7f6e\u7ba1\u7406\u7cfb\u7edf\uff08configuration management system\uff09\u3002\u4f60\u53ea\u9700\u8981\u53ef\u4ee5\u4f7f\u7528ssh\u8bbf\u95ee\u4f60\u7684\u670d\u52a1\u5668\u6216\u8bbe\u5907\u5c31\u53ef\u4ee5\uff1b\u5b83\u4e0d\u540c\u4e8e\u5176\u4ed6\u5de5\u5177\uff0c\u56e0\u4e3a\u5b83\u4f7f\u7528\u7684\u662f\u63a8\u9001\u7684\u65b9\u5f0f\uff0c\u800c\u4e0d\u50cf\u5176\u4ed6\u5de5\u5177\u4e00\u6837\u4f7f\u7528\u62c9\u53bb\u5b89\u88c5agent\u3002</p> <p>Ansible \u6838\u5fc3\u8f6f\u4ef6\u662f\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5b83\u4e0d\u8fd0\u884c\u4f5c\u4e3a\u540e\u53f0\u670d\u52a1\u6216\u5b88\u62a4\u8fdb\u7a0b\uff0c\u6240\u4ee5\u5b83\u6ca1\u6709\u201c\u542f\u52a8\u201d\u6216\u201c\u91cd\u542f\u201d\u670d\u52a1\u7684\u6982\u5ff5\uff0cAnsible \u76f4\u63a5\u901a\u8fc7\u547d\u4ee4\u884c\u6267\u884c\u64cd\u4f5c\uff0c\u5982\u8fd0\u884c playbook\u3001ad-hoc \u547d\u4ee4\u7b49\uff0c\u8981\u4f7f\u7528 Ansible \u6267\u884c\u4efb\u52a1\uff0c\u9700\u8981\u521b\u5efa inventory \u6587\u4ef6\u548c playbook\u3002</p> <p>Ansible \u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5b8c\u6210\u4e00\u4e9b\u6279\u91cf\u4efb\u52a1\uff0c\u6216\u8005\u5b8c\u6210\u4e00\u4e9b\u9700\u8981\u7ecf\u5e38\u91cd\u590d\u7684\u5de5\u4f5c\uff1b\u4f8b\u5982\u5728\u591a\u53f0\u670d\u52a1\u5668\u4e2d\u540c\u65f6\u90e8\u7f72\u4e00\u4e2a\u670d\u52a1\uff0c\u5e76\u4e14\u542f\u52a8\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#3ansible\u7ec4\u4ef6","title":"3.Ansible\u7ec4\u4ef6","text":"<p>\u4ee5\u4e0b\u662fAnsible\u7684\u4e00\u4e9b\u5173\u952e\u6982\u5ff5\u548c\u7ec4\u4ef6\uff1a</p> <ul> <li>Playbooks\uff1aPlaybooks\u662fAnsible\u7684\u914d\u7f6e\u3001\u90e8\u7f72\u548c\u7f16\u6392\u8bed\u8a00\u3002\u5b83\u4eec\u53ef\u4ee5\u63cf\u8ff0\u4f60\u60f3\u5728\u8fdc\u7a0b\u673a\u5668\u4e0a\u6267\u884c\u7684\u7b56\u7565\u6216\u73af\u5883\u3002Playbooks\u4f7f\u7528YAML\u683c\u5f0f\u7f16\u5199\uff0c\u6613\u4e8e\u9605\u8bfb\u548c\u7f16\u5199\u3002</li> <li>Modules\uff1aAnsible\u6267\u884c\u4efb\u52a1\u65f6\u4f7f\u7528\u6a21\u5757\u3002\u8fd9\u4e9b\u6a21\u5757\u662f\u72ec\u7acb\u7684\u4ee3\u7801\u5757\uff0c\u53ef\u4ee5\u6267\u884c\u7279\u5b9a\u7684\u4efb\u52a1\uff0c\u5982\u5b89\u88c5\u8f6f\u4ef6\u5305\u3001\u590d\u5236\u6587\u4ef6\u6216\u7ba1\u7406\u7528\u6237\u8d26\u6237\u3002</li> <li>Inventory\uff1aInventory\u662f\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u5b9a\u4e49\u4e86Ansible\u7ba1\u7406\u7684\u4e3b\u673a\u5217\u8868\u3002\u5b83\u53ef\u4ee5\u662f\u9759\u6001\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u52a8\u6001\u751f\u6210\u7684\u3002</li> <li>Roles\uff1aRoles\u662f\u4e00\u79cd\u7ec4\u7ec7Playbooks\u3001\u6a21\u677f\u3001\u6587\u4ef6\u548cAnsible\u5176\u4ed6\u5143\u7d20\u7684\u65b9\u5f0f\uff0c\u4ee5\u4fbf\u4e8e\u91cd\u7528\u548c\u5171\u4eab\u3002</li> <li>Ad-hoc Commands\uff1a\u9664\u4e86Playbooks\uff0cAnsible\u8fd8\u5141\u8bb8\u7528\u6237\u901a\u8fc7\u7b80\u5355\u7684\u547d\u4ee4\u884c\u6307\u4ee4\u6267\u884c\u4efb\u52a1\uff0c\u8fd9\u4e9b\u88ab\u79f0\u4e3aad-hoc\u547d\u4ee4\u3002</li> <li>Facts\uff1aFacts\u662fAnsible\u4ece\u8fdc\u7a0b\u4e3b\u673a\u6536\u96c6\u7684\u4fe1\u606f\uff0c\u5982\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001IP\u5730\u5740\u7b49\u3002\u8fd9\u4e9b\u4fe1\u606f\u53ef\u4ee5\u5728Playbooks\u4e2d\u4f7f\u7528\u3002</li> <li>Handlers\uff1aHandlers\u662fAnsible\u4e2d\u7684\u4e00\u79cd\u7279\u6b8a\u4efb\u52a1\uff0c\u5b83\u4eec\u5728\u53d1\u751f\u7279\u5b9a\u4e8b\u4ef6\uff08\u5982\u6587\u4ef6\u66f4\u6539\uff09\u65f6\u88ab\u89e6\u53d1\u3002</li> <li>Variables\uff1aAnsible\u5141\u8bb8\u5728Playbooks\u4e2d\u5b9a\u4e49\u53d8\u91cf\uff0c\u4ee5\u4fbf\u4e8e\u63a7\u5236\u4efb\u52a1\u7684\u884c\u4e3a\u3002</li> <li>Templating\uff1aAnsible\u4f7f\u7528Jinja2\u6a21\u677f\u5f15\u64ce\uff0c\u5141\u8bb8\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u53d8\u91cf\u548c\u6761\u4ef6\u8bed\u53e5\u3002</li> <li>Galaxy\uff1aAnsible Galaxy\u662f\u4e00\u4e2a\u793e\u533a\u5e73\u53f0\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u8fd9\u91cc\u5206\u4eab\u548c\u4e0b\u8f7dAnsible roles\u3002</li> </ul> <p>Ansible\u7684\u8bbe\u8ba1\u54f2\u5b66\u662f\u201c\u7b80\u5355\u3001\u5f3a\u5927\u3001\u65e0\u4ee3\u7406\u201d\uff0c\u8fd9\u610f\u5473\u7740\u4f60\u4e0d\u9700\u8981\u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u5b89\u88c5\u4efb\u4f55\u989d\u5916\u7684\u8f6f\u4ef6\u6765\u4f7f\u7528Ansible\u3002\u5b83\u7684\u4e3b\u8981\u4f18\u52bf\u5728\u4e8e\u5176\u6613\u7528\u6027\u3001\u4e00\u81f4\u6027\u548c\u53ef\u6269\u5c55\u6027\uff0c\u4f7f\u5f97\u5b83\u6210\u4e3a\u81ea\u52a8\u5316IT\u4efb\u52a1\u7684\u6d41\u884c\u9009\u62e9\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#31-playbook\u7f16\u5199","title":"3.1 playbook\u7f16\u5199","text":"<p>\u7f16\u5199\u4e00\u4e2a<code>test.yml</code>\u7684\u6d4b\u8bd5\u6587\u4ef6\uff1a</p> Bash<pre><code>---\n- name: Test SSH Connection\n  hosts: all\n  become: yes\n  tasks: \n    - name: Echo a message\n      shell: echo \"Hello, this is test.\"\n      register: echo_output\n\n    - name: Print the output of the echo command\n      debug:\n        var: echo_output.stdout\n</code></pre> <p>playbook\u89e3\u91ca\uff1a</p> <ul> <li><code>---</code>\uff1a\u8fd9\u662fYAML\u6587\u6863\u7684\u5f00\u59cb\u6807\u8bb0\u3002</li> <li><code>- name: Test SSH Connection</code>\uff1a\u8fd9\u662fPlay\u7684\u540d\u79f0\u3002\u5b83\u662f\u4e00\u4e2a\u63cf\u8ff0\u6027\u7684\u6807\u9898\uff0c\u7528\u4e8e\u6807\u8bc6Play\u7684\u76ee\u7684\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0cPlay\u7684\u76ee\u7684\u662f\u6d4b\u8bd5SSH\u8fde\u63a5\u3002</li> <li><code>hosts: all</code>\uff1a\u8fd9\u6307\u5b9a\u4e86Play\u5c06\u5e94\u7528\u4e8e\u54ea\u4e9b\u4e3b\u673a\u3002<code>all</code>\u5173\u952e\u5b57\u610f\u5473\u7740Play\u5c06\u5e94\u7528\u4e8eInventory\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u6240\u6709\u4e3b\u673a\u3002\u4f60\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u4e3b\u673a\u7ec4\u6216\u5355\u4e2a\u4e3b\u673a\u3002</li> <li><code>become: yes</code>\uff1a\u8fd9\u6307\u793aAnsible\u5728\u6267\u884c\u4efb\u52a1\u65f6\u4f7f\u7528<code>become</code>\uff08\u5373<code>sudo</code>\u6216\u7c7b\u4f3c\u6743\u9650\u63d0\u5347\u547d\u4ee4\uff09\u3002<code>yes</code>\u8868\u793a\u5bf9\u4e8e\u8fd9\u4e2aPlay\u4e2d\u7684\u6240\u6709\u4efb\u52a1\uff0cAnsible\u90fd\u5c06\u5c1d\u8bd5\u63d0\u5347\u6743\u9650\u3002\u5982\u679c\u4f60\u4e0d\u60f3\u63d0\u5347\u6743\u9650\uff0c\u53ef\u4ee5\u5c06<code>become</code>\u8bbe\u7f6e\u4e3a<code>no</code>\u3002</li> <li><code>tasks:</code>\uff1a\u8fd9\u6807\u5fd7\u7740\u4efb\u52a1\u5217\u8868\u7684\u5f00\u59cb\u3002\u5728Play\u4e2d\uff0c\u4f60\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u6216\u591a\u4e2a\u4efb\u52a1\u3002</li> <li><code>- name: Echo a message</code>\uff1a\u8fd9\u662f\u7b2c\u4e00\u4e2a\u4efb\u52a1\u7684\u540d\u79f0\u3002\u5b83\u63cf\u8ff0\u4e86\u4efb\u52a1\u7684\u76ee\u7684\uff0c\u5373\u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u6267\u884c<code>echo</code>\u547d\u4ee4\u3002</li> <li><code>shell: echo \"Hello, this is test.\"</code>\uff1a\u8fd9\u662f\u4efb\u52a1\u7684\u5b9e\u9645\u5185\u5bb9\u3002<code>shell</code>\u6a21\u5757\u7528\u4e8e\u6267\u884c\u547d\u4ee4\uff0c\u8fd9\u91cc\u6267\u884c\u7684\u662f<code>echo \"Hello, this is test.\"</code>\u3002<code>shell</code>\u6a21\u5757\u4f1a\u6355\u83b7\u547d\u4ee4\u7684\u8f93\u51fa\uff0c\u800c<code>command</code>\u6a21\u5757\u5219\u4e0d\u4f1a\u3002</li> <li><code>register: echo_output</code>\uff1a\u8fd9\u6307\u793aAnsible\u5c06<code>shell</code>\u4efb\u52a1\u7684\u8f93\u51fa\u5b58\u50a8\u5728\u540d\u4e3a<code>echo_output</code>\u7684\u53d8\u91cf\u4e2d\u3002\u8fd9\u6837\uff0c\u4f60\u5c31\u53ef\u4ee5\u5728\u540e\u7eed\u4efb\u52a1\u4e2d\u5f15\u7528\u8fd9\u4e2a\u53d8\u91cf\u3002</li> <li><code>- name: Print the output of the echo command</code>\uff1a\u8fd9\u662f\u7b2c\u4e8c\u4e2a\u4efb\u52a1\u7684\u540d\u79f0\u3002\u5b83\u7684\u76ee\u7684\u662f\u6253\u5370\u4e4b\u524d<code>echo</code>\u547d\u4ee4\u7684\u8f93\u51fa\u3002</li> <li><code>debug: var: echo_output.stdout</code>\uff1a\u8fd9\u662f\u7b2c\u4e8c\u4e2a\u4efb\u52a1\u7684\u5185\u5bb9\u3002<code>debug</code>\u6a21\u5757\u7528\u4e8e\u8f93\u51fa\u4fe1\u606f\u5230Ansible\u63a7\u5236\u53f0\u3002<code>var: echo_output.stdout</code>\u6307\u793a<code>debug</code>\u6a21\u5757\u8f93\u51fa<code>echo_output</code>\u53d8\u91cf\u7684<code>stdout</code>\u5c5e\u6027\uff0c\u5373<code>echo</code>\u547d\u4ee4\u7684\u8f93\u51fa\u3002</li> </ul> <p>\u8fd9\u4e2aPlaybook\u7684\u76ee\u7684\u662f\u5728\u6240\u6709\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u6267\u884c\u4e00\u4e2a\u7b80\u5355\u7684<code>echo</code>\u547d\u4ee4\uff0c\u5e76\u5c06\u8f93\u51fa\u5b58\u50a8\u5728\u4e00\u4e2a\u53d8\u91cf\u4e2d\uff0c\u7136\u540e\u6253\u5370\u8fd9\u4e2a\u53d8\u91cf\u7684\u5185\u5bb9\u3002\u8fd9\u6837\uff0c\u4f60\u5c31\u53ef\u4ee5\u9a8c\u8bc1Ansible\u662f\u5426\u80fd\u591f\u6210\u529f\u5730\u4e0e\u8fdc\u7a0b\u4e3b\u673a\u901a\u4fe1\uff0c\u5e76\u4e14\u662f\u5426\u80fd\u591f\u6b63\u786e\u5730\u6355\u83b7\u548c\u5904\u7406\u547d\u4ee4\u7684\u8f93\u51fa\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#32-playbook\u6267\u884c","title":"3.2 playbook\u6267\u884c","text":"<p>\u4f7f\u7528<code>ansible-playbook</code>\u547d\u4ee4\u6267\u884cplaybook\u6587\u4ef6\uff0c\u5e76\u6307\u5b9a\u4e3b\u673a<code>10.22.51.63</code>\uff1a</p> Bash<pre><code>ansible-playbook -i 10.22.51.63, /data/ansible/playbook/test.yml\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> Bash<pre><code>TASK [Print the output of the echo command] ********************************************************************************\nok: [10.22.51.63] =&gt; {\n    \"echo_output.stdout\": \"Hello, this is test.\"\n}\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#33-facts\u914d\u7f6e","title":"3.3 Facts\u914d\u7f6e","text":"<p>Facts\u662f\u5173\u4e8e\u8fdc\u7a0b\u4e3b\u673a\u7684\u4fe1\u606f\uff0c\u5982\u7f51\u7edc\u63a5\u53e3\u3001\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001IP\u5730\u5740\u7b49\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528<code>setup</code>\u6a21\u5757\u6765\u6536\u96c6\u8fd9\u4e9b\u4fe1\u606f\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u7b80\u5355\u7684Ansible Playbook\u793a\u4f8b\uff0c\u5b83\u4f7f\u7528<code>setup</code>\u6a21\u5757\u6765\u6536\u96c6Facts\u5e76\u5c06\u7ed3\u679c\u5b58\u50a8\u5728\u4e00\u4e2a\u53d8\u91cf\u4e2d\uff1a</p> Bash<pre><code>---\n-  name: Collect facts from remote hosts\n   hosts: all\n   gather_facts: no\n\n\n   tasks:\n     - name: Gather facts\n       setup:\n         filter: ansible_hostname\n\n     - name: Store facts in a variable\n       set_fact:\n         gathered_facts: \"{{ ansible_facts }}\"\n\n     - name: Debug the gathered facts\n       debug: \n        var: gathered_facts\n</code></pre> <p>\u90e8\u5206\u89e3\u91ca\uff1a</p> <ul> <li><code>filter: ansible_hostname</code>\uff1a\u4ee3\u8868\u53ea\u6536\u96c6\u4e3b\u673a\u540d\u79f0\u3002</li> </ul> <p>\u4f7f\u7528<code>ansible-playbook</code>\u547d\u4ee4\u6267\u884cplaybook\u6587\u4ef6\uff0c\u5e76\u6307\u5b9a\u4e3b\u673a<code>10.22.51.63</code>\uff1a</p> Bash<pre><code>ansible-playbook -i 10.22.51.63, /data/ansible/playbook/collect_facts.yml\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> Bash<pre><code>TASK [Debug the gathered facts] **************************************************************************************************************************************\nok: [10.22.51.63] =&gt; {\n\"gathered_facts\": {\n   \"discovered_interpreter_python\": \"/usr/libexec/platform-python\",\n   \"hostname\": \"jerion\"\n}\n}\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#\u4e8c\u5b89\u88c5ansible","title":"\u4e8c\u3001\u5b89\u88c5ansible","text":"<p>\u8fd9\u91cc\u5b89\u88c5\u7528\u7684\u662f<code>yum\u5b89\u88c5\u811a\u672c</code>\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#1\u624b\u52a8\u5b89\u88c5","title":"1.\u624b\u52a8\u5b89\u88c5","text":"<p>\u6682\u65e0\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#2yum\u5b89\u88c5\u811a\u672c","title":"2.yum\u5b89\u88c5\u811a\u672c","text":"Bash<pre><code>#!/bin/bash\n\ncheck_root() {\n    if [ \"$(id -u)\" -ne 0 ]; then\n        echo \"\u8bf7\u4ee5 root \u7528\u6237\u8fd0\u884c\u6b64\u811a\u672c\u3002\"\n        exit 1\n    fi\n}\n\ncheck_command() {\n    if [ $? -ne 0 ]; then\n        echo \"$1 \u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u7f51\u7edc\u8fde\u63a5\u6216\u8f6f\u4ef6\u6e90\u914d\u7f6e\u3002\"\n        exit 1\n    fi\n}\n\ninstall_epel() {\n    echo \"\u6b63\u5728\u5b89\u88c5 EPEL \u4ed3\u5e93...\"\n    yum install -y epel-release\n    check_command \"\u5b89\u88c5 EPEL \u4ed3\u5e93\"\n}\n\ninstall_ansible() {\n    echo \"\u6b63\u5728\u5b89\u88c5 Ansible...\"\n    yum install -y ansible\n    check_command \"\u5b89\u88c5 Ansible\"\n}\n\ncheck_ansible_installed() {\n    if command -v ansible &gt; /dev/null; then\n        echo \"Ansible \u5df2\u5b89\u88c5\uff0c\u7248\u672c\u4fe1\u606f\u5982\u4e0b\uff1a\"\n        ansible --version\n        exit 0\n    fi\n}\n\nmain() {\n    check_root\n    check_ansible_installed\n    install_epel\n    install_ansible\n    echo \"Ansible \u5b89\u88c5\u6210\u529f\uff0c\u7248\u672c\u4fe1\u606f\u5982\u4e0b\uff1a\"\n    ansible --version\n}\n\nmain\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#3\u6e90\u7801\u5b89\u88c5\u811a\u672c","title":"3.\u6e90\u7801\u5b89\u88c5\u811a\u672c","text":"Bash<pre><code>#!/bin/bash\n\nPYTHON_VERSION=\"3.10.0\"\nVIRTUAL_ENV_NAME=\"myenv\"\nANSIBLE_VERSION=\"2.9.6\"\nREQUIRED_MODULES=\"os sys json\"\n\ninstall_dependencies() {\n    echo \"\u6b63\u5728\u5b89\u88c5\u6240\u9700\u4f9d\u8d56...\"\n    yum update -y\n    yum groupinstall -y \"Development Tools\"\n    yum install -y gcc openssl-devel bzip2-devel libffi-devel wget zlib-devel \\\n                   libbz2-devel readline-devel sqlite-devel curl llvm \\\n                   ncurses-devel ncurses-libs xz-devel tk-devel liblzma-devel gdbm-devel \\\n                   db4-devel libpcap-devel expat-devel epel-release git \\\n                   python3-devel\n}\n\nclean_pyenv() {\n    echo \"\u6e05\u7406\u65e7\u7684 pyenv \u5b89\u88c5...\"\n    rm -rf ~/.pyenv\n}\n\ninstall_pyenv() {\n    echo \"\u6b63\u5728\u5b89\u88c5 pyenv...\"\n    git clone https://github.com/pyenv/pyenv.git ~/.pyenv\n    git clone https://github.com/pyenv/pyenv-virtualenv.git ~/.pyenv/plugins/pyenv-virtualenv\n\n    echo 'export PYENV_ROOT=\"$HOME/.pyenv\"' &gt;&gt; ~/.bashrc\n    echo 'export PATH=\"$PYENV_ROOT/bin:$PATH\"' &gt;&gt; ~/.bashrc\n    echo -e 'if command -v pyenv 1&gt;/dev/null 2&gt;&amp;1; then\\n  eval \"$(pyenv init --path)\"\\nfi' &gt;&gt; ~/.bashrc\n    echo -e 'if command -v pyenv 1&gt;/dev/null 2&gt;&amp;1; then\\n  eval \"$(pyenv init -)\"\\nfi' &gt;&gt; ~/.bashrc\n    echo 'eval \"$(pyenv virtualenv-init -)\"' &gt;&gt; ~/.bashrc\n    source ~/.bashrc\n\n    if command -v pyenv &amp;&gt; /dev/null; then\n        echo \"pyenv \u5b89\u88c5\u6210\u529f\u3002\"\n    else\n        echo \"pyenv \u5b89\u88c5\u5931\u8d25\uff0c\u6b63\u5728\u9000\u51fa...\"\n        exit 1\n    fi\n}\n\ninstall_python() {\n    if command -v pyenv &amp;&gt; /dev/null; then\n        echo \"\u6b63\u5728\u4f7f\u7528 pyenv \u5b89\u88c5 Python $PYTHON_VERSION...\"\n        pyenv uninstall -f $PYTHON_VERSION\n        CFLAGS=\"-I/usr/include/ffi -I/usr/include/openssl\" \\\n        LDFLAGS=\"-L/usr/lib64 -L/usr/lib64/openssl\" \\\n        pyenv install $PYTHON_VERSION\n        pyenv global $PYTHON_VERSION\n    else\n        echo \"pyenv \u672a\u5b89\u88c5\uff0c\u6b63\u5728\u9000\u51fa...\"\n        exit 1\n    fi\n}\n\ncheck_required_modules() {\n    local python_path=$(pyenv which python)\n    local missing_module_flag=0\n    for module in $REQUIRED_MODULES; do\n        if ! $python_path -c \"import $module\" &amp;&gt; /dev/null; then\n            echo \"\u7f3a\u5c11\u5fc5\u9700\u7684 Python \u6a21\u5757: $module\"\n            missing_module_flag=1\n        fi\n    done\n    return $missing_module_flag\n}\n\ncreate_virtualenv() {\n    echo \"\u6b63\u5728\u521b\u5efa\u865a\u62df\u73af\u5883...\"\n    pyenv virtualenv $PYTHON_VERSION $VIRTUAL_ENV_NAME\n    pyenv activate $VIRTUAL_ENV_NAME\n}\n\ninstall_ansible() {\n    echo \"\u6b63\u5728\u5b89\u88c5 Ansible...\"\n    pip install --upgrade pip setuptools wheel cython\n    pip install \"ansible==$ANSIBLE_VERSION\" --no-binary :all:\n    if [ $? -eq 0 ]; then\n        echo \"Ansible \u5b89\u88c5\u6210\u529f\u3002\"\n    else\n        echo \"Ansible \u5b89\u88c5\u5931\u8d25\u3002\"\n    fi\n}\n\nmain() {\n    install_dependencies\n    clean_pyenv\n    install_pyenv\n    install_python\n    if check_required_modules; then\n        echo \"\u6240\u6709\u5fc5\u9700\u7684\u6a21\u5757\u5df2\u5b89\u88c5\u3002\"\n    else\n        echo \"\u6709\u5fc5\u9700\u7684\u6a21\u5757\u672a\u80fd\u5b89\u88c5\uff0c\u6b63\u5728\u9000\u51fa...\"\n        exit 1\n    fi\n    create_virtualenv\n    install_ansible\n}\n\nmain\n\necho \"Python 3.10\u3001\u865a\u62df\u73af\u5883\u53ca Ansible \u8bbe\u7f6e\u5df2\u5b8c\u6210\u3002\"\necho \"\u8981\u6fc0\u6d3b\u865a\u62df\u73af\u5883\uff0c\u8bf7\u8fd0\u884c\uff1apyenv activate $VIRTUAL_ENV_NAME\"\necho \"\u6fc0\u6d3b\u865a\u62df\u73af\u5883\u540e\uff0c\u901a\u8fc7\u8fd0\u884c 'ansible --version' \u6765\u9a8c\u8bc1 Ansible \u662f\u5426\u6b63\u786e\u5b89\u88c5\u3002\"\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#4\u67e5\u770bansible\u7248\u672c","title":"4.\u67e5\u770bansible\u7248\u672c","text":"<p>\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\uff1a</p> Bash<pre><code>[root@jerion tmp]# ansible --version\nansible [core 2.16.3]\n  config file = /etc/ansible/ansible.cfg\n  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']\n  ansible python module location = /usr/lib/python3.12/site-packages/ansible\n  ansible collection location = /root/.ansible/collections:/usr/share/ansible/collections\n  executable location = /usr/bin/ansible\n  python version = 3.12.1 (main, Feb 21 2024, 14:18:26) [GCC 8.5.0 20210514 (Red Hat 8.5.0-21)] (/usr/bin/python3.12)\n  jinja version = 3.1.2\n  libyaml = True\n</code></pre> <p>\u89e3\u91ca\u8bf4\u660e\uff1a</p> <ul> <li><code>ansible [core 2.16.3]</code>\uff1a\u8fd9\u662fAnsible\u7684\u6838\u5fc3\u7248\u672c\u53f7\uff0c\u8868\u793a\u5f53\u524d\u5b89\u88c5\u7684\u662f2.16.3\u7248\u672c\u7684Ansible\u3002</li> <li><code>config file</code>\uff1a\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u3002\u8fd9\u8868\u793aAnsible\u7684\u4e3b\u8981\u914d\u7f6e\u6587\u4ef6\u4f4d\u4e8e<code>/etc/ansible/ansible.cfg</code>\u3002</li> <li><code>configured module search path</code>\uff1a\u6a21\u5757\u641c\u7d22\u8def\u5f84\uff0c\u6307\u660e\u4e86 Ansible \u67e5\u627e\u6a21\u5757\u7684\u8def\u5f84\uff0c\u53ef\u4ee5\u5728\u8fd9\u4e9b\u8def\u5f84\u4e0b\u6dfb\u52a0\u81ea\u5b9a\u4e49\u6a21\u5757\u3002Ansible\u4f1a\u5728\u8fd9\u4e9b\u76ee\u5f55\u4e2d\u67e5\u627e\u81ea\u5b9a\u4e49\u6a21\u5757\u3002</li> <li><code>ansible python module location</code>\uff1aAnsible\u7684Python\u6a21\u5757\u4f4d\u7f6e\uff0c\u8fd9\u8868\u793aAnsible\u7684Python\u6a21\u5757\u5b89\u88c5\u5728<code>/usr/lib/python3.12/site-packages/ansible</code>\u76ee\u5f55\u4e0b\u3002</li> <li><code>ansible collection location</code>\uff1a\u96c6\u5408\uff08Collections\uff09\u4f4d\u7f6e\uff0cAnsible\u4f1a\u5728\u8fd9\u4e9b\u8def\u5f84\u4e0b\u67e5\u627e\u548c\u4f7f\u7528\u96c6\u5408\u3002</li> <li><code>executable location</code>\uff1a\u53ef\u6267\u884c\u6587\u4ef6\u4f4d\u7f6e\uff0cAnsible\u7684\u53ef\u6267\u884c\u6587\u4ef6\u4f4d\u4e8e<code>/usr/bin/ansible</code>\u3002</li> <li><code>python version</code>\uff1aAnsible\u8fd0\u884c\u5728Python 3.12.1\u73af\u5883\u4e2d\uff0c\u7f16\u8bd1\u5668\u662fGCC 8.5.0\uff0c\u5177\u4f53\u7f16\u8bd1\u65f6\u95f4\u662f2024\u5e742\u670821\u65e5\uff0cPython\u53ef\u6267\u884c\u6587\u4ef6\u4f4d\u4e8e<code>/usr/bin/python3.12</code>\u3002</li> <li><code>jinja version</code>\uff1aJinja2\u6a21\u677f\u5f15\u64ce\u7248\u672c\uff0cAnsible\u4f7f\u7528\u7684Jinja2\u7248\u672c\u662f3.1.2\u3002</li> <li><code>libyaml = True</code>\uff1aAML\u5e93\u652f\u6301\u3002\u8868\u793aAnsible\u652f\u6301libyaml\uff0c\u8fd9\u53ef\u4ee5\u63d0\u9ad8\u5904\u7406YAML\u6587\u4ef6\u7684\u6027\u80fd\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#\u4e09ansible\u914d\u7f6e\u6587\u4ef6","title":"\u4e09\u3001Ansible\u914d\u7f6e\u6587\u4ef6","text":"<p>Ansible \u7684\u5e38\u89c1\u548c\u9ed8\u8ba4\u76ee\u5f55\u7ed3\u6784\uff0c\u7528\u4e8e\u7ec4\u7ec7 Ansible \u7684\u914d\u7f6e\u6587\u4ef6\u3001\u4e3b\u673a\u6e05\u5355\uff08inventory\uff09\u3001\u4ee5\u53ca\u89d2\u8272\uff08roles\uff09\u3002\u4ee5\u4e0b\u662f\u5bf9\u8fd9\u4e9b\u76ee\u5f55\u53ca\u5176\u7528\u9014\u7684\u8be6\u7ec6\u8bf4\u660e\uff1a</p> <p>ansible\u914d\u7f6e\u6587\u4ef6\u9ed8\u8ba4\u662f\u5728<code>/etc/ansible</code>\u76ee\u5f55\u4e0b\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#1\u4e3b\u914d\u7f6e\u6587\u4ef6","title":"1.\u4e3b\u914d\u7f6e\u6587\u4ef6","text":"<p><code>/data/ansible/ansible.cfg</code> \u662f Ansible \u7684\u4e3b\u914d\u7f6e\u6587\u4ef6\uff0c\u7528\u4e8e\u5b9a\u4e49\u5168\u5c40\u8bbe\u7f6e\uff0c\u5982\u4f55\u63a7\u5236\u4e00\u4e9b\u884c\u4e3a\u53c2\u6570\u6bd4\u5982\u5e76\u53d1\u6570\u3001\u8fdc\u7a0b\u8fde\u63a5\u65b9\u5f0f\u3001\u9ed8\u8ba4\u7684 inventory \u6587\u4ef6\u4f4d\u7f6e\u7b49\u3002</p> <p>\u5982\u679c\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u4e0d\u5b58\u5728\u6216\u60f3\u66f4\u6539\u8def\u5f84\uff0c\u53ef\u6309\u4ee5\u4e0b\u64cd\u4f5c\u8fdb\u884c\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#11-\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55","title":"1.1 \u521b\u5efa\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55","text":"Bash<pre><code>mkdir -p /data/ansible\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#12-\u914d\u7f6eansiblecfg\u6587\u4ef6","title":"1.2 \u914d\u7f6eansible.cfg\u6587\u4ef6","text":"<p>\u521b\u5efa<code>vim /data/ansible/ansible.cfg</code>\u914d\u7f6e\u6587\u4ef6\uff1a</p> Bash<pre><code>vim /data/ansible/ansible.cfg\n</code></pre> <p>\u7f16\u8f91\u5185\u5bb9\uff1a</p> Bash<pre><code>[defaults]\ninventory = /data/ansible/hosts\nremote_user = root\nhost_key_checking = False\nretry_files_enabled = False\n\n[privilege_escalation]\nbecome = True\nbecome_method = sudo\nbecome_user = root\nbecome_ask_pass = False\n\n[inventory]\nenable_plugins = host_list, script, yaml, ini\n</code></pre> <p><code>[defaults]</code> \u90e8\u5206\uff1a</p> <ul> <li><code>inventory = /data/ansible/hosts</code>\uff1a\u6307\u5b9a\u9ed8\u8ba4\u7684 inventory \u6587\u4ef6\u8def\u5f84\u3002Ansible \u5c06\u4f7f\u7528 <code>/data/ansible/hosts</code> \u4f5c\u4e3a\u4e3b\u673a\u6e05\u5355\u6587\u4ef6\uff0c\u5217\u51fa\u6240\u6709\u88ab\u7ba1\u7406\u7684\u4e3b\u673a\u3002</li> <li><code>remote_user = root</code>\uff1a\u8bbe\u7f6e\u9ed8\u8ba4\u8fdc\u7a0b\u7528\u6237\u4e3a <code>root</code>\u3002\u9664\u975e\u5728\u547d\u4ee4\u884c\u6216\u4efb\u52a1\u4e2d\u53e6\u884c\u6307\u5b9a\uff0cAnsible \u4f1a\u9ed8\u8ba4\u4f7f\u7528 <code>root</code> \u7528\u6237\u8fdb\u884c\u8fde\u63a5\u3002</li> <li><code>host_key_checking = False</code>\uff1a\u5173\u95ed SSH \u4e3b\u673a\u5bc6\u94a5\u68c0\u67e5\u3002\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u5728\u9996\u6b21\u8fde\u63a5\u5230\u65b0\u4e3b\u673a\u65f6\u8981\u6c42\u786e\u8ba4\u5176 SSH \u5bc6\u94a5\uff08\u4f46\u4f1a\u964d\u4f4e\u5b89\u5168\u6027\uff09\u3002</li> <li><code>retry_files_enabled = False</code>\uff1a\u7981\u7528\u91cd\u8bd5\u6587\u4ef6\u7684\u521b\u5efa\u3002Ansible \u9ed8\u8ba4\u5728\u6267\u884c\u5931\u8d25\u65f6\u751f\u6210\u91cd\u8bd5\u6587\u4ef6\uff0c\u7981\u7528\u6b64\u529f\u80fd\u53ef\u4ee5\u907f\u514d\u521b\u5efa\u8fd9\u4e9b\u6587\u4ef6\u3002</li> </ul> <p><code>[privilege_escalation]</code> \u90e8\u5206\uff1a</p> <ul> <li><code>become = True</code>\uff1a\u542f\u7528\u7279\u6743\u63d0\u5347\uff08\u6743\u9650\u63d0\u5347\uff09\u3002\u5141\u8bb8\u5728\u9700\u8981\u65f6\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u7528\u6237\uff08\u901a\u5e38\u662f <code>root</code>\uff09\u3002</li> <li><code>become_method = sudo</code>\uff1a\u8bbe\u7f6e\u7279\u6743\u63d0\u5347\u7684\u65b9\u6cd5\u4e3a <code>sudo</code>\u3002Ansible \u5c06\u4f7f\u7528 <code>sudo</code> \u547d\u4ee4\u6765\u63d0\u5347\u6743\u9650\u3002</li> <li><code>become_user = root</code>\uff1a\u8bbe\u7f6e\u7279\u6743\u63d0\u5347\u540e\u7684\u76ee\u6807\u7528\u6237\u4e3a <code>root</code>\u3002Ansible \u5c06\u5c1d\u8bd5\u5207\u6362\u5230 <code>root</code> \u7528\u6237\u6267\u884c\u4efb\u52a1\u3002</li> <li><code>become_ask_pass = False</code>\uff1a\u7981\u7528\u5728\u4f7f\u7528 <code>sudo</code> \u63d0\u5347\u6743\u9650\u65f6\u8be2\u95ee\u5bc6\u7801\u3002\u5982\u679c <code>sudo</code> \u914d\u7f6e\u4e3a\u4e0d\u9700\u8981\u5bc6\u7801\uff0c\u8fd9\u9879\u8bbe\u7f6e\u5c06\u5f88\u6709\u7528\u3002</li> </ul> <p><code>[inventory]</code> \u90e8\u5206\uff1a</p> <ul> <li><code>enable_plugins</code>\uff1a\u542f\u7528\u6307\u5b9a\u7684 inventory \u63d2\u4ef6\u3002\u8fd9\u4e9b\u63d2\u4ef6\u5141\u8bb8 Ansible \u4f7f\u7528\u4e0d\u540c\u683c\u5f0f\u7684\u4e3b\u673a\u6e05\u5355\u6587\u4ef6\uff1a</li> <li><code>host_list</code>: \u5904\u7406\u7531\u9017\u53f7\u5206\u9694\u7684\u4e3b\u673a\u5217\u8868\u3002</li> <li><code>script</code>: \u5141\u8bb8\u4f7f\u7528\u52a8\u6001 inventory \u811a\u672c\u3002</li> <li><code>yaml</code>: \u5904\u7406 YAML \u683c\u5f0f\u7684 inventory \u6587\u4ef6\u3002</li> <li><code>ini</code>: \u5904\u7406 INI \u683c\u5f0f\u7684 inventory \u6587\u4ef6\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#13-\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf","title":"1.3 \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf","text":"Bash<pre><code>vim ~/.bashrc\nexport ANSIBLE_CONFIG=\"/data/ansible/ansible.cfg\"\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#14-\u91cd\u65b0\u52a0\u8f7d-shell-\u73af\u5883","title":"1.4 \u91cd\u65b0\u52a0\u8f7d Shell \u73af\u5883","text":"Bash<pre><code>source ~/.bashrc\n</code></pre> <p>\u6267\u884c<code>ansible --version</code>\u9a8c\u8bc1ansible\u53d8\u66f4\uff0c\u67e5\u770bconfig file \u662f\u5426\u53d8\u66f4\uff1a</p> Bash<pre><code>[root@jerion ansible]# ansible --version\nansible [core 2.16.3]\n  config file = /data/ansible/ansible.cfg\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#2\u4e3b\u673a\u6e05\u5355","title":"2.\u4e3b\u673a\u6e05\u5355","text":"<p><code>/data/ansible/hosts</code> \u662f Ansible \u7684\u4e3b\u673a\u6e05\u5355\uff0c\u5373Inventory\u6587\u4ef6\u3002Ansible\u5fc5\u987b\u901a\u8fc7Inventory \u6765\u7ba1\u7406\u4e3b\u673a\u3002Ansible \u53ef\u540c\u65f6\u64cd\u4f5c\u5c5e\u4e8e\u4e00\u4e2a\u7ec4\u7684\u591a\u53f0\u4e3b\u673a\uff0c\u7ec4\u548c\u4e3b\u673a\u4e4b\u95f4\u7684\u5173\u7cfb\u901a\u8fc7 inventory \u6587\u4ef6\u914d\u7f6e\uff0c \u9ed8\u8ba4\u7684\u6587\u4ef6\u8def\u5f84\u4e3a<code>/etc/ansible/hosts</code>\uff0c\u4e5f\u53ef\u81ea\u5b9a\u4e49\u3002</p> <p>\u8bed\u6cd5\u683c\u5f0f\uff1a</p> Bash<pre><code># \u5355\u53f0\u4e3b\u673a\n    www.test.com     # FQDN\u65b9\u5f0f\n    172.16.1.100      # IP\u5730\u5740\n    172.16.1.100:12222  # SSH\u670d\u52a1\u7aef\u53e3\u4e0d\u662f22\u65f6\u4f7f\u7528\n\n# \u591a\u53f0\u4e3b\u673a\n    [mysqlServer]       # \u5b9a\u4e49\u4e00\u4e2a\u7ec4\u540d\n    mysql.test.com     # FQDN\u65b9\u5f0f \u3010\u5b9a\u4e49\u7ec4\u5185\u5355\u53f0\u4e3b\u673a\u7684\u5730\u5740\u3011\n    172.16.1.101        # IP\u5730\u5740\n\n    [webServer]\n    172.16.1.100        # \u4e00\u53f0\u4e3b\u673a\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u7ec4\u5185\uff0c\u5b83\u540c\u65f6\u5c5e\u4e8e[mysqlServer]\u7ec4\n\n# \u7ec4\u5d4c\u5957\u7ec4\n    [group01:Server]   # group01\u4e3a\u81ea\u5b9a\u4e49\u7684\u7ec4\u540d\uff0cServer\u662f\u5173\u952e\u5b57\uff0c\u56fa\u5b9a\u8bed\u6cd5\u5fc5\u987b\u586b\u5199\uff1b\n    mysqlServer          # group01 \u7ec4\u5185\u5305\u542b\u7684\u5176\u4ed6\u7ec4\u540d\n    webServer             # group01 \u7ec4\u5185\u5305\u542b\u7684\u5176\u4ed6\u7ec4\u540d\n\n# \u6709\u89c4\u5f8b\u7684\u4e3b\u673a\u5730\u5740\n    www.wj[01:06].test.com\n    //\u76f8\u5f53\u4e8e\uff1a\n    www.wj01.test.com\n    www.wj02.test.com\n    ........\n    www.wj06.test.com\n# \u53ef\u4ee5\u5b9a\u4e49\u6709\u89c4\u5f8b\u7684ip\u5730\u5740\uff0c\u4e5f\u53ef\u4ee5\u5b9a\u4e49 \u6709\u89c4\u5f8b\u7684\u5b57\u6bcd\u5730\u5740\uff0c\u4f8b\u5982 [a:f]\n\n# \u8fd8\u6709\u4e00\u4e2a\u9690\u85cf\u7684\u7ec4\u662f [all] \u7ec4\uff0c\u4e0d\u6307\u5b9a\u673a\u5668\u6216\u7ec4\uff0c\u5c31\u9ed8\u8ba4\u4e3b\u673a\u5217\u8868\u4e2d\u6240\u6709\u673a\u5668\n</code></pre> <p>\u9ed8\u8ba4\u7684\u4e3b\u673a\u6e05\u5355\u6587\u4ef6\uff0c\u4e5f\u79f0\u4e3a inventory \u6587\u4ef6\u3002\u5b83\u5b9a\u4e49\u4e86 Ansible \u53ef\u4ee5\u7ba1\u7406\u7684\u6240\u6709\u4e3b\u673a\uff0c\u5e76\u4e14\u53ef\u4ee5\u5c06\u5b83\u4eec\u7ec4\u7ec7\u6210\u4e0d\u540c\u7684\u7ec4\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u9488\u5bf9\u7279\u5b9a\u7ec4\u6267\u884c\u4efb\u52a1\u3002Inventory \u6587\u4ef6\u652f\u6301 INI \u548c YAML \u4e24\u79cd\u683c\u5f0f\uff0c\u53ef\u4ee5\u6839\u636e\u4e2a\u4eba\u559c\u597d\u9009\u62e9\u7f16\u5199\u65b9\u5f0f\u3002</p> <ul> <li>\u65b9\u62ec\u53f7[]\u4e2d\u662f\u7ec4\u540d,\u7528\u4e8e\u5bf9\u7cfb\u7edf\u8fdb\u884c\u5206\u7c7b,\u4fbf\u4e8e\u5bf9\u4e0d\u540c\u7cfb\u7edf\u8fdb\u884c\u4e2a\u522b\u7684\u7ba1\u7406\uff1b</li> <li>\u4e00\u4e2a\u7cfb\u7edf\u53ef\u4ee5\u5c5e\u4e8e\u4e0d\u540c\u7684\u7ec4,\u6bd4\u5982\u4e00\u53f0\u670d\u52a1\u5668\u53ef\u4ee5\u540c\u65f6\u5c5e\u4e8e webserver\u7ec4 \u548c dbserver\u7ec4.\u8fd9\u65f6\u5c5e\u4e8e\u4e24\u4e2a\u7ec4\u7684\u53d8\u91cf\u90fd\u53ef\u4ee5\u4e3a\u8fd9\u53f0\u4e3b\u673a\u6240\u7528\uff1b</li> <li>\u5982\u679c\u6709\u4e3b\u673a\u7684SSH\u7aef\u53e3\u4e0d\u662f\u6807\u51c6\u768422\u7aef\u53e3,\u53ef\u5728\u4e3b\u673a\u540d\u4e4b\u540e\u52a0\u4e0a\u7aef\u53e3\u53f7,\u7528\u5192\u53f7\u5206\u9694.SSH \u914d\u7f6e\u6587\u4ef6\u4e2d\u5217\u51fa\u7684\u7aef\u53e3\u53f7\u4e0d\u4f1a\u5728 paramiko \u8fde\u63a5\u4e2d\u4f7f\u7528,\u4f1a\u5728 openssh \u8fde\u63a5\u4e2d\u4f7f\u7528\uff1b</li> </ul> <p>\u7aef\u53e3\u53f7\u4e0d\u662f\u9ed8\u8ba4\u65f6\uff0c\u53ef\u660e\u786e\u7684\u8868\u793a\uff1a</p> Bash<pre><code>badwolf.example.com:5309\n</code></pre> <p>\u4e3b\u673a\u5217\u8868\u4e2d\u7684\u53c2\u6570\u8bf4\u660e\uff1a</p> Bash<pre><code>    ansible_ssh_host\n    //\u5c06\u8981\u8fde\u63a5\u7684\u8fdc\u7a0b\u4e3b\u673a\u540d.\u4e0e\u4f60\u60f3\u8981\u8bbe\u5b9a\u7684\u4e3b\u673a\u7684\u522b\u540d\u4e0d\u540c\u7684\u8bdd,\u53ef\u901a\u8fc7\u6b64\u53d8\u91cf\u8bbe\u7f6e.\n\n    ansible_ssh_port\n    //ssh\u7aef\u53e3\u53f7.\u5982\u679c\u4e0d\u662f\u9ed8\u8ba4\u7684\u7aef\u53e3\u53f7,\u901a\u8fc7\u6b64\u53d8\u91cf\u8bbe\u7f6e.\u8fd9\u79cd\u53ef\u4ee5\u4f7f\u7528 ip:\u7aef\u53e3 192.168.1.100:2222\n\n    ansible_ssh_user\n    //\u9ed8\u8ba4\u7684 ssh \u7528\u6237\u540d\n\n    ansible_ssh_pass\n    //ssh \u5bc6\u7801(\u8fd9\u79cd\u65b9\u5f0f\u5e76\u4e0d\u5b89\u5168,\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u4f7f\u7528 --ask-pass \u6216 SSH \u5bc6\u94a5)\n\n    ansible_sudo_pass\n    //sudo \u5bc6\u7801(\u8fd9\u79cd\u65b9\u5f0f\u5e76\u4e0d\u5b89\u5168,\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u4f7f\u7528 --ask-sudo-pass)\n\n    ansible_sudo_exe (new in version 1.8)\n    //sudo \u547d\u4ee4\u8def\u5f84(\u9002\u7528\u4e8e1.8\u53ca\u4ee5\u4e0a\u7248\u672c)\n\n    ansible_connection\n    //\u4e0e\u4e3b\u673a\u7684\u8fde\u63a5\u7c7b\u578b.\u6bd4\u5982:local, ssh \u6216\u8005 paramiko. Ansible 1.2 \u4ee5\u524d\u9ed8\u8ba4\u4f7f\u7528 paramiko.1.2 \u4ee5\u540e\u9ed8\u8ba4\u4f7f\u7528 'smart','smart' \u65b9\u5f0f\u4f1a\u6839\u636e\u662f\u5426\u652f\u6301 ControlPersist, \u6765\u5224\u65ad'ssh' \u65b9\u5f0f\u662f\u5426\u53ef\u884c.\n\n    ansible_ssh_private_key_file\n    //ssh \u4f7f\u7528\u7684\u79c1\u94a5\u6587\u4ef6.\u9002\u7528\u4e8e\u6709\u591a\u4e2a\u5bc6\u94a5,\u800c\u4f60\u4e0d\u60f3\u4f7f\u7528 SSH \u4ee3\u7406\u7684\u60c5\u51b5.\n\n    ansible_shell_type\n    //\u76ee\u6807\u7cfb\u7edf\u7684shell\u7c7b\u578b.\u9ed8\u8ba4\u60c5\u51b5\u4e0b,\u547d\u4ee4\u7684\u6267\u884c\u4f7f\u7528 'sh' \u8bed\u6cd5,\u53ef\u8bbe\u7f6e\u4e3a 'csh' \u6216 'fish'.\n\n    ansible_python_interpreter\n    //\u76ee\u6807\u4e3b\u673a\u7684 python \u8def\u5f84.\u9002\u7528\u4e8e\u7684\u60c5\u51b5: \u7cfb\u7edf\u4e2d\u6709\u591a\u4e2a Python, \u6216\u8005\u547d\u4ee4\u8def\u5f84\u4e0d\u662f\"/usr/bin/python\",\u6bd4\u5982  \\*BSD, \u6216\u8005 /usr/bin/python \u4e0d\u662f 2.X \u7248\u672c\u7684 Python.\n    //\u6211\u4eec\u4e0d\u4f7f\u7528 \"/usr/bin/env\" \u673a\u5236,\u56e0\u4e3a\u8fd9\u8981\u6c42\u8fdc\u7a0b\u7528\u6237\u7684\u8def\u5f84\u8bbe\u7f6e\u6b63\u786e,\u4e14\u8981\u6c42 \"python\" \u53ef\u6267\u884c\u7a0b\u5e8f\u540d\u4e0d\u53ef\u4e3a python\u4ee5\u5916\u7684\u540d\u5b57(\u5b9e\u9645\u6709\u53ef\u80fd\u540d\u4e3apython26).\n\n    //\u4e0e ansible_python_interpreter \u7684\u5de5\u4f5c\u65b9\u5f0f\u76f8\u540c,\u53ef\u8bbe\u5b9a\u5982 ruby \u6216 perl \u7684\u8def\u5f84....\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#3\u5b58\u653e\u89d2\u8272\u7684\u76ee\u5f55","title":"3.\u5b58\u653e\u89d2\u8272\u7684\u76ee\u5f55","text":"<p><code>/data/ansible/roles/</code> \u662fAnsible\u7528\u6765\u5b58\u653e\u89d2\u8272\u7684\u76ee\u5f55\uff0c\u89d2\u8272\u662f\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684 Ansible \u7ed3\u6784\uff0c\u5141\u8bb8\u60a8\u628a\u590d\u6742\u7684\u4efb\u52a1\u5206\u89e3\u6210\u66f4\u5c0f\u3001\u66f4\u53ef\u91cd\u7528\u7684\u90e8\u5206\u3002\u6bcf\u4e2a\u89d2\u8272\u901a\u5e38\u5305\u542b\u5176\u81ea\u5df1\u7684\u4efb\u52a1\u3001\u53d8\u91cf\u3001\u6587\u4ef6\u3001\u6a21\u677f\u548c\u6a21\u5757\u7b49\uff0c\u8fd9\u6837\u53ef\u4ee5\u5728\u591a\u4e2a playbook \u4e2d\u91cd\u7528\u3002</p> <p>\u8fd9\u4e9b\u6587\u4ef6\u76ee\u5f55\u975e\u5fc5\u987b\u7684\uff0c\u7279\u522b\u662f\u5728\u6709\u7279\u5b9a\u7684\u6587\u4ef6\u7ed3\u6784\u6216\u5f53 Ansible \u5b89\u88c5\u975e\u5168\u5c40\uff08\u4f8b\u5982\uff0c\u5728\u7528\u6237\u7ea7\u522b\u6216\u4f7f\u7528\u865a\u62df\u73af\u5883\u65f6\uff09\u7684\u60c5\u51b5\u4e0b\u3002\u4f46\u662f\uff0c\u4f7f\u7528\u8fd9\u4e9b\u6807\u51c6\u76ee\u5f55\u6709\u52a9\u4e8e\u4fdd\u6301\u9879\u76ee\u7684\u7ec4\u7ec7\u6027\u548c\u4e00\u81f4\u6027\uff0c\u5c24\u5176\u662f\u5728\u534f\u4f5c\u73af\u5883\u4e2d\u3002</p> <p>\u5982\u679c Ansible \u662f\u901a\u8fc7\u7cfb\u7edf\u5305\u7ba1\u7406\u5668\u5b89\u88c5\u7684\uff0c\u901a\u5e38\u8fd9\u4e9b\u76ee\u5f55\u4f1a\u81ea\u52a8\u521b\u5efa\u3002\u5982\u679c\u6ca1\u6709\uff0c\u6216\u8005\u60a8\u9700\u8981\u81ea\u5b9a\u4e49\u8def\u5f84\uff0c\u53ef\u4ee5\u624b\u52a8\u521b\u5efa\u8fd9\u4e9b\u76ee\u5f55\uff0c\u5e76\u5728 <code>ansible.cfg</code> \u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u8fd9\u4e9b\u8def\u5f84\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#\u56db\u751f\u6210ssh\u5bc6\u94a5","title":"\u56db\u3001\u751f\u6210ssh\u5bc6\u94a5","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#1\u5185\u7f51\u670d\u52a1\u5668","title":"1.\u5185\u7f51\u670d\u52a1\u5668","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#11-\u751f\u6210-ssh-\u5bc6\u94a5\u5bf9","title":"1.1 \u751f\u6210 SSH \u5bc6\u94a5\u5bf9","text":"<p>\u4f7f\u7528 <code>ssh-keygen</code> \u5de5\u5177\u751f\u6210\u4e00\u4e2a\u65b0\u7684 SSH \u5bc6\u94a5\u5bf9\uff1a</p> Bash<pre><code>ssh-keygen -t rsa -b 4096\n</code></pre> <ul> <li><code>ssh-keygen</code>: \u7528\u4e8e\u751f\u6210\u3001\u7ba1\u7406\u548c\u8f6c\u6362\u8ba4\u8bc1\u5bc6\u94a5\u7684\u5de5\u5177\u3002</li> <li><code>-t rsa</code>: \u6307\u5b9a\u5bc6\u94a5\u7c7b\u578b\u4e3a RSA\uff08Rivest-Shamir-Adleman\uff09\uff0c\u8fd9\u662f\u4e00\u79cd\u5e7f\u6cdb\u4f7f\u7528\u7684\u516c\u94a5\u52a0\u5bc6\u7b97\u6cd5\u3002</li> <li><code>-b 4096</code>: \u6307\u5b9a\u5bc6\u94a5\u957f\u5ea6\u4e3a 4096 \u6bd4\u7279\uff0c\u6bd4\u9ed8\u8ba4\u7684 2048 \u6bd4\u7279\u66f4\u5b89\u5168\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#12-\u67e5\u770b\u751f\u6210\u7684\u5bc6\u94a5","title":"1.2 \u67e5\u770b\u751f\u6210\u7684\u5bc6\u94a5","text":"<p>\u751f\u6210\u540e\uff0c\u6709\u4e24\u4e2a\u6587\u4ef6\uff1a\u4e00\u4e2a\u79c1\u94a5\uff08\u9ed8\u8ba4\u4e3a <code>~/.ssh/id_rsa</code>\uff09\u548c\u4e00\u4e2a\u516c\u94a5\uff08\u9ed8\u8ba4\u4e3a <code>~/.ssh/id_rsa.pub</code>\uff09\uff0c\u8def\u5f84\u4e3a<code>/root/.ssh/</code>\uff1a</p> Bash<pre><code>[root@jerion .ssh]# ll /root/.ssh/\n\u603b\u7528\u91cf 16\n-rw-------. 1 root root  746 6\u6708   5 11:45 authorized_keys\n-rw-------. 1 root root 3381 6\u6708  14 14:01 id_rsa\n-rw-r--r--. 1 root root  737 6\u6708  14 14:01 id_rsa.pub\n-rw-r--r--. 1 root root  173 6\u6708  13 23:04 known_hosts\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#13-\u590d\u5236\u516c\u94a5\u5230\u8fdc\u7a0b\u4e3b\u673a","title":"1.3 \u590d\u5236\u516c\u94a5\u5230\u8fdc\u7a0b\u4e3b\u673a","text":"<p>\u4f7f\u7528<code>ssh-copy-id</code>\u5de5\u5177\u5c06\u672c\u5730\u751f\u6210\u7684 SSH \u516c\u94a5\u590d\u5236\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\uff1a</p> Bash<pre><code>ssh-copy-id -i ~/.ssh/id_rsa.pub root@10.22.51.65\n</code></pre> <ul> <li><code>ssh-copy-id</code>: \u4e00\u4e2a\u7528\u4e8e\u5c06\u672c\u5730 SSH \u516c\u94a5\u590d\u5236\u5230\u8fdc\u7a0b\u4e3b\u673a\u7684\u5de5\u5177\u3002</li> <li><code>-i ~/.ssh/id_rsa.pub</code>: \u6307\u5b9a\u8981\u590d\u5236\u7684\u516c\u94a5\u6587\u4ef6\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cSSH \u516c\u94a5\u6587\u4ef6\u5b58\u50a8\u5728 <code>~/.ssh/id_rsa.pub</code>\u3002</li> </ul> <p>\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u4f1a\u6709\u4e00\u4e9b\u4fe1\u606f\u8f93\u51fa\u5982\u4e0b\uff1a</p> <ul> <li>\u9a8c\u8bc1\u8fdc\u7a0b\u4e3b\u673a\u7684\u771f\u5b9e\u6027\uff1a</li> </ul> Bash<pre><code>The authenticity of host '10.22.51.65 (10.22.51.65)' can't be established.\nECDSA key fingerprint is SHA256:ToyzHGYadimKzbP/giKpcaVr/U4F84WYc7e8y+yM6yw.\nAre you sure you want to continue connecting (yes/no/[fingerprint])? yes\n</code></pre> <p>\u7cfb\u7edf\u63d0\u793a\u4f60\u786e\u8ba4\u8fdc\u7a0b\u4e3b\u673a\u7684\u771f\u5b9e\u6027\u3002\u8fd9\u662f\u56e0\u4e3a\u8fd9\u662f\u4f60\u7b2c\u4e00\u6b21\u8fde\u63a5\u5230\u8be5\u4e3b\u673a\uff0cSSH \u5ba2\u6237\u7aef\u65e0\u6cd5\u9a8c\u8bc1\u5176\u8eab\u4efd\u3002\u8f93\u5165 <code>yes</code> \u7ee7\u7eed\u8fde\u63a5\u3002</p> <ul> <li>\u5b89\u88c5\u516c\u94a5\uff1a</li> </ul> Bash<pre><code>/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\n/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\nPassword:\n</code></pre> <p>\u7cfb\u7edf\u5c1d\u8bd5\u4f7f\u7528\u65b0\u5bc6\u94a5\u767b\u5f55\uff0c\u5e76\u63d0\u793a\u4f60\u8f93\u5165\u8fdc\u7a0b\u670d\u52a1\u5668 <code>root</code> \u7528\u6237\u7684\u5bc6\u7801\uff0c\u4ee5\u4fbf\u5c06\u516c\u94a5\u5b89\u88c5\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u3002</p> <ul> <li>\u6210\u529f\u6dfb\u52a0\u516c\u94a5\uff1a</li> </ul> Bash<pre><code>Number of key(s) added: 1\n</code></pre> <p>\u8fd9\u8868\u793a\u516c\u94a5\u5df2\u6210\u529f\u6dfb\u52a0\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u7684 <code>~/.ssh/authorized_keys</code> \u6587\u4ef6\u4e2d\u3002</p> <ul> <li>\u9a8c\u8bc1\u65e0\u5bc6\u7801\u767b\u5f55\uff1a</li> </ul> Bash<pre><code>Now try logging into the machine, with:   \"ssh 'root@10.22.51.65'\"\n</code></pre> <p>\u73b0\u5728\u53ef\u4ee5\u5c1d\u8bd5\u65e0\u5bc6\u7801\u767b\u5f55\u8fdc\u7a0b\u670d\u52a1\u5668\uff0c\u4ee5\u786e\u4fdd\u516c\u94a5\u8ba4\u8bc1\u914d\u7f6e\u6b63\u786e\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#14-\u65e0\u5bc6\u94a5\u767b\u5f55\u6d4b\u8bd5","title":"1.4 \u65e0\u5bc6\u94a5\u767b\u5f55\u6d4b\u8bd5","text":"<p>\u4f7f\u7528<code>ssh</code>\u547d\u4ee4\u767b\u5f55\u8fdc\u7a0b\u670d\u52a1\u5668\uff1a</p> Bash<pre><code>[root@jerion .ssh]# ssh root@10.22.51.65\nLast login: Fri Jun 14 14:07:35 2024 from 10.18.88.135\n[root@zhongjl-test-02 /root]# \n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#2\u4e91\u670d\u52a1\u5668","title":"2.\u4e91\u670d\u52a1\u5668","text":"<p>\u4e91\u670d\u52a1\u5668\u9664\u4e86\u8981\u590d\u5236\u516c\u94a5\u8fc7\u6765\uff0c\u8fd8\u8981\u914d\u7f6e\u4e00\u4e9b\u6743\u9650\u3002</p> <p>\u5185\u7f51\u7aef\uff1a10.22.51.63</p> <p>\u8fdc\u7aef\u914d\u7f6e\uff1a120.78.156.217 &amp;&amp; 47.113.113.48</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#21-\u590d\u5236\u516c\u94a5\u5230\u8fdc\u7a0b\u4e3b\u673a","title":"2.1 \u590d\u5236\u516c\u94a5\u5230\u8fdc\u7a0b\u4e3b\u673a","text":"<p>\u4f7f\u7528<code>ssh-copy-id</code>\u5de5\u5177\u5c06\u672c\u5730\u751f\u6210\u7684 SSH \u516c\u94a5\u590d\u5236\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\uff1a</p> Bash<pre><code>ssh-copy-id -i ~/.ssh/id_rsa.pub root@120.78.156.217\nssh-copy-id -i ~/.ssh/id_rsa.pub root@47.113.113.48\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#22-\u4fee\u6539-sshd_config-\u914d\u7f6e\u6587\u4ef6","title":"2.2 \u4fee\u6539 sshd_config \u914d\u7f6e\u6587\u4ef6","text":"<p>\u8fdc\u7a0b\u670d\u52a1\u5668\u7684 SSH \u914d\u7f6e\u5141\u8bb8\u4f7f\u7528\u5bc6\u94a5\u767b\u5f55\u3002\u67e5\u770b <code>/etc/ssh/sshd_config</code> \u6587\u4ef6\uff0c\u786e\u8ba4\u4ee5\u4e0b\u8bbe\u7f6e\uff1a</p> Bash<pre><code>PubkeyAuthentication yes        #\u6743\u9650\u7ed9\u591f\uff0c\u6709\u4e9b\u53ef\u4ee5\u4e0d\u7528\u5f00\u542f\nAuthorizedKeysFile .ssh/authorized_keys\n</code></pre> <ul> <li>\u542f\u7528\u516c\u94a5\u8ba4\u8bc1\uff1a\u8fd9\u884c\u914d\u7f6e\u786e\u4fdd SSH \u670d\u52a1\u542f\u7528\u4e86\u516c\u94a5\u8ba4\u8bc1\u3002</li> <li>\u6307\u5b9a\u6388\u6743\u5bc6\u94a5\u6587\u4ef6\uff1a\u8fd9\u884c\u914d\u7f6e\u6307\u5b9a\u4e86\u5b58\u653e\u516c\u94a5\u7684\u6587\u4ef6\u8def\u5f84\uff0c\u76f8\u5bf9\u4e8e\u7528\u6237\u7684\u4e3b\u76ee\u5f55\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#23-\u91cd\u542f-ssh-\u670d\u52a1","title":"2.3 \u91cd\u542f SSH \u670d\u52a1","text":"<p>\u8fdb\u884c\u4e86\u66f4\u6539\uff0c\u9700\u8981\u91cd\u542f SSH \u670d\u52a1\uff1a</p> Bash<pre><code>systemctl restart sshd\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#24-\u4fee\u6539-root-\u76ee\u5f55\u53ca\u6587\u4ef6\u7684\u6743\u9650","title":"2.4 \u4fee\u6539 root \u76ee\u5f55\u53ca\u6587\u4ef6\u7684\u6743\u9650","text":"<p>\u8fdc\u7a0b\u7684\u670d\u52a1\u5668\u6743\u9650\u914d\u7f6e\uff1a</p> Bash<pre><code>chmod 700 /root\nchmod 700 /root/.ssh\nchmod 600 /root/.ssh/authorized_keys\n</code></pre> <ul> <li><code>/root</code> \u76ee\u5f55\u7684\u6743\u9650\u5e94\u8be5\u8db3\u591f\u4e25\u683c\u3002\u901a\u5e38\u5efa\u8bae\u7684\u6743\u9650\u662f <code>750</code> \u6216 <code>700</code>\u3002</li> <li><code>/root/.ssh</code> \u76ee\u5f55\u5e94\u8be5\u6709 <code>700</code> \u7684\u6743\u9650\u3002</li> <li><code>/root/.ssh/authorized_keys</code> \u6587\u4ef6\u5e94\u8be5\u6709 <code>600</code> \u7684\u6743\u9650\u3002</li> </ul> <p>\u5982\u679c\u4ecd\u7136\u62a5\u9519\uff0c\u76d1\u542cssh\u65e5\u5fd7\u5206\u6790\u95ee\u9898\uff1a</p> Bash<pre><code>tail -f /var/log/secure\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#25-\u65e0\u5bc6\u94a5\u767b\u5f55\u6d4b\u8bd5","title":"2.5 \u65e0\u5bc6\u94a5\u767b\u5f55\u6d4b\u8bd5","text":"Bash<pre><code>ssh root@120.78.156.217\nssh root@47.113.113.48\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#\u4e94ansible\u4f7f\u7528","title":"\u4e94\u3001ansible\u4f7f\u7528","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#1\u521b\u5efaansible\u9879\u76ee\u76ee\u5f55","title":"1.\u521b\u5efaansible\u9879\u76ee\u76ee\u5f55","text":"Bash<pre><code>mkdir -p /data/ansible/inventories\nmkdir -p /data/ansible/playbooks\nmkdir -p /data/ansible/roles\n</code></pre> <p>\u67e5\u770b\u76ee\u5f55\u7ed3\u6784\uff1a</p> Bash<pre><code>[root@jerion ~]# tree /data/ansible\n/data/ansible\n\u251c\u2500\u2500 ansible.cfg\n\u251c\u2500\u2500 inventories\n\u251c\u2500\u2500 playbooks\n\u2514\u2500\u2500 roles\n</code></pre> <ul> <li><code>inventories/</code>\uff1a\u76ee\u5f55\u5b58\u653e\u4e0d\u540c\u73af\u5883\uff08\u5982\u751f\u4ea7\u3001\u9884\u751f\u4ea7\u3001\u5f00\u53d1\uff09\u7684 Inventory \u6587\u4ef6\u3002</li> <li><code>playbooks/</code>\uff1a\u76ee\u5f55\u5b58\u653e\u6240\u6709 Playbook \u6587\u4ef6\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#2\u4e3b\u673a\u6e05\u5355inventory","title":"2.\u4e3b\u673a\u6e05\u5355inventory","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#21-\u4fee\u6539-hosts-\u6587\u4ef6","title":"2.1 \u4fee\u6539 hosts \u6587\u4ef6","text":"<p>\u4fee\u6539Ansible \u7684\u4e3b\u673a\u6e05\u5355\uff08inventory\uff09\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u7f16\u8f91 <code>vim /data/ansible/hosts</code>\u6587\u4ef6\uff1a</p> Bash<pre><code>[web_servers]\n10.22.51.65\n\n[database_servers]\ndb1.example.com\n\n[all:vars]\nansible_user=root\nansible_ssh_private_key_file=/root/.ssh/id_rsa\n</code></pre> <p>\u89e3\u91ca\u8bf4\u660e\uff1a</p> <ul> <li><code>[web_servers]</code>\uff1a\u8fd9\u4e00\u884c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>web_servers</code> \u7684\u7ec4\uff0c\u8be5\u7ec4\u7528\u4e8e\u5b58\u653e\u6240\u6709\u7684 Web \u670d\u52a1\u5668\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>10.22.51.65</code> \u662f\u8be5\u7ec4\u4e0b\u552f\u4e00\u7684\u6210\u5458\u3002\u8fd9\u610f\u5473\u7740\u4efb\u4f55\u9488\u5bf9 <code>web_servers</code> \u7ec4\u7684 Ansible \u4efb\u52a1\u90fd\u5c06\u53ea\u5bf9\u8fd9\u4e2a IP \u5730\u5740\u4e3a <code>10.22.51.65</code> \u7684\u670d\u52a1\u5668\u6267\u884c\u3002</li> <li><code>[database_servers]</code>\uff1a\u540c\u6837\u5730\uff0c\u8fd9\u4e00\u884c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>database_servers</code> \u7684\u7ec4\uff0c\u7528\u4e8e\u5206\u7c7b\u6240\u6709\u6570\u636e\u5e93\u670d\u52a1\u5668\u3002<code>db1.example.com</code> \u662f\u8fd9\u4e2a\u7ec4\u7684\u6210\u5458\uff0c\u8868\u793a\u4efb\u4f55\u9488\u5bf9 <code>database_servers</code> \u7ec4\u7684\u4efb\u52a1\u5c06\u53ea\u5bf9\u8fd9\u4e2a\u4e3b\u673a\u540d\u4e3a <code>db1.example.com</code> \u7684\u670d\u52a1\u5668\u6267\u884c\u3002</li> <li><code>[all:vars]</code>\uff1a\u8fd9\u90e8\u5206\u5b9a\u4e49\u4e86\u9002\u7528\u4e8e\u6240\u6709\u4e3b\u673a\u7684\u7ec4\u53d8\u91cf\u3002</li> <li><code>ansible_user=root</code>\uff1a\u5b9a\u4e49\u4e86\u8fde\u63a5\u5230\u6240\u6709\u4e3b\u673a\u65f6\u4f7f\u7528\u7684\u9ed8\u8ba4\u7528\u6237\u540d\u4e3a <code>root</code>\u3002</li> <li><code>ansible_ssh_private_key_file=/root/.ssh/id_rsa</code>\uff1a\u6307\u5b9a\u4e86\u7528\u4e8e SSH \u8fde\u63a5\u7684\u79c1\u94a5\u6587\u4ef6\u8def\u5f84\u3002</li> </ul> <p>\u4f7f\u7528\u573a\u666f\uff1a</p> <p>\u901a\u8fc7\u8fd9\u6837\u7684\u7ec4\u7ec7\u65b9\u5f0f\uff0c\u60a8\u53ef\u4ee5\u9488\u5bf9\u4e0d\u540c\u7c7b\u578b\u7684\u670d\u52a1\u5668\u6267\u884c\u7279\u5b9a\u7684\u914d\u7f6e\u548c\u7ba1\u7406\u4efb\u52a1\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u80fd\u5e0c\u671b\u5bf9\u6240\u6709 Web \u670d\u52a1\u5668\u6267\u884c\u4e00\u4e9b\u5b89\u5168\u66f4\u65b0\uff0c\u800c\u5bf9\u6570\u636e\u5e93\u670d\u52a1\u5668\u6267\u884c\u4e0d\u540c\u7684\u5907\u4efd\u64cd\u4f5c\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7 Ansible playbooks \u5b9e\u73b0\uff0c\u5176\u4e2d\u60a8\u53ef\u4ee5\u6307\u5b9a\u5bf9\u54ea\u4e2a\u7ec4\u6267\u884c\u54ea\u4e9b\u4efb\u52a1\u3002</p> <p>\u7ec4\u53d8\u91cf\u8bbe\u7f6e\u542b\u4e49\uff1a</p> <ul> <li> <p>\u6240\u6709\u4e3b\u673a\uff08\u65e0\u8bba\u662f <code>web_servers</code> \u8fd8\u662f <code>database_servers</code>\uff09\u90fd\u5c06\u4f7f\u7528 <code>root</code> \u7528\u6237\u548c <code>/root/.ssh/id_rsa</code> \u4f5c\u4e3a SSH \u5bc6\u94a5\u6587\u4ef6\u3002</p> </li> <li> <p>\u4e0d\u9700\u8981\u5728\u6bcf\u4e2a\u4e3b\u673a\u9879\u4e0b\u91cd\u590d\u8fd9\u4e9b SSH \u76f8\u5173\u7684\u8bbe\u7f6e\u3002</p> </li> </ul> <p>\u53bb\u9664\u6389<code>[all:vars]</code>\u7684\u53e6\u4e00\u79cd\u5199\u6cd5\uff0c\u7f16\u8f91<code>vim /data/ansible/hosts</code>\u6587\u4ef6\uff1a</p> Bash<pre><code>[web_servers]\n10.22.51.65 ansible_ssh_user=root ansible_ssh_private_key_file=/root/.ssh/id_rsa\n\n[database_servers]\ndb1.example.com ansible_ssh_user=root ansible_ssh_private_key_file=/root/.ssh/id_rsa\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#22-\u6d4b\u8bd5-inventory-\u6587\u4ef6","title":"2.2 \u6d4b\u8bd5 Inventory \u6587\u4ef6","text":"<p>\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>ansible-inventory --list\n</code></pre> <p>\u5982\u679c inventory \u6b63\u786e\u65e0\u8bef\uff0c\u8f93\u51fa\u5c06\u7c7b\u4f3c\u4e8e\uff1a</p> Bash<pre><code>{\n    \"_meta\": {\n        \"hostvars\": {\n            \"10.22.51.65\": {\n                \"ansible_ssh_private_key_file\": \"/root/.ssh/id_rsa\",\n                \"ansible_user\": \"root\"\n            },\n            \"db1.example.com\": {\n                \"ansible_ssh_private_key_file\": \"/root/.ssh/id_rsa\",\n                \"ansible_user\": \"root\"\n            }\n        }\n    },\n    \"all\": {\n        \"children\": [\n            \"database_servers\",\n            \"ungrouped\",\n            \"web_servers\"\n        ]\n    },\n    \"database_servers\": {\n        \"hosts\": [\n            \"db1.example.com\"\n        ]\n    },\n    \"web_servers\": {\n        \"hosts\": [\n            \"10.22.51.65\"\n        ]\n    }\n}\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#3ansible\u6d4b\u8bd5ping","title":"3.ansible\u6d4b\u8bd5ping","text":"Bash<pre><code>ansible 10.22.51.65 -m ping         # \u5355\u53f0\u6267\u884c\nansible web_servers -m ping         # ping web_servers\u7ec4\nansible all -m ping                 # ping\u5168\u90e8\n</code></pre> <p>\u6267\u884c\u540e\u8f93\u51fa\u4fe1\u606f\u5982\u4e0b\uff1a</p> Bash<pre><code>10.22.51.65 | SUCCESS =&gt; {\n    \"ansible_facts\": {\n        \"discovered_interpreter_python\": \"/usr/bin/python\"\n    },\n    \"changed\": false,\n    \"ping\": \"pong\"\n}\n</code></pre> <p>\u89e3\u91ca\u8f93\u51fa\uff1a</p> <p>Ansible \u6210\u529f\u901a\u8fc7 SSH \u8fde\u63a5\u5230\u4e86\u4f4d\u4e8e <code>10.22.51.65</code> \u7684\u670d\u52a1\u5668\uff0c\u5e76\u4e14\u6267\u884c\u4e86 <code>ping</code> \u6a21\u5757\u3002\u8fd9\u8868\u793a\u60a8\u7684\u914d\u7f6e\u6b63\u786e\uff0cAnsible \u80fd\u591f\u5229\u7528\u6307\u5b9a\u7684 SSH \u79c1\u94a5\u548c\u7528\u6237\u8eab\u4efd\uff08\u5728\u8fd9\u91cc\u662f root \u7528\u6237\uff09\u987a\u5229\u8fde\u63a5\u5230\u8fdc\u7a0b\u4e3b\u673a\u3002</p> <ul> <li><code>\"ansible_facts\"</code>\uff1a\u5305\u542b Ansible \u81ea\u52a8\u53d1\u73b0\u7684\u6709\u5173\u76ee\u6807\u4e3b\u673a\u7684\u5404\u79cd\u4fe1\u606f\u3002</li> <li><code>\"discovered_interpreter_python\": \"/usr/bin/python\"</code>\uff1a\u8fd9\u8868\u793a Ansible \u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u81ea\u52a8\u53d1\u73b0\u4e86 Python \u89e3\u91ca\u5668\u7684\u8def\u5f84\u3002Ansible \u4f7f\u7528 Python \u6765\u6267\u884c\u5176\u6a21\u5757\uff0c\u56e0\u6b64\u9700\u8981\u5728\u76ee\u6807\u673a\u5668\u4e0a\u627e\u5230 Python \u89e3\u91ca\u5668\u3002</li> <li><code>\"changed\": false</code>\uff1a\u8868\u793a\u6b64\u6b21\u64cd\u4f5c\u6ca1\u6709\u5bf9\u76ee\u6807\u4e3b\u673a\u505a\u4efb\u4f55\u66f4\u6539\u3002<code>ping</code> \u6a21\u5757\u53ea\u662f\u7528\u4e8e\u6d4b\u8bd5\u8fde\u63a5\u6027\uff0c\u6240\u4ee5\u4e0d\u4f1a\u5bf9\u4e3b\u673a\u8fdb\u884c\u66f4\u6539\u3002</li> <li><code>\"ping\": \"pong\"</code>\uff1a\u8868\u793a <code>ping</code> \u6a21\u5757\u7684\u8fd4\u56de\u7ed3\u679c\u662f <code>pong</code>\uff0c\u8fd9\u662f <code>ping</code> \u6a21\u5757\u7684\u6807\u51c6\u54cd\u5e94\uff0c\u8868\u793a\u8fdc\u7a0b\u4e3b\u673a\u53ef\u8fbe\u5e76\u54cd\u5e94 Ansible \u7684\u8bf7\u6c42\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#4\u7f16\u5199playbook\u6d4b\u8bd5","title":"4.\u7f16\u5199Playbook\u6d4b\u8bd5","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#41-\u521b\u5efa-playbook-\u6587\u4ef6","title":"4.1 \u521b\u5efa Playbook \u6587\u4ef6","text":"<p>\u521b\u5efa\u4e00\u4e2a<code>Playbook</code>\u6587\u4ef6\uff0c\u6765\u68c0\u67e5\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u78c1\u76d8\u7a7a\u95f4\uff1a</p> Bash<pre><code>vim /data/ansible/playbooks/check_disk_space.yml\n</code></pre> <p>\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Bash<pre><code>- name: Check disk space\n  #hosts: web_servers\n  hosts: all\n  tasks:\n    - name: Disk free space\n      command: df -Th\n      register: disk_space\n\n    - name: Show disk space\n      debug:\n        msg: \"{{ disk_space.stdout }}\"\n</code></pre> <p>\u89e3\u91ca\u8bf4\u660e\uff1a</p> <p>\u8fd9\u4e2a Ansible Playbook \u6587\u4ef6\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a\u201cCheck disk space\u201d\u7684\u4efb\u52a1\uff0c\u5b83\u6267\u884c\u4e24\u4e2a\u5177\u4f53\u7684\u4efb\u52a1\u6765\u68c0\u67e5\u5e76\u663e\u793a\u6240\u6709\u4e3b\u673a\u7684\u78c1\u76d8\u7a7a\u95f4\u3002\u4ee5\u4e0b\u662f\u6bcf\u4e2a\u90e8\u5206\u7684\u8be6\u7ec6\u63cf\u8ff0\uff1a</p> <ul> <li> <p>\u9876\u5c42\u5b9a\u4e49\uff1a</p> </li> <li> <p><code>- name: Check disk space</code>\uff1a\u8fd9\u662f Playbook \u7684\u540d\u79f0\uff0c\u7528\u4e8e\u63cf\u8ff0\u8be5 Playbook \u7684\u603b\u4f53\u76ee\u7684\uff0c\u5373\u68c0\u67e5\u78c1\u76d8\u7a7a\u95f4\u3002</p> </li> <li> <p><code>hosts: all</code>\uff1a\u6307\u5b9a\u6b64 Playbook \u5c06\u5e94\u7528\u5230\u6240\u6709\u4e3b\u673a\uff08<code>all</code>\uff09\u3002\u5982\u679c\u53ea\u9700\u8981\u5e94\u7528\u4e8e <code>web_servers</code> \u7ec4\uff0c\u53ef\u4ee5\u5c06\u8fd9\u884c\u6539\u4e3a <code>hosts: web_servers</code>\u3002</p> </li> <li> <p>\u4efb\u52a1\u5217\u8868\uff08tasks\uff09\uff1a</p> </li> </ul> <p>Playbook \u5305\u542b\u4e24\u4e2a\u4efb\u52a1\uff1a</p> <ul> <li>\u68c0\u67e5\u78c1\u76d8\u7a7a\u95f4\uff1a<ul> <li><code>name: Disk free space</code>\uff1a\u4efb\u52a1\u7684\u540d\u79f0\uff0c\u7528\u4e8e\u63cf\u8ff0\u8be5\u4efb\u52a1\u7684\u76ee\u7684\uff0c\u5373\u68c0\u67e5\u78c1\u76d8\u5269\u4f59\u7a7a\u95f4\u3002</li> <li><code>command: df -Th</code>\uff1a\u4f7f\u7528 <code>command</code> \u6a21\u5757\u6267\u884c <code>df -Th</code> \u547d\u4ee4\u3002<code>df -Th</code> \u547d\u4ee4\u4f1a\u4ee5\u4eba\u7c7b\u53ef\u8bfb\u7684\u683c\u5f0f\u663e\u793a\u6587\u4ef6\u7cfb\u7edf\u7684\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5\u3002</li> <li><code>register: disk_space</code>\uff1a\u5c06\u547d\u4ee4\u7684\u8f93\u51fa\u7ed3\u679c\u6ce8\u518c\u5230\u53d8\u91cf <code>disk_space</code> \u4e2d\uff0c\u4ee5\u4fbf\u5728\u540e\u7eed\u4efb\u52a1\u4e2d\u4f7f\u7528\u3002</li> </ul> </li> <li>\u663e\u793a\u78c1\u76d8\u7a7a\u95f4\uff1a<ul> <li><code>name: Show disk space</code>\uff1a\u4efb\u52a1\u7684\u540d\u79f0\uff0c\u7528\u4e8e\u63cf\u8ff0\u8be5\u4efb\u52a1\u7684\u76ee\u7684\uff0c\u5373\u663e\u793a\u78c1\u76d8\u5269\u4f59\u7a7a\u95f4\u3002</li> <li><code>debug</code>\uff1a\u4f7f\u7528 <code>debug</code> \u6a21\u5757\u663e\u793a\u4fe1\u606f\u3002</li> <li><code>msg: \"{{ disk_space.stdout }}\"</code>\uff1a\u663e\u793a <code>disk_space</code> \u53d8\u91cf\u7684 <code>stdout</code> \u5c5e\u6027\uff0c\u5373 <code>df -Th</code> \u547d\u4ee4\u7684\u6807\u51c6\u8f93\u51fa\u5185\u5bb9\u3002</li> </ul> </li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#42-\u6267\u884c-playbook-\u6587\u4ef6","title":"4.2 \u6267\u884c Playbook \u6587\u4ef6","text":"<ul> <li>\u5bf9\u6240\u6709\u670d\u52a1\u5668\u6267\u884cplaybook\uff1a</li> </ul> <p>\u4f7f\u7528<code>ansible-playbook</code>\u547d\u4ee4\u6267\u884cplaybook\u6587\u4ef6\uff0c\u5e76\u6307\u5b9a\u4e3b\u673a\u6e05\u5355\u6587\u4ef6\u7684\u8def\u5f84<code>/data/ansible/hosts</code>\uff1a</p> Bash<pre><code>ansible-playbook -i /data/ansible/hosts /data/ansible/playbooks/check_disk_space.yml\n</code></pre> <p>\u8f93\u51fa\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>PLAY [Check disk space] *********************************************************************************************\n\nTASK [Gathering Facts] **********************************************************************************************\nok: [10.22.51.65]\nok: [db1.example.com]\n\nTASK [Disk free space] **********************************************************************************************\nchanged: [10.22.51.65]\nchanged: [db1.example.com]\n\nTASK [Show disk space] **********************************************************************************************\nok: [10.22.51.65] =&gt; {\n    \"msg\": \"\u6587\u4ef6\u7cfb\u7edf                 \u7c7b\u578b      \u5bb9\u91cf  \u5df2\u7528  \u53ef\u7528 \u5df2\u7528% \u6302\u8f7d\u70b9\\ndevtmpfs                 devtmpfs  3.9G     0  3.9G    0% /dev\\ntmpfs                    tmpfs     3.9G   12K  3.9G    1% /dev/shm\\ntmpfs                    tmpfs     3.9G   42M  3.8G    2% /run\\ntmpfs                    tmpfs     3.9G     0  3.9G    0% /sys/fs/cgroup\\n/dev/mapper/sys-root     xfs        39G   29G   11G   73% /\\n/dev/sda2                xfs      1014M  150M  865M   15% /boot\\ntmpfs                    tmpfs     783M     0  783M    0% /run/user/0\\n10.22.51.63:/data/public nfs4       35G  7.7G   27G   23% /mnt/nsd\\noverlay                  overlay    39G   29G   11G   73% /var/lib/docker/overlay2/5ac739315d94fc3a467fbb4d2653911baf7044b73de383aca2d524207222a763/merged\\noverlay                  overlay    39G   29G   11G   73% /var/lib/docker/overlay2/87ac405f7fe63b7ea890519121dc58a0435cad4559ddc826e2c84794112bfa74/merged\\noverlay                  overlay    39G   29G   11G   73% /var/lib/docker/overlay2/8c5e044076ac652e5ba953a7b81d6b170a0c6cafb2fc35e7f4ba9f1d24cf53a1/merged\"\n}\nok: [db1.example.com] =&gt; {\n    \"msg\": \"\u6587\u4ef6\u7cfb\u7edf                 \u7c7b\u578b      \u5bb9\u91cf  \u5df2\u7528  \u53ef\u7528 \u5df2\u7528% \u6302\u8f7d\u70b9\\ndevtmpfs                 devtmpfs  3.9G     0  3.9G    0% /dev\\ntmpfs                    tmpfs     3.9G   12K  3.9G    1% /dev/shm\\ntmpfs                    tmpfs     3.9G   42M  3.8G    2% /run\\ntmpfs                    tmpfs     3.9G     0  3.9G    0% /sys/fs/cgroup\\n/dev/mapper/sys-root     xfs        39G   29G   11G   73% /\\n/dev/sda2                xfs      1014M  150M  865M   15% /boot\\ntmpfs                    tmpfs     783M     0  783M    0% /run/user/0\\n10.22.51.63:/data/public nfs4       35G  7.7G   27G   23% /mnt/nsd\\noverlay                  overlay    39G   29G   11G   73% /var/lib/docker/overlay2/5ac739315d94fc3a467fbb4d2653911baf7044b73de383aca2d524207222a763/merged\\noverlay                  overlay    39G   29G   11G   73% /var/lib/docker/overlay2/87ac405f7fe63b7ea890519121dc58a0435cad4559ddc826e2c84794112bfa74/merged\\noverlay                  overlay    39G   29G   11G   73% /var/lib/docker/overlay2/8c5e044076ac652e5ba953a7b81d6b170a0c6cafb2fc35e7f4ba9f1d24cf53a1/merged\"\n}\n\nPLAY RECAP **********************************************************************************************************\n10.22.51.65                : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \ndb1.example.com            : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n</code></pre> <p>\u89e3\u91ca\u8f93\u51fa\uff1a</p> <ul> <li><code>PLAY [Check disk space]</code>\uff1aPlaybook \u540d\u79f0\u3002</li> <li><code>TASK [Gathering Facts]</code>\uff1aAnsible \u6536\u96c6\u76ee\u6807\u4e3b\u673a\u7684\u57fa\u672c\u4fe1\u606f\uff08facts\uff09\u3002</li> <li><code>TASK [Disk free space]</code>\uff1a\u6267\u884c <code>df -Th</code> \u547d\u4ee4\u5e76\u6ce8\u518c\u8f93\u51fa\u5230\u53d8\u91cf <code>disk_space</code>\u3002</li> <li><code>TASK [Show disk space]</code>\uff1a\u4f7f\u7528 <code>debug</code> \u6a21\u5757\u663e\u793a <code>df -Th</code> \u547d\u4ee4\u7684\u8f93\u51fa\u3002</li> <li><code>PLAY RECAP</code>\uff1aPlaybook \u6267\u884c\u6458\u8981\uff0c\u5305\u62ec\u5404\u4e3b\u673a\u7684\u6267\u884c\u72b6\u6001\u3002</li> </ul> <ul> <li>\u5bf9\u5355\u53f0\u670d\u52a1\u5668\u6267\u884cplaybook\uff1a</li> </ul> <p>\u5f53\u5728\u547d\u4ee4\u884c\u4e2d\u76f4\u63a5\u6307\u5b9a\u5355\u4e2a\u4e3b\u673a\u65f6\uff0c<code>hosts</code>\u5c5e\u6027\u5fc5\u987b\u5b58\u5728\uff0c\u4e14<code>hosts</code> \u5c5e\u6027\u5e94\u8be5\u8bbe\u7f6e\u4e3a <code>all</code> \u6216\u8005\u4e3b\u673a\u7684\u5177\u4f53IP\uff0c\u4ee5\u786e\u4fdd\u5b83\u80fd\u5339\u914d\u4efb\u4f55\u4f20\u5165\u7684\u4e3b\u673a\uff0c\u5373\u4f7f <code>hosts</code> \u8bbe\u7f6e\u4e3a <code>all</code>\uff0cAnsible \u53ea\u4f1a\u5bf9\u6307\u5b9a\u7684\u4e3b\u673a\u6267\u884c\u64cd\u4f5c\u3002</p> Bash<pre><code>ansible-playbook -i 10.22.51.65, -e \"ansible_user=root ansible_ssh_private_key_file=/root/.ssh/id_rsa\" /data/ansible/playbooks/check_disk_space.yml\n</code></pre> <ul> <li><code>-i 10.22.51.65,</code> \uff1a\u6307\u5b9a\u76ee\u6807\u4e3b\u673a\u4e3a <code>10.22.51.65</code>\u3002\u9017\u53f7\uff08<code>,</code>\uff09\u786e\u4fdd Ansible \u5c06\u5176\u8bc6\u522b\u4e3a\u4e3b\u673a\u5217\u8868\uff0c\u5373\u4f7f\u53ea\u6709\u4e00\u53f0\u4e3b\u673a\u3002</li> <li><code>-e</code> \uff1a\u901a\u8fc7\u547d\u4ee4\u884c\u4f20\u9012\u989d\u5916\u7684\u53d8\u91cf\uff0c\u6307\u5b9a\u4f7f\u7528 <code>root</code> \u7528\u6237\u548c <code>/root/.ssh/id_rsa</code> \u79c1\u94a5\u6587\u4ef6\u8fdb\u884c\u8fde\u63a5\u3002</li> </ul> <ul> <li>\u53d1\u73b0\u95ee\u9898\uff1a\u6307\u5b9a\u76ee\u6807\u4e3b\u673a\u65f6\uff0c\u65e0\u8bbahosts\u6587\u4ef6\u5185\u662f\u5426\u6709\u914d\u7f6e\u8be5\u4e3b\u673a\uff0c\u4e5f\u80fd\u6210\u529f\u3002</li> </ul> <p>\u539f\u56e0\uff1a\u4f7f\u7528\u547d\u4ee4\u884c\u53c2\u6570\u6307\u5b9a\u76ee\u6807\u4e3b\u673a\u65f6\uff0cAnsible \u4f1a\u4f18\u5148\u4f7f\u7528\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u7684\u4e3b\u673a\u4fe1\u606f\uff0c\u800c\u4e0d\u662f Playbook \u6587\u4ef6\u4e2d <code>hosts</code> \u5c5e\u6027\u6216\u6e05\u5355\u6587\u4ef6\u4e2d\u7684\u5b9a\u4e49\u3002</p> <ul> <li> <p>\u6e05\u5355\u6587\u4ef6\u7684\u4f5c\u7528\uff1a\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6e05\u5355\u6587\u4ef6 <code>/data/ansible/hosts</code> \u4e0d\u4f1a\u88ab\u4f7f\u7528\uff0c\u56e0\u4e3a\u5df2\u7ecf\u5728\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u4e86\u8981\u8fde\u63a5\u7684\u5355\u4e2a\u4e3b\u673a IP \u5730\u5740\u3002</p> </li> <li> <p><code>hosts</code> \u5c5e\u6027\u5728 Playbook \u4e2d\u7684\u4f5c\u7528\uff1a\u5728 Playbook \u4e2d\u5b9a\u4e49\u7684 <code>hosts</code> \u5c5e\u6027\u4e3b\u8981\u7528\u4e8e\u6307\u5b9a Playbook \u5e94\u8be5\u5728\u54ea\u4e9b\u4e3b\u673a\u4e0a\u8fd0\u884c\u4efb\u52a1\u3002\u5f53\u4f60\u5728\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u4e3b\u673a\u65f6\uff0cPlaybook \u4e2d\u7684 <code>hosts</code> \u5c5e\u6027\u4e0d\u518d\u88ab\u4f7f\u7528\u3002</p> </li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#43-\u6ce8\u610f\u4e8b\u9879","title":"4.3 \u6ce8\u610f\u4e8b\u9879","text":"<p>\u5728 Ansible \u7684\u5de5\u4f5c\u6d41\u7a0b\u4e2d\uff0c<code>hosts</code> \u5c5e\u6027\u5728 Playbook \u4e2d\u8bbe\u7f6e\u7684\u4e3b\u8981\u76ee\u7684\u662f\u4e3a\u4e86\u5b9a\u4e49\u4efb\u52a1\u7684\u76ee\u6807\u4e3b\u673a\u96c6\u3002\u5c3d\u7ba1\u5728\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u4e86\u4e3b\u673a\uff0cPlaybook \u6587\u4ef6\u4e2d\u7684 <code>hosts</code> \u5c5e\u6027\u4ecd\u7136\u9700\u8981\u5b58\u5728\uff0c\u5177\u4f53\u539f\u56e0\u5982\u4e0b\uff1a</p> <ul> <li>\u5b9a\u4e49\u4efb\u52a1\u76ee\u6807\uff1a<code>hosts</code> \u5c5e\u6027\u544a\u8bc9 Ansible \u54ea\u4e9b\u4e3b\u673a\u5e94\u8be5\u6267\u884c\u8be5 Playbook \u7684\u4efb\u52a1\u3002\u5373\u4f7f\u5728\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u4e86\u4e3b\u673a\uff0cPlaybook \u4e2d\u7684 <code>hosts</code> \u5c5e\u6027\u4ecd\u7136\u662f\u4efb\u52a1\u9009\u62e9\u7684\u57fa\u7840\u3002</li> <li>\u6e05\u5355\u6587\u4ef6\u7684\u63a5\u53e3\uff1a\u5f53\u4f60\u4e0d\u5728\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u4e3b\u673a\u65f6\uff0cAnsible \u4f1a\u4ece\u6e05\u5355\u6587\u4ef6\u4e2d\u8bfb\u53d6\u76ee\u6807\u4e3b\u673a\u3002<code>hosts</code> \u5c5e\u6027\u63d0\u4f9b\u4e86\u4e00\u4e2a\u63a5\u53e3\uff0c\u5141\u8bb8\u4f60\u5728 Playbook \u5185\u90e8\u6307\u5b9a\u4efb\u52a1\u5e94\u8be5\u5728\u54ea\u4e9b\u4e3b\u673a\u4e0a\u6267\u884c\u3002</li> </ul> <p>\u547d\u4ee4\u884c\u4e0e Playbook \u7684\u5173\u7cfb\uff1a</p> <ul> <li>\u547d\u4ee4\u884c\u4f18\u5148\uff1a\u5f53\u4f60\u5728\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u4e3b\u673a\u65f6\uff0c\u8fd9\u4e9b\u6307\u5b9a\u4f1a\u8986\u76d6 Playbook \u4e2d\u7684 <code>hosts</code> \u8bbe\u7f6e\u3002\u8fd9\u662f\u56e0\u4e3a\u547d\u4ee4\u884c\u53c2\u6570\u901a\u5e38\u5177\u6709\u66f4\u9ad8\u7684\u4f18\u5148\u7ea7\u3002</li> <li>Playbook \u4e2d\u7684\u914d\u7f6e\uff1a\u5373\u4f7f\u4f60\u5728\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u4e86\u4e3b\u673a\uff0cPlaybook \u4e2d\u7684 <code>hosts</code> \u5c5e\u6027\u4f9d\u7136\u5b58\u5728\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u5728\u6ca1\u6709\u547d\u4ee4\u884c\u6307\u5b9a\u4e3b\u673a\u65f6\u4f7f\u7528\uff0c\u4ee5\u53ca\u4e3a\u6e05\u5355\u6587\u4ef6\u63d0\u4f9b\u63a5\u53e3\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#\u516dansible\u83b7\u53d6nginx\u4fe1\u606f","title":"\u516d\u3001ansible\u83b7\u53d6nginx\u4fe1\u606f","text":"<p>\u5728\u5bf9\u5355\u4e2a\u670d\u52a1\u5668\u6267\u884c<code>ansible</code>\u547d\u4ee4\u524d\uff0c\u9700\u8981\u786e\u4fdd\u8be5\u670d\u52a1\u5668IP\u5730\u5740\u5b58\u5728\u4e8e<code>inventory</code>\u6587\u4ef6\u4e2d\uff0c\u5373<code>/data/ansible/hosts</code>\u6587\u4ef6\uff0c\u65e0\u8bba\u5728\u54ea\u4e2a\u7ec4\u91cc\u90fd\u884c\u3002</p> <p>\u8fd9\u91cc\u5047\u8bbe\u6dfb\u52a0\u4e86\u5982\u4e0bIP\u5730\u5740\u5230\u7ec4\u91cc\uff1a</p> Bash<pre><code>[servers]\n172.18.0.161\n172.18.0.78\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#1\u68c0\u67e5nginx\u8def\u5f84","title":"1.\u68c0\u67e5nginx\u8def\u5f84","text":"<p>\u4f7f\u7528<code>ansible</code>\u547d\u4ee4\u6765\u5728\u8fdc\u7a0b<code>172.18.0.161</code>\u4e3b\u673a\u4e0a\u8fd0\u884c <code>which nginx</code> \u547d\u4ee4\uff1a</p> Bash<pre><code>ansible 172.18.0.161 -m shell -a 'which nginx'\n</code></pre> <p><code>which nginx</code> \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b Nginx \u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u5b89\u88c5\u8def\u5f84\u3002</p> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> Bash<pre><code>172.18.0.161 | CHANGED | rc=0 &gt;&gt;\n/bin/nginx\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#2\u67e5\u770bnginx\u914d\u7f6e\u6587\u4ef6\u6240\u5728","title":"2.\u67e5\u770bnginx\u914d\u7f6e\u6587\u4ef6\u6240\u5728","text":"<p>\u4f7f\u7528<code>ansible</code>\u547d\u4ee4\u6765\u5728\u8fdc\u7a0b<code>172.18.0.161</code>\u4e3b\u673a\u4e0a\u8fd0\u884c <code>nginx -V</code> \u547d\u4ee4\uff1a</p> Text Only<pre><code>ansible 172.18.0.78 -m shell -a 'nginx -V'\n</code></pre> <p><code>nginx -V</code> \u547d\u4ee4\u53ef\u4ee5\u663e\u793a Nginx \u7684\u7f16\u8bd1\u5668\u7248\u672c\u548c\u7f16\u8bd1\u65f6\u914d\u7f6e\u9009\u9879\u7b49\u8be6\u7ec6\u4fe1\u606f\u3002</p> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> Bash<pre><code>172.18.0.78 | CHANGED | rc=0 &gt;&gt;\nnginx version: nginx/1.18.0\nbuilt by gcc 4.8.5 20150623 (Red Hat 4.8.5-44) (GCC) \nbuilt with OpenSSL 1.0.2k-fips  26 Jan 2017\nTLS SNI support enabled\nconfigure arguments: --prefix=/usr/local/nginx --user=nginx --group=nginx --with-http_stub_status_module --with-http_ssl_module --with-http_gzip_static_module --with-http_gunzip_module --with-http_v2_module\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#3\u67e5\u770bnginx\u914d\u7f6e\u6587\u4ef6\u5185\u5bb9","title":"3.\u67e5\u770bnginx\u914d\u7f6e\u6587\u4ef6\u5185\u5bb9","text":"Bash<pre><code>ansible 172.18.0.78 -m shell -a 'cat /usr/local/nginx/conf/nginx.conf'\n</code></pre> <p>\u5982\u786e\u5b9a\u4e86nginx\u914d\u7f6e\u76ee\u5f55\uff0c\u53ef\u4ee5\u67e5\u770bconf\u76ee\u5f55\u4e0b<code>ssl_certificate</code>\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#4\u67e5\u627e\u670d\u52a1\u5668\u4e0a\u6240\u6709\u7684ssl\u8bc1\u4e66","title":"4.\u67e5\u627e\u670d\u52a1\u5668\u4e0a\u6240\u6709\u7684ssl\u8bc1\u4e66","text":"Bash<pre><code>ansible 172.18.0.161 -m shell -a 'grep -r \"ssl_certificate\" /data/nginx/conf/conf.d/'\n</code></pre> <p><code>grep -r</code>\u547d\u4ee4\u53ef\u4ee5\u9012\u5f52\u641c\u7d22\u76ee\u5f55<code>/data/nginx/conf/conf.d/</code>\u4e2d\u662f\u5426\u6709\u6587\u4ef6\u5305\u542b\u5176\u5185\u5bb9<code>ssl_certificate</code>\u3002</p> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> Bash<pre><code>172.18.0.161 | CHANGED | rc=0 &gt;&gt;\n/data/nginx/conf/conf.d/wecom.iboss.sunline.cn.conf:  ssl_certificate cert/wecom.iboss.sunline.cn.pem;\n/data/nginx/conf/conf.d/wecom.iboss.sunline.cn.conf:  ssl_certificate_key cert/wecom.iboss.sunline.cn.key;\n/data/nginx/conf/conf.d/iboss.sunline.cn-8443.conf:  ssl_certificate cert/iboss.sunline.cn.pem;\n/data/nginx/conf/conf.d/iboss.sunline.cn-8443.conf:  ssl_certificate_key cert/iboss.sunline.cn.key;\n/data/nginx/conf/conf.d/hr.iboss.sunline.cn-9443.conf:  ssl_certificate cert/hr.iboss.sunline.cn_bundle.pem;\n/data/nginx/conf/conf.d/hr.iboss.sunline.cn-9443.conf:  ssl_certificate_key cert/hr.iboss.sunline.cn.key;\n/data/nginx/conf/conf.d/iboss.sunline.cn.conf:  ssl_certificate cert/iboss.sunline.cn.pem;\n/data/nginx/conf/conf.d/iboss.sunline.cn.conf:  ssl_certificate_key cert/iboss.sunline.cn.key;\n/data/nginx/conf/conf.d/none.conf:  ssl_certificate cert/none-ca.crt;\n/data/nginx/conf/conf.d/none.conf:  ssl_certificate_key cert/none-ca.key;\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#5\u641c\u7d22\u8bc1\u4e66\u7684\u786e\u5207\u8def\u5f84","title":"5.\u641c\u7d22\u8bc1\u4e66\u7684\u786e\u5207\u8def\u5f84","text":"Bash<pre><code>ansible 172.18.0.161 -m shell -a 'find / -name \"wecom.iboss.sunline.cn.pem\"'\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> Bash<pre><code>172.18.0.161 | CHANGED | rc=0 &gt;&gt;\n/data/nginx/conf/cert/wecom.iboss.sunline.cn.pem\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#6\u67e5\u770b\u8bc1\u4e66\u6240\u5728\u76ee\u5f55","title":"6.\u67e5\u770b\u8bc1\u4e66\u6240\u5728\u76ee\u5f55","text":"Bash<pre><code>ansible 172.18.0.161 -m shell -a 'ls -l /data/nginx/conf/cert'\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#\u4e03\u83b7\u53d6\u8bc1\u4e66\u5217\u8868\u4fe1\u606f","title":"\u4e03\u3001\u83b7\u53d6\u8bc1\u4e66\u5217\u8868\u4fe1\u606f","text":"<p>\u7f3a\u9677\uff1aAPI\u8c03\u7528\u53ef\u80fd\u5b58\u5728\u9650\u5236\uff0c\u975e443\u7aef\u53e3\u7684\u57df\u540d\u65e0\u6cd5\u83b7\u53d6\u3002</p> <p>\u4f8b\u5982\uff1a</p> <p>wecom.iboss.sunline.cn:6443</p> <p>Bash<pre><code># \u6682\u65f6\u4e0d\u4f7f\u7528api\u67e5\u8be2\n</code></pre> </p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#1\u914d\u7f6epython\u811a\u672c\u4e91\u670d\u52a1\u5668","title":"1.\u914d\u7f6epython\u811a\u672c\uff08\u4e91\u670d\u52a1\u5668\uff09","text":"<p>\u8fd9\u91cc\u4ee5\u81ea\u5df1\u7684\u4e91\u670d\u52a1\u5668\u4e0a\u7684\u8bc1\u4e66\u4e3a\u4f8b\uff0c\u914d\u7f6e\u7684\u811a\u672c\u6587\u4ef6\u5b58\u653e\u5728<code>/usr/local/scripts</code>\u76ee\u5f55\u4e0b\uff0c\u811a\u672c\u5185\u5bb9\u5982\u4e0b\uff1a</p> Python<pre><code>#!/usr/bin/python3\n\n# \u5bfc\u5165\u5fc5\u8981\u7684\u5e93\nimport time\nimport requests\nfrom requests.auth import HTTPBasicAuth\n\n# \u767b\u5f55\u65f6\u5148\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u7684\u8d26\u53f7\u5bc6\u7801\nauth_username = \"sunline\"\nauth_password = \"sunline\"\n\n# \u767b\u5f55\u57df\u540d\u548cSSL\u8bc1\u4e66\u76d1\u63a7\u7cfb\u7edf\u7684\u8d26\u53f7\u5bc6\u7801\nadmin_username = \"admin\"\nadmin_password = \"dream13889\"\n\n# \u7cfb\u7edf\u7684\u767b\u5f55URL\u548c\u57df\u540d\u5217\u8868URL\nlogin_url = 'https://domain.jerion.cn/api/login'\ndomain_list_url = 'https://domain.jerion.cn/api/getDomainList'\ncert_info_url = 'https://domain.jerion.cn/api/getCertInformation'\n\n# \u521b\u5efa\u8ba4\u8bc1\u5bf9\u8c61\nauth = HTTPBasicAuth(auth_username, auth_password)\n\n# \u51c6\u5907\u767b\u5f55\u8bf7\u6c42\u7684\u8d1f\u8f7d\nlogin_payload = {\n    \"username\": admin_username,\n    \"password\": admin_password\n}\n\n# \u53d1\u9001\u767b\u5f55\u8bf7\u6c42\u5e76\u5904\u7406\u54cd\u5e94\nlogin_response = requests.post(login_url, json=login_payload, auth=auth)\nif login_response.status_code == 200:\n    login_data = login_response.json()\n    token = login_data.get('data', {}).get('token')\n    if token:\n        print(\"\u767b\u5f55\u6210\u529f\uff0c\u83b7\u53d6\u5230 Token\")\n\n        # \u8bbe\u7f6e\u8bf7\u6c42\u5934\u548c\u51c6\u5907\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684\u8bf7\u6c42\u4f53\n        headers = {\n            \"Content-Type\": \"application/json\",\n            \"X-TOKEN\": token\n        }\n        domain_list_payload = {\n            \"page\": 1,\n            \"size\": 10  # \u53ef\u8c03\u6574\u83b7\u53d6\u66f4\u591a\u57df\u540d\n        }\n\n        # \u53d1\u9001\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684\u8bf7\u6c42\u5e76\u5904\u7406\u54cd\u5e94\n        domain_response = requests.post(domain_list_url, headers=headers, json=domain_list_payload, auth=auth)\n        if domain_response.status_code == 200:\n            domain_data = domain_response.json()\n            domain_list = domain_data.get('data', {}).get('list', [])\n            if domain_list:\n                file_path = '/tmp/certificates_jerion.txt'\n                with open(file_path, 'w') as file:\n                    for domain_info in domain_list:\n                        domain = domain_info.get('domain')\n                        print(f\"\u83b7\u53d6\u57df\u540d: {domain}\")\n                        time.sleep(1)\n\n                        # \u5faa\u73af\u5904\u7406\u6bcf\u4e2a\u57df\u540d\uff0c\u83b7\u53d6\u5176\u8bc1\u4e66\u4fe1\u606f\u5e76\u5199\u5165\u6587\u4ef6\n                        cert_payload = {\n                            \"domain\": domain\n                        }\n                        cert_response = requests.post(cert_info_url, headers=headers, json=cert_payload, auth=auth)\n\n                        if cert_response.status_code == 200:\n                            data = cert_response.json()\n                            print(f\"\u8bc1\u4e66\u54cd\u5e94: {data}\")\n                            time.sleep(1)\n\n                            if data.get('code') == 0:\n                                cert_info = data.get('data', {})\n                                parsed_cert = cert_info.get('parsed_cert', {})\n                                domain_name = cert_info.get('resolve_domain')\n                                issuer = parsed_cert.get('issuer', {})\n                                start_date = parsed_cert.get('notBefore')\n                                expire_date = parsed_cert.get('notAfter')\n                                subject = parsed_cert.get('subject', {})\n\n                                try:\n                                    file.write(f\"Domain: {domain_name}\\n\")\n                                    file.write(f\"Issuer: {issuer}\\n\")\n                                    file.write(f\"Start Date: {start_date}\\n\")\n                                    file.write(f\"Expire Date: {expire_date}\\n\")\n                                    file.write(f\"Subject: {subject}\\n\")\n                                    file.write(\"\\n\")\n                                    print(f\"\u5199\u5165\u6587\u4ef6: Domain: {domain_name}, Issuer: {issuer}, Start Date: {start_date}, Expire Date: {expire_date}, Subject: {subject}\")\n                                except Exception as e:\n                                    print(f\"\u5199\u5165\u6587\u4ef6\u5931\u8d25: {e}\")\n                            else:\n                                print(f\"\u83b7\u53d6 {domain} \u7684\u8bc1\u4e66\u4fe1\u606f\u5931\u8d25\u3002\u8fd4\u56de\u6d88\u606f: {data.get('msg')}\")\n                        else:\n                            print(f\"\u83b7\u53d6 {domain} \u7684\u8bc1\u4e66\u4fe1\u606f\u5931\u8d25\u3002\u72b6\u6001\u7801: {cert_response.status_code}, \u54cd\u5e94: {cert_response.text}\")\n                        print()\n                        time.sleep(2)\n            else:\n                print(\"\u672a\u627e\u5230\u4efb\u4f55\u57df\u540d\u3002\")\n        else:\n            print(f\"\u83b7\u53d6\u57df\u540d\u5217\u8868\u5931\u8d25\u3002\u72b6\u6001\u7801: {domain_response.status_code}, \u54cd\u5e94: {domain_response.text}\")\n    else:\n        print(\"\u767b\u5f55\u5931\u8d25\uff0c\u672a\u80fd\u83b7\u53d6\u5230 Token\")\nelse:\n    print(f\"\u767b\u5f55\u5931\u8d25\u3002\u72b6\u6001\u7801: {login_response.status_code}, \u54cd\u5e94: {login_response.text}\")\n\nprint(\"\u83b7\u53d6\u8bc1\u4e66\u4fe1\u606f\u6267\u884c\u7ed3\u675f\uff01\")\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#11-\u811a\u672c\u529f\u80fd\u8bf4\u660e","title":"1.1 \u811a\u672c\u529f\u80fd\u8bf4\u660e","text":"<p>\u8fd9\u4e2a\u811a\u672c\u7684\u529f\u80fd\u662f\u767b\u5f55\u4e00\u4e2a\u57df\u540d\u548cSSL\u8bc1\u4e66\u76d1\u63a7\u7cfb\u7edf\uff0c\u83b7\u53d6\u57df\u540d\u5217\u8868\uff0c\u5e76\u4e14\u83b7\u53d6\u6bcf\u4e2a\u57df\u540d\u7684\u8bc1\u4e66\u4fe1\u606f\uff0c\u6700\u540e\u5c06\u8fd9\u4e9b\u4fe1\u606f\u5199\u5165\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#111-\u5bfc\u5165\u5fc5\u8981\u53ca\u53ef\u9009\u7684\u5e93","title":"1.1.1 \u5bfc\u5165\u5fc5\u8981\u53ca\u53ef\u9009\u7684\u5e93","text":"<ul> <li><code>requests</code> \uff1a\u8be5\u5e93\u7528\u4e8e\u53d1\u9001HTTP\u8bf7\u6c42\u3002</li> <li><code>from requests.auth import HTTPBasicAuth</code>\uff1a\u4f7f\u7528 <code>requests</code> \u5e93\u4e2d\u7684 <code>HTTPBasicAuth</code> \u7c7b\u6765\u63d0\u4f9b\u8ba4\u8bc1\u4fe1\u606f\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#112-\u5b9a\u4e49\u767b\u5f55\u4fe1\u606f\u548curl","title":"1.1.2 \u5b9a\u4e49\u767b\u5f55\u4fe1\u606f\u548cURL","text":"<ul> <li><code>auth_username</code>\uff1a\u767b\u5f55\u7cfb\u7edf\u524d\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u7684\u8d26\u53f7\u3002</li> <li><code>auth_password</code>\uff1a\u767b\u5f55\u7cfb\u7edf\u524d\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u7684\u5bc6\u7801\u3002</li> <li><code>admin_username</code> \uff1a\u5b58\u50a8\u767b\u5f55\u6240\u9700\u7684\u8d26\u53f7\u3002</li> <li><code>admin_password</code>\uff1a\u5b58\u50a8\u767b\u5f55\u6240\u9700\u7684\u5bc6\u7801\u3002</li> <li><code>login_url</code>\uff1a\u767b\u5f55API\u7684URL\u3002</li> <li><code>domain_list_url</code>\uff1a\u662f\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684API\u7684URL\u3002</li> <li><code>cert_info_url</code>\uff1a\u662f\u83b7\u53d6\u8bc1\u4e66\u4fe1\u606f\u7684API\u7684URL\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#113-\u51c6\u5907\u81ea\u52a8\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u7684\u4fe1\u606f\u53ef\u9009","title":"1.1.3 \u51c6\u5907\u81ea\u52a8\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u7684\u4fe1\u606f\uff08\u53ef\u9009\uff09","text":"<ul> <li><code>HTTPBasicAuth(admin_username, admin_password)</code>\uff1a\u521b\u5efa\u4e00\u4e2a\u8ba4\u8bc1\u5bf9\u8c61\uff0c\u7528\u4e8e\u5728HTTP\u8bf7\u6c42\u4e2d\u5b9e\u73b0\u57fa\u672c\u8ba4\u8bc1\uff0c\u57fa\u672c\u8ba4\u8bc1\u662f\u4e00\u79cd\u901a\u8fc7\u5728HTTP\u8bf7\u6c42\u5934\u4e2d\u6dfb\u52a0\u7528\u6237\u540d\u548c\u5bc6\u7801\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u7684\u65b9\u5f0f\uff0c\u8fd9\u91cc\u662f\u56e0\u4e3a\u5728<code>NginxwebUI</code>\u4e2d\u914d\u7f6e\u4e86<code>htpasswd</code>\u8eab\u4efd\u8ba4\u8bc1\uff0c\u5c06\u7528\u6237\u540d\u548c\u5bc6\u7801\u4f20\u9012\u7ed9<code>auth</code>\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#114-\u51c6\u5907\u767b\u5f55\u8bf7\u6c42\u7684\u8d1f\u8f7d","title":"1.1.4 \u51c6\u5907\u767b\u5f55\u8bf7\u6c42\u7684\u8d1f\u8f7d","text":"<ul> <li><code>login_payload</code> \uff1a\u53d1\u9001\u5230\u767b\u5f55API\u7684\u8bf7\u6c42\u4f53\uff0c\u5305\u542b\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#115-\u53d1\u9001\u767b\u5f55\u8bf7\u6c42\u5e76\u5904\u7406\u54cd\u5e94","title":"1.1.5 \u53d1\u9001\u767b\u5f55\u8bf7\u6c42\u5e76\u5904\u7406\u54cd\u5e94","text":"Python<pre><code>login_response = requests.post(login_url, json=login_payload, auth=auth)\nif login_response.status_code == 200:\n    login_data = login_response.json()\n    token = login_data.get('data', {}).get('token')\n    if token:\n        print(\"\u767b\u5f55\u6210\u529f\uff0c\u83b7\u53d6\u5230 Token\")\n</code></pre> <ul> <li><code>requests.post()</code>\uff1a\u662f <code>requests</code> \u5e93\u4e2d\u7684\u4e00\u4e2a\u65b9\u6cd5\uff0c\u7528\u4e8e\u53d1\u9001HTTP POST\u8bf7\u6c42\u3002</li> <li><code>login_url</code>: \u76ee\u6807API\u7684URL\u5730\u5740\u3002</li> <li><code>json=login_payload</code>: \u8bf7\u6c42\u7684JSON\u6570\u636e\u3002<code>login_payload</code> \u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u5305\u542b\u4e86\u8981\u53d1\u9001\u7684\u767b\u5f55\u4fe1\u606f\uff08\u7528\u6237\u540d\u548c\u5bc6\u7801\uff09\uff0c\u8be5\u53c2\u6570\u4f1a\u5c06\u5b57\u5178 <code>login_payload</code> \u81ea\u52a8\u8f6c\u6362\u4e3aJSON\u683c\u5f0f\u5e76\u8bbe\u7f6e\u5408\u9002\u7684 <code>Content-Type</code> \u5934\u3002</li> <li><code>auth=auth</code>: \u4f7f\u7528\u521b\u5efa\u7684 <code>HTTPBasicAuth</code> \u5bf9\u8c61\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u3002</li> <li><code>login_response.status_code</code>\uff1a\u68c0\u67e5\u54cd\u5e94\u72b6\u6001\u7801\u662f\u5426\u4e3a200\uff08\u8868\u793a\u8bf7\u6c42\u6210\u529f\uff09\u3002</li> <li><code>login_response.json()</code>\uff1a\u7528\u4e8e\u5c06HTTP\u54cd\u5e94\u7684\u5185\u5bb9\u89e3\u6790\u4e3aJSON\u683c\u5f0f\u7684Python\u5bf9\u8c61\uff0c\u901a\u5e38\u662f\u4e00\u4e2a\u5b57\u5178\u3002</li> <li><code>login_data.get('data', {})</code>\uff1a\u4ece <code>login_data</code> \u5b57\u5178\u4e2d\u83b7\u53d6\u952e <code>'data'</code> \u7684\u503c\uff0c\u5982\u679c <code>'data'</code> \u952e\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u5176\u5bf9\u5e94\u7684\u503c\uff08\u8fd9\u91cc\u662f\u4e00\u4e2a\u5d4c\u5957\u7684\u5b57\u5178\uff09\uff0c\u5982\u679c <code>'data'</code> \u952e\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u9ed8\u8ba4\u7684\u7a7a\u5b57\u5178 <code>{}</code>\uff0c\u907f\u514d\u629b\u51fa <code>KeyError</code> \u5f02\u5e38\u3002</li> <li><code>.get('token')</code>\uff1a\u5bf9\u4e8e\u5916\u5c42 <code>get</code> \u65b9\u6cd5\u8fd4\u56de\u7684\u5b57\u5178\uff08\u53ef\u80fd\u662f\u5d4c\u5957\u7684\u5b57\u5178\uff0c\u6216\u8005\u662f\u7a7a\u5b57\u5178\uff09\uff0c\u83b7\u53d6\u952e <code>'token'</code> \u7684\u503c\u3002</li> <li>\u5982\u679c\u83b7\u53d6\u5230<code>Token</code>\uff0c\u5219\u6253\u5370\u6210\u529f\u6d88\u606f\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#116-\u8bbe\u7f6e\u8bf7\u6c42\u5934\u548c\u51c6\u5907\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684\u8bf7\u6c42\u4f53","title":"1.1.6 \u8bbe\u7f6e\u8bf7\u6c42\u5934\u548c\u51c6\u5907\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684\u8bf7\u6c42\u4f53","text":"Python<pre><code>headers = {\n    \"Content-Type\": \"application/json\",\n    \"X-TOKEN\": token\n}\ndomain_list_payload = {\n    \"page\": 1,\n    \"size\": 10  # \u53ef\u8c03\u6574\u83b7\u53d6\u66f4\u591a\u57df\u540d\n}\n</code></pre> <ul> <li><code>headers</code> \uff1a\u5305\u542b\u8bf7\u6c42\u5934\uff0c\u5176\u4e2d <code>X-TOKEN</code> \u7528\u4e8e\u8ba4\u8bc1\u3002</li> <li><code>domain_list_payload</code> \uff1a\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684\u8bf7\u6c42\u4f53\uff0c\u6307\u5b9a\u5206\u9875\u53c2\u6570\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#117-\u53d1\u9001\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684\u8bf7\u6c42\u5e76\u5904\u7406\u54cd\u5e94","title":"1.1.7 \u53d1\u9001\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684\u8bf7\u6c42\u5e76\u5904\u7406\u54cd\u5e94","text":"Bash<pre><code>domain_response = requests.post(domain_list_url, headers=headers, json=domain_list_payload)\nif domain_response.status_code == 200:\n    domain_data = domain_response.json()\n    domain_list = domain_data.get('data', {}).get('list', [])\n    if domain_list:\n        file_path = '/tmp/certificates_jerion.txt'\n        with open(file_path, 'w') as file:\n            for domain_info in domain_list:\n                domain = domain_info.get('domain')\n                print(f\"\u83b7\u53d6\u57df\u540d: {domain}\")\n</code></pre> <ul> <li><code>requests.post()</code>\uff1a\u53d1\u9001\u4e00\u4e2aHTTP POST\u8bf7\u6c42\u5230 <code>domain_list_url</code> \u4ee5\u83b7\u53d6\u57df\u540d\u5217\u8868\u3002</li> <li><code>domain_list_url</code>: \u8bf7\u6c42\u7684URL\uff08\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684API\u7aef\u70b9\uff09\uff1b</li> <li><code>headers</code>: \u5305\u542bHTTP\u5934\u4fe1\u606f\u7684\u5b57\u5178\uff0c\u8fd9\u91cc\u5305\u62ec\u8ba4\u8bc1\u6240\u9700\u7684Token\uff1b</li> <li><code>json=domain_list_payload</code>: \u8bf7\u6c42\u4f53\uff0c\u5305\u542b\u5206\u9875\u53c2\u6570\uff08\u5982\u7b2c\u51e0\u9875\uff0c\u6bcf\u9875\u591a\u5c11\u6761\u8bb0\u5f55\uff09\uff1b</li> <li><code>auth=auth</code>: \u4f7f\u7528\u521b\u5efa\u7684 <code>HTTPBasicAuth</code> \u5bf9\u8c61\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u3002</li> <li><code>domain_response.status_code</code>\uff1a\u68c0\u67e5\u54cd\u5e94\u72b6\u6001\u7801\u662f\u5426\u4e3a200\uff08\u8868\u793a\u8bf7\u6c42\u6210\u529f\uff09\u3002</li> <li><code>domain_response.json()</code>\uff1a\u7528\u4e8e\u5c06HTTP\u54cd\u5e94\u7684\u5185\u5bb9\u89e3\u6790\u4e3aJSON\u683c\u5f0f\u7684Python\u5bf9\u8c61\uff0c\u901a\u5e38\u662f\u4e00\u4e2a\u5b57\u5178\u3002</li> <li><code>domain_data.get('data', {})</code>\uff1a\u4ece <code>domain_data</code> \u5b57\u5178\u4e2d\u83b7\u53d6\u952e <code>'data'</code> \u7684\u503c\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u8fd4\u56de\u7a7a\u5b57\u5178 <code>{}</code>\u3002</li> <li><code>.get('list', [])</code>\uff1a\u4ece\u5d4c\u5957\u7684\u5b57\u5178\u4e2d\u83b7\u53d6\u952e <code>'list'</code> \u7684\u503c\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u8fd4\u56de\u7a7a\u5217\u8868 <code>[]</code>\uff0c<code>domain_list</code> \u662f\u4e00\u4e2a\u5305\u542b\u57df\u540d\u4fe1\u606f\u7684\u5217\u8868\u3002</li> <li><code>file_path</code>\uff1a\u5b9a\u4e49\u4e00\u4e2a\u6587\u4ef6\u8def\u5f84\u53d8\u91cf <code>file_path</code>\uff0c\u7528\u4e8e\u5b58\u50a8\u8bc1\u4e66\u4fe1\u606f\u3002</li> <li><code>with open(file_path, 'w') as file</code>\uff1a\u6253\u5f00\uff08\u6216\u521b\u5efa\uff09\u4e00\u4e2a\u6587\u4ef6\uff0c\u4ee5\u5199\u6a21\u5f0f(<code>'w'</code>)\u6253\u5f00\uff0c\u5e76\u5c06\u6587\u4ef6\u5bf9\u8c61\u8d4b\u503c\u7ed9 <code>file</code>\u3002</li> <li><code>open(file_path, 'w')</code>\uff1a\u6253\u5f00 <code>file_path</code> \u6307\u5b9a\u7684\u6587\u4ef6\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u5b83\uff0c\u5982\u679c\u5b58\u5728\u5219\u6e05\u7a7a\u5176\u5185\u5bb9\uff1b</li> <li><code>as file</code>\uff1a\u5c06\u6587\u4ef6\u5bf9\u8c61\u8d4b\u503c\u7ed9\u53d8\u91cf <code>file</code>\uff0c\u4ee5\u4fbf\u5728 <code>with</code> \u8bed\u53e5\u5757\u4e2d\u4f7f\u7528\u3002</li> <li><code>for domain_info in domain_list</code>\uff1a\u5bf9 <code>domain_list</code> \u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\uff08\u57df\u540d\u4fe1\u606f\u5b57\u5178\uff09\u8fdb\u884c\u8fed\u4ee3\u3002</li> <li><code>domain_info.get('domain')</code>\uff1a\u83b7\u53d6 <code>domain_info</code> \u5b57\u5178\u4e2d\u952e <code>'domain'</code> \u7684\u503c\uff08\u5373\u57df\u540d\uff09\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#118-\u5faa\u73af\u5904\u7406\u6bcf\u4e2a\u57df\u540d\u83b7\u53d6\u5176\u8bc1\u4e66\u4fe1\u606f\u5e76\u5199\u5165\u6587\u4ef6","title":"1.1.8 \u5faa\u73af\u5904\u7406\u6bcf\u4e2a\u57df\u540d\uff0c\u83b7\u53d6\u5176\u8bc1\u4e66\u4fe1\u606f\u5e76\u5199\u5165\u6587\u4ef6","text":"Python<pre><code>cert_payload = {\n    \"domain\": domain\n}\ncert_response = requests.post(cert_info_url, headers=headers, json=cert_payload)\n\nif cert_response.status_code == 200:\n    data = cert_response.json()\n    print(f\"\u8bc1\u4e66\u54cd\u5e94: {data}\")\n    if data.get('code') == 0:\n        cert_info = data.get('data', {})\n        parsed_cert = cert_info.get('parsed_cert', {})\n        domain_name = cert_info.get('resolve_domain')\n        issuer = parsed_cert.get('issuer', {})\n        start_date = parsed_cert.get('notBefore')\n        expire_date = parsed_cert.get('notAfter')\n        subject = parsed_cert.get('subject', {})\n\n        try:\n            file.write(f\"Domain: {domain_name}\\n\")\n            file.write(f\"Issuer: {issuer}\\n\")\n            file.write(f\"Start Date: {start_date}\\n\")\n            file.write(f\"Expire Date: {expire_date}\\n\")\n            file.write(f\"Subject: {subject}\\n\")\n            file.write(\"\\n\")\n            print(f\"\u5199\u5165\u6587\u4ef6: Domain: {domain_name}, Issuer: {issuer}, Start Date: {start_date}, Expire Date: {expire_date}, Subject: {subject}\")\n</code></pre> <ul> <li><code>cert_payload</code>\uff1a\u521b\u5efa\u4e00\u4e2a\u5b57\u5178 <code>cert_payload</code>\uff0c\u5305\u542b\u7684\u662f\u83b7\u53d6\u57df\u540d\u4fe1\u606f\u7684\u8bf7\u6c42\u4f53\u3002</li> <li><code>requests.post()</code>\uff1a\u53d1\u9001\u4e00\u4e2aHTTP POST\u8bf7\u6c42\u5230 <code>cert_info_url</code>\uff0c\u8bf7\u6c42\u5934\u5305\u542b\u8ba4\u8bc1\u4fe1\u606f\uff0c\u8bf7\u6c42\u4f53\u5305\u542b\u67e5\u8be2\u7684\u57df\u540d\u3002</li> <li><code>cert_info_url</code>: \u8bc1\u4e66\u4fe1\u606fAPI\u7684URL\uff1b</li> <li><code>headers</code>: \u8bf7\u6c42\u5934\uff0c\u5305\u542b\u8ba4\u8bc1Token\u7b49\u4fe1\u606f\uff1b</li> <li><code>json=cert_payload</code>: \u8bf7\u6c42\u4f53\uff0c\u5305\u542b\u67e5\u8be2\u7684\u57df\u540d\uff1b</li> <li><code>auth=auth</code>: \u4f7f\u7528\u521b\u5efa\u7684 <code>HTTPBasicAuth</code> \u5bf9\u8c61\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u3002</li> <li><code>cert_response.status_code</code>\uff1a\u68c0\u67e5\u8bc1\u4e66\u8bf7\u6c42\u7684HTTP\u72b6\u6001\u7801\u662f\u5426\u4e3a200\uff0c\u8868\u793a\u8bf7\u6c42\u6210\u529f\u3002</li> <li><code>cert_response.json()</code>\uff1a\u5c06\u54cd\u5e94\u5185\u5bb9\u89e3\u6790\u4e3aJSON\u683c\u5f0f\u7684\u5b57\u5178\u3002</li> <li><code>data.get('code')</code>\uff1a\u68c0\u67e5\u54cd\u5e94\u6570\u636e\u4e2d\u7684 <code>code</code> \u5b57\u6bb5\u662f\u5426\u4e3a0\uff0c\u8868\u793a\u8bf7\u6c42\u6210\u529f\u3002</li> <li><code>data.get('data', {})</code>\uff1a\u4ece <code>data</code> \u5b57\u5178\u4e2d\u83b7\u53d6 <code>data</code> \u952e\u7684\u503c\uff0c\u5373\u8bc1\u4e66\u4fe1\u606f\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u5178 <code>{}</code>\u3002</li> <li><code>cert_info.get('parsed_cert', {})</code>\uff1a\u4ece <code>cert_info</code> \u5b57\u5178\u4e2d\u83b7\u53d6 <code>parsed_cert</code> \u952e\u7684\u503c\uff0c\u5373\u89e3\u6790\u540e\u7684\u8bc1\u4e66\u4fe1\u606f\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u5178 <code>{}</code>\u3002</li> <li><code>cert_info.get('resolve_domain')</code>: \u4ece <code>cert_info</code> \u83b7\u53d6 <code>resolve_domain</code> \u952e\u7684\u503c\uff0c\u5373\u57df\u540d\u3002</li> <li><code>parsed_cert.get('issuer', {})</code>: \u4ece <code>parsed_cert</code> \u83b7\u53d6 <code>issuer</code> \u952e\u7684\u503c\uff0c\u5373\u9881\u53d1\u8005\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u5178 <code>{}</code>\u3002</li> <li><code>parsed_cert.get('notBefore')</code>: \u4ece <code>parsed_cert</code> \u83b7\u53d6\u8bc1\u4e66\u7684\u5f00\u59cb\u65e5\u671f\u3002</li> <li><code>parsed_cert.get('notAfter')</code>: \u4ece <code>parsed_cert</code> \u83b7\u53d6\u8bc1\u4e66\u7684\u8fc7\u671f\u65e5\u671f\u3002</li> <li><code>parsed_cert.get('subject', {})</code>: \u4ece <code>parsed_cert</code> \u83b7\u53d6 <code>subject</code> \u952e\u7684\u503c\uff0c\u5373\u4e3b\u9898\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u5178 <code>{}</code>\u3002</li> <li><code>file.write()</code>\uff1a\u5411\u6587\u4ef6\u4e2d\u5199\u5165\u8bc1\u4e66\u4fe1\u606f\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#119-\u5904\u7406\u5931\u8d25\u60c5\u51b5","title":"1.1.9 \u5904\u7406\u5931\u8d25\u60c5\u51b5","text":"Python<pre><code>    else:\n        print(\"\u672a\u627e\u5230\u4efb\u4f55\u57df\u540d\u3002\")\n......\nelse:\n    print(f\"\u767b\u5f55\u5931\u8d25\u3002\u72b6\u6001\u7801: {login_response.status_code}, \u54cd\u5e94: {login_response.text}\")\n</code></pre> <ul> <li>\u5982\u679c\u672a\u627e\u5230\u4efb\u4f55\u57df\u540d\uff0c\u6253\u5370\u76f8\u5e94\u6d88\u606f\u3002</li> <li>\u5982\u679c\u83b7\u53d6\u57df\u540d\u5217\u8868\u5931\u8d25\uff0c\u6253\u5370\u72b6\u6001\u7801\u548c\u54cd\u5e94\u5185\u5bb9\u3002</li> <li>\u5982\u679c\u767b\u5f55\u5931\u8d25\u4e14\u672a\u83b7\u53d6\u5230Token\uff0c\u6253\u5370\u76f8\u5e94\u6d88\u606f\u3002</li> <li>\u5982\u679c\u767b\u5f55\u8bf7\u6c42\u5931\u8d25\uff0c\u6253\u5370\u72b6\u6001\u7801\u548c\u54cd\u5e94\u5185\u5bb9\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#12-\u811a\u672c\u76f8\u5173\u95ee\u9898","title":"1.2 \u811a\u672c\u76f8\u5173\u95ee\u9898","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#121-\u5982\u4f55\u67e5\u770b\u540e\u7aef\u767b\u5f55\u7684url","title":"1.2.1 \u5982\u4f55\u67e5\u770b\u540e\u7aef\u767b\u5f55\u7684URL","text":"<ul> <li>\u6253\u5f00\u767b\u5f55\u7cfb\u7edf\uff1a <code>https://domain.jerion.cn</code>\uff1b</li> <li>\u6253\u5f00\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\uff1a\u5728\u6d4f\u89c8\u5668\u4e2d\u6309 <code>F12</code> \u6216\u53f3\u952e\u70b9\u51fb\u9875\u9762\uff0c\u7136\u540e\u9009\u62e9\u201c\u68c0\u67e5\u201d\u6216\u201c\u68c0\u67e5\u5143\u7d20\u201d\uff1b</li> <li>\u5207\u6362\u5230\u201c\u7f51\u7edc\u201d\u6807\u7b7e\uff1a\u5728\u7f51\u7edc\u6807\u7b7e\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230\u9875\u9762\u52a0\u8f7d\u65f6\u53d1\u8d77\u7684\u6240\u6709\u7f51\u7edc\u8bf7\u6c42\uff1b</li> <li>\u8fdb\u884c\u767b\u5f55\u64cd\u4f5c\uff1a</li> <li>\u5728\u767b\u5f55\u9875\u9762\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u7136\u540e\u70b9\u51fb\u767b\u5f55\u6309\u94ae\uff1b</li> <li>\u5728\u7f51\u7edc\u6807\u7b7e\u4e2d\u67e5\u627e\u7c7b\u578b\u4e3a <code>POST</code> \u7684\u8bf7\u6c42\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u770b\u770b\u540e\u7aef\u767b\u5f55\u7684URL\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#122-\u5982\u4f55\u67e5\u770b\u540e\u7aef\u767b\u5f55\u540e\u7684\u57df\u540d\u5217\u8868url","title":"1.2.2 \u5982\u4f55\u67e5\u770b\u540e\u7aef\u767b\u5f55\u540e\u7684\u57df\u540d\u5217\u8868URL","text":"<p>\u767b\u5f55\u7cfb\u7edf\u540e\uff0c\u6253\u5f00\u3010\u8bc1\u4e66\u76d1\u63a7\u3011\u2014\u2014\u3010\u57df\u540d\u5217\u8868\u3011\uff0c\u5728\u7f51\u7edc\u6807\u7b7e\u4e2d\u627e\u5230\u540d\u79f0\u4e3a<code>getDomainList</code>\u7684\u8bf7\u6c42\uff0c\u5728\u201c\u6807\u5934\u201d\u680f\u53ef\u4ee5\u770b\u5230\u8bf7\u6c42URL\uff1a</p> <p></p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#123-\u5982\u4f55\u67e5\u770b\u540e\u7aef\u767b\u5f55\u540e\u7684\u83b7\u53d6\u8bc1\u4e66\u4fe1\u606furl","title":"1.2.3 \u5982\u4f55\u67e5\u770b\u540e\u7aef\u767b\u5f55\u540e\u7684\u83b7\u53d6\u8bc1\u4e66\u4fe1\u606fURL","text":"<p>\u767b\u5f55\u7cfb\u7edf\u540e\uff0c\u6253\u5f00\u3010\u5de5\u5177\u7bb1\u3011\u2014\u2014\u3010\u8bc1\u4e66\u4fe1\u606f\u67e5\u8be2\u3011\uff0c\u5047\u8bbe\u8fd9\u91cc\u67e5\u8be2<code>domain.jerion.cn</code>\u57df\u540d\uff0c\u70b9\u51fb\u201c\u67e5\u8be2\u201d\u540e\uff0c\u5728\u7f51\u7edc\u6807\u7b7e\u4e2d\u627e\u5230\u540d\u79f0\u4e3a<code>getCertInformation</code>\u7684\u8bf7\u6c42\uff0c\u5728\u201c\u6807\u5934\u201d\u680f\u53ef\u4ee5\u770b\u5230\u8bf7\u6c42URL\uff1a</p> <p></p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#124-\u5982\u4f55\u67e5\u770b\u6293\u53d6\u5230\u7684token\u503c","title":"1.2.4 \u5982\u4f55\u67e5\u770b\u6293\u53d6\u5230\u7684token\u503c","text":"<p>\u767b\u5f55\u7cfb\u7edf\u540e\uff0c\u5728\u7f51\u7edc\u6807\u7b7e\u4e2d\u627e\u5230\u540d\u79f0\u4e3a<code>login</code>\u7684\u8bf7\u6c42\uff0c\u70b9\u51fb\u201c\u54cd\u5e94\u201d\u680f\uff0c\u53ef\u4ee5\u770b\u5230<code>token</code>\u503c\uff1a</p> <p></p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#125-\u5982\u4f55\u67e5\u770b\u767b\u5f55\u8bf7\u6c42\u7684\u8d1f\u8f7d","title":"1.2.5 \u5982\u4f55\u67e5\u770b\u767b\u5f55\u8bf7\u6c42\u7684\u8d1f\u8f7d","text":"<p>\u767b\u5f55\u7cfb\u7edf\u540e\uff0c\u5728\u7f51\u7edc\u6807\u7b7e\u4e2d\u627e\u5230\u540d\u79f0\u4e3a<code>login</code>\u7684\u8bf7\u6c42\uff0c\u70b9\u51fb\u201c\u8d1f\u8f7d\u201d\u680f\uff0c\u53ef\u4ee5\u770b\u5230json\u683c\u5f0f\u4fe1\u606f\u5305\u542b\u7684\u8d26\u53f7\u5bc6\u7801\uff1a</p> <p></p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#126-\u5982\u4f55\u67e5\u770b\u8bf7\u6c42\u5934\u548c\u51c6\u5907\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684\u8bf7\u6c42\u4f53","title":"1.2.6 \u5982\u4f55\u67e5\u770b\u8bf7\u6c42\u5934\u548c\u51c6\u5907\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684\u8bf7\u6c42\u4f53","text":"<p>\u767b\u5f55\u7cfb\u7edf\u540e\uff0c\u6253\u5f00\u3010\u8bc1\u4e66\u76d1\u63a7\u3011\u2014\u2014\u3010\u8bc1\u4e66\u5217\u8868\u3011\uff0c\u5728\u7f51\u7edc\u6807\u7b7e\u4e2d\u627e\u5230\u540d\u79f0\u4e3a<code>getDomainList</code>\u7684\u8bf7\u6c42\uff0c\u5728\u201c\u6807\u5934\u201d\u680f\uff0c\u5f80\u4e0b\u62c9\u53ef\u4ee5\u770b\u5230\u8bf7\u6c42\u8868\u5934\u4e2d\u5305\u542b\u7684<code>Content-Type</code>\u503c\u548c<code>X-Token</code>\u503c\uff1a</p> <p></p> <p>\u70b9\u51fb\u201c\u8d1f\u8f7d\u201d\u680f\uff0c\u67e5\u770b\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684\u8bf7\u6c42\u8d1f\u8f7d\uff0c\u53ef\u4ee5\u770b\u5230\u5305\u542b\u4e86<code>page</code>\u548c<code>size</code>\u5c5e\u6027\u503c\uff1a</p> <p></p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#127-\u5982\u4f55\u67e5\u770b\u67e5\u8be2\u5e76\u83b7\u53d6\u8bc1\u4e66\u4fe1\u606f\u7684\u8bf7\u6c42\u4f53","title":"1.2.7 \u5982\u4f55\u67e5\u770b\u67e5\u8be2\u5e76\u83b7\u53d6\u8bc1\u4e66\u4fe1\u606f\u7684\u8bf7\u6c42\u4f53","text":"<p>\u767b\u5f55\u7cfb\u7edf\u540e\uff0c\u6253\u5f00\u3010\u5de5\u5177\u7bb1\u3011\u2014\u2014\u3010\u8bc1\u4e66\u4fe1\u606f\u67e5\u8be2\u3011\uff0c\u5047\u8bbe\u8fd9\u91cc\u67e5\u8be2<code>domain.jerion.cn</code>\u57df\u540d\uff0c\u70b9\u51fb\u201c\u67e5\u8be2\u201d\u540e\uff0c\u5728\u7f51\u7edc\u6807\u7b7e\u4e2d\u627e\u5230\u540d\u79f0\u4e3a<code>getCertInformation</code>\u7684\u8bf7\u6c42\uff0c\u70b9\u51fb\u201c\u8d1f\u8f7d\u201d\u680f\uff0c\u67e5\u770b\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684\u8bf7\u6c42\u8d1f\u8f7d\uff0c\u53ef\u4ee5\u770b\u5230\u5305\u542b\u4e86<code>domain</code>\u5c5e\u6027\u503c\uff1a</p> <p></p> <p>\u70b9\u51fb\u201c\u54cd\u5e94\u201d\u680f\uff0c\u53ef\u4ee5\u770b\u5230\u57df\u540d\u7684\u4e00\u4e9b\u8bc1\u4e66\u4fe1\u606f\u7684\u5c5e\u6027\u53ca\u5c5e\u6027\u503c\uff1a</p> <p></p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#2\u8fd0\u884cpython\u811a\u672c\u4e91\u670d\u52a1\u5668","title":"2.\u8fd0\u884cpython\u811a\u672c\uff08\u4e91\u670d\u52a1\u5668\uff09","text":"<p>\u4f7f\u7528<code>python3</code>\u547d\u4ee4\u6267\u884c\u811a\u672c<code>get_domain_info_jerion.py</code>\uff1a</p> Bash<pre><code>#\u67e5\u627epython3\u7684\u8def\u5f84\nwhich python3\n\n#\u6307\u5b9aPython3\u7684\u8def\u5f84\n#!/usr/bin/python3\n\n#\u4f7f\u7528python\u89e3\u91ca\u5668\u6267\u884cpython\u811a\u672c\npython3 get_domain_info.py \n\n#\u5b89\u88c5\u4f9d\u8d56\npip3 install requests\npip3 uninstall urllib3      #\u5982\u679c\u5df2\u5b58\u5728\u5176\u5b83\u7248\u672c\uff0c\u5378\u8f7d\npip3 install urllib3==1.26.16\n</code></pre> <p>\u53ef\u901a\u8fc7\u6267\u884c<code>cat /tmp/certificates_jerion.txt</code>\u547d\u4ee4\uff0c\u67e5\u770b\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> Bash<pre><code>Domain: domain.jerion.cn\nIssuer: {'C': 'CN', 'O': 'TrustAsia Technologies, Inc.', 'CN': 'TrustAsia RSA DV TLS CA G3'}\nStart Date: 2024-05-27 08:00:00\nExpire Date: 2024-08-26 07:59:59\nSubject: {'CN': 'domain.jerion.cn'}\n\n......\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#3\u914d\u7f6epython\u811a\u672csunline","title":"3.\u914d\u7f6epython\u811a\u672c\uff08sunline\uff09","text":"<p>\u8fd9\u91cc\u4ee5\u516c\u53f8sunline\u7684\u8bc1\u4e66\u4e3a\u4f8b\uff0c\u914d\u7f6e\u7684\u811a\u672c\u6587\u4ef6\u5b58\u653e\u5728<code>/usr/local/scripts</code>\u76ee\u5f55\u4e0b\uff0c\u811a\u672c\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>#!/usr/bin/python3\n\n# \u5bfc\u5165\u5fc5\u8981\u7684\u5e93\nimport time\nimport requests\n\n# \u767b\u5f55\u57df\u540d\u548cSSL\u8bc1\u4e66\u76d1\u63a7\u7cfb\u7edf\u7684\u8d26\u53f7\u5bc6\u7801\nadmin_username = \"admin\"\nadmin_password = \"Sunline11\"\n\n# \u7cfb\u7edf\u7684\u767b\u5f55URL\u548c\u57df\u540d\u5217\u8868URL\nlogin_url = 'http://domain.its.sunline.cn/api/login'\ndomain_list_url = 'http://domain.its.sunline.cn/api/getDomainList'\ncert_info_url = 'http://domain.its.sunline.cn/api/getCertInformation'\n\n# \u51c6\u5907\u767b\u5f55\u8bf7\u6c42\u7684\u8d1f\u8f7d\nlogin_payload = {\n    \"username\": admin_username,\n    \"password\": admin_password\n}\n\n# \u53d1\u9001\u767b\u5f55\u8bf7\u6c42\u5e76\u5904\u7406\u54cd\u5e94\nlogin_response = requests.post(login_url, json=login_payload)\nif login_response.status_code == 200:\n    login_data = login_response.json()\n    token = login_data.get('data', {}).get('token')\n    if token:\n        print(\"\u767b\u5f55\u6210\u529f\uff0c\u83b7\u53d6\u5230 Token\")\n\n        # \u8bbe\u7f6e\u8bf7\u6c42\u5934\u548c\u51c6\u5907\u83b7\u53d6\u57df\u540d\u5217\u8868\u7684\u8bf7\u6c42\u4f53\n        headers = {\n            \"Content-Type\": \"application/json\",\n            \"X-TOKEN\": token\n        }\n\n        all_domains = []\n        page = 1\n        size = 10  # \u53ef\u8c03\u6574\u83b7\u53d6\u66f4\u591a\u57df\u540d\n\n        while True:\n            domain_list_payload = {\n                \"page\": page,\n                \"size\": size\n            }\n\n            domain_response = requests.post(domain_list_url, headers=headers, json=domain_list_payload)\n            if domain_response.status_code == 200:\n                domain_data = domain_response.json()\n                domain_list = domain_data.get('data', {}).get('list', [])\n                if not domain_list:\n                    break  # \u6ca1\u6709\u66f4\u591a\u57df\u540d\u65f6\u9000\u51fa\u5faa\u73af\n\n                all_domains.extend(domain_list)\n                page += 1\n            else:\n                print(f\"\u83b7\u53d6\u57df\u540d\u5217\u8868\u5931\u8d25\u3002\u72b6\u6001\u7801: {domain_response.status_code}, \u54cd\u5e94: {domain_response.text}\")\n                break\n\n        if all_domains:\n            file_path = '/tmp/certificates_sunline.txt'\n            with open(file_path, 'w') as file:\n                for domain_info in all_domains:\n                    domain = domain_info.get('domain')\n                    print(f\"\u83b7\u53d6\u57df\u540d: {domain}\")\n                    time.sleep(1)\n\n                    # \u5faa\u73af\u5904\u7406\u6bcf\u4e2a\u57df\u540d\uff0c\u83b7\u53d6\u5176\u8bc1\u4e66\u4fe1\u606f\u5e76\u5199\u5165\u6587\u4ef6\n                    cert_payload = {\n                        \"domain\": domain\n                    }\n                    cert_response = requests.post(cert_info_url, headers=headers, json=cert_payload)\n\n                    if cert_response.status_code == 200:\n                        data = cert_response.json()\n                        print(f\"\u8bc1\u4e66\u54cd\u5e94: {data}\")\n                        time.sleep(1)\n\n                        if data.get('code') == 0:\n                            cert_info = data.get('data', {})\n                            parsed_cert = cert_info.get('parsed_cert', {})\n                            domain_name = cert_info.get('resolve_domain')\n                            issuer = parsed_cert.get('issuer', {})\n                            start_date = parsed_cert.get('notBefore')\n                            expire_date = parsed_cert.get('notAfter')\n                            subject = parsed_cert.get('subject', {})\n\n                            try:\n                                file.write(f\"Domain: {domain_name}\\n\")\n                                file.write(f\"Issuer: {issuer}\\n\")\n                                file.write(f\"Start Date: {start_date}\\n\")\n                                file.write(f\"Expire Date: {expire_date}\\n\")\n                                file.write(f\"Subject: {subject}\\n\")\n                                file.write(\"\\n\")\n                                print(f\"\u5199\u5165\u6587\u4ef6: Domain: {domain_name}, Issuer: {issuer}, Start Date: {start_date}, Expire Date: {expire_date}, Subject: {subject}\")\n                            except Exception as e:\n                                print(f\"\u5199\u5165\u6587\u4ef6\u5931\u8d25: {e}\")\n                        else:\n                            print(f\"\u83b7\u53d6 {domain} \u7684\u8bc1\u4e66\u4fe1\u606f\u5931\u8d25\u3002\u8fd4\u56de\u6d88\u606f: {data.get('msg')}\")\n                    else:\n                        print(f\"\u83b7\u53d6 {domain} \u7684\u8bc1\u4e66\u4fe1\u606f\u5931\u8d25\u3002\u72b6\u6001\u7801: {cert_response.status_code}, \u54cd\u5e94: {cert_response.text}\")\n                    print()\n                    time.sleep(2)\n        else:\n            print(\"\u672a\u627e\u5230\u4efb\u4f55\u57df\u540d\u3002\")\n    else:\n        print(\"\u767b\u5f55\u5931\u8d25\uff0c\u672a\u80fd\u83b7\u53d6\u5230 Token\")\nelse:\n    print(f\"\u767b\u5f55\u5931\u8d25\u3002\u72b6\u6001\u7801: {login_response.status_code}, \u54cd\u5e94: {login_response.text}\")\n\nprint(\"\u83b7\u53d6\u8bc1\u4e66\u4fe1\u606f\u6267\u884c\u7ed3\u675f\uff01\")\n</code></pre> <p>\u811a\u672c\u8bf4\u660e\uff1a</p> <p>\u200b       \u8fd9\u91cc\u662f\u4e0e\u524d\u9762\u7684\u811a\u672c\u552f\u4e00\u4e0d\u540c\u7684\u5730\u65b9\uff0c\u56e0\u4e3a\u811a\u672c\u91cc\u914d\u7f6e\u7684<code>size</code>\u5c5e\u6027\u503c\u4e3a<code>10</code>\uff0c\u5373\u6bcf\u4e00\u9875\u6700\u591a\u663e\u793a10\u4e2a\u57df\u540d\u4fe1\u606f\uff0c\u800c\u516c\u53f8\u5185\u7684\u57df\u540d\u6bd4\u8f83\u591a\uff0c\u4f1a\u4e0d\u6b62\u4e00\u9875\uff0c\u56e0\u6b64\u901a\u8fc7\u5728<code>while Ture</code>\u5faa\u73af\u8bed\u53e5\u6765\u589e\u52a0\u9875\u6570<code>page</code>\uff0c\u76f4\u5230\u6700\u540e\u4e00\u4e2a\u57df\u540d\u6253\u7834\u8df3\u51fa\u5faa\u574f\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#4\u8fd0\u884cpython\u811a\u672csunline","title":"4.\u8fd0\u884cpython\u811a\u672c\uff08sunline\uff09","text":"<p>\u4f7f\u7528<code>python3</code>\u547d\u4ee4\u6267\u884c\u811a\u672c<code>get_domain_info_sunline.py</code>\uff1a</p> Bash<pre><code>python3 get_domain_sunline.py \n</code></pre> <p>\u53ef\u901a\u8fc7\u6267\u884c<code>cat /tmp/certificates_sunline.txt</code>\u547d\u4ee4\uff0c\u67e5\u770b\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> Bash<pre><code>Domain: harbor.sh.sunline.cn\nIssuer: {'C': 'CN', 'O': 'TrustAsia Technologies, Inc.', 'CN': 'TrustAsia RSA DV TLS CA G2'}\nStart Date: 2023-07-21 08:00:00\nExpire Date: 2024-07-21 07:59:59\nSubject: {'CN': 'harbor.sh.sunline.cn'}\n\n......\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#\u516b\u83b7\u53d6nginx\u914d\u7f6e","title":"\u516b\u3001\u83b7\u53d6nginx\u914d\u7f6e","text":"<p>\u524d\u9762ansible\u83b7\u53d6nginx\u4fe1\u606f\uff0c\u662f\u624b\u52a8\u4e00\u4e2a\u4e2a\u6267\u884cansible\u547d\u4ee4\uff0c\u4ee5\u4e0b\u662f\u901a\u8fc7\u811a\u672c\uff0c\u5b9a\u4e49\u597dserver\u6587\u4ef6\uff0c\u81ea\u52a8\u6267\u884c\uff0c\u6267\u884c\u5b8c\u6210\u4f1a\u7b5b\u51fanginx\u7684IP\u3001\u5b89\u88c5\u8def\u5f84\u3001\u8bc1\u4e66\u3001\u5bc6\u94a5\u7b49\u7b49\u4fe1\u606f\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#1\u5bfc\u51fa\u57df\u540d\u4fe1\u606f","title":"1.\u5bfc\u51fa\u57df\u540d\u4fe1\u606f","text":"<p>\u767b\u5f55Domain Admin-\u57df\u540d\u548cSSL\u8bc1\u4e66\u76d1\u63a7\u7cfb\u7edf\uff0c\u6253\u5f00\u3010\u8bc1\u4e66\u5217\u8868\u3011\uff0c\u5bfc\u51fa\u57df\u540d\u4fe1\u606f\uff0c\u547d\u540d\u4e3a<code>domain_info.txt</code>\uff0c\u5e76\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u4e0a\u7684<code>/usr/local/scripts/domain/</code>\u76ee\u5f55\u4e0b\uff1a</p> Bash<pre><code>mkdir /usr/local/scripts/domain\ncd /usr/local/scripts/domain\nrz\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#2\u914d\u7f6e\u5c06\u57df\u540d\u89e3\u6790\u4e3aip\u7684\u811a\u672c","title":"2.\u914d\u7f6e\u5c06\u57df\u540d\u89e3\u6790\u4e3aIP\u7684\u811a\u672c","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#21-\u4ec5\u8f93\u51fa\u4e3aip\u4fe1\u606f\u4e14\u4e0d\u91cd\u590d","title":"2.1 \u4ec5\u8f93\u51fa\u4e3aIP\u4fe1\u606f\u4e14\u4e0d\u91cd\u590d","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#211-\u914d\u7f6eshell\u811a\u672c","title":"2.1.1 \u914d\u7f6eshell\u811a\u672c","text":"<p>\u901a\u8fc7<code>ping</code>\u547d\u4ee4\u8bfb\u53d6\u4e00\u4e2a\u5305\u542b\u57df\u540d\u7684\u8f93\u5165\u6587\u4ef6<code>domain_info.txt</code>\uff0c\u5c06\u6bcf\u4e2a\u57df\u540d\u89e3\u6790\u51fa\u5bf9\u5e94\u7684\u670d\u52a1\u5668IP\u5730\u5740\uff0c\u5e76\u5b58\u5165\u5230<code>/usr/local/scripts/domain</code>\u76ee\u5f55\u4e0b\u7684<code>server_ip</code>\u8f93\u51fa\u6587\u4ef6\u5185\u3002</p> <p>\u8fd9\u91cc\u521b\u5efa\u4e86\u4e00\u4e2ashell\u811a\u672c<code>ping_domain.sh</code>\uff0c\u7528\u4e8e\u6279\u91cf<code>ping</code>\u57df\u540d\u89e3\u6790\u5230\u7684IP\u5e76\u5b58\u5230\u6587\u4ef6\u5185\uff0c\u5177\u4f53\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>#!/bin/bash\n\n# \u57df\u540d\u4fe1\u606f\u8def\u5f84\nDOMAIN_FILE=\"/usr/local/scripts/domain/domain_info.txt\"\n\n# \u5b58\u5165IP\u5730\u5740\u7684\u6587\u4ef6\nOUTPUT_FILE=\"/usr/local/scripts/domain/server_ip\"\n\n# \u90ae\u7bb1\u57df\u540d\u89e3\u6790\u7684IP\nSKIP_IP=\"14.17.27.155\"\n\n&gt; $OUTPUT_FILE\n\n# \u521b\u5efa\u4e34\u65f6\u6587\u4ef6\nTEMP_FILE=$(mktemp)\n\nwhile read -r domain; do\n  ip=$(ping -c 1 $domain | grep 'PING' | awk -F'[()]' '{print $2}')\n\n  if [ -n \"$ip\" ] &amp;&amp; [ \"$ip\" != \"$SKIP_IP\" ] &amp;&amp; ! grep -q \"$ip\" \"$TEMP_FILE\"; then\n    echo \"$ip\" &gt;&gt; $OUTPUT_FILE\n    echo \"$ip\" &gt;&gt; $TEMP_FILE\n  fi\ndone &lt; $DOMAIN_FILE\n\nrm $TEMP_FILE\n\necho \"Ping\u64cd\u4f5c\u5b8c\u6210\uff0c\u7ed3\u679c\u5df2\u4fdd\u5b58\u5230$OUTPUT_FILE\u3002\"\n</code></pre> <p>\u811a\u672c\u8bf4\u660e\uff1a</p> <ul> <li> <p><code>&gt; $OUTPUT_FILE</code>\uff1a\u6e05\u7a7a <code>OUTPUT_FILE</code> \u6587\u4ef6\u7684\u5185\u5bb9\u3002\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u521b\u5efa\u4e00\u4e2a\u7a7a\u6587\u4ef6\u3002</p> </li> <li> <p><code>TEMP_FILE=$(mktemp)</code>\uff1a\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u6587\u4ef6\uff0c\u5e76\u5c06\u4e34\u65f6\u6587\u4ef6\u7684\u8def\u5f84\u4fdd\u5b58\u5230\u53d8\u91cf <code>TEMP_FILE</code> \u4e2d\u3002\u8fd9\u91cc\u7684\u4f5c\u7528\u662f\u4e3a\u4e86\u8ddf\u8e2a\u5df2\u7ecf\u5904\u7406\u8fc7\u7684IP\u5730\u5740\uff0c\u786e\u4fdd\u6bcf\u4e2aIP\u5730\u5740\u53ea\u5904\u7406\u4e00\u6b21\uff0c\u5e76\u907f\u514d\u91cd\u590d\u8bb0\u5f55\u3002</p> </li> <li> <p><code>while read -r domain; do ... done &lt; $DOMAIN_FILE</code>\uff1a\u8bfb\u53d6 <code>DOMAIN_FILE</code> \u6587\u4ef6\u4e2d\u7684\u6bcf\u4e00\u884c\uff08\u5373\u6bcf\u4e2a\u57df\u540d\uff09\uff0c\u5bf9\u6bcf\u4e2a\u57df\u540d\u6267\u884c\u5faa\u73af\u4f53\u5185\u7684\u547d\u4ee4\u3002</p> </li> <li> <p><code>ip=$(......)</code>\uff1a\u83b7\u53d6IP\u5730\u5740\u3002</p> </li> <li> <p><code>ping -c 1 $domain</code>\uff1a\u5bf9\u5f53\u524d\u8bfb\u53d6\u7684\u57df\u540d\u6267\u884c <code>ping</code> \u547d\u4ee4\uff0c\u53ea\u53d1\u9001\u4e00\u4e2a\u5305\uff08<code>-c 1</code>\uff09\u3002</p> </li> <li><code>grep 'PING'</code>\uff1a\u4ece <code>ping</code> \u547d\u4ee4\u7684\u8f93\u51fa\u4e2d\u7b5b\u9009\u5305\u542b<code>PING</code>\u6587\u672c\u5185\u5bb9\u7684\u884c\u3002</li> <li><code>awk -F'[()]' '{print $2}'</code>\uff1a\u5c06 <code>grep</code> \u547d\u4ee4\u7b5b\u9009\u51fa\u7684\u884c\u4f5c\u4e3a\u8f93\u5165\uff0c\u5e76\u4f7f\u7528 <code>awk</code> \u6765\u5904\u7406\uff0c\u6700\u7ec8\u6253\u5370\u51fa\u7b2c\u4e8c\u4e2a\u5b57\u6bb5\u3002<ul> <li><code>-F</code> \uff1a\u7528\u4e8e\u6307\u5b9a\u5b57\u6bb5\u5206\u9694\u7b26\uff1b</li> <li><code>[()]</code>\uff1a\u662f\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u5b57\u7b26\u7c7b\uff0c\u5339\u914d\u4e2d\u62ec\u53f7\u5185\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\uff0c\u8fd9\u91cc\u8868\u793a\u5339\u914d\u62ec\u53f7 <code>(</code> \u6216 <code>)</code> \u4f5c\u4e3a\u5206\u9694\u7b26\uff1b</li> <li><code>{print $2}</code>\uff1a\u8868\u793a\u6253\u5370\u5206\u9694\u540e\u7684\u7b2c\u4e8c\u4e2a\u5b57\u6bb5\u3002</li> </ul> </li> </ul> Bash<pre><code>[root@jerion domain]# ping -c 1 iboss.sunline.cn\nPING iboss.sunline.cn (172.18.0.160) 56(84) bytes of data.\n64 bytes from wecom.iboss.sunline.cn (172.18.0.160): icmp_seq=1 ttl=63 time=0.174 ms\n\n--- iboss.sunline.cn ping statistics ---\n1 packets transmitted, 1 received, 0% packet loss, time 0ms\nrtt min/avg/max/mdev = 0.174/0.174/0.174/0.000 ms\n[root@jerion domain]# ping -c 1 iboss.sunline.cn | grep 'PING'\nPING iboss.sunline.cn (172.18.0.161) 56(84) bytes of data.\n[root@jerion domain]# ping -c 1 iboss.sunline.cn | grep 'PING' | awk -F'[()]' '{print $2}' \n172.18.0.161\n</code></pre> <ul> <li> <p><code>-n \"$ip\"</code>\uff1a\u68c0\u67e5\u53d8\u91cf <code>ip</code> \u662f\u5426\u975e\u7a7a\uff0c\u5982\u679c <code>ip</code> \u662f\u4e00\u4e2a\u975e\u7a7a\u5b57\u7b26\u4e32\uff0c\u8fd9\u4e2a\u6761\u4ef6\u4e3a\u771f\u3002</p> </li> <li> <p><code>grep -q \"$ip\" \"$TEMP_FILE\"</code>\uff1a\u7528\u4e8e\u68c0\u67e5 <code>TEMP_FILE</code> \u6587\u4ef6\u4e2d\u662f\u5426\u5305\u542b\u6307\u5b9a\u7684IP\u5730\u5740\uff08\u5373\u53d8\u91cf <code>ip</code> \u7684\u5185\u5bb9\uff09\u3002</p> </li> <li> <p><code>grep</code> \u662f\u4e00\u4e2a\u641c\u7d22\u5de5\u5177\uff0c\u7528\u4e8e\u5728\u6587\u4ef6\u6216\u6807\u51c6\u8f93\u5165\u4e2d\u641c\u7d22\u6587\u672c\u3002</p> </li> <li><code>-q</code> \u9009\u9879\u544a\u8bc9 <code>grep</code> \u4ee5\u5b89\u9759\u6a21\u5f0f\uff08quiet mode\uff09\u8fd0\u884c\uff0c\u5373\u4e0d\u8f93\u51fa\u4efb\u4f55\u5185\u5bb9\uff0c\u53ea\u8fd4\u56de\u4e00\u4e2a\u9000\u51fa\u72b6\u6001\u7801\u3002<ul> <li>\u5982\u679c\u627e\u5230\u5339\u914d\u7684\u884c\uff0c<code>grep</code> \u8fd4\u56de\u9000\u51fa\u72b6\u6001\u7801 0\uff1b</li> <li>\u5982\u679c\u672a\u627e\u5230\u5339\u914d\u7684\u884c\uff0c<code>grep</code> \u8fd4\u56de\u9000\u51fa\u72b6\u6001\u7801 1\u3002</li> </ul> </li> <li><code>\"$ip\"</code> \uff1a\u8981\u641c\u7d22\u7684\u6a21\u5f0f\uff0c\u5373IP\u5730\u5740\u3002</li> <li><code>\"$TEMP_FILE\"</code> \uff1a\u8981\u641c\u7d22\u7684\u6587\u4ef6\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#212-\u8fd0\u884cshell\u811a\u672c","title":"2.1.2 \u8fd0\u884cshell\u811a\u672c","text":"<p>\u901a\u8fc7<code>sh</code>\u547d\u4ee4\u6267\u884c\u811a\u672c<code>ping_domain.sh</code>\uff0c\u8be5\u811a\u672c\u5b58\u653e\u4e8e<code>/usr/local/scripts/domain</code>\u76ee\u5f55\u4e0b\uff1a</p> Bash<pre><code>cd /usr/local/scripts/domain\nsh ping_domain.sh\n</code></pre> <p>\u6267\u884c\u540e\u7684<code>server_ip</code>\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>[root@jerion domain]# cat server_ip\n10.10.200.19\n172.18.0.160\n172.18.0.79\n172.18.0.100\n10.22.50.249\n10.22.50.221\n10.22.50.220\n172.18.0.78\n10.22.21.99\n10.22.50.135\n172.18.0.161\n10.22.50.129\n172.18.0.82\n172.18.0.50\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#22-\u8f93\u51fa\u4e3a\u57df\u540dip\u4fe1\u606f","title":"2.2 \u8f93\u51fa\u4e3a\u57df\u540d+IP\u4fe1\u606f","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#221-\u914d\u7f6eshell\u811a\u672c","title":"2.2.1 \u914d\u7f6eshell\u811a\u672c","text":"<p>\u68c0\u67e5\u5e76\u5b89\u88c5<code>dig</code>\u547d\u4ee4\uff08\u5982\u679c\u672a\u5b89\u88c5\uff09\uff0c\u7136\u540e\u8bfb\u53d6\u4e00\u4e2a\u5305\u542b\u57df\u540d\u7684\u8f93\u5165\u6587\u4ef6<code>domain_info.txt</code>\uff0c\u5bf9\u6bcf\u4e2a\u57df\u540d\u8fdb\u884cDNS\u89e3\u6790\uff0c\u5e76\u5c06\u89e3\u6790\u7ed3\u679c\u4fdd\u5b58\u5230<code>/usr/local/scripts/domain</code>\u76ee\u5f55\u4e0b\u7684<code>server_domain_ip</code>\u8f93\u51fa\u6587\u4ef6\u5185\u3002</p> <p>\u8fd9\u91cc\u521b\u5efa\u4e86\u4e00\u4e2ashell\u811a\u672c<code>get_domain_ip.sh</code>\uff0c\u786e\u4fddshell\u811a\u672c\u548c\u8f93\u5165\u8f93\u51fa\u6587\u4ef6\u653e\u5728\u540c\u4e00\u4e2a\u76ee\u5f55\uff0c\u7528\u4e8e\u6279\u91cf<code>dig</code>\u57df\u540d\u89e3\u6790\u5230\u7684IP\u5e76\u5c06\u57df\u540d\u548cIP\u5b58\u5230\u6587\u4ef6\u5185\uff0c\u5177\u4f53\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>#!/bin/bash\n\nif ! which dig &amp;&gt; /dev/null; then\n\n  echo \"dig \u547d\u4ee4\u672a\u5b89\u88c5\uff0c\u6b63\u5728\u5b89\u88c5.....\"\n  yum install -y bind-utils\n\n  if which dig &amp;&gt; /dev/null; then\n    echo \"dig \u547d\u4ee4\u5df2\u5b89\u88c5.\"\n  else\n    echo \"dig\u5b89\u88c5\u5931\u8d25\uff0c\u8bf7\u67e5\u770byum\u914d\u7f6e\u6216\u8005\u7f51\u7edc.\"\n  fi\nelse\n  echo \"dig\u547d\u4ee4\u5df2\u5b89\u88c5\"\n\nfi\n\n\ninput_file=\"domain_info.txt\"\noutput_file=\"server_domain_ip\"\n\nskip_domains=(\"mail.sunline-i.com\" \"mail.sunline.cn\")\n\nif [ ! -f \"$input_file\" ]; then\n    echo \"\u8f93\u5165\u6587\u4ef6 $input_file \u4e0d\u5b58\u5728\uff0c\u8bf7\u68c0\u67e5\u540e\u518d\u8fd0\u884c\u811a\u672c\u3002\"\n    exit 1\nfi\n\nif [ ! -f \"$output_file\" ]; then\n    touch $output_file\n    echo \"\u8f93\u51fa\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u5df2\u521b\u5efa $output_file \u6587\u4ef6\u3002\"\nelse\n    echo \"\u8f93\u51fa\u6587\u4ef6\u5df2\u5b58\u5728\uff0c\u7a0b\u5e8f\u5f00\u59cb\u5199\u5165\u6570\u636e\u3002\"\nfi\n\n&gt; $output_file\n\nwhile IFS= read -r line\ndo\n    # \u53bb\u9664\u884c\u9996\u884c\u5c3e\u7684\u7a7a\u767d\u5b57\u7b26\n    domain=$(echo \"$line\" | tr -d '[:space:]')\n\n    # \u68c0\u67e5\u5f53\u524d\u57df\u540d\u662f\u5426\u5728\u8df3\u8fc7\u5217\u8868\u4e2d\n    skip=false\n    for skip_domain in \"${skip_domains[@]}\"; do\n        if [[ \"$domain\" == \"$skip_domain\" ]]; then\n            skip=true\n            echo \"\u8df3\u8fc7\u57df\u540d\uff1a$domain\"\n            break\n        fi\n    done\n\n    if [ \"$skip\" = true ]; then\n        continue\n    fi\n\n    # \u4f7f\u7528dig\u547d\u4ee4\u89e3\u6790\u57df\u540d\uff0c\u63d0\u53d6IP\u5730\u5740\n    # ip=$(dig +short $domain | head -n 1)\n\n    # \u4f7f\u7528nslookup\u547d\u4ee4\u89e3\u6790\u57df\u540d\uff0c\u63d0\u53d6IP\u5730\u5740\n    ip=$(nslookup $domain | grep \"Address\" | awk -F': ' 'NR==2 {print $2}')\n    echo \"$domain:$ip\" &gt;&gt; $output_file\ndone &lt; \"$input_file\"\n\necho \"\u57df\u540d\u89e3\u6790\u5b8c\u6210\uff0c\u7ed3\u679c\u5df2\u4fdd\u5b58\u81f3$output_file\u3002\"\n</code></pre> <p>\u811a\u672c\u8bf4\u660e\uff1a</p> <ul> <li><code>if ! which dig &amp;&gt; /dev/null; then</code>\uff1a\u68c0\u67e5<code>dig</code>\u547d\u4ee4\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u6267\u884c\u6761\u4ef6\u5757\u5185\u7684\u4ee3\u7801\u3002</li> <li><code>skip_domains=( )</code>\uff1a\u5b9a\u4e49\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b\u9700\u8981\u8df3\u8fc7\u89e3\u6790\u7684\u57df\u540d\uff0c\u6570\u7ec4\u5185\u7684\u57df\u540d\u4ee5\u7a7a\u683c\u5206\u5f00\u3002</li> <li><code>while IFS= read -r line; do ... done &lt; \"$input_file\"</code>\uff1a\u5f00\u59cb\u8bfb\u53d6\u8f93\u5165\u6587\u4ef6\u7684\u6bcf\u4e00\u884c\uff0c\u5e76\u5c06\u6bcf\u4e00\u884c\u7684\u5185\u5bb9\u5b58\u50a8\u5728\u53d8\u91cf<code>line</code>\u4e2d\u3002</li> <li><code>IFS=</code>\uff1a\u5728 <code>while</code> \u5faa\u73af\u7684\u524d\u9762\uff0c\u6211\u4eec\u8bbe\u7f6e <code>IFS</code> \u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002\u8fd9\u610f\u5473\u7740 <code>read</code> \u547d\u4ee4\u4e0d\u4f1a\u5c06\u8bfb\u53d6\u7684\u884c\u62c6\u5206\u6210\u591a\u4e2a\u5b57\u6bb5\uff0c\u800c\u662f\u5c06\u6574\u884c\u5185\u5bb9\u8bfb\u5165\u53d8\u91cf <code>line</code> \u4e2d\u3002</li> <li><code>read -r line</code>\uff1a<code>read</code> \u547d\u4ee4\u8bfb\u53d6\u6587\u4ef6\u7684\u6bcf\u4e00\u884c\uff0c\u5e76\u5c06\u5176\u5b58\u50a8\u5728\u53d8\u91cf <code>line</code> \u4e2d\u3002<code>-r</code> \u9009\u9879\u544a\u8bc9 <code>read</code> \u547d\u4ee4\u4e0d\u8981\u5bf9\u53cd\u659c\u6760\u8fdb\u884c\u8f6c\u4e49\u5904\u7406\u3002</li> <li><code>done &lt; \"$input_file\"</code>\uff1a\u901a\u8fc7\u91cd\u5b9a\u5411\u7b26\u53f7 <code>&lt;</code>\uff0c\u6211\u4eec\u5c06 <code>example.txt</code> \u6587\u4ef6\u7684\u5185\u5bb9\u4f5c\u4e3a\u8f93\u5165\u63d0\u4f9b\u7ed9 <code>while</code> \u5faa\u73af\u3002</li> <li><code>domain=$(echo \"$line\" | tr -d '[:space:]')</code>\uff1a\u53bb\u9664\u53d8\u91cf <code>line</code> \u4e2d\u7684\u6240\u6709\u7a7a\u767d\u5b57\u7b26\uff08\u5305\u62ec\u7a7a\u683c\u3001\u5236\u8868\u7b26\u548c\u6362\u884c\u7b26\uff09\uff0c\u5e76\u5c06\u5904\u7406\u540e\u7684\u7ed3\u679c\u5b58\u50a8\u5728\u53d8\u91cf <code>domain</code> \u4e2d\u3002</li> <li><code>echo \"$line\"</code>\uff1a\u5c06\u53d8\u91cf <code>line</code> \u7684\u5185\u5bb9\u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa\u3002</li> <li><code>|</code>\uff1a\u7ba1\u9053\u7b26\uff0c\u5c06 <code>echo</code> \u547d\u4ee4\u7684\u8f93\u51fa\u4f5c\u4e3a <code>tr</code> \u547d\u4ee4\u7684\u8f93\u5165\u3002</li> <li><code>tr -d '[:space:]'</code>\uff1a<code>tr</code> \u547d\u4ee4\u5220\u9664\u6240\u6709\u7684\u7a7a\u767d\u5b57\u7b26\u3002<code>tr</code> \u662f\u4e00\u4e2a\u7528\u4e8e\u8fdb\u884c\u5b57\u7b26\u8f6c\u6362\u6216\u5220\u9664\u7684\u547d\u4ee4\uff0c<code>-d</code> \u9009\u9879\u8868\u793a\u5220\u9664\u6307\u5b9a\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u91cc\u4f7f\u7528\u4e86 POSIX \u5b57\u7b26\u7c7b <code>[:space:]</code>\uff0c\u4ee3\u8868\u6240\u6709\u7684\u7a7a\u767d\u5b57\u7b26\u3002</li> <li><code>domain=$(...)</code>\uff1a\u5c06\u7ba1\u9053\u547d\u4ee4\u7684\u8f93\u51fa\u7ed3\u679c\u8d4b\u503c\u7ed9\u53d8\u91cf <code>domain</code>\u3002</li> <li><code>${skip_domains[@]}</code>\uff1a\u8868\u793a\u5f15\u7528\u6574\u4e2a\u6570\u7ec4\uff0c<code>@</code>\u7b26\u53f7\u786e\u4fdd\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u88ab\u5355\u72ec\u5904\u7406\uff0c\u800c\u4e0d\u662f\u4f5c\u4e3a\u4e00\u4e2a\u5355\u4e00\u7684\u5b57\u7b26\u4e32\u3002</li> <li><code>dig +short $domain | head -n 1</code>\uff1a\u4f7f\u7528<code>dig</code>\u547d\u4ee4\u89e3\u6790\u57df\u540d\uff0c\u5e76\u63d0\u53d6\u7b2c\u4e00\u4e2aIP\u5730\u5740\u3002</li> <li><code>nslookup $domain | grep \"Address\" | awk -F': ' 'NR==2 {print $1}'</code>\uff1a\u4f7f\u7528<code>nslookup</code>\u547d\u4ee4\u89e3\u6790\u57df\u540d\uff0c\u5e76\u67e5\u627e\u5305\u542b<code>Address</code>\u6587\u672c\u5185\u5bb9\u7684\u884c\uff0c\u7136\u540e\u901a\u8fc7<code>awk</code>\u547d\u4ee4\u53ea\u5904\u7406\u7b2c\u4e8c\u884c\u5185\u5bb9\uff0c\u4f7f\u7528\u5206\u9694\u7b26<code>': '</code>\uff08\u5192\u53f7\u540e\u9762\u8fd8\u6709\u4e2a\u7a7a\u683c\uff09\u6765\u5c06\u7b2c\u4e8c\u6b65\u7ed3\u679c\u8fdb\u884c\u5206\u5272\uff0c\u6700\u7ec8\u63d0\u53d6\u5230IP\u5730\u5740\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#222-\u8fd0\u884cshell\u811a\u672c","title":"2.2.2 \u8fd0\u884cshell\u811a\u672c","text":"<p>\u901a\u8fc7<code>sh</code>\u547d\u4ee4\u6267\u884c\u811a\u672c<code>get_domain_ip.sh</code>\uff0c\u8be5\u811a\u672c\u5b58\u653e\u4e8e<code>/usr/local/scripts/domain</code>\u76ee\u5f55\u4e0b\uff1a</p> Bash<pre><code>cd /usr/local/scripts/domain\nsh get_domain_ip.sh\n</code></pre> <p>\u6267\u884c\u540e\u7684<code>server_domain_ip</code>\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>[root@jerion domain]# cat server_domain_ip\nharbor.sh.sunline.cn:10.10.200.19\niboss.sunline.cn:172.18.0.161\nwecom.iboss.sunline.cn:172.18.0.161\nyhtprdnew.clhd.sunline.cn:172.18.0.79\npassword.its.sunline.cn:172.18.0.100\njump.its.sunline.cn:10.22.50.249\ndemo.its.sunline.cn:172.18.0.100\nproxy.its.sunline.cn:172.18.0.100\nonlyoffice.cloud.sunline.cn:10.22.50.221\nnx.cloud.sunline.cn:10.22.50.220\nyhtprd.clhd.sunline.cn:172.18.0.78\nyhtsit.clhd.sunline.cn:10.22.21.99\ntest.erp.sunline.cn:10.22.50.135\nhr.iboss.sunline.cn:172.18.0.160\ntest.boss.sunline.cn:10.22.50.129\ners.sunline.cn:172.18.0.82\nboss.sunline.cn:172.18.0.8\nsunline-i.com:172.18.0.50\nsunline.cn:172.18.0.50\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#3\u83b7\u53d6nginx\u914d\u7f6e","title":"3.\u83b7\u53d6nginx\u914d\u7f6e","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#31-\u914d\u7f6e\u4e3b\u673a\u6e05\u5355\u6587\u4ef6","title":"3.1 \u914d\u7f6e\u4e3b\u673a\u6e05\u5355\u6587\u4ef6","text":"<p>\u5c06\u524d\u9762\u83b7\u53d6\u5230\u7684<code>server_ip</code>\u6587\u4ef6\u5185\u7684\u6240\u6709<code>ip</code>\u590d\u5236\u5230<code>/data/ansible/hosts</code>\u4e3b\u673a\u6e05\u5355\u6587\u4ef6\u4e2d\uff0c\u547d\u540d\u4e3a<code>domain_ip</code>\u7ec4\uff1a</p> Bash<pre><code>[root@jerion ansible]# vim hosts\n[domain_ip]\n10.10.200.19\n172.18.0.160\n172.18.0.79\n172.18.0.100\n10.22.50.249\n10.22.50.221\n10.22.50.220\n172.18.0.78\n10.22.21.99\n10.22.50.135\n172.18.0.161\n10.22.50.129\n172.18.0.82\n172.18.0.50\n</code></pre> <p>\u7531\u4e8e\u6211\u662f\u5728\u6d4b\u8bd5\u673a<code>10.22.51.63</code>\u4e0a\u6267\u884cansible\u547d\u4ee4\u7684\uff0c\u53d1\u73b0\u6709\u4e00\u4e9b\u670d\u52a1\u5668IP\u672c\u8eab\u505a\u4e86<code>iptables</code>\u89c4\u5219\uff0c\u8fd0\u884c\u811a\u672c\u524d\u901a\u8fc7<code>ansible domain_ip -m shell -a 'ls -l'</code>\u547d\u4ee4\u53d1\u73b0\u6709\u4ee5\u4e0b\u670d\u52a1\u5668IP\u65e0\u6cd5\u8fdc\u7a0b\uff1a</p> Bash<pre><code>172.18.0.160\n172.18.0.161\n10.22.50.220\n10.10.200.19\n172.18.0.82\n10.22.50.129\n</code></pre> <p>\u53ef\u4ee5\u5728\u670d\u52a1\u5668<code>10.22.50.249</code>\u4e0a\u8fdc\u7a0b\u4e0a\u9762\u8fd9\u4e9b\u670d\u52a1\u5668\uff0c\u5728<code>iptables</code>\u914d\u7f6e\u6587\u4ef6\u5185\u6dfb\u52a0\u5982\u4e0b\u89c4\u5219\u4e34\u65f6\u589e\u52a0\u6743\u9650\uff0c\u4fdd\u5b58\u540e\u91cd\u542fiptables\u670d\u52a1\uff1a</p> Bash<pre><code>[root@nextcloud-ctrix ~]# vim /etc/sysconfig/iptables\n-A INPUT -s 10.22.51.63/32 -j ACCEPT\n</code></pre> <p>\u5176\u4e2d\uff0c<code>10.10.200.19</code>\u548c<code>10.22.50.129</code>\u4e0d\u77e5\u9053root\u5bc6\u7801\uff0c\u6240\u4ee5\u6ca1\u529e\u6cd5\u901a\u8fc7<code>ansible</code>\u547d\u4ee4\u53bb\u8fdc\u7a0b\u6267\u884c\uff0c\u56e0\u6b64\u53ef\u4ee5\u5728<code>/data/ansible/hosts</code>\u4e3b\u673a\u6e05\u5355\u6587\u4ef6\u548c<code>/usr/local/scripts/domain/server_ip</code>\u6587\u4ef6\u5185\u5220\u6389\u3002</p> Bash<pre><code>[root@jerion ~]# vim /data/ansible/hosts\n[domain_ip]\n172.18.0.160\n172.18.0.79\n172.18.0.100\n10.22.50.249\n10.22.50.221\n10.22.50.220\n172.18.0.78\n10.22.21.99\n10.22.50.135\n172.18.0.161\n172.18.0.82\n172.18.0.50\n[root@jerion ~]# vim /usr/local/scripts/domain/server_ip\n172.18.0.160\n172.18.0.79\n172.18.0.100\n10.22.50.249\n10.22.50.221\n10.22.50.220\n172.18.0.78\n10.22.21.99\n10.22.50.135\n172.18.0.161\n172.18.0.82\n172.18.0.50\n</code></pre> <p>\u6dfb\u52a0\u5b8c\u89c4\u5219\u540e\uff0c\u91cd\u65b0\u6267\u884c<code>ansible</code>\u547d\u4ee4\u8fdb\u884c\u6d4b\u8bd5\uff1a</p> Bash<pre><code>ansible domain_ip -m shell -a 'ls -l'\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#32-\u914d\u7f6e\u83b7\u53d6nginx\u914d\u7f6e\u548c\u8bc1\u4e66\u4fe1\u606f\u7684\u811a\u672c","title":"3.2 \u914d\u7f6e\u83b7\u53d6nginx\u914d\u7f6e\u548c\u8bc1\u4e66\u4fe1\u606f\u7684\u811a\u672c","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#321-\u914d\u7f6eshell\u811a\u672c","title":"3.2.1 \u914d\u7f6eshell\u811a\u672c","text":"<p>\u8be5Shell\u811a\u672c\u6587\u4ef6\u7684\u76ee\u7684\u662f\u53bb\u5faa\u73af\u8bfb\u53d6\u4e00\u4e2a\u5305\u542b\u57df\u540dip\u7684\u8f93\u5165\u6587\u4ef6<code>server_ip</code>\uff0c\u7136\u540e\u901a\u8fc7 Ansible \u5bf9\u6307\u5b9a\u670d\u52a1\u5668\u6267\u884c\u4e00\u7cfb\u5217\u64cd\u4f5c\uff0c\u4ee5\u83b7\u53d6\u548c\u5904\u7406 Nginx \u914d\u7f6e\u548c\u8bc1\u4e66\u4fe1\u606f\uff0c\u5e76\u5b58\u5165\u5230<code>/usr/local/scripts/nginx_configuration</code>\u76ee\u5f55\u4e0b\u7684\u8f93\u51fa\u6587\u4ef6\u5185\u3002</p> <p>\u8fd9\u91cc\u521b\u5efa\u4e86\u4e00\u4e2ashell\u811a\u672c<code>extract_nginx_configuration.sh</code>\uff0c\u5177\u4f53\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>#!/bin/bash\n\n#/usr/local/scripts/domain/server_ip \u5b9a\u4e49\u4e00\u4e2a\u670d\u52a1\u5668IP\u5217\u8868\nserver_list=\"/usr/local/scripts/domain/server_ip\"\n\n#read -p \"\u8f93\u5165\u670d\u52a1\u5668\u5217\u8868\u6587\u4ef6\u8def\u5f84: \" server_list\n\noutput_dir=\"/usr/local/scripts/nginx_configuration\"\n\nif [ ! -f \"$server_list\" ]; then\n    echo \"\u8f93\u5165\u6587\u4ef6 $server_list \u4e0d\u5b58\u5728\uff0c\u8bf7\u68c0\u67e5\u540e\u518d\u8fd0\u884c\u811a\u672c\u3002\"\n    exit 1\nfi\n\nif [ ! -d \"$output_dir\" ]; then\n    mkdir -p $output_dir\n    echo -e \"\u8f93\u51fa\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u5df2\u521b\u5efa $output_dir \u76ee\u5f55\u3002\\n\"\nelse\n    echo -e \"\u8f93\u51fa\u76ee\u5f55\u5df2\u5b58\u5728\uff0c\u7a0b\u5e8f\u5f00\u59cb\u5199\u5165\u6570\u636e\u3002\\n\"\nfi\n\nwhile IFS= read -r server_ip\ndo\n    output_file=\"${output_dir}/ansible_${server_ip}_nginx.txt\"\n    {\n        echo \"\u5904\u7406\u670d\u52a1\u5668: $server_ip\"\n\n        echo -e \"\\n\\n###### &lt;1&gt; \u68c0\u67e5 nginx \u8def\u5f84\"\n\n        nginx_path=$(ansible $server_ip -m shell -a \"which nginx\" | grep '/nginx')\n        if [[ -z \"$nginx_path\" ]]; then\n            echo \"\u672a\u627e\u5230 Nginx \u8def\u5f84\uff0c\u8bf4\u660e\u8be5\u670d\u52a1\u5668\u672a\u5b89\u88c5 Nginx\u3002\"\n        else\n            echo \"Nginx \u8def\u5f84: $nginx_path\"\n\n            echo -e \"\\n\\n\\n###### &lt;2&gt; \u67e5\u770b nginx \u914d\u7f6e\u6587\u4ef6\u6240\u5728\u8def\u5f84\"\n\n            nginx_config_output=$(ansible $server_ip -m shell -a \"$nginx_path -V\" 2&gt;&amp;1 | grep 'prefix=' | grep -oP 'prefix=\\K[^ ]*')\n            nginx_config_output=\"${nginx_config_output%/}\"/conf  # \u6dfb\u52a0 /conf \u4ee5\u4fee\u6b63\u8def\u5f84\n            echo \"Nginx \u914d\u7f6e\u8def\u5f84: $nginx_config_output\"\n\n            echo -e \"\\n\\n\\n###### &lt;3&gt; \u67e5\u770b nginx \u914d\u7f6e\u6587\u4ef6\u5185\u5bb9\"\n\n            nginx_conf_file=\"${nginx_config_output}/nginx.conf\"\n            ansible $server_ip -m shell -a \"cat $nginx_conf_file\" | grep -v 'CHANGED | rc=0'\n            echo -e \"\\n\u5305\u542b\u7684\u914d\u7f6e\u6587\u4ef6:\"\n\n            conf_files=$(ansible $server_ip -m shell -a \"grep 'include' $nginx_conf_file\" | grep -v '#' | grep -oP '(conf.d|vhost)' | head -n 1)\n            confd_conf_files=''\n            if [ -z \"$conf_files\" ]; then\n                echo \"\u65e0\"\n            else\n                confd_conf_files=$(ansible $server_ip -m shell -a \"ls $nginx_config_output/$conf_files\" | grep -oP '.*conf$')\n                echo \"$confd_conf_files\"\n            fi\n\n            echo -e \"\\n\\n\\n###### &lt;4&gt; \u63d0\u53d6\u7684\u8bc1\u4e66\u8def\u5f84\"\n\n            cert_files=$(ansible $server_ip -m shell -a \"grep -v '#' $nginx_conf_file\" | grep -oP 'ssl_certificate(_key)?\\s+\\K[^;]*')\n            echo -e \"\u4ecenginx.conf\u63d0\u53d6\u7684\u8bc1\u4e66\u8def\u5f84:\"\n            if [ -z \"$cert_files\" ]; then\n                echo -e \"\u65e0\\n\"\n            else\n                cert_files_array=($cert_files)   # \u8f6c\u6362\u4e3a\u6570\u7ec4\n                cert_paths=''\n                for cert_file in \"${cert_files_array[@]}\"; do\n                    if ! [[  \"$cert_file\" =~ \"none\" ]]; then\n                        if [[ ${cert_file:0:1} != \"/\" ]]; then\n                            cert_paths+=\"$nginx_config_output/$cert_file\"\n                        else\n                            cert_paths+=\"$cert_file\"\n                        fi\n                        cert_paths+=$'\\n'   # \u6dfb\u52a0\u6362\u884c\u7b26\u4f5c\u4e3a\u5206\u9694\u7b26\n                    fi\n                done\n                echo \"$cert_paths\"\n            fi\n\n            echo -e \"\u4ece\u975enginx.conf\u63d0\u53d6\u7684\u8bc1\u4e66\u8def\u5f84:\"\n            if [ -z \"$confd_conf_files\" ]; then\n                echo -e \"\u65e0\\n\"\n            else\n                cert_files2=$(ansible $server_ip -m shell -a \"cd $nginx_config_output/$conf_files &amp;&amp; echo '$confd_conf_files' | xargs cat\" | grep -v '#' | grep -oP 'ssl_certificate(_key)?\\s+\\K[^;]*')\n                if [ -z \"$cert_files2\" ]; then\n                    echo -e \"\u65e0\\n\"\n                else\n                    cert_files_array2=($cert_files2)   # \u8f6c\u6362\u4e3a\u6570\u7ec4\n                    cert_paths2=''\n                    for cert_file2 in \"${cert_files_array2[@]}\"; do\n                        if ! [[  \"$cert_file2\" =~ \"none\" ]]; then\n                            if [[ ${cert_file2:0:1} != \"/\" ]]; then\n                                cert_paths2+=\"$nginx_config_output/$cert_file2\"\n                            else\n                                cert_paths2+=\"$cert_file2\"\n                            fi\n                            cert_paths2+=$'\\n'   # \u6dfb\u52a0\u6362\u884c\u7b26\u4f5c\u4e3a\u5206\u9694\u7b26\n                        fi\n                    done\n                    echo \"$cert_paths2\"\n                fi\n            fi\n        fi\n    } &gt; $output_file\n\n    echo \"\u670d\u52a1\u5668 $server_ip \u7684\u7ed3\u679c\u5df2\u4fdd\u5b58\u5230 ${output_file}\"\ndone &lt; \"$server_list\"\n\necho -e \"\\n\u6240\u6709\u670d\u52a1\u5668\u6267\u884c\u5b8c\u6bd5\uff01\"\n</code></pre> <p>\u811a\u672c\u8bf4\u660e\uff1a</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#3211-\u68c0\u67e5-nginx-\u8def\u5f84","title":"3.2.1.1 \u68c0\u67e5 nginx \u8def\u5f84","text":"<ul> <li> <p><code>! -f \"$server_list\"</code>\uff1a\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u4e0d\u5b58\u5728\u3002</p> </li> <li> <p><code>-d \"$output_dir\"</code>\uff1a\u68c0\u67e5\u76ee\u5f55\u662f\u5426\u5b58\u5728\u3002</p> </li> <li> <p><code>search_dirs=( )</code>\uff1a\u5b9a\u4e49\u4e00\u4e2a\u6570\u7ec4 <code>search_dirs</code>\uff0c\u5305\u542b\u591a\u4e2a\u76ee\u5f55\u8def\u5f84\uff0c\u7528\u4e8e\u5728\u7cfb\u7edf\u4e2d\u641c\u7d22\u8bc1\u4e66\u6587\u4ef6\u3002</p> </li> <li> <p><code>while IFS= read -r server_ip</code>\uff1a\u4f7f\u7528 <code>while</code> \u5faa\u73af\u9010\u884c\u8bfb\u53d6\u670d\u52a1\u5668\u5217\u8868\u6587\u4ef6\uff0c\u6bcf\u884c\u5b58\u50a8\u5728\u53d8\u91cf <code>server_ip</code> \u4e2d\u3002</p> </li> <li> <p><code>{ ...... } &gt; $output_file</code>\uff1a\u4f7f\u7528\u82b1\u62ec\u53f7 <code>{}</code> \u5305\u542b\u6240\u6709\u547d\u4ee4\uff0c\u786e\u4fdd\u6240\u6709\u8f93\u51fa\u91cd\u5b9a\u5411\u5230 <code>output_file</code>\u3002</p> </li> <li> <p><code>\"which nginx\" | grep '/nginx'</code>\uff1a</p> </li> <li> <p><code>which nginx</code>\uff1a\u8fd9\u4e2a\u547d\u4ee4\u7528\u4e8e\u67e5\u627e <code>nginx</code> \u53ef\u6267\u884c\u6587\u4ef6\u7684\u4f4d\u7f6e\uff0c\u5e76\u8f93\u51fa\u5176\u8def\u5f84\u3002</p> </li> <li><code>| grep '/nginx'</code>\uff1a\u901a\u8fc7\u7ba1\u9053\u5c06 <code>which nginx</code> \u7684\u8f93\u51fa\u4f20\u9012\u7ed9 <code>grep</code> \u547d\u4ee4\uff0c\u5e76\u67e5\u627e\u5305\u542b\u201c/nginx\u201d\u5185\u5bb9\u7684\u884c\u3002</li> </ul> <p>\u5b58\u5728nginx\uff0c\u4ee5<code>172.18.0.160</code>\u4e3a\u4f8b\uff1a</p> Bash<pre><code>[root@jerion ~]# ansible 172.18.0.160 -m shell -a 'which nginx'\n172.18.0.160 | CHANGED | rc=0 &gt;&gt;\n/bin/nginx\n[root@jerion nginx_configuration]# ansible 172.18.0.160 -m shell -a 'which nginx' | grep '/nginx'\n/bin/nginx\n</code></pre> <p>\u4e0d\u5b58\u5728nginx\uff0c\u4ee5<code>10.22.50.249</code>\u4e3a\u4f8b\uff1a</p> Bash<pre><code>[root@jerion ~]# ansible 10.22.50.249 -m shell -a 'which nginx'\n10.22.50.249 | FAILED | rc=1 &gt;&gt;\nwhich: no nginx in (/sbin:/bin:/usr/sbin:/usr/bin)non-zero return code\n[root@jerion nginx_configuration]# ansible 10.22.50.249 -m shell -a 'which nginx' | grep '/nginx'\n[root@jerion nginx_configuration]# \n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#3212-\u67e5\u770b-nginx-\u914d\u7f6e\u6587\u4ef6\u6240\u5728\u8def\u5f84","title":"3.2.1.2 \u67e5\u770b nginx \u914d\u7f6e\u6587\u4ef6\u6240\u5728\u8def\u5f84","text":"<ul> <li> <p><code>echo -e</code>\uff1a\u7528\u4e8e\u6253\u5370\u5e26\u6709\u8f6c\u4e49\u5b57\u7b26\u7684\u5b57\u7b26\u4e32\uff0c\u4f7f\u7528 <code>-e</code> \u9009\u9879\u65f6\uff0c<code>echo</code> \u4f1a\u89e3\u91ca\u8f6c\u4e49\u5b57\u7b26\uff0c\u4f8b\u5982 <code>\\n</code> \u8868\u793a\u6362\u884c\uff0c<code>\\t</code> \u8868\u793a\u5236\u8868\u7b26\u7b49\u3002</p> </li> <li> <p><code>\"$nginx_path -V\" 2&gt;&amp;1 | grep 'prefix=' | grep -oP 'prefix=\\K[^ ]*'</code>\uff1a\u4ecenginx\u7684\u7248\u672c\u4fe1\u606f\u4e2d\u63d0\u53d6nginx\u7684\u5b89\u88c5\u8def\u5f84\u3002</p> </li> <li> <p><code>$nginx_path -V</code>\uff1a\u6267\u884cnginx\u7684\u8def\u5f84\u53d8\u91cf\uff08<code>$nginx_path</code>\uff09\u52a0\u4e0a<code>-V</code>\u53c2\u6570\uff0c\u901a\u5e38\u7528\u4e8e\u663e\u793anginx\u7684\u7248\u672c\u4fe1\u606f\u53ca\u7f16\u8bd1\u65f6\u7684\u76f8\u5173\u914d\u7f6e\u3002</p> </li> <li> <p><code>2&gt;&amp;1</code>\uff1a\u5c06\u6807\u51c6\u9519\u8bef\uff08stderr\uff09\u5408\u5e76\u5230\u6807\u51c6\u8f93\u51fa\uff08stdout\uff09\u3002\u8fd9\u6837\uff0c\u9519\u8bef\u4fe1\u606f\u4e5f\u4f1a\u88ab\u4f20\u9012\u5230\u7ba1\u9053\u4e2d\uff0c\u786e\u4fdd\u6240\u6709\u8f93\u51fa\u90fd\u88ab\u5904\u7406\u3002</p> </li> <li> <p><code>grep 'prefix='</code>\uff1a\u4ece\u5408\u5e76\u540e\u7684\u8f93\u51fa\u4e2d\u7b5b\u9009\u5305\u542b<code>prefix=</code>\u7684\u884c\u3002<code>prefix</code>\u662fnginx\u7f16\u8bd1\u65f6\u8bbe\u7f6e\u7684\u5b89\u88c5\u76ee\u5f55\u3002</p> </li> <li> <p><code>grep -oP 'prefix=\\K[^ ]*'</code>\uff1a</p> <ul> <li><code>grep -oP</code>: <code>-P</code>\u8868\u793a\u4f7f\u7528 Perl \u6b63\u5219\u8868\u8fbe\u5f0f\uff08PCRE\uff09\uff0c<code>-o</code> \u8868\u793a\u53ea\u8f93\u51fa\u5339\u914d\u90e8\u5206\u3002</li> <li><code>'prefix=\\K[^ ]*'</code> \uff1a\u8fd9\u662f\u4e00\u4e2a\u8981\u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002</li> <li><code>prefix=</code>\uff1a\u76f4\u63a5\u5339\u914d\u5b57\u7b26\u4e32 <code>prefix=</code>\uff0c\u8fd9\u90e8\u5206\u7528\u4e8e\u5bfb\u627e\u5305\u542b <code>prefix=</code> \u7684\u6587\u672c\u884c\u3002</li> <li><code>\\K</code>\uff1a\u91cd\u7f6e\u5339\u914d\u7684\u5f00\u59cb\u4f4d\u7f6e\uff0c\u5ffd\u7565 <code>prefix=</code> \u3002</li> <li><code>[^;]*</code> \u4ece\u5f53\u524d\u4f4d\u7f6e\u5f00\u59cb\uff0c\u5339\u914d\u4efb\u4f55\u5b57\u7b26\uff0c\u4f46\u4e0d\u5305\u62ec\u7a7a\u683c\uff0c\u5373\u76f4\u5230\u9047\u5230\u7a7a\u683c\u3002</li> </ul> <p>\u5982\u679c\u4e0d\u60f3\u5bf9\u5706\u62ec\u53f7\u8fdb\u884c\u8f6c\u4e49\uff0c\u5728 <code>sed</code> \u4e2d\u53ef\u4ee5\u4f7f\u7528 <code>-E</code>\u6216<code>-r</code> \u9009\u9879\uff0c\u6765\u4f7f\u7528\u6269\u5c55\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5706\u62ec\u53f7\u3002</p> <ul> <li><code>.*</code>\uff1a\u5339\u914d\u6355\u83b7\u7ec4\u4e4b\u540e\u7684\u4efb\u610f\u5b57\u7b26\uff08\u9664\u4e86\u6362\u884c\u7b26\uff09\u3002</li> <li><code>/\\1/</code>\uff1a\u5c06\u5339\u914d\u7684\u5185\u5bb9\u66ff\u6362\u4e3a\u7b2c\u4e00\u4e2a\u6355\u83b7\u7ec4\u7684\u5185\u5bb9\uff0c\u8fd9\u91cc\u6700\u540e\u9762\u6ca1\u6709\u4f7f\u7528\u5168\u5c40\u6807\u5fd7 <code>g</code> \u7684\u539f\u56e0\u662f\u8fd9\u4e2a\u547d\u4ee4\u53ea\u9700\u8981\u5728\u6bcf\u4e00\u884c\u4e2d\u8fdb\u884c\u4e00\u6b21\u66ff\u6362\u64cd\u4f5c\u3002</li> </ul> </li> </ul> <p>\u5b58\u5728nginx\uff0c\u4ee5<code>172.18.0.160</code>\u4e3a\u4f8b\uff1a</p> Bash<pre><code>[root@jerion ~]# ansible 172.18.0.160 -m shell -a \"/bin/nginx -V\" 2&gt;&amp;1\n172.18.0.160 | CHANGED | rc=0 &gt;&gt;\nnginx version: nginx/1.25.1\nbuilt by gcc 4.8.5 20150623 (Red Hat 4.8.5-44) (GCC) \nbuilt with OpenSSL 1.0.2k-fips  26 Jan 2017\nTLS SNI support enabled\nconfigure arguments: --user=nginx --group=nginx --prefix=/data/nginx --with-pcre --with-http_v2_module --with-stream --with-stream_ssl_module --with-stream_ssl_preread_module --with-http_stub_status_module --with-http_ssl_module --with-http_image_filter_module --with-http_gzip_static_module --with-http_gunzip_module --with-http_sub_module --with-http_flv_module --with-http_addition_module --with-http_realip_module --with-http_mp4_module --with-http_dav_module --with-ld-opt=-Wl,-E --with-cc-opt=-Wno-error --with-ld-opt=-ljemalloc --add-module=/root/ngx_brotli --add-module=/root/ngx_http_substitutions_filter_module-master\n[root@jerion ~]# ansible 172.18.0.160 -m shell -a \"/bin/nginx -V\" 2&gt;&amp;1 | grep 'prefix='\nconfigure arguments: --user=nginx --group=nginx --prefix=/data/nginx --with-pcre --with-http_v2_module --with-stream --with-stream_ssl_module --with-stream_ssl_preread_module --with-http_stub_status_module --with-http_ssl_module --with-http_image_filter_module --with-http_gzip_static_module --with-http_gunzip_module --with-http_sub_module --with-http_flv_module --with-http_addition_module --with-http_realip_module --with-http_mp4_module --with-http_dav_module --with-ld-opt=-Wl,-E --with-cc-opt=-Wno-error --with-ld-opt=-ljemalloc --add-module=/root/ngx_brotli --add-module=/root/ngx_http_substitutions_filter_module-master\n[root@jerion ~]# ansible 172.18.0.160 -m shell -a \"/bin/nginx -V\" 2&gt;&amp;1 | grep 'prefix=' | grep -oP 'prefix=\\K[^ ]*' \n/data/nginx\n</code></pre> <p>\u4e0d\u5b58\u5728nginx\uff0c\u4ee5<code>10.22.50.249</code>\u4e3a\u4f8b\uff1a</p> Bash<pre><code>[root@jerion ~]# ansible 10.22.50.249 -m shell -a \"/bin/nginx -V\" 2&gt;&amp;1\n10.22.50.249 | FAILED | rc=127 &gt;&gt;\n/bin/sh: /bin/nginx: \u6ca1\u6709\u90a3\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55non-zero return code\n[root@jerion ~]# ansible 10.22.50.249 -m shell -a \"/bin/nginx -V\" 2&gt;&amp;1 | grep 'prefix=' | grep -oP 'prefix=\\K[^ ]*'\n[root@jerion ~]# \n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#3213-\u67e5\u770b-nginx-\u914d\u7f6e\u6587\u4ef6\u5185\u5bb9\u5305\u542b\u7684\u914d\u7f6e\u6587\u4ef6","title":"3.2.1.3 \u67e5\u770b nginx \u914d\u7f6e\u6587\u4ef6\u5185\u5bb9\uff08\u5305\u542b\u7684\u914d\u7f6e\u6587\u4ef6\uff09","text":"<ul> <li> <p><code>${nginx_config_output%/}/conf</code>\uff1a</p> </li> <li> <p><code>${nginx_config_output%/}</code>\uff1a<code>${variable%pattern}</code> \u662f Bash \u4e2d\u7684\u4e00\u79cd\u5b57\u7b26\u4e32\u64cd\u4f5c\u8bed\u6cd5\uff0c<code>nginx_config_output%/</code> \u8868\u793a\u4ece\u53d8\u91cf <code>nginx_config_output</code> \u7684\u672b\u5c3e\u5220\u9664\u4e00\u4e2a <code>/</code> \u5b57\u7b26\uff08\u5982\u679c\u5b58\u5728\uff09\uff0c\u5982\u679c\u5b57\u7b26\u4e32\u672b\u5c3e\u6ca1\u6709 <code>/</code>\uff0c\u5219\u4ec0\u4e48\u90fd\u4e0d\u505a\u3002</p> </li> <li> <p><code>/conf</code>\uff1a\u5728\u6267\u884c\u4e86\u524d\u4e00\u6b65\u4e4b\u540e\uff0c\u5c06\u7ed3\u679c\u4e0e\u5b57\u7b26\u4e32 <code>\"/conf\"</code> \u8fde\u63a5\u8d77\u6765\u3002</p> </li> <li> <p><code>\"grep 'include' $nginx_conf_file\" | grep -v '#' | grep -oP '(conf.d|vhost)' | head -n 1</code>\uff1a\u4e3b\u8981\u662f\u5728<code>nginx.conf</code>\u914d\u7f6e\u6587\u4ef6\u5185\uff0c\u67e5\u627e\u662f\u5426\u5305\u542b<code>conf</code>\u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u63d0\u53d6\u7236\u76ee\u5f55\uff0c\u76ee\u7684\u662f\u4e3a\u540e\u9762\u7684\u4ece\u975enginx.conf\u63d0\u53d6\u7684\u8bc1\u4e66\u8def\u5f84\u505a\u51c6\u5907\u3002</p> </li> <li> <p><code>grep 'include' $nginx_conf_file</code>\uff1a\u5728 <code>nginx.conf</code> \u6587\u4ef6\u4e2d\u67e5\u627e\u6240\u6709\u5305\u542b \u201cinclude\u201d \u7684\u884c\u3002</p> </li> <li><code>grep -v '#'</code>\uff1a\u67e5\u627e\u6240\u6709\u5305\u542b\u201c#\u201d\u7684\u884c\uff0c\u5c06\u5176\u5220\u9664\u3002</li> <li><code>grep -oP '(conf.d|vhost)'</code>\uff1a<ul> <li><code>grep -oP</code>: <code>-P</code>\u8868\u793a\u4f7f\u7528 Perl \u6b63\u5219\u8868\u8fbe\u5f0f\uff08PCRE\uff09\uff0c<code>-o</code> \u8868\u793a\u53ea\u8f93\u51fa\u5339\u914d\u90e8\u5206\u3002</li> <li><code>'(conf.d|vhost)'</code> \uff1a\u8fd9\u662f\u4e00\u4e2a\u8981\u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u76f4\u63a5\u5339\u914d\u5b57\u7b26\u4e32 <code>conf.d/</code>\u6216<code>vhosts/</code>\uff0c\u8fd9\u90e8\u5206\u4e3b\u8981\u7528\u4e8e\u5bfb\u627e<code>conf</code>\u914d\u7f6e\u6587\u4ef6\u5b58\u653e\u5728 <code>conf.d/</code>\u8fd8\u662f<code>vhosts/</code>\u76ee\u5f55\u4e0b\u3002</li> </ul> </li> <li><code>head -n 1</code>\uff1a\u7528<code>head</code>\u547d\u4ee4\u53ea\u53d6\u7b2c\u4e00\u884c\u7684\u503c\uff0c\u4f5c\u7528\u4e3a\u82e5\u6709\u591a\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u7236\u76ee\u5f55\u5747\u4e3a\u76f8\u540c\uff0c\u56e0\u6b64\u53ea\u9700\u8981\u53d6\u7b2c\u4e00\u4e2a\u5373\u53ef\u3002</li> </ul> <p>\u5b58\u5728nginx\uff0c\u4e14\u914d\u7f6e\u6587\u4ef6\u6240\u5728\u76ee\u5f55\u4e3a<code>conf.d</code>\uff0c\u4ee5<code>172.18.0.100</code>\u4e3a\u4f8b\uff1a</p> Bash<pre><code>[root@jerion ~]# ansible 172.18.0.100 -m shell -a \"grep 'include' /usr/local/nginx/conf/nginx.conf\" | grep -v '#'\n172.18.0.100 | CHANGED | rc=0 &gt;&gt;\n  include mime.types;\n  include conf.d/proxy.its.sunline.cn.conf;\n  include conf.d/demo.its.sunline.cn.conf;\n  include conf.d/domain.its.sunline.cn.conf;\n  include conf.d/share.mis.sunline.cn.conf;\n  include conf.d/download.cloud.sunline.cn.conf;\n  include conf.d/nginxui.its.sunline.cn.conf;\n  include conf.d/password.its.sunline.cn.conf;\n  include conf.d/harbor.sh.sunline.cn.conf;\n  include conf.d/_.conf;\n[root@jerion ~]# ansible 172.18.0.100 -m shell -a \"grep 'include' /usr/local/nginx/conf/nginx.conf\" | grep -v '#' | grep -oP '(conf.d|vhost)' \nconf.d\nconf.d\nconf.d\nconf.d\nconf.d\nconf.d\nconf.d\nconf.d\nconf.d\n[root@jerion ~]# ansible 172.18.0.100 -m shell -a \"grep 'include' /usr/local/nginx/conf/nginx.conf\" | grep -v '#' | grep -oP '(conf.d|vhost)' | head -n 1\nconf.d\n</code></pre> <p>\u5b58\u5728nginx\uff0c\u4e14\u914d\u7f6e\u6587\u4ef6\u6240\u5728\u76ee\u5f55\u4e3a<code>vhost</code>\uff0c\u4ee5<code>172.18.0.50</code>\u4e3a\u4f8b\uff1a</p> Bash<pre><code>[root@jerion ~]# ansible 172.18.0.50 -m shell -a \"grep 'include' /usr/local/nginx/conf/nginx.conf\" | grep -v '#'\n172.18.0.50 | CHANGED | rc=0 &gt;&gt;\n  include mime.types;\n  add_header Strict-Transport-Security \"max-age=31536000; includeSubdomains; preload\" always;\n  include /usr/local/nginx/conf/vhost/*.conf;\n[root@jerion ~]# ansible 172.18.0.50 -m shell -a \"grep 'include' /usr/local/nginx/conf/nginx.conf\" | grep -v '#' | grep -oP '(conf.d|vhost)' | head -n 1\nvhost\n</code></pre> <ul> <li> <p><code>\"ls $nginx_config_output/$conf_files\" | grep -oP '.*conf$'</code>\uff1a</p> </li> <li> <p><code>\"ls $nginx_config_output/$conf_files\"</code>\uff1a<code>$conf_files</code>\u5c5e\u6027\u503c\u4e3a<code>conf</code>\u914d\u7f6e\u6587\u4ef6\u6240\u5728\u7684\u7236\u76ee\u5f55\uff0c\u5373\u5217\u51fa\u7236\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u914d\u7f6e\u6587\u4ef6\u3002</p> </li> <li><code>grep -oP '.*conf$'</code>\uff1a<ul> <li><code>-o</code> \uff1a\u8868\u793a\u53ea\u8f93\u51fa\u5339\u914d\u90e8\u5206\u3002</li> <li><code>-P</code>\uff1a \u8868\u793a\u4f7f\u7528 Perl \u517c\u5bb9\u6b63\u5219\u8868\u8fbe\u5f0f\uff08PCRE\uff09\u3002</li> <li><code>'.*conf$'</code> \uff1a\u5339\u914d\u4efb\u610f\u591a\u4e2a\u5b57\u7b26\uff0c\u76f4\u5230\u7ed3\u5c3e\u4e3a<code>conf</code>\u3002</li> </ul> </li> </ul> <p>\u5b58\u5728nginx\uff0c\u4e14\u914d\u7f6e\u6587\u4ef6\u6240\u5728\u76ee\u5f55\u4e3a<code>conf.d</code>\uff0c\u4ee5<code>172.18.0.160</code>\u4e3a\u4f8b\uff1a</p> Bash<pre><code>[root@jerion ~]# ansible 172.18.0.160 -m shell -a \"grep 'conf.d' /data/nginx/conf/nginx.conf\"\n172.18.0.160 | CHANGED | rc=0 &gt;&gt;\n  include conf.d/*.conf;\n[root@jerion ~]# ansible 172.18.0.160 -m shell -a \"ls /data/nginx/conf/conf.d\" |  grep -oP '.*conf$'\nhr.iboss.sunline.cn-9443.conf\niboss.sunline.cn-8443.conf\niboss.sunline.cn.conf\nnone.conf\nwecom.iboss.sunline.cn-6443.conf\n</code></pre> <p>\u5b58\u5728nginx\uff0c\u4e14\u914d\u7f6e\u6587\u4ef6\u6240\u5728\u76ee\u5f55\u4e3a<code>vhost</code>\uff0c\u4ee5<code>172.18.0.50</code>\u4e3a\u4f8b\uff1a</p> Bash<pre><code>[root@jerion ~]# ansible 172.18.0.50 -m shell -a \"grep 'vhost' /usr/local/nginx/conf/nginx.conf\"\n172.18.0.50 | CHANGED | rc=0 &gt;&gt;\n  include /usr/local/nginx/conf/vhost/*.conf;\n[root@jerion ~]# ansible 172.18.0.50 -m shell -a \"ls /usr/local/nginx/conf/vhost\"\n172.18.0.50 | CHANGED | rc=0 &gt;&gt;\nnone.conf\nsunline.cn.conf\nsunline-i.com.conf\nwww_cpanel.conf.bak\nzw-A.conf\n[root@jerion ~]# ansible 172.18.0.50 -m shell -a \"ls /usr/local/nginx/conf/vhost\" | grep -oP '.*conf$'\nnone.conf\nsunline.cn.conf\nsunline-i.com.conf\nzw-A.conf\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#3214-\u4ecenginxconf\u63d0\u53d6\u7684\u8bc1\u4e66\u8def\u5f84","title":"3.2.1.4 \u4ecenginx.conf\u63d0\u53d6\u7684\u8bc1\u4e66\u8def\u5f84","text":"<ul> <li> <p><code>grep -oP 'ssl_certificate(_key)?\\s+\\K[^;]*'</code>\uff1a</p> </li> <li> <p><code>grep -oP</code>: <code>-P</code>\u8868\u793a\u4f7f\u7528 Perl \u6b63\u5219\u8868\u8fbe\u5f0f\uff08PCRE\uff09\uff0c<code>-o</code> \u8868\u793a\u53ea\u8f93\u51fa\u5339\u914d\u90e8\u5206\u3002</p> </li> <li><code>'ssl_certificate\\s+\\K[^;]*'</code> \uff1a\u8fd9\u662f\u4e00\u4e2a\u8981\u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002<ul> <li><code>ssl_certificate</code>\uff1a\u76f4\u63a5\u5339\u914d\u5b57\u7b26\u4e32 <code>ssl_certificate</code>\uff0c\u8fd9\u90e8\u5206\u7528\u4e8e\u5bfb\u627e\u5305\u542b <code>ssl_certificate</code> \u7684\u6587\u672c\u884c\u3002</li> <li><code>(_key)?</code>\uff1a\u8868\u793a <code>_key</code> \u662f\u53ef\u9009\u7684\uff0c\u53ef\u4ee5\u51fa\u73b00\u6b21\u62161\u6b21\u3002</li> <li><code>\\s+</code>\uff1a\u5339\u914d\u5230\u4e00\u4e2a\u6216\u591a\u4e2a\u7a7a\u767d\u5b57\u7b26\uff08\u4f8b\u5982\u7a7a\u683c\uff09\u3002</li> <li><code>\\K</code>\uff1a\u91cd\u7f6e\u5339\u914d\u7684\u5f00\u59cb\u4f4d\u7f6e\uff0c\u5ffd\u7565 <code>ssl_certificate</code> \u548c\u7a7a\u767d\u5b57\u7b26\u3002</li> <li><code>[^;]*</code> \u4ece\u5f53\u524d\u4f4d\u7f6e\u5f00\u59cb\uff0c\u5339\u914d\u4efb\u4f55\u5b57\u7b26\uff0c\u4f46\u4e0d\u5305\u62ec\u5206\u53f7 <code>;</code>\uff0c\u5373\u76f4\u5230\u9047\u5230\u5206\u53f7 <code>;</code>\u3002</li> </ul> </li> </ul> <p>\u5b58\u5728nginx\uff0c\u4ee5<code>172.18.0.78</code>\u4e3a\u4f8b\uff1a</p> Bash<pre><code>[root@jerion ~]# ansible 172.18.0.78 -m shell -a \"grep -v '#' /usr/local/nginx/conf/nginx.conf\" | grep -oP 'ssl_certificate(_key)?\\s+\\K[^;]*'\n/usr/local/nginx/ssl/yhtprd.clhd.sunline.cn_bundle.crt\n/usr/local/nginx/ssl/yhtprd.clhd.sunline.cn.key\n/usr/local/nginx/ssl/none-ca.crt\n/usr/local/nginx/ssl/none-ca.key\n\n# 172.18.0.78\u7684ssl\u8bc1\u4e66\u6240\u5728\u76ee\u5f55/usr/local/nginx/ssl\u4e0b\u4e0d\u6b62nginx.conf\u4e2d\u7528\u5230\u7684\uff0c\u901a\u8fc7ls\u547d\u4ee4\u67e5\u770b\u76ee\u5f55\u8bc1\u4e66\u4e0b\uff0c\u8fd8\u5305\u62ec\u4e86\u6ca1\u6709\u7528\u5230\u7684\uff0c\u4e3a20230103\u76ee\u5f55\u7684\u8bc1\u4e66\uff0c\u6240\u4ee5\u76f4\u63a5\u53d6nginx.conf\u4e2d\u7528\u5230\u7684\u8def\u5f84\u5c31\u884c\n[root@jerion ~]# ansible 172.18.0.78 -m shell -a \"ls /usr/local/nginx/ssl\"\n172.18.0.78 | CHANGED | rc=0 &gt;&gt;\n20230103\nnone-ca.crt\nnone-ca.key\nyhtprd.clhd.sunline.cn_bundle.crt\nyhtprd.clhd.sunline.cn.key\n</code></pre> <ul> <li><code>cert_files_array=($cert_files)</code>\uff1a\u5c06\u83b7\u53d6\u5230\u7684\u8bc1\u4e66\u8def\u5f84\u8f6c\u6362\u4e3a\u6570\u7ec4\u3002</li> <li><code>for cert_file in \"${cert_files_array[@]}\"; do .... done</code>\uff1a\u8fd9\u91cc\u901a\u8fc7for\u5faa\u73af\u904d\u5386\u8bc1\u4e66\u8def\u5f84\u6570\u7ec4\u76ee\u7684\u4e3a\u540e\u9762\u5224\u65ad\u8def\u5f84\u662f\u76f8\u5bf9\u8def\u5f84\u8fd8\u662f\u7edd\u5bf9\u8def\u5f84\u505a\u51c6\u5907\uff0c\u7136\u540e\u5c06\u6240\u6709\u8def\u5f84\u5b58\u653e\u4e8e\u53d8\u91cf<code>cert_paths</code>\u4e2d\u3002</li> <li><code>! [[  \"$cert_file\" =~ \"none\" ]]</code>\uff1a\u5224\u65ad\u8bc1\u4e66\u662f\u5426\u4e3anone\u8bc1\u4e66\uff0c\u4e0d\u662f\u7684\u8bdd\u6267\u884cif\u8bed\u53e5\u91cc\u7684\u547d\u4ee4\uff0c\u662f\u7684\u8bdd\u76f4\u63a5\u8df3\u8fc7\u3002</li> <li><code>${cert_files:0:1} != \"/\"</code>\uff1a\u5224\u65ad\u5b57\u7b26\u4e32\u53d8\u91cf\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u662f\u5426\u4e0d\u7b49\u4e8e<code>/</code>\u3002\u8fd9\u91cc\u4e3b\u8981\u662f\u7528\u6765\u5224\u65ad\u8bc1\u4e66\u8def\u5f84\u4e3a\u7edd\u5bf9\u8def\u5f84\u8fd8\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u5982\u679c\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e0d\u4f1a\u4ee5<code>/</code>\u5f00\u59cb\uff0c\u5219\u6267\u884c<code>if</code>\u8bed\u53e5\u91cc\u7684\u547d\u4ee4\u3002</li> <li><code>:0:1</code>\uff1a\u8fd9\u662f\u5207\u7247\u7684\u90e8\u5206\uff0c\u8868\u793a\u4ece\u5b57\u7b26\u4e32\u7684\u7b2c0\u4e2a\u5b57\u7b26\u5f00\u59cb\uff0c\u53d6\u957f\u5ea6\u4e3a1\u7684\u5b50\u5b57\u7b26\u4e32\u3002</li> <li><code>!= \"/\"</code>\uff1a\u5224\u65ad\u662f\u5426\u4e0d\u7b49\u4e8e\u5b57\u7b26<code>/</code>\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#3215-\u4ece\u975enginxconf\u63d0\u53d6\u7684\u8bc1\u4e66\u8def\u5f84","title":"3.2.1.5 \u4ece\u975enginx.conf\u63d0\u53d6\u7684\u8bc1\u4e66\u8def\u5f84","text":"<ul> <li> <p><code>\"cd $nginx_config_output/$conf_files &amp;&amp; echo '$confd_conf_files' | xargs cat\"</code>\uff1a</p> </li> <li> <p><code>cd $nginx_config_output/$conf_files</code>\uff1a\u8fdb\u5165\u5230<code>conf</code>\u914d\u7f6e\u6587\u4ef6\u6240\u5728\u7684\u7236\u76ee\u5f55\u3002</p> </li> <li><code>&amp;&amp;</code>\uff1a\u4f7f\u7528\u903b\u8f91\u4e0e\u8fd0\u7b97\u7b26\uff0c\u4e3b\u8981\u7528\u4e8e\u4fdd\u8bc1\u524d\u540e\u7684\u547d\u4ee4\u5728\u540c\u4e00\u4e2a\u5b50shell\u4e2d\u6267\u884c\u3002</li> <li> <p><code>echo '$confd_conf_files' | xargs cat\"</code>\uff1a</p> <ul> <li><code>echo '$confd_conf_files'</code>\uff1a\u8f93\u51fa\u53d8\u91cf <code>$confd_conf_files</code> \u7684\u5185\u5bb9\uff0c\u5373\u591a\u4e2a<code>conf</code>\u914d\u7f6e\u6587\u4ef6\u3002</li> <li><code>|</code>\uff1a\u901a\u8fc7<code>|</code>\u7ba1\u9053\u64cd\u4f5c\u7b26\uff0c\u5c06\u524d\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u51fa\u4f5c\u4e3a\u540e\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u5165\u3002</li> <li><code>xargs cat</code>\uff1a<code>xargs</code> \u4ece\u6807\u51c6\u8f93\u5165\u8bfb\u53d6\u6570\u636e\u5e76\u5c06\u5176\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u540e\u9762\u7684\u547d\u4ee4\uff08\u4e3b\u8981\u786e\u4fdd <code>cat</code> \u547d\u4ee4\u4e00\u6b21\u6027\u8bfb\u53d6\u6240\u6709\u6587\u4ef6\uff09\uff0c\u800c\u540e<code>cat</code> \u547d\u4ee4\u4f1a\u63a5\u6536 <code>xargs</code> \u4f20\u9012\u7684\u6587\u4ef6\u540d\u5e76\u8bfb\u53d6\u5b83\u4eec\u7684\u5185\u5bb9\u3002</li> </ul> <p>\u5b58\u5728nginx\uff0c\u4ee5<code>172.18.0.161</code>\u4e3a\u4f8b\uff1a</p> </li> </ul> Bash<pre><code># \u5148\u5b9a\u4e49\u4e86\u4e00\u4e2a\u53d8\u91cfconfd_conf_files\u83b7\u53d6conf.d\u76ee\u5f55\u4e0b\u7684conf\u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u901a\u8fc7cat\u547d\u4ee4\u8bfb\u53d6\u6240\u6709\u914d\u7f6e\u6587\u4ef6\u7684\u5185\u5bb9\u518d\u8fdb\u884c\u5904\u7406\n[root@jerion ~]# confd_conf_files=$(ansible 172.18.0.161 -m shell -a \"ls /data/nginx/conf/conf.d\" | grep -oP '.*conf$')\n[root@jerion ~]# ansible 172.18.0.161 -m shell -a \"cd /data/nginx/conf/conf.d &amp;&amp; echo '$confd_conf_files' | xargs cat\" | grep -v '#' | grep -oP 'ssl_certificate(_key)?\\s+\\K[^;]*'\ncert/hr.iboss.sunline.cn_bundle.pem\ncert/hr.iboss.sunline.cn.key\ncert/iboss.sunline.cn.pem\ncert/iboss.sunline.cn.key\ncert/iboss.sunline.cn.pem\ncert/iboss.sunline.cn.key\ncert/none-ca.crt\ncert/none-ca.key\ncert/wecom.iboss.sunline.cn.pem\ncert/wecom.iboss.sunline.cn.key\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#322-\u8fd0\u884cshell\u811a\u672c","title":"3.2.2 \u8fd0\u884cshell\u811a\u672c","text":"<p>\u6267\u884c\u811a\u672c<code>extract_nginx_configuration.sh</code>\uff0c\u8be5\u811a\u672c\u5b58\u653e\u4e8e<code>/usr/local/scripts/nginx_configuration</code>\u76ee\u5f55\u4e0b\uff1a</p> Bash<pre><code>cd /usr/local/scripts/nginx_configuration\nsh extract_nginx_configuration.sh\n</code></pre> <p>\u6267\u884c\u540e\u7684\u7ed3\u679c\u5982\u4e0b\uff1a</p> Bash<pre><code>[root@jerion nginx_configuration]# sh extract_nginx_configuration.sh \n\u8f93\u51fa\u76ee\u5f55\u5df2\u5b58\u5728\uff0c\u7a0b\u5e8f\u5f00\u59cb\u5199\u5165\u6570\u636e\u3002\n\n\u670d\u52a1\u5668 172.18.0.160 \u7684\u7ed3\u679c\u5df2\u4fdd\u5b58\u5230......\n.......\n\n\u6240\u6709\u670d\u52a1\u5668\u6267\u884c\u5b8c\u6bd5\uff01\n</code></pre> <p>\u6267\u884c\u540e\u901a\u8fc7<code>ls</code>\u547d\u4ee4\u67e5\u770b<code>nginx_configuration</code>\u76ee\u5f55\uff0c\u53ef\u4ee5\u770b\u5230\u751f\u6210\u4e86\u83b7\u53d6nginx\u914d\u7f6e\u7684\u6bcf\u4e2a\u670d\u52a1\u5668\u6587\u4ef6\uff1a</p> Bash<pre><code>[root@jerion scripts]# ls nginx_configuration\nansible_10.22.21.99_nginx.txt   ansible_172.18.0.100_nginx.txt  ansible_172.18.0.79_nginx.txt\nansible_10.22.50.135_nginx.txt  ansible_172.18.0.160_nginx.txt  ansible_172.18.0.82_nginx.txt\nansible_10.22.50.220_nginx.txt  ansible_172.18.0.161_nginx.txt  extract_nginx_configuration.sh\nansible_10.22.50.221_nginx.txt  ansible_172.18.0.50_nginx.txt\nansible_10.22.50.249_nginx.txt  ansible_172.18.0.78_nginx.txt\n</code></pre> <p>\u8fdb\u5165<code>ansible_172.18.0.100_nginx.txt</code>\u6587\u4ef6\uff0c\u53ef\u4ee5\u67e5\u770b\u5230\u6bcf\u4e2a\u83b7\u53d6\u7684\u4fe1\u606f\uff1a</p> Bash<pre><code>[root@jerion nginx_configuration]# vim ansible_172.18.0.100_nginx.txt\n\u5904\u7406\u670d\u52a1\u5668: 172.18.0.100\n\n\n###### &lt;1&gt; \u68c0\u67e5 nginx \u8def\u5f84\nNginx \u8def\u5f84: /sbin/nginx\n\n......\n\n\n###### &lt;4&gt; \u63d0\u53d6\u7684\u8bc1\u4e66\u8def\u5f84\n\u4ecenginx.conf\u63d0\u53d6\u7684\u8bc1\u4e66\u8def\u5f84:\n\u65e0\n\n\u4ece\u975enginx.conf\u63d0\u53d6\u7684\u8bc1\u4e66\u8def\u5f84:\n/usr/local/nginxwebui/cert/demo.its.sunline.cn/demo.its.sunline.cn.pem\n/usr/local/nginxwebui/cert/demo.its.sunline.cn/demo.its.sunline.cn.key\n/usr/local/nginxwebui/cert/harbor.sh.sunline.cn/harbor.sh.sunline.cn.pem\n/usr/local/nginxwebui/cert/harbor.sh.sunline.cn/harbor.sh.sunline.cn.key\n/usr/local/nginxwebui/cert/password.its.sunline.cn/password.its.sunline.cn.pem\n/usr/local/nginxwebui/cert/password.its.sunline.cn/password.its.sunline.cn.key\n/usr/local/nginxwebui/cert/proxy.its.sunline.cn/proxy.its.sunline.cn.pem\n/usr/local/nginxwebui/cert/proxy.its.sunline.cn/proxy.its.sunline.cn.key\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#33-\u914d\u7f6e\u63d0\u53d6nginx\u53ca\u8bc1\u4e66\u4fe1\u606f\u7684\u811a\u672c","title":"3.3 \u914d\u7f6e\u63d0\u53d6nginx\u53ca\u8bc1\u4e66\u4fe1\u606f\u7684\u811a\u672c","text":""},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#331-\u914d\u7f6eshell\u811a\u672c","title":"3.3.1 \u914d\u7f6eshell\u811a\u672c","text":"<p>\u8be5\u811a\u672c\u662f\u57fa\u4e8e\u4e0a\u65b9\u6bcf\u53f0\u670d\u52a1\u5668\u83b7\u53d6\u5230nginx\u914d\u7f6e\u548c\u8bc1\u4e66\u4fe1\u606f\u751f\u6210\u7684\u6587\u4ef6\u7684\u811a\u672c\u540e\u6267\u884c\uff0c\u4e3b\u8981\u662f\u5c06\u6240\u6709\u670d\u52a1\u5668\u7684nginx\u914d\u7f6e\u548c\u8bc1\u4e66\u4fe1\u606f\u6587\u4ef6<code>ansible_*_nginx.txt</code>\u63d0\u53d6\u90e8\u5206nginx\u4fe1\u606f\u5e76\u5408\u5e76\u5230\u4e00\u4e2a\u6587\u4ef6\uff0c\u65b9\u4fbf\u67e5\u770b\u3002</p> <p>\u8fd9\u91cc\u521b\u5efa\u4e86\u4e00\u4e2ashell\u811a\u672c<code>extract_nginx_info.sh</code>\uff0c\u5177\u4f53\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>#!/bin/bash\n\noutput_file=\"/tmp/extract_nginx_data.txt\"\n\necho -n \"\" &gt; $output_file\n\ndirectory=\"/usr/local/scripts/nginx_configuration\"\n\nfor file in $directory/ansible_*.txt    \ndo\n    ip=$(echo \"$file\" | grep -oP 'ansible_\\K[0-9.]+(?=_nginx.txt)')\n    echo \"Processing $ip\"\n    nginx_path=$(grep \"Nginx \u8def\u5f84\" \"$file\" | awk -F': ' '{print $2}')\n    if [ -z \"$nginx_path\" ]; then\n        echo \"IP: $ip\" &gt;&gt; $output_file\n        echo \"No Nginx\" &gt;&gt; $output_file\n    else\n        config_path=$(grep \"Nginx \u914d\u7f6e\u8def\u5f84\" \"$file\" | awk -F': ' '{print $2}')\n        cert_path=$(grep -P '\\.(pem|cer|crt)$' \"$file\")\n        key_path=$(grep -P '\\.key$' \"$file\")\n        echo \"IP: $ip\" &gt;&gt; $output_file\n        echo \"Nginx Path: $nginx_path\" &gt;&gt; $output_file\n        echo \"Config Path: $config_path\" &gt;&gt; $output_file\n        echo -e \"Cert Path:\\n$cert_path\" &gt;&gt; $output_file\n        echo -e \"Key Path:\\n$key_path\" &gt;&gt; $output_file\n    fi\n    echo \"-------------------------------------\" &gt;&gt; $output_file\n    sleep 1\ndone\n\necho \"Data extraction complete. Results saved in $output_file\"\n</code></pre> <p>\u811a\u672c\u8bf4\u660e\uff1a</p> <ul> <li><code>echo -n</code>\uff1a\u8f93\u51fa\u6587\u672c\uff0c<code>-n</code>\u8868\u793a\u4e0d\u4f1a\u5728\u672b\u5c3e\u6dfb\u52a0\u6362\u884c\u7b26\u3002</li> <li><code>grep -oP 'ansible_\\K[0-9.]+(?=_nginx.txt)'</code>\uff1a</li> <li><code>grep -oP</code>: <code>-P</code>\u8868\u793a\u4f7f\u7528 Perl \u6b63\u5219\u8868\u8fbe\u5f0f\uff08PCRE\uff09\uff0c<code>-o</code> \u8868\u793a\u53ea\u8f93\u51fa\u5339\u914d\u90e8\u5206\u3002</li> <li><code>'ansible_\\K[0-9.]+(?=_nginx.txt)'</code> \uff1a\u8fd9\u662f\u4e00\u4e2a\u8981\u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002<ul> <li><code>\\K</code>\uff1a\u91cd\u7f6e\u5339\u914d\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0c\u53ea\u5c06\u6b64\u4f4d\u7f6e\u4e4b\u540e\u7684\u90e8\u5206\u4f5c\u4e3a\u5339\u914d\u7ed3\u679c\u7684\u4e00\u90e8\u5206\u3002</li> <li><code>[0-9.]+</code>\uff1a\u5339\u914d\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u5b57\uff080-9\uff09\u548c\u70b9\uff08.\uff09\u3002</li> <li><code>\\K</code>\uff1a\u91cd\u7f6e\u5339\u914d\u7684\u5f00\u59cb\u4f4d\u7f6e\uff0c\u5ffd\u7565 <code>ssl_certificate</code> \u548c\u7a7a\u767d\u5b57\u7b26\u3002</li> <li><code>(?=_nginx.txt)</code>\uff1a\u6b63\u5411\u524d\u77bb\u65ad\u8a00\uff0c\u8868\u793a\u5339\u914d\u7684\u5185\u5bb9\u540e\u9762\u7d27\u8ddf\u7740 \u201c_nginx.txt\u201d\u3002<code>(?=...)</code> \u662f\u4e00\u4e2a\u6b63\u5411\u524d\u77bb\u65ad\u8a00\uff0c\u5b83\u7528\u4e8e\u786e\u4fdd\u67d0\u4e2a\u6a21\u5f0f\u5728\u5339\u914d\u7684\u4f4d\u7f6e\u4e4b\u540e\u5b58\u5728\uff0c\u800c\u4e0d\u4f1a\u5c06\u5176\u5305\u542b\u5728\u5339\u914d\u7ed3\u679c\u4e2d\u3002</li> </ul> </li> <li><code>awk -F': ' '{print $2}'</code>\uff1a\u8bfb\u53d6\u6587\u4ef6\u4e2d\u7684\u6bcf\u4e00\u884c\uff0c\u5e76\u4ee5 <code>:</code>\uff08\u5192\u53f7\u540e\u9762\u6709\u7a7a\u683c\uff09\u4f5c\u4e3a\u5206\u9694\u7b26\uff0c\u5c06\u884c\u5206\u5272\u6210\u591a\u4e2a\u5b57\u6bb5\uff0c\u7136\u540e\u6253\u5370\u7b2c\u4e8c\u4e2a\u5b57\u6bb5\u3002</li> <li><code>'\\.(pem|cer|crt)$'</code>\uff1a\u5148\u5339\u914d\u4e00\u4e2a\u70b9\uff08.\uff09\uff0c\u7136\u540e\u5339\u914d <code>pem</code>\u3001<code>cer</code> \u6216 <code>crt</code> \u5176\u4e2d\u4e4b\u4e00\uff0c<code>$</code>\u8868\u793a\u4ee5\u8fd9\u4e09\u4e2a\u4e3a\u7ed3\u5c3e\u7684\u5185\u5bb9\u3002</li> <li><code>'\\.key$'</code>\uff1a\u5148\u5339\u914d\u4e00\u4e2a\u70b9\uff08.\uff09\uff0c\u7136\u540e\u5339\u914d<code>key</code>\uff0c<code>$</code>\u8868\u793a\u4ee5<code>key</code>\u4e3a\u7ed3\u5c3e\u7684\u5185\u5bb9\u3002</li> </ul>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#332-\u8fd0\u884cshell\u811a\u672c","title":"3.3.2 \u8fd0\u884cshell\u811a\u672c","text":"<p>\u6267\u884c\u811a\u672c<code>extract_nginx_info.sh</code>\uff0c\u8be5\u811a\u672c\u5b58\u653e\u4e8e<code>/usr/local/scripts/nginx_configuration</code>\u76ee\u5f55\u4e0b\uff1a</p> Bash<pre><code>cd /usr/local/scripts/nginx_configuration\nsh extract_nginx_info\n</code></pre> <p>\u6267\u884c\u540e\u7684\u7ed3\u679c\u5982\u4e0b\uff1a</p> Bash<pre><code>[root@jerion nginx_configuration]# sh extract_nginx_info.sh\nProcessing 10.22.21.99\nProcessing 10.22.50.135\n....\nData extraction complete. Results saved in /tmp/extract_nginx_data.txt\n</code></pre> <p>\u6267\u884c\u540e\u901a\u8fc7<code>cat</code>\u547d\u4ee4\u67e5\u770b<code>/tmp/extract_nginx_data.txt</code>\u6587\u4ef6\uff0c\u53ef\u4ee5\u770b\u5230\u5c06\u6bcf\u4e2a\u670d\u52a1\u5668\u83b7\u53d6\u5230nginx\u914d\u7f6e\u548c\u8bc1\u4e66\u4fe1\u606f\u6587\u4ef6\u5185\u7684\u90e8\u5206\u4fe1\u606f\u63d0\u53d6\u5e76\u5408\u5e76\u4e86\u8d77\u6765\uff1a</p> Bash<pre><code>[root@jerion nginx_configuration]# cat /tmp/extract_nginx_data.txt    \nIP: 10.22.21.99\nNo Nginx\n-------------------------------------\nIP: 10.22.50.220\nNginx Path: /sbin/nginx\nConfig Path: /usr/local/nginx/conf\nCert Path:\n/usr/local/nginx/cert/nx.cloud.sunline.cn_nginx/nx.cloud.sunline.cn_bundle.crt\nKey Path:\n/usr/local/nginx/cert/nx.cloud.sunline.cn_nginx/nx.cloud.sunline.cn.key\n-------------------------------------\n......\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#\u4e5d\u4f7f\u7528yunwei\u8d26\u53f7","title":"\u4e5d\u3001\u4f7f\u7528yunwei\u8d26\u53f7","text":"<p><code>sshpass</code>\u662f\u4e00\u4e2a\u5141\u8bb8\u4f60\u5728\u547d\u4ee4\u884c\u4e2d\u4f20\u9012\u5bc6\u7801\u7684\u5de5\u5177\u3002</p>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#1\u5b89\u88c5sshpass","title":"1.\u5b89\u88c5sshpass","text":"Bash<pre><code>yum install -y epel-release\nyum install -y sshpass\n</code></pre>"},{"location":"linux/Ansible/Ansible%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8/#2\u4fee\u6539\u4e3b\u673a\u6e05\u5355\u6587\u4ef6","title":"2.\u4fee\u6539\u4e3b\u673a\u6e05\u5355\u6587\u4ef6","text":"<p>\u4fee\u6539<code>/data/ansible/hosts</code>\u6587\u4ef6\u5982\u4e0b\uff1a</p> Bash<pre><code>[all:vars]\n#ansible_user=root\n#ansible_ssh_private_key_file=/root/.ssh/id_rsa\nansible_ssh_user=yunwei\nansible_ssh_pass=Sun%2020\nansible_sudo_pass=Sun%2020\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/1.linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F/","title":"1. linux\u547d\u4ee4\u57fa\u672c\u683c\u5f0f","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217\uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660elinux\u547d\u4ee4\u7684\u683c\u5f0f\u3001\u5bb6\u76ee\u5f55\u3001\u6743\u9650\u4f4d\u3001\u6587\u4ef6\u76ee\u5f55\u7684\u542b\u4e49\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/1.linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F/#\u4e00linux\u547d\u4ee4\u7684\u683c\u5f0f","title":"\u4e00\u3001linux\u547d\u4ee4\u7684\u683c\u5f0f","text":"<p>Linux\u547d\u4ee4\u7684\u683c\u5f0f\u4e00\u822c\u4e3a\uff1a</p> Bash<pre><code>\u547d\u4ee4 [\u53c2\u6570] [\u9009\u9879]\n</code></pre> <ul> <li>\u547d\u4ee4\uff1a\u662f\u547d\u4ee4\u7684\u540d\u79f0\u3002</li> <li>\u53c2\u6570\uff1a\u662f\u547d\u4ee4\u5fc5\u987b\u7684\u8f93\u5165\u3002</li> <li>\u9009\u9879\uff1a\u662f\u547d\u4ee4\u53ef\u9009\u7684\u8f93\u5165\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/1.linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F/#\u4e8c\u5bb6\u76ee\u5f55","title":"\u4e8c\u3001\u5bb6\u76ee\u5f55","text":"<p>\u5bb6\u76ee\u5f55\u662fLinux\u7cfb\u7edf\u4e2d\u6bcf\u4e2a\u7528\u6237\u7684\u79c1\u6709\u76ee\u5f55\uff0c\u7528\u4e8e\u5b58\u653e\u7528\u6237\u7684\u4e2a\u4eba\u6587\u4ef6\u3002\u5bb6\u76ee\u5f55\u7684\u8def\u5f84\u7531<code>/home/\u7528\u6237\u540d</code>\u7ec4\u6210\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/1.linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F/#\u4e09\u6743\u9650\u4f4d\u7684\u542b\u4e49","title":"\u4e09\u3001\u6743\u9650\u4f4d\u7684\u542b\u4e49","text":"<p>Linux\u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\u6743\u9650\u7531\u4e09\u7ec4\u6743\u9650\u7ec4\u6210\uff0c\u5206\u522b\u662f\u6240\u6709\u8005\u3001\u6240\u5c5e\u7ec4\u548c\u5176\u4ed6\u4eba\u7684\u6743\u9650\u3002</p> <ul> <li>\u6240\u6709\u8005\u7684\u6743\u9650\uff1a\u8868\u793a\u6240\u6709\u8005\u5bf9\u6587\u4ef6\u7684\u64cd\u4f5c\u6743\u9650\u3002</li> <li>\u6240\u5c5e\u7ec4\u7684\u6743\u9650\uff1a\u8868\u793a\u6240\u5c5e\u7ec4\u5bf9\u6587\u4ef6\u7684\u64cd\u4f5c\u6743\u9650\u3002</li> <li>\u5176\u4ed6\u4eba\u7684\u6743\u9650\uff1a\u8868\u793a\u5176\u4ed6\u7528\u6237\u5bf9\u6587\u4ef6\u7684\u64cd\u4f5c\u6743\u9650\u3002</li> </ul> <p>\u6743\u9650\u4f4d\u7531\u4e09\u4e2a\u5b57\u7b26\u7ec4\u6210\uff0c\u6bcf\u4e2a\u5b57\u7b26\u8868\u793a\u4e00\u79cd\u6743\u9650\u3002\u6743\u9650\u7684\u542b\u4e49\u5982\u4e0b\uff1a</p> <ul> <li><code>r</code>\uff1a\u8bfb\u6743\u9650\uff0c\u8868\u793a\u53ef\u4ee5\u67e5\u770b\u6587\u4ef6\u7684\u5185\u5bb9\u3002</li> <li><code>w</code>\uff1a\u5199\u6743\u9650\uff0c\u8868\u793a\u53ef\u4ee5\u4fee\u6539\u6587\u4ef6\u7684\u5185\u5bb9\u3002</li> <li><code>x</code>\uff1a\u6267\u884c\u6743\u9650\uff0c\u8868\u793a\u53ef\u4ee5\u6267\u884c\u6587\u4ef6\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/1.linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F/#\u56db\u6587\u4ef6\u76ee\u5f55\u542b\u4e49","title":"\u56db\u3001\u6587\u4ef6\u76ee\u5f55\u542b\u4e49","text":"<p>Linux\u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\u76ee\u5f55\u7531\u4ee5\u4e0b\u51e0\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a</p> <ul> <li>\u6587\u4ef6\u7c7b\u578b\uff1a\u8868\u793a\u6587\u4ef6\u7684\u7c7b\u578b\u3002</li> <li>\u6743\u9650\uff1a\u8868\u793a\u6587\u4ef6\u7684\u6743\u9650\u3002</li> <li>\u5f15\u7528\u8ba1\u6570\uff1a\u8868\u793a\u6587\u4ef6\u7684\u786c\u94fe\u63a5\u6570\u3002</li> <li>\u6240\u6709\u8005\uff1a\u8868\u793a\u6587\u4ef6\u7684\u6240\u6709\u8005\u3002</li> <li>\u6240\u5c5e\u7ec4\uff1a\u8868\u793a\u6587\u4ef6\u7684\u6240\u5c5e\u7ec4\u3002</li> <li>\u5927\u5c0f\uff1a\u8868\u793a\u6587\u4ef6\u7684\u5927\u5c0f\u3002</li> <li>\u4fee\u6539\u65f6\u95f4\uff1a\u8868\u793a\u6587\u4ef6\u7684\u4fee\u6539\u65f6\u95f4\u3002</li> <li>\u6587\u4ef6\u540d\uff1a\u8868\u793a\u6587\u4ef6\u7684\u540d\u79f0\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/1.linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F/#\u4e94\u793a\u4f8b","title":"\u4e94\u3001\u793a\u4f8b","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f7f\u7528<code>ls</code>\u547d\u4ee4\u67e5\u770b\u6587\u4ef6\u76ee\u5f55\u7684\u793a\u4f8b\uff1a</p> Bash<pre><code>[root@localhost ~]# ls -al\ntotal 8\n-rwxrwxrwx. 1 root root 90 Nov 16 00:12 hello.sh\n</code></pre> <p>\u8be5\u547d\u4ee4\u7684\u8f93\u51fa\u8bf4\u660e\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>\u6587\u4ef6\u7c7b\u578b\uff1a<code>-</code>\u8868\u793a\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002</li> <li>\u6743\u9650\uff1a<code>rwxrwxrwx</code>\u8868\u793a\u6240\u6709\u8005\u3001\u6240\u5c5e\u7ec4\u548c\u5176\u4ed6\u4eba\u90fd\u6709\u8bfb\u3001\u5199\u3001\u6267\u884c\u6743\u9650\u3002</li> <li>\u5f15\u7528\u8ba1\u6570\uff1a<code>1</code>\u8868\u793a\u6587\u4ef6\u53ea\u6709\u4e00\u4e2a\u786c\u94fe\u63a5\u3002</li> <li>\u6240\u6709\u8005\uff1a<code>root</code>\u8868\u793a\u6587\u4ef6\u7684\u6240\u6709\u8005\u662froot\u7528\u6237\u3002</li> <li>\u6240\u5c5e\u7ec4\uff1a<code>root</code>\u8868\u793a\u6587\u4ef6\u7684\u6240\u5c5e\u7ec4\u662froot\u7ec4\u3002</li> <li>\u5927\u5c0f\uff1a<code>90</code>\u8868\u793a\u6587\u4ef6\u7684\u5927\u5c0f\u4e3a90\u5b57\u8282\u3002</li> <li>\u4fee\u6539\u65f6\u95f4\uff1a<code>Nov 16 00:12</code>\u8868\u793a\u6587\u4ef6\u7684\u4fee\u6539\u65f6\u95f4\u4e3a2023\u5e7411\u670816\u65e500\u65f612\u5206\u3002</li> <li>\u6587\u4ef6\u540d\uff1a<code>hello.sh</code>\u8868\u793a\u6587\u4ef6\u7684\u540d\u79f0\u4e3ahello.sh\u3002</li> </ul> <p>\u8865\u5145\uff1a</p> Bash<pre><code>rw-  r--  r--\nu     g    o\nu\u6240\u6709\u8005  g\u6240\u5c5e\u7ec4   o\u5176\u4ed6\u4eba\nr\u8bfb  w\u5199  x\u6267\u884c\nread   write  execute\n</code></pre> <p>\u5e0c\u671b\u8fd9\u4e9b\u8865\u5145\u80fd\u591f\u8ba9\u4f60\u66f4\u52a0\u4e86\u89e3linux\u547d\u4ee4\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/10.less%E5%91%BD%E4%BB%A4/","title":"10. less\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217 \uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660eless\u547d\u4ee4\u7528\u6cd5\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/10.less%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>less\u547d\u4ee4\u662fLinux\u7cfb\u7edf\u4e0b\u7684\u6587\u4ef6\u9010\u5c4f\u663e\u793a\u547d\u4ee4\uff0c\u7528\u4e8e\u9010\u5c4f\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u529f\u80fd\u4e0emore\u547d\u4ee4\u7c7b\u4f3c\u3002</p> <ul> <li> <p>\u82f1\u6587\u539f\u610f\uff1aopposite of more</p> </li> <li> <p>\u6240\u5728\u8def\u5f84\uff1a/usr/bin/less</p> </li> <li> <p>\u6267\u884c\u6743\u9650\uff1a\u6240\u6709\u7528\u6237</p> </li> </ul> <p>\u901a\u8fc7\u547d\u4ee4which\u53ef\u4ee5\u67e5\u770b\u5230less\u547d\u4ee4\u7684\u8def\u5f84\uff1a</p> Bash<pre><code>[root@localhost tmp]# which less\n/usr/bin/less\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/10.less%E5%91%BD%E4%BB%A4/#\u4e8c\u8bed\u6cd5","title":"\u4e8c\u3001\u8bed\u6cd5","text":"Bash<pre><code>less [\u9009\u9879] \u6587\u4ef6\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/10.less%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":"\u9009\u9879 \u8bf4\u660e -N \u663e\u793a\u884c\u53f7 -m \u663e\u793a\u7c7b\u4f3cmore\u547d\u4ee4\u7684\u767e\u5206\u6bd4 -i \u5ffd\u7565\u5927\u5c0f\u5199\uff08\u641c\u7d22\u5173\u952e\u5b57\u65f6\u7528\u5230\uff09"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/10.less%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"<p>\u4f8b1\uff1a\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9</p> Bash<pre><code>less /etc/passwd\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>root:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/sbin/nologin\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\n</code></pre> <p>\u4f8b2\uff1a\u663e\u793a\u7c7b\u4f3cmore\u547d\u4ee4\u7684\u767e\u5206\u6bd4</p> Bash<pre><code>less -m /etc/passwd\n</code></pre> <p>\u4f8b3\uff1a\u663e\u793a\u884c\u53f7</p> Bash<pre><code>less -N /etc/passwd\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>1 root:x:0:0:root:/root:/bin/bash\n2 bin:x:1:1:bin:/bin:/sbin/nologin\n3 daemon:x:2:2:daemon:/sbin:/sbin/nologin\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/10.less%E5%91%BD%E4%BB%A4/#\u4e94\u6ce8\u610f\u4e8b\u9879","title":"\u4e94\u3001\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>less\u547d\u4ee4\u53ea\u80fd\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u4e0d\u80fd\u663e\u793a\u6587\u4ef6\u7684\u72b6\u6001\u4fe1\u606f\u3002</li> <li>less\u547d\u4ee4\u7684\u8f93\u51fa\u683c\u5f0f\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u8c03\u6574\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/10.less%E5%91%BD%E4%BB%A4/#\u516d\u5feb\u6377\u952e","title":"\u516d\u3001\u5feb\u6377\u952e","text":"<p>\u5728\u4f7f\u7528less\u547d\u4ee4\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u5feb\u6377\u952e\u8fdb\u884c\u64cd\u4f5c\uff1a</p> \u5feb\u6377\u952e \u8bf4\u660e \u7a7a\u683c\u952e \u5411\u4e0b\u7ffb\u4e00\u884c\u3002 b \u5411\u4e0a\u7ffb\u4e00\u884c\u3002 \u56de\u8f66\u952e \u5411\u4e0b\u7ffb\u4e00\u5c4f\u3002 q \u9000\u51faless\u547d\u4ee4\u3002 / \u67e5\u627e\u6307\u5b9a\u5b57\u7b26\u4e32\u3002 n \u91cd\u590d\u4e0a\u6b21\u67e5\u627e\u3002 ? \u67e5\u627e\u6307\u5b9a\u5b57\u7b26\u4e32\uff08\u9006\u5411\u67e5\u627e\uff09\u3002 <p>\u4f7f\u7528less\u547d\u4ee4\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5feb\u6377\u952e\u6765\u8fdb\u884c\u64cd\u4f5c\uff0c\u65b9\u4fbf\u5feb\u6377\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/11.head%E5%91%BD%E4%BB%A4/","title":"11. head\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217 \uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660ehead\u547d\u4ee4\u7528\u6cd5\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/11.head%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>head\u547d\u4ee4\u662f\u4e00\u4e2a\u5e38\u7528\u7684Linux\u547d\u4ee4\uff0c\u7528\u4e8e\u663e\u793a\u6587\u4ef6\u7684\u524d\u51e0\u884c\u5185\u5bb9\u3002\u5b83\u7684\u82f1\u6587\u539f\u610f\u662f\u201doutput the first part of files\u201d\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5feb\u901f\u67e5\u770b\u6587\u4ef6\u7684\u5f00\u5934\u90e8\u5206\u3002</p> <ul> <li>\u82f1\u6587\u539f\u610f\uff1aoutput the first part of files</li> <li>\u6240\u5728\u8def\u5f84\uff1a/usr/bin/head</li> <li>\u6267\u884c\u6743\u9650\uff1a\u6240\u6709\u7528\u6237</li> </ul> <p>\u901a\u8fc7\u547d\u4ee4which\u53ef\u4ee5\u67e5\u770b\u5230head\u547d\u4ee4\u7684\u8def\u5f84\uff1a</p> Bash<pre><code>[root@chatgpt-test tmp]# which head\n/usr/bin/head\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/11.head%E5%91%BD%E4%BB%A4/#\u4e8c\u8bed\u6cd5","title":"\u4e8c\u3001\u8bed\u6cd5","text":"Bash<pre><code>head [\u9009\u9879] \u6587\u4ef6\u540d\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/11.head%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":"\u9009\u9879 \u8bf4\u660e -n \u884c\u6570 \u4ece\u6587\u4ef6\u5934\u5f00\u59cb\uff0c\u663e\u793a\u6307\u5b9a\u884c\u6570\uff0c\u9ed8\u8ba4\u4e3a\u663e\u793a\u524d10\u884c\u3002 -v \u663e\u793a\u6587\u4ef6\u540d\u3002"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/11.head%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"<p>\u4f8b1\uff1a\u663e\u793a\u6587\u4ef6\u5f00\u5934\u768410\u884c</p> Bash<pre><code>head \u6587\u4ef6\u540d\n</code></pre> <p>\u4f8b2\uff1a\u663e\u793a\u6587\u4ef6\u5f00\u5934\u768420\u884c</p> Bash<pre><code>head -n 20 \u6587\u4ef6\u540d\n</code></pre> <p>\u4f8b3\uff1a\u663e\u793a\u6587\u4ef6\u5f00\u5934\u768410\u884c\uff0c\u5e76\u663e\u793a\u6587\u4ef6\u540d</p> Bash<pre><code>head -v test.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>==&gt; test.txt &lt;==\nHello world\nMy name is josh.\n</code></pre> <p>\u4f8b4\uff1a\u901a\u8fc7head\u5e2e\u52a9\u547d\u4ee4\uff0c\u67e5\u770b\u66f4\u591a\u9009\u9879</p> Bash<pre><code>[root@chatgpt-test tmp]# man head\n\nNAME\n       head - output the first part of files\n\nSYNOPSIS\n       head [OPTION]... [FILE]...\n\nDESCRIPTION\n       Print  the  first 10 lines of each FILE to standard output.  With more than one FILE, precede each with a header giving the file\n       name.  With no FILE, or when FILE is -, read standard input.\n\n       Mandatory arguments to long options are mandatory for short options too.\n\n       -c, --bytes=[-]K\n              print the first K bytes of each file; with the leading '-', print all but the last K bytes of each file\n\n       -n, --lines=[-]K\n              print the first K lines instead of the first 10; with the leading '-', print all but the last K lines of each file\n\n       -q, --quiet, --silent\n              never print headers giving file names\n\n       -v, --verbose\n              always print headers giving file names\n\n       --help display this help and exit\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/11.head%E5%91%BD%E4%BB%A4/#\u4e94\u5b9e\u9645\u5e94\u7528","title":"\u4e94\u3001\u5b9e\u9645\u5e94\u7528","text":"<p>head\u547d\u4ee4\u5728\u65e5\u5e38\u7684Linux\u7cfb\u7edf\u7ba1\u7406\u548c\u6587\u4ef6\u5904\u7406\u4e2d\u975e\u5e38\u6709\u7528\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u5e94\u7528\u573a\u666f\uff1a</p> <ul> <li>\u67e5\u770b\u65e5\u5fd7\u6587\u4ef6\u7684\u524d\u51e0\u884c\uff0c\u4ee5\u4e86\u89e3\u6587\u4ef6\u7684\u5185\u5bb9\u548c\u7ed3\u6784\u3002</li> <li>\u5feb\u901f\u6d4f\u89c8\u5927\u578b\u6587\u672c\u6587\u4ef6\u7684\u5f00\u5934\u90e8\u5206\uff0c\u4ee5\u786e\u5b9a\u6587\u4ef6\u7684\u683c\u5f0f\u548c\u5185\u5bb9\u3002</li> <li>\u9884\u89c8\u914d\u7f6e\u6587\u4ef6\u7684\u5f00\u5934\u90e8\u5206\uff0c\u4ee5\u67e5\u770b\u6587\u4ef6\u7684\u914d\u7f6e\u4fe1\u606f\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/11.head%E5%91%BD%E4%BB%A4/#\u516d\u5c0f\u7ed3","title":"\u516d\u3001\u5c0f\u7ed3","text":"<p>\u901a\u8fc7\u672c\u6587\uff0c\u6211\u4eec\u4e86\u89e3\u4e86head\u547d\u4ee4\u7684\u57fa\u672c\u7528\u6cd5\u548c\u5e38\u89c1\u9009\u9879\u3002\u5b83\u662f\u4e00\u4e2a\u65b9\u4fbf\u5b9e\u7528\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5feb\u901f\u67e5\u770b\u6587\u4ef6\u7684\u524d\u51e0\u884c\u5185\u5bb9\u3002\u5728\u65e5\u5e38\u7684Linux\u7cfb\u7edf\u7ba1\u7406\u548c\u6587\u4ef6\u5904\u7406\u4e2d\uff0chead\u547d\u4ee4\u662f\u4e00\u4e2a\u5fc5\u5907\u7684\u5de5\u5177\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/12.file%E5%91%BD%E4%BB%A4/","title":"12. file\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217 \uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660ehead\u547d\u4ee4\u7528\u6cd5\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/12.file%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>file\u547d\u4ee4\u662fLinux\u7cfb\u7edf\u4e0b\u7684\u6587\u4ef6\u7c7b\u578b\u8bc6\u522b\u547d\u4ee4\uff0c\u7528\u4e8e\u8bc6\u522b\u6587\u4ef6\u7684\u7c7b\u578b\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/12.file%E5%91%BD%E4%BB%A4/#\u4e8c\u8bed\u6cd5","title":"\u4e8c\u3001\u8bed\u6cd5","text":"Text Only<pre><code>file [\u9009\u9879] \u6587\u4ef6\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/12.file%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":"\u9009\u9879 \u8bf4\u660e <code>-b</code> \u5217\u51fa\u8fa8\u8bc6\u7ed3\u679c\u65f6\uff0c\u4e0d\u663e\u793a\u6587\u4ef6\u540d\u79f0\u3002 <code>-c</code> \u8be6\u7ec6\u663e\u793a\u6307\u4ee4\u6267\u884c\u8fc7\u7a0b\uff0c\u4fbf\u4e8e\u6392\u9519\u6216\u5206\u6790\u7a0b\u5e8f\u6267\u884c\u7684\u60c5\u5f62\u3002 <code>-f&lt;\u540d\u79f0\u6587\u4ef6&gt;</code> \u6307\u5b9a\u540d\u79f0\u6587\u4ef6\uff0c\u5176\u5185\u5bb9\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\u540d\u79f0\u65f6\uff0c\u8ba9 <code>file</code> \u4f9d\u5e8f\u8fa8\u8bc6\u8fd9\u4e9b\u6587\u4ef6\uff0c\u683c\u5f0f\u4e3a\u6bcf\u5217\u4e00\u4e2a\u6587\u4ef6\u540d\u79f0\u3002 <code>-L</code> \u76f4\u63a5\u663e\u793a\u7b26\u53f7\u8fde\u63a5\u6240\u6307\u5411\u7684\u6587\u4ef6\u7684\u7c7b\u522b\u3002 <code>-m&lt;\u9b54\u6cd5\u6570\u5b57\u6587\u4ef6&gt;</code> \u6307\u5b9a\u9b54\u6cd5\u6570\u5b57\u6587\u4ef6\u3002 <code>-v</code> \u663e\u793a\u7248\u672c\u4fe1\u606f\u3002 <code>-z</code> \u5c1d\u8bd5\u53bb\u89e3\u8bfb\u538b\u7f29\u6587\u4ef6\u7684\u5185\u5bb9\u3002 \u53c2\u6570 \u8bf4\u660e <code>[\u6587\u4ef6\u6216\u76ee\u5f55...]</code> \u8981\u786e\u5b9a\u7c7b\u578b\u7684\u6587\u4ef6\u5217\u8868\uff0c\u591a\u4e2a\u6587\u4ef6\u4e4b\u95f4\u4f7f\u7528\u7a7a\u683c\u5206\u5f00\uff0c\u53ef\u4ee5\u4f7f\u7528 shell \u901a\u914d\u7b26\u5339\u914d\u591a\u4e2a\u6587\u4ef6\u3002"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/12.file%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"<p>1.\u5217\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\u7684\u7c7b\u578b</p> Text Only<pre><code>file *\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>anaconda-ks.cfg:                      ASCII text\nfile_backup:                          directory\nfrp_0.32.1_linux_amd64.tar.gz:        gzip compressed data, from Unix, last modified: Fri Apr  3 01:32:50 2020\nfrp_0.35.1_linux_amd64.tar.gz:        gzip compressed data, from Unix, last modified: Mon Jan 25 16:25:11 2021\nnginx-1.21.6.tar.gz:                  gzip compressed data, from Unix, last modified: Tue Jan 25 23:04:02 2022\nnginx-1.22.1.tar.gz:                  gzip compressed data, from Unix, last modified: Wed Oct 19 16:02:28 2022\n</code></pre> <p>2.\u5217\u51fa\u6307\u5b9a\u6587\u4ef6\u7684\u7c7b\u578b</p> Bash<pre><code>file /etc/passwd\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>/etc/passwd: ASCII text\n</code></pre> <p>3.\u4f7f\u7528\u9b54\u6cd5\u6570\u5b57\u6587\u4ef6\u6307\u5b9a\u6587\u4ef6\u7c7b\u578b</p> Bash<pre><code>file -m /etc/magic /etc/passwd\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>/etc/passwd: ASCII text\n</code></pre> <p>4.\u4f7f\u7528\u7b26\u53f7\u8fde\u63a5\u7684\u6587\u4ef6\u7684\u7c7b\u578b</p> Bash<pre><code>file -L /usr/bin/ls\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>/usr/bin/ls: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.32, BuildID[sha1]=c8ada1f7095f6b2bb7ddc848e088c2d615c3743e, stripped\n</code></pre> <p>5.\u663e\u793a\u7248\u672c\u4fe1\u606f</p> Bash<pre><code>file -v\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>file-5.11\nmagic file from /etc/magic:/usr/share/misc/magic\n</code></pre> <p>6.\u5c1d\u8bd5\u53bb\u89e3\u8bfb\u538b\u7f29\u6587\u4ef6\u7684\u5185\u5bb9</p> Bash<pre><code>file -z nginx-1.22.1.tar.gz \n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>nginx-1.22.1.tar.gz: POSIX tar archive (gzip compressed data, from Unix, last modified: Wed Oct 19 16:02:28 2022)\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/12.file%E5%91%BD%E4%BB%A4/#\u4e94file\u547d\u4ee4\u7684\u4f7f\u7528\u6280\u5de7","title":"\u4e94\u3001file\u547d\u4ee4\u7684\u4f7f\u7528\u6280\u5de7","text":"<ul> <li>\u4f7f\u7528file\u547d\u4ee4\u53ef\u4ee5\u5feb\u901f\u8bc6\u522b\u6587\u4ef6\u7c7b\u578b\uff0c\u907f\u514d\u8bef\u64cd\u4f5c\u3002</li> <li>\u4f7f\u7528file\u547d\u4ee4\u7684\u9009\u9879\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u66f4\u7cbe\u7ec6\u7684\u8bc6\u522b\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/13.tac%E5%91%BD%E4%BB%A4/","title":"13. tac\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217 \uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660ehead\u547d\u4ee4\u7528\u6cd5\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/13.tac%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>tac\u547d\u4ee4\u662f\u4e00\u4e2a\u5e38\u7528\u7684Linux\u547d\u4ee4\uff0c\u7528\u4e8e\u9006\u5e8f\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9\u3002\u5b83\u7684\u82f1\u6587\u539f\u610f\u662f\u201dconcatenate and print files in reverse\u201d\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5c06\u6587\u4ef6\u7684\u5185\u5bb9\u4ece\u672b\u5c3e\u5f00\u59cb\u9010\u884c\u663e\u793a\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/13.tac%E5%91%BD%E4%BB%A4/#\u4e8c\u8bed\u6cd5","title":"\u4e8c\u3001\u8bed\u6cd5","text":"Bash<pre><code>tac [\u9009\u9879] \u6587\u4ef6\u540d\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/13.tac%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":"\u9009\u9879 \u8bf4\u660e <code>-b</code> \u5c06\u5206\u9694\u7b26\u9644\u52a0\u5728\u4e4b\u524d\u800c\u4e0d\u662f\u4e4b\u540e <code>-r</code> \u5c06\u5206\u9694\u7b26\u89e3\u91ca\u4e3a\u6b63\u5219\u8868\u8fbe\u5f0f <code>-s</code> \u4f7f\u7528 STRING \u4f5c\u4e3a\u5206\u9694\u7b26\u800c\u4e0d\u662f\u6362\u884c\u7b26 <code>--help</code> \u663e\u793a\u5e2e\u52a9\u4fe1\u606f <code>--version</code> \u663e\u793a\u7248\u672c\u4fe1\u606f"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/13.tac%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"<p>\u4f8b1\uff1a\u9006\u5e8f\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9</p> Bash<pre><code>tac /etc/passwd\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>ntp:x:38:38::/etc/ntp:/sbin/nologin\nchrony:x:998:996::/var/lib/chrony:/sbin/nologin\n...\n</code></pre> <p>\u4f8b2\uff1a\u53cd\u5411\u663e\u793a\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\u7684\u5185\u5bb9</p> Bash<pre><code>echo 111 &gt;test1.txt\necho 222 &gt;test2.txt\n\ntac *\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>111\n222\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/13.tac%E5%91%BD%E4%BB%A4/#\u4e94\u5b9e\u9645\u5e94\u7528","title":"\u4e94\u3001\u5b9e\u9645\u5e94\u7528","text":"<p>tac\u547d\u4ee4\u5728\u65e5\u5e38\u7684Linux\u7cfb\u7edf\u7ba1\u7406\u548c\u6587\u4ef6\u5904\u7406\u4e2d\u975e\u5e38\u6709\u7528\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u5e94\u7528\u573a\u666f\uff1a</p> <ul> <li>\u67e5\u770b\u65e5\u5fd7\u6587\u4ef6\u7684\u6700\u65b0\u65e5\u5fd7\uff0c\u4ee5\u4e86\u89e3\u6700\u8fd1\u7684\u64cd\u4f5c\u548c\u4e8b\u4ef6\u3002</li> <li>\u9006\u5e8f\u6d4f\u89c8\u5927\u578b\u6587\u672c\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u4ee5\u67e5\u627e\u7279\u5b9a\u884c\u6216\u5173\u952e\u8bcd\u3002</li> <li>\u67e5\u770b\u5386\u53f2\u8bb0\u5f55\u6587\u4ef6\u7684\u6700\u65b0\u8bb0\u5f55\uff0c\u4ee5\u4e86\u89e3\u7528\u6237\u7684\u64cd\u4f5c\u5386\u53f2\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/13.tac%E5%91%BD%E4%BB%A4/#\u516d\u5c0f\u7ed3","title":"\u516d\u3001\u5c0f\u7ed3","text":"<p>\u901a\u8fc7\u672c\u6587\uff0c\u6211\u4eec\u4e86\u89e3\u4e86tac\u547d\u4ee4\u7684\u57fa\u672c\u7528\u6cd5\u548c\u5e38\u89c1\u5e94\u7528\u573a\u666f\u3002\u5b83\u662f\u4e00\u4e2a\u975e\u5e38\u5b9e\u7528\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u9006\u5e8f\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9\u3002\u5728\u65e5\u5e38\u7684Linux\u7cfb\u7edf\u7ba1\u7406\u548c\u6587\u4ef6\u5904\u7406\u4e2d\uff0ctac\u547d\u4ee4\u662f\u4e00\u4e2a\u6709\u7528\u7684\u5de5\u5177\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/14.cd%E5%91%BD%E4%BB%A4/","title":"14. cd\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217 \uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660ecd\u547d\u4ee4\u7528\u6cd5\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/14.cd%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>cd\u547d\u4ee4\u662fLinux\u7cfb\u7edf\u4e0b\u7684\u5207\u6362\u76ee\u5f55\u547d\u4ee4\uff0c\u7528\u4e8e\u5207\u6362\u5230\u6307\u5b9a\u7684\u76ee\u5f55\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/14.cd%E5%91%BD%E4%BB%A4/#\u4e8c\u8bed\u6cd5","title":"\u4e8c\u3001\u8bed\u6cd5","text":"Bash<pre><code>cd \u76ee\u5f55\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/14.cd%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":"\u53c2\u6570 \u8bf4\u660e \u76ee\u5f55 \u8981\u5207\u6362\u5230\u7684\u76ee\u5f55\u3002"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/14.cd%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"<p>\u4f8b1\uff1a\u5207\u6362\u5230\u5f53\u524d\u7528\u6237\u7684\u5bb6\u76ee\u5f55</p> Bash<pre><code>cd\n\n# pwd\u67e5\u770b\u5f53\u524d\u8def\u5f84\npwd\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>/root\n</code></pre> <p>\u4f8b2\uff1a\u5207\u6362\u5230\u6307\u5b9a\u7684\u76ee\u5f55</p> Bash<pre><code>cd /etc\npwd\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>/etc\n</code></pre> <p>\u4f8b3\uff1a\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u5207\u6362\u76ee\u5f55</p> Bash<pre><code>cd /usr/local/src\npwd\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>/usr/local/src\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/14.cd%E5%91%BD%E4%BB%A4/#\u4e94\u5176\u4ed6\u8bf4\u660e","title":"\u4e94\u3001\u5176\u4ed6\u8bf4\u660e","text":"<ul> <li>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0ccd\u547d\u4ee4\u4f1a\u5207\u6362\u5230\u5f53\u524d\u7528\u6237\u7684\u5bb6\u76ee\u5f55\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\u6216\u7edd\u5bf9\u8def\u5f84\u6307\u5b9a\u8981\u5207\u6362\u7684\u76ee\u5f55\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2acd\u547d\u4ee4\u6765\u5207\u6362\u591a\u4e2a\u76ee\u5f55\u3002</li> <li>cd\u547d\u4ee4\u53ef\u4ee5\u7528\u4e8e\u5207\u6362\u5230\u5f53\u524d\u7528\u6237\u7684\u4efb\u4f55\u76ee\u5f55\uff0c\u5305\u62ec\u5176\u4ed6\u7528\u6237\u7684\u76ee\u5f55\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528pwd\u547d\u4ee4\u6765\u67e5\u770b\u5f53\u524d\u76ee\u5f55\u7684\u8def\u5f84\u3002</li> <li>\u4f7f\u7528cd\u547d\u4ee4\u65f6\uff0c\u5982\u679c\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u521b\u5efa\u8be5\u76ee\u5f55\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/15.mkdir%E5%91%BD%E4%BB%A4/","title":"15. mkdir\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217 \uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660emkdir\u547d\u4ee4\u7528\u6cd5\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/15.mkdir%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>mkdir\u547d\u4ee4\u662fLinux\u7cfb\u7edf\u4e0b\u7684\u76ee\u5f55\u521b\u5efa\u547d\u4ee4\uff0c\u7528\u4e8e\u521b\u5efa\u6307\u5b9a\u7684\u76ee\u5f55\u3002</p> <ul> <li>\u82f1\u6587\u539f\u610f\uff1amake directories</li> <li>\u6240\u5728\u8def\u5f84\uff1a/bin/mkdir</li> <li>\u6267\u884c\u6743\u9650\uff1a\u6240\u6709\u7528\u6237</li> </ul> <p>\u901a\u8fc7\u547d\u4ee4which\u53ef\u4ee5\u67e5\u770b\u5230mkdir\u547d\u4ee4\u7684\u8def\u5f84\uff1a Bash<pre><code>[root@localhost /]# which mkdir\n/usr/bin/mkdir\n</code></pre></p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/15.mkdir%E5%91%BD%E4%BB%A4/#\u4e8c\u8bed\u6cd5","title":"\u4e8c\u3001\u8bed\u6cd5","text":"Bash<pre><code>mkdir [\u9009\u9879] \u76ee\u5f55\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/15.mkdir%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":"\u53c2\u6570 \u8bf4\u660e \u76ee\u5f55 \u8981\u521b\u5efa\u7684\u76ee\u5f55\u3002 <p>\u547d\u4ee4\u9009\u9879\uff1a</p> \u9009\u9879 \u8bf4\u660e -p \u9012\u5f52\u521b\u5efa\u76ee\u5f55\u3002"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/15.mkdir%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"<p>\u4f8b1\uff1a\u5728tmp\u76ee\u5f55\u521b\u5efa\u4e00\u4e2atest\u6587\u4ef6\u5939</p> Bash<pre><code>cd /tmp\nmkdir test\n</code></pre> <p>\u8fdb\u5165test\u76ee\u5f55\uff1a Bash<pre><code>cd test\n</code></pre> \u67e5\u770b\u76ee\u5f55\u8def\u5f84\uff1a Bash<pre><code>pwd\n</code></pre></p> <p>\u4f8b2\uff1a\u5728/tmp\u76ee\u5f55\uff0c\u9012\u5f52\u521b\u5efa\u4e00\u4e2a/Nginx/conf/html\u76ee\u5f55</p> Bash<pre><code>mkdir -p /tmp/Nginx/conf/html\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/15.mkdir%E5%91%BD%E4%BB%A4/#\u4e94\u6ce8\u610f\u4e8b\u9879","title":"\u4e94\u3001\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cmkdir\u547d\u4ee4\u4f1a\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684\u76ee\u5f55\u3002</p> </li> <li> <p>\u53ef\u4ee5\u4f7f\u7528\u9009\u9879 -p \u9012\u5f52\u521b\u5efa\u76ee\u5f55\u3002</p> </li> </ul> <p>mkdir\u547d\u4ee4\u7684\u4f7f\u7528\u6280\u5de7</p> <ul> <li>\u4f7f\u7528mkdir\u547d\u4ee4\u53ef\u4ee5\u65b9\u4fbf\u5730\u521b\u5efa\u76ee\u5f55\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528\u9009\u9879 -p \u9012\u5f52\u521b\u5efa\u76ee\u5f55\uff0c\u65b9\u4fbf\u521b\u5efa\u591a\u7ea7\u76ee\u5f55\u3002</li> <li>mkdir\u547d\u4ee4\u53ef\u4ee5\u7528\u4e8e\u521b\u5efa\u5305\u542b\u5206\u9694\u7b26\u7684\u76ee\u5f55\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528\u7ba1\u9053\u5c06mkdir\u547d\u4ee4\u7684\u8f93\u51fa\u8fde\u63a5\u5230\u5176\u4ed6\u547d\u4ee4\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/16.tree%E5%91%BD%E4%BB%A4/","title":"16. tree\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217 \uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660etree\u547d\u4ee4\u7528\u6cd5\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/16.tree%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>tree\u547d\u4ee4\u662fLinux\u7cfb\u7edf\u4e0b\u7684\u76ee\u5f55\u6811\u663e\u793a\u547d\u4ee4\uff0c\u7528\u4e8e\u4ee5\u6811\u72b6\u7ed3\u6784\u663e\u793a\u6307\u5b9a\u7684\u76ee\u5f55\u53ca\u5176\u5b50\u76ee\u5f55\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/16.tree%E5%91%BD%E4%BB%A4/#\u4e8c\u8bed\u6cd5","title":"\u4e8c\u3001\u8bed\u6cd5","text":"Bash<pre><code>tree [\u9009\u9879] \u76ee\u5f55\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/16.tree%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":"\u53c2\u6570 \u8bf4\u660e \u76ee\u5f55 \u8981\u663e\u793a\u7684\u76ee\u5f55\u3002 <p>\u547d\u4ee4\u9009\u9879\uff1a</p> \u9009\u9879 \u8bf4\u660e -a \u663e\u793a\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\u3002 -d \u4ec5\u663e\u793a\u76ee\u5f55\u3002 -f \u4f7f\u7528\u6587\u4ef6\u540d\u3002 -F \u4f7f\u7528\u6587\u4ef6\u7c7b\u578b\u3002 -h \u4f7f\u7528\u4eba\u7c7b\u53ef\u8bfb\u7684\u6587\u4ef6\u5927\u5c0f\u3002 -L \u6570\u5b57 \u663e\u793a\u6307\u5b9a\u6df1\u5ea6\u7684\u5b50\u76ee\u5f55\u3002 -l \u6570\u5b57 \u663e\u793a\u6307\u5b9a\u5bbd\u5ea6\u7684\u6587\u4ef6\u540d\u3002 -r \u4ee5\u5012\u5e8f\u663e\u793a\u76ee\u5f55\u6811\u3002 -s \u663e\u793a\u6587\u4ef6\u7684\u5927\u5c0f\u3002 -t \u6309\u6587\u4ef6\u7c7b\u578b\u6392\u5e8f\u3002 -u \u663e\u793a\u6587\u4ef6\u7684\u6700\u540e\u4fee\u6539\u65f6\u95f4\u3002 -x \u663e\u793a\u76ee\u5f55\u7684\u6743\u9650\u3002"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/16.tree%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"<p>\u5b89\u88c5tree\u547d\u4ee4</p> <p>\u5982\u679c\u662f\u6700\u5c0f\u5316\u5b89\u88c5\uff0c\u4f7f\u7528\u65f6\uff0c\u4f1a\u6709\u9519\u8bef\u63d0\u793a\uff0c\u5219\u9700\u8981\u5b89\u88c5\u8be5\u547d\u4ee4\uff1a</p> Bash<pre><code>[root@localhost src]# tree\n-bash: tree: command not found\n</code></pre> <p>\u5b89\u88c5tree\uff1a</p> Bash<pre><code>yum -y install tree\n</code></pre> <p>\u4f8b1\uff1a\u663e\u793a\u6240\u6709\u76ee\u5f55\u548c\u6587\u4ef6</p> Bash<pre><code>tree -a\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>.\n\u251c\u2500\u2500 bin\n\u2502   \u251c\u2500\u2500 cat\n\u2502   \u251c\u2500\u2500 ls\n\u2502   \u2514\u2500\u2500 mkdir\n\u2514\u2500\u2500 etc\n    \u251c\u2500\u2500 passwd\n    \u251c\u2500\u2500 shadow\n    \u2514\u2500\u2500 group\n</code></pre> <p>\u4f8b2\uff1a\u4ec5\u663e\u793a\u76ee\u5f55</p> Bash<pre><code>tree -d\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>.\n\u2514\u2500\u2500 scripts\n    \u2514\u2500\u2500 20231117\n        \u2514\u2500\u2500 tmp\n            \u2514\u2500\u2500 backup\n\n4 directories\n</code></pre> <p>\u4f8b3\uff1a\u663e\u793a\u6240\u6709\u76ee\u5f55\u548c\u6587\u4ef6\uff0c\u4f7f\u7528\u4eba\u7c7b\u53ef\u8bfb\u7684\u6587\u4ef6\u5927\u5c0f</p> Bash<pre><code>tree -a -h\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>.\n\u251c\u2500\u2500 [  46]  1.sh\n\u2514\u2500\u2500 [  22]  scripts\n    \u2514\u2500\u2500 [4.0K]  20231117\n        \u251c\u2500\u2500 [ 344]  13.sh\n        \u251c\u2500\u2500 [  97]  14.sh\n        \u251c\u2500\u2500 [ 257]  15.sh\n        \u251c\u2500\u2500 [   0]  3\n        \u251c\u2500\u2500 [ 119]  6.sh\n        \u251c\u2500\u2500 [  64]  7.sh\n        \u251c\u2500\u2500 [  63]  8.sh\n        \u251c\u2500\u2500 [  56]  9.sh\n        \u251c\u2500\u2500 [  14]  file1.txt\n        \u251c\u2500\u2500 [  14]  file1.txt_20231117\n        \u251c\u2500\u2500 [ 548]  file.txt\n        \u251c\u2500\u2500 [ 548]  file.txt_20231117\n        \u251c\u2500\u2500 [ 562]  new_file.txt\n        \u251c\u2500\u2500 [ 562]  new_file.txt_20231117\n        \u251c\u2500\u2500 [ 563]  shadow\n        \u251c\u2500\u2500 [  26]  test.txt\n        \u251c\u2500\u2500 [  26]  test.txt_20231117\n        \u2514\u2500\u2500 [  20]  tmp\n            \u2514\u2500\u2500 [   6]  backup\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/16.tree%E5%91%BD%E4%BB%A4/#\u4e94tree\u547d\u4ee4\u7684\u4f7f\u7528\u6280\u5de7","title":"\u4e94\u3001tree\u547d\u4ee4\u7684\u4f7f\u7528\u6280\u5de7","text":"<ul> <li>\u4f7f\u7528tree\u547d\u4ee4\u53ef\u4ee5\u65b9\u4fbf\u5730\u67e5\u770b\u76ee\u5f55\u6811\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528\u9009\u9879 -a \u663e\u793a\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\uff0c\u65b9\u4fbf\u67e5\u770b\u6240\u6709\u5185\u5bb9\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528\u9009\u9879 -d \u4ec5\u663e\u793a\u76ee\u5f55\uff0c\u65b9\u4fbf\u67e5\u770b\u76ee\u5f55\u7ed3\u6784\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u9009\u9879\u6765\u63a7\u5236\u663e\u793a\u683c\u5f0f\uff0c\u65b9\u4fbf\u6ee1\u8db3\u4e0d\u540c\u9700\u6c42\u3002</li> <li>tree\u547d\u4ee4\u53ef\u4ee5\u7528\u4e8e\u663e\u793a\u5305\u542b\u5206\u9694\u7b26\u7684\u76ee\u5f55\u6811\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528\u7ba1\u9053\u5c06tree\u547d\u4ee4\u7684\u8f93\u51fa\u8fde\u63a5\u5230\u5176\u4ed6\u547d\u4ee4\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/17.nmap%E5%91%BD%E4%BB%A4/","title":"17. nmap\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217 \uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660enmap\u547d\u4ee4\u7528\u6cd5\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/17.nmap%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>nmap \u662f\u4e00\u6b3e\u5f3a\u5927\u7684\u7f51\u7edc\u626b\u63cf\u548c\u4e3b\u673a\u53d1\u73b0\u5de5\u5177\uff0c\u7528\u4e8e\u63a2\u6d4b\u7f51\u7edc\u4e2d\u7684\u4e3b\u673a\u548c\u5f00\u653e\u7684\u7aef\u53e3\u3002\u5b83\u53ef\u4ee5\u5e2e\u52a9\u7cfb\u7edf\u7ba1\u7406\u5458\u8bc4\u4f30\u7f51\u7edc\u7684\u5b89\u5168\u6027\uff0c\u67e5\u627e\u6f5c\u5728\u7684\u6f0f\u6d1e\uff0c\u5e76\u8fdb\u884c\u7f51\u7edc\u6620\u5c04\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/17.nmap%E5%91%BD%E4%BB%A4/#\u4e8c\u5b89\u88c5nmap","title":"\u4e8c\u3001\u5b89\u88c5nmap","text":"<p>\u5728\u5927\u591a\u6570 Linux \u53d1\u884c\u7248\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u5305\u7ba1\u7406\u5668\u6765\u5b89\u88c5 nmap\u3002\u4ee5\u4e0b\u662f\u4f7f\u7528 yum \u5305\u7ba1\u7406\u5668\u5b89\u88c5 nmap \u7684\u547d\u4ee4\uff1a</p> Bash<pre><code>yum install -y nmap\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/17.nmap%E5%91%BD%E4%BB%A4/#\u4e09nmap\u5e38\u7528\u547d\u4ee4\u793a\u4f8b","title":"\u4e09\u3001nmap\u5e38\u7528\u547d\u4ee4\u793a\u4f8b","text":"<p>\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u7528\u7684 nmap \u547d\u4ee4\u793a\u4f8b\uff1a</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/17.nmap%E5%91%BD%E4%BB%A4/#1\u627e\u51fa\u67d0\u7f51\u7edc\u4e2d\u7684\u5728\u7ebf\u4e3b\u673a","title":"1.\u627e\u51fa\u67d0\u7f51\u7edc\u4e2d\u7684\u5728\u7ebf\u4e3b\u673a","text":"<p>\u4f7f\u7528 <code>-sP</code> \u53c2\u6570\u53ef\u4ee5\u5feb\u901f\u5730\u627e\u51fa\u67d0\u4e2a\u7f51\u7edc\u4e2d\u7684\u5728\u7ebf\u4e3b\u673a\uff1a</p> Python<pre><code>nmap -sP 10.0.0.*\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/17.nmap%E5%91%BD%E4%BB%A4/#2\u626b\u63cf\u76ee\u6807\u4e3b\u673a\u6307\u5b9a\u7aef\u53e3\u53ca\u534f\u8bae","title":"2.\u626b\u63cf\u76ee\u6807\u4e3b\u673a\u6307\u5b9a\u7aef\u53e3\u53ca\u534f\u8bae","text":"<p>\u4f7f\u7528 <code>-p</code> \u53c2\u6570\u53ef\u4ee5\u626b\u63cf\u76ee\u6807\u4e3b\u673a\u7684\u6307\u5b9a\u7aef\u53e3\u53ca\u534f\u8bae\u3002\u4ee5\u4e0b\u793a\u4f8b\u626b\u63cf\u76ee\u6807\u4e3b\u673a <code>10.0.0.35</code> \u7684\u7aef\u53e3 53 (UDP)\u3001135 (TCP)\u300180 (TCP)\u300122 (TCP)\u3001135 (TCP) \u548c 445 (TCP)\uff1a</p> Python<pre><code>nmap -p U:53,135,T:80,22,135,445 10.0.0.35 \n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/17.nmap%E5%91%BD%E4%BB%A4/#3\u626b\u63cf\u67d0\u7f51\u6bb5\u5185\u4e3b\u673a","title":"3.\u626b\u63cf\u67d0\u7f51\u6bb5\u5185\u4e3b\u673a","text":"<p>\u53ef\u4ee5\u4f7f\u7528 <code>nmap</code> \u626b\u63cf\u67d0\u4e2a\u7f51\u6bb5\u5185\u7684\u4e3b\u673a\u3002\u4ee5\u4e0b\u793a\u4f8b\u626b\u63cf\u7f51\u6bb5 <code>192.168.0.0/24</code> \u5185\u7684\u4e3b\u673a\uff1a</p> Bash<pre><code>nmap 192.168.0.0/24\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/17.nmap%E5%91%BD%E4%BB%A4/#4\u63a2\u6d4b\u76ee\u6807\u4e3b\u673a\u5f53\u524d\u5f00\u653e\u7aef\u53e3","title":"4.\u63a2\u6d4b\u76ee\u6807\u4e3b\u673a\u5f53\u524d\u5f00\u653e\u7aef\u53e3","text":"<p>\u4f7f\u7528 <code>-PS</code> \u53c2\u6570\u53ef\u4ee5\u63a2\u6d4b\u76ee\u6807\u4e3b\u673a\u5f53\u524d\u5f00\u653e\u7684\u7aef\u53e3\uff1a</p> Bash<pre><code>nmap -PS &lt;\u76ee\u6807\u4e3b\u673aIP\u5730\u5740&gt; \n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/17.nmap%E5%91%BD%E4%BB%A4/#\u56db\u603b\u7ed3","title":"\u56db\u3001\u603b\u7ed3","text":"<p>nmap \u662f\u4e00\u6b3e\u529f\u80fd\u5f3a\u5927\u7684\u7f51\u7edc\u626b\u63cf\u548c\u4e3b\u673a\u53d1\u73b0\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u52a9\u7cfb\u7edf\u7ba1\u7406\u5458\u8bc4\u4f30\u7f51\u7edc\u5b89\u5168\u6027\u3001\u67e5\u627e\u6f5c\u5728\u6f0f\u6d1e\u548c\u8fdb\u884c\u7f51\u7edc\u6620\u5c04\u3002\u672c\u7bc7\u535a\u5ba2\u4ecb\u7ecd\u4e86 nmap \u7684\u5b89\u88c5\u65b9\u6cd5\uff0c\u5e76\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u547d\u4ee4\u793a\u4f8b\uff0c\u5305\u62ec\u627e\u51fa\u5728\u7ebf\u4e3b\u673a\u3001\u626b\u63cf\u6307\u5b9a\u7aef\u53e3\u548c\u534f\u8bae\u3001\u626b\u63cf\u7f51\u6bb5\u5185\u4e3b\u673a\u4ee5\u53ca\u63a2\u6d4b\u76ee\u6807\u4e3b\u673a\u5f00\u653e\u7aef\u53e3\u3002</p> <p>nmap \u8fd8\u6709\u66f4\u591a\u9ad8\u7ea7\u7684\u529f\u80fd\u548c\u9009\u9879\uff0c\u5982\u64cd\u4f5c\u7cfb\u7edf\u8bc6\u522b\u3001\u670d\u52a1\u7248\u672c\u63a2\u6d4b\u3001\u811a\u672c\u626b\u63cf\u7b49\u3002\u901a\u8fc7\u5b66\u4e60\u548c\u638c\u63e1 nmap\uff0c\u60a8\u53ef\u4ee5\u66f4\u597d\u5730\u7ba1\u7406\u548c\u4fdd\u62a4\u60a8\u7684\u7f51\u7edc\u73af\u5883\u3002</p> <p>\u5e0c\u671b\u672c\u7bc7\u535a\u5ba2\u80fd\u591f\u5e2e\u52a9\u60a8\u4e86\u89e3\u548c\u4f7f\u7528 nmap \u547d\u4ee4\u3002\u5982\u679c\u60a8\u5bf9\u5176\u4ed6 Linux \u547d\u4ee4\u6709\u4efb\u4f55\u95ee\u9898\u6216\u9700\u8981\u8fdb\u4e00\u6b65\u7684\u5e2e\u52a9\uff0c\u8bf7\u968f\u65f6\u63d0\u95ee\u3002\u611f\u8c22\u9605\u8bfb\u672c\u7bc7\u535a\u5ba2\uff01</p> <p>\u53c2\u8003\u8d44\u6599\uff1a</p> <ul> <li>nmap \u5b98\u65b9\u7f51\u7ad9</li> <li>nmap \u6587\u6863</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/18.rsync%E5%91%BD%E4%BB%A4/","title":"18. rsync\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217 \uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660ersync\u547d\u4ee4\u7528\u6cd5\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/18.rsync%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p><code>rsync</code> \u662f\u4e00\u4e2a\u5feb\u901f\u3001\u7075\u6d3b\u4e14\u529f\u80fd\u5f3a\u5927\u7684\u6587\u4ef6\u4f20\u8f93\u548c\u540c\u6b65\u5de5\u5177\uff0c\u5e38\u7528\u4e8e\u5728\u672c\u5730\u6216\u8fdc\u7a0b\u7cfb\u7edf\u4e4b\u95f4\u540c\u6b65\u6587\u4ef6\u548c\u76ee\u5f55\u3002\u5b83\u7684\u6838\u5fc3\u529f\u80fd\u5305\u62ec\u9ad8\u6548\u7684\u6570\u636e\u590d\u5236\u3001\u589e\u91cf\u4f20\u8f93\u3001\u4ee5\u53ca\u4fdd\u7559\u6587\u4ef6\u6743\u9650\u3001\u65f6\u95f4\u6233\u548c\u7b26\u53f7\u94fe\u63a5\u7b49\u5143\u6570\u636e\u7684\u80fd\u529b\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/18.rsync%E5%91%BD%E4%BB%A4/#\u4e8c\u5b89\u88c5rsync","title":"\u4e8c\u3001\u5b89\u88c5rsync","text":"<p>\u5728\u5927\u591a\u6570 Linux \u53d1\u884c\u7248\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u5305\u7ba1\u7406\u5668\u6765\u5b89\u88c5 rsync\u3002\u4ee5\u4e0b\u662f\u4f7f\u7528 yum \u5305\u7ba1\u7406\u5668\u5b89\u88c5 rsync \u7684\u547d\u4ee4\uff1a</p> Bash<pre><code>yum install -y rsync\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/18.rsync%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":""},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/18.rsync%E5%91%BD%E4%BB%A4/#1rsync\u540c\u6b65\u64cd\u4f5c","title":"1.rsync\u540c\u6b65\u64cd\u4f5c","text":"Bash<pre><code>\u547d\u4ee4\u7528\u6cd5\uff1a\n-rsync  [\u9009\u9879]    \u6e90\u76ee\u5f55 \u76ee\u6807\u76ee\u5f55\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/18.rsync%E5%91%BD%E4%BB%A4/#2\u540c\u6b65\u4e0e\u590d\u5236\u7684\u5dee\u5f02","title":"2.\u540c\u6b65\u4e0e\u590d\u5236\u7684\u5dee\u5f02","text":"Bash<pre><code>-\u590d\u5236\uff1a\u5b8c\u5168\u62f7\u8d1d\n\n-\u540c\u6b65\uff1a\u589e\u91cf\u62f7\u8d1d\uff0c\u4f20\u8f93\u53d8\u5316\u6570\u636e\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/18.rsync%E5%91%BD%E4%BB%A4/#3\u540c\u6b65\u63a7\u5236","title":"3.\u540c\u6b65\u63a7\u5236","text":"Bash<pre><code>-n\uff1a\u6d4b\u8bd5\u540c\u6b65\u8fc7\u7a0b\uff0c\u4e0d\u505a\u5b9e\u9645\u4fee\u6539\n\n--delete\uff1a\u5220\u9664\u76ee\u6807\u6587\u4ef6\u5939\u5185\u591a\u4f59\u7684\u6587\u6863\n\n-a\uff1a\u5f52\u6863\u6a21\u5f0f\uff0c\u76f8\u5f53\u4e8e-rlptgoD\n\n-v\uff1a\u663e\u793a\u8be6\u7ec6\u64cd\u4f5c\u4fe1\u606f\n\n-z\uff1a\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u542f\u7528\u538b\u7f29\u548c\u89e3\u538b\n\n-r\uff1a\u9012\u5f52\uff0c\u5305\u62ec\u76ee\u5f55/\u5b50\u76ee\u5f55\u6240\u6709\u6587\u4ef6\n\n-I\uff1a\u4fdd\u7559\u7b26\u53f7\u94fe\u63a5\u6587\u4ef6\n\n-p\uff1a\u4fdd\u7559\u6587\u4ef6\u6743\u9650\n\n-t\uff1a\u4fdd\u7559\u6587\u4ef6\u65f6\u95f4\u6807\u8bb0\n\n-o\uff1a\u4fdd\u7559\u6587\u4ef6\u5c5e\u4e3b\u4fe1\u606f\n\n-g\uff1a\u4fdd\u7559\u6587\u4ef6\u5c5e\u7ec4\u6807\u8bb0\n\n-D\uff1a\u4fdd\u7559\u8bbe\u5907\u6587\u4ef6\u53ca\u5176\u5b83\u7279\u6b8a\u6587\u4ef6\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/18.rsync%E5%91%BD%E4%BB%A4/#4rsync\u672c\u5730\u540c\u6b65","title":"4.rsync\u672c\u5730\u540c\u6b65","text":"Bash<pre><code>rsync   [\u9009\u9879]    \u672c\u5730\u76ee\u5f551   \u672c\u5730\u76ee\u5f552   #\u5c06\u672c\u5730\u76ee\u5f551\u6587\u4ef6\u5939\u672c\u8eab\uff0c \u540c\u6b65\u5230\u672c\u5730\u76ee\u5f552\u6587\u4ef6\u5939\u4e0b\n\nrsync   [\u9009\u9879]    \u672c\u5730\u76ee\u5f551/  \u672c\u5730\u76ee\u5f552   #\u53ea\u540c\u6b65\u76ee\u5f55\u4e0b\u7684\u6570\u636e\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/18.rsync%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"<p>\u8fdc\u7aef\u540c\u6b65\uff0c\u4f7f\u7528\u516c\u94a5\u8fdc\u7a0b\u4f20\u8f93\uff1a</p> Python<pre><code>rsync -avz 192.168.224.136:/tmp/ /tmp      # \u5c06\u670d\u52a1\u5668192.168.224.136/tmp\u6587\u4ef6\u5939\u7684\u5185\u5bb9\uff0c\u62f7\u8d1d\u5230\u672c\u5730/tmp/\u5185\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/18.rsync%E5%91%BD%E4%BB%A4/#\u4e94\u603b\u7ed3","title":"\u4e94\u3001\u603b\u7ed3","text":"<p><code>rsync</code> \u662f\u4e00\u4e2a\u5feb\u901f\u3001\u7075\u6d3b\u4e14\u529f\u80fd\u5f3a\u5927\u7684\u6587\u4ef6\u4f20\u8f93\u548c\u540c\u6b65\u5de5\u5177\uff0c\u5e38\u7528\u4e8e\u5728\u672c\u5730\u6216\u8fdc\u7a0b\u7cfb\u7edf\u4e4b\u95f4\u540c\u6b65\u6587\u4ef6\u548c\u76ee\u5f55\u3002\u5b83\u7684\u6838\u5fc3\u529f\u80fd\u5305\u62ec\u9ad8\u6548\u7684\u6570\u636e\u590d\u5236\u3001\u589e\u91cf\u4f20\u8f93\u3001\u4ee5\u53ca\u4fdd\u7559\u6587\u4ef6\u6743\u9650\u3001\u65f6\u95f4\u6233\u548c\u7b26\u53f7\u94fe\u63a5\u7b49\u5143\u6570\u636e\u7684\u80fd\u529b\u3002</p> <p><code>rsync</code> \u7684\u4e3b\u8981\u7279\u70b9\u5305\u62ec\uff1a</p> <ol> <li>\u589e\u91cf\u4f20\u8f93: <code>rsync</code> \u53ea\u4f20\u8f93\u6587\u4ef6\u4e2d\u53d1\u751f\u53d8\u5316\u7684\u90e8\u5206\uff0c\u800c\u4e0d\u662f\u6574\u4e2a\u6587\u4ef6\u3002\u8fd9\u4f7f\u5f97\u5b83\u975e\u5e38\u9002\u5408\u5728\u7f51\u7edc\u5e26\u5bbd\u6709\u9650\u7684\u73af\u5883\u4e0b\u8fdb\u884c\u5927\u6587\u4ef6\u7684\u540c\u6b65\u548c\u5907\u4efd\u3002</li> <li>\u4fdd\u7559\u6587\u4ef6\u5c5e\u6027: <code>rsync</code> \u53ef\u4ee5\u4fdd\u7559\u6587\u4ef6\u7684\u6743\u9650\u3001\u65f6\u95f4\u6233\u3001\u7b26\u53f7\u94fe\u63a5\u3001\u8bbe\u5907\u6587\u4ef6\u3001\u786c\u94fe\u63a5\u7b49\u5143\u6570\u636e\uff0c\u786e\u4fdd\u6e90\u6587\u4ef6\u548c\u76ee\u6807\u6587\u4ef6\u7684\u4e00\u81f4\u6027\u3002</li> <li>\u538b\u7f29\u4f20\u8f93: \u901a\u8fc7 <code>-z</code> \u9009\u9879\uff0c<code>rsync</code> \u53ef\u4ee5\u5728\u4f20\u8f93\u65f6\u5bf9\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff0c\u8fdb\u4e00\u6b65\u51cf\u5c11\u5e26\u5bbd\u4f7f\u7528\u3002</li> <li>\u8fdc\u7a0b\u4f20\u8f93: <code>rsync</code> \u53ef\u4ee5\u901a\u8fc7 SSH \u8fdb\u884c\u8fdc\u7a0b\u6587\u4ef6\u4f20\u8f93\uff0c\u63d0\u4f9b\u5b89\u5168\u7684\u52a0\u5bc6\u6570\u636e\u901a\u9053\u3002</li> <li>\u5220\u9664\u6587\u4ef6: <code>rsync</code> \u53ef\u4ee5\u5220\u9664\u76ee\u6807\u76ee\u5f55\u4e2d\u6e90\u76ee\u5f55\u4e2d\u4e0d\u5b58\u5728\u7684\u6587\u4ef6\uff0c\u4f7f\u5f97\u76ee\u6807\u76ee\u5f55\u4e0e\u6e90\u76ee\u5f55\u5b8c\u5168\u540c\u6b65\uff08\u4f7f\u7528 <code>--delete</code> \u9009\u9879\uff09\u3002</li> <li>\u6613\u7528\u7684\u547d\u4ee4\u884c\u754c\u9762: <code>rsync</code> \u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u547d\u4ee4\u884c\u9009\u9879\uff0c\u53ef\u4ee5\u8f7b\u677e\u5b9a\u5236\u4e0d\u540c\u7684\u6587\u4ef6\u540c\u6b65\u548c\u5907\u4efd\u9700\u6c42\u3002</li> </ol>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/2.ls%E5%91%BD%E4%BB%A4/","title":"2. ls\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217\uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660e<code>ls</code>\u547d\u4ee4\u7528\u6cd5\u3002 </p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/2.ls%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>ls\u547d\u4ee4\u662fLinux\u548c\u5176\u4ed6\u7c7bUnix\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u5e38\u7528\u547d\u4ee4\uff0c\u7528\u4e8e\u5217\u51fa\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u548c\u5b50\u76ee\u5f55\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/2.ls%E5%91%BD%E4%BB%A4/#\u4e8c\u8bed\u6cd5","title":"\u4e8c\u3001\u8bed\u6cd5","text":"Bash<pre><code>ls [\u9009\u9879] [\u6587\u4ef6\u6216\u76ee\u5f55]\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/2.ls%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":"\u9009\u9879 \u8bf4\u660e -l \u4ee5\u957f\u683c\u5f0f\uff08\u8be6\u7ec6\u4fe1\u606f\uff09\u5217\u51fa\u6587\u4ef6\u548c\u76ee\u5f55\u3002\u663e\u793a\u6587\u4ef6\u7684\u6743\u9650\u3001\u6240\u6709\u8005\u3001\u5927\u5c0f\u3001\u4fee\u6539\u65e5\u671f\u7b49\u4fe1\u606f\u3002 -a \u663e\u793a\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\uff0c\u5305\u62ec\u4ee5.\u5f00\u5934\u7684\u9690\u85cf\u6587\u4ef6\u3002 -h \u4ee5\u4eba\u7c7b\u53ef\u8bfb\u7684\u683c\u5f0f\u663e\u793a\u6587\u4ef6\u548c\u76ee\u5f55\u7684\u5927\u5c0f\uff0c\u4f8b\u5982\uff0c\u4f7f\u7528 K\u3001M\u3001G \u7b49\u5355\u4f4d\u3002\u9700\u7ed3\u5408<code>-l</code>\u53c2\u6570\u4f7f\u7528\u3002 -t \u6309\u4fee\u6539\u65f6\u95f4\u6392\u5e8f\u6587\u4ef6\u548c\u76ee\u5f55\uff0c\u6700\u8fd1\u4fee\u6539\u7684\u6587\u4ef6\u5148\u663e\u793a\u3002\u7ed3\u5408<code>-l</code>\u53c2\u6570\u4f7f\u7528\u65b9\u53ef\u66f4\u76f4\u89c2\u67e5\u770b\u3002 -r \u4ee5\u76f8\u53cd\u7684\u987a\u5e8f\u663e\u793a\u6587\u4ef6\u548c\u76ee\u5f55\u3002\u7ed3\u5408<code>-l</code>\u548c<code>-t</code>\u53c2\u6570\u53ef\u5012\u5e8f\u6392\u5e8f\u3002 -R \u9012\u5f52\u5730\u5217\u51fa\u5b50\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u3002 -S \u6309\u6587\u4ef6\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\u6587\u4ef6\u548c\u76ee\u5f55\u3002\u7ed3\u5408<code>-l</code>\u548c<code>-t</code>\u53c2\u6570\u53ef\u5012\u5e8f\u6392\u5e8f\u3002 -i \u663e\u793a\u6587\u4ef6\u548c\u76ee\u5f55\u7684 inode \u53f7\u7801\u3002 -ld \u67e5\u770b\u76ee\u5f55\u5c5e\u6027 -lh \u67e5\u770b\u76ee\u5f55\uff08\u5927\u5c0f\u4ee5\u5b57\u8282\u3001MB\u663e\u793a\uff09"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/2.ls%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"Bash<pre><code># \u5217\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\nls\n\n# \u5217\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\uff0c\u5305\u62ec\u9690\u85cf\u6587\u4ef6\nls -a\n\n# \u4ee5\u957f\u683c\u5f0f\u5217\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\nls -l\n\n# \u5217\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\uff0c\u5e76\u6309\u4fee\u6539\u65f6\u95f4\u4ece\u8fd1\u5230\u8fdc\u6392\u5e8f\nls -lt\n\n# \u5217\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\uff0c\u5e76\u4ee5\u4fee\u6539\u65f6\u95f4\u76f8\u53cd\u7684\u987a\u5e8f\u4ece\u8fdc\u5230\u8fd1\u6392\u5e8f\nls -ltr\n\n# \u5217\u51fa\u5f53\u524d\u76ee\u5f55\u53ca\u5176\u5b50\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\nls -R\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/2.ls%E5%91%BD%E4%BB%A4/#\u4e94\u6ce8\u610f\u4e8b\u9879","title":"\u4e94\u3001\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>ls</code>\u547d\u4ee4\u53ea\u4f1a\u5217\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u3002</li> <li>\u4f7f\u7528<code>-a</code>\u9009\u9879\u53ef\u4ee5\u5217\u51fa\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\uff0c\u5305\u62ec\u9690\u85cf\u6587\u4ef6\u3002</li> <li>\u4f7f\u7528<code>-l</code>\u9009\u9879\u53ef\u4ee5\u4ee5\u957f\u683c\u5f0f\u5217\u51fa\u6587\u4ef6\u548c\u76ee\u5f55\uff0c\u663e\u793a\u6587\u4ef6\u7684\u6743\u9650\u3001\u6240\u6709\u8005\u3001\u5927\u5c0f\u3001\u4fee\u6539\u65e5\u671f\u7b49\u4fe1\u606f\u3002</li> <li>\u4f7f\u7528<code>-h</code>\u9009\u9879\u53ef\u4ee5\u4ee5\u4eba\u7c7b\u53ef\u8bfb\u7684\u683c\u5f0f\u663e\u793a\u6587\u4ef6\u548c\u76ee\u5f55\u7684\u5927\u5c0f\u3002</li> <li>\u4f7f\u7528<code>-t</code>\u9009\u9879\u53ef\u4ee5\u6309\u4fee\u6539\u65f6\u95f4\u6392\u5e8f\u6587\u4ef6\u548c\u76ee\u5f55\u3002</li> <li>\u4f7f\u7528<code>-r</code>\u9009\u9879\u53ef\u4ee5\u4ee5\u76f8\u53cd\u7684\u987a\u5e8f\u663e\u793a\u6587\u4ef6\u548c\u76ee\u5f55\u3002</li> <li>\u4f7f\u7528<code>-R</code>\u9009\u9879\u53ef\u4ee5\u9012\u5f52\u5730\u5217\u51fa\u5b50\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/2.ls%E5%91%BD%E4%BB%A4/#\u516d\u9690\u85cf\u6587\u4ef6\u542b\u4e49","title":"\u516d\u3001\u9690\u85cf\u6587\u4ef6\u542b\u4e49","text":"<p>Linux\u4e2d\uff0c\u4ee5\u70b9\u5f00\u5934\u7684\u6587\u4ef6\u662f\u9690\u85cf\u6587\u4ef6\uff0c<code>ls -a</code>\u53ef\u4ee5\u67e5\u770b\u5230\u3002\u9690\u85cf\u6587\u4ef6\u4e0d\u662f\u628a\u6587\u4ef6\u9690\u85cf\u8d77\u6765\uff0c\u800c\u662f\u544a\u8bc9\u7528\u6237\u5b83\u4eec\u662f\u7cfb\u7edf\u91cd\u8981\u6587\u4ef6\u3002Windows\u4e2d\u75c5\u6bd2\u6728\u9a6c\u4f1a\u628a\u81ea\u5df1\u53d8\u6210\u9690\u85cf\u6587\u4ef6\uff0c\u7ed9\u7528\u6237\u5e26\u6765\u9519\u89c9\uff0c\u4ee5\u4e3a\u9690\u85cf\u6587\u4ef6\u662f\u4e3a\u4e86\u4e0d\u8ba9\u7528\u6237\u53d1\u73b0\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/2.ls%E5%91%BD%E4%BB%A4/#\u4e03\u5c0f\u7ed3","title":"\u4e03\u3001\u5c0f\u7ed3","text":"<p>ls\u547d\u4ee4\u662fLinux\u4e2d\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u547d\u4ee4\uff0c\u7528\u4e8e\u5217\u51fa\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u548c\u5b50\u76ee\u5f55\u3002\u638c\u63e1ls\u547d\u4ee4\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5feb\u901f\u4e86\u89e3\u76ee\u5f55\u4e2d\u7684\u5185\u5bb9\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/3.touch%E5%91%BD%E4%BB%A4/","title":"3. touch\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217\uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660e<code>touch</code>\u547d\u4ee4\u7528\u6cd5\u3002</p> <p>\u5728Linux\u7cfb\u7edf\u4e2d\uff0ctouch\u547d\u4ee4\u662f\u4e00\u4e2a\u975e\u5e38\u5e38\u7528\u7684\u547d\u4ee4\uff0c\u7528\u4e8e\u521b\u5efa\u7a7a\u6587\u4ef6\u6216\u4fee\u6539\u6587\u4ef6\u7684\u65f6\u95f4\u6233\u3002\u672c\u6587\u5c06\u8be6\u7ec6\u4ecb\u7ecdtouch\u547d\u4ee4\u7684\u4f7f\u7528\u65b9\u6cd5\u548c\u5e38\u89c1\u9009\u9879\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/3.touch%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<ul> <li>touch\u547d\u4ee4\u7684\u82f1\u6587\u539f\u610f\u662f\u201dchange file timestamps\u201d\uff0c\u5373\u7528\u4e8e\u6539\u53d8\u6587\u4ef6\u7684\u65f6\u95f4\u6233\u3002</li> <li>\u5728Linux\u7cfb\u7edf\u4e2d\uff0ctouch\u547d\u4ee4\u7684\u8def\u5f84\u901a\u5e38\u4e3a<code>/bin/touch</code>\uff0c\u5e76\u4e14\u6240\u6709\u7528\u6237\u90fd\u6709\u6267\u884c\u8be5\u547d\u4ee4\u7684\u6743\u9650\u3002</li> </ul> <p>\u901a\u8fc7\u547d\u4ee4which\u53ef\u4ee5\u67e5\u770b\u5230touch\u547d\u4ee4\u7684\u8def\u5f84\uff1a Bash<pre><code>[root@localhost ~]# which touch\n/usr/bin/touch\n</code></pre></p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/3.touch%E5%91%BD%E4%BB%A4/#\u4e8c\u8bed\u6cd5","title":"\u4e8c\u3001\u8bed\u6cd5","text":"Bash<pre><code>touch   [\u9009\u9879]  \u6587\u4ef6\u540d\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/3.touch%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":"\u9009\u9879 \u8bf4\u660e -a \u4ec5\u4fee\u6539\u6587\u4ef6\u7684\u8bbf\u95ee\u65f6\u95f4\u3002 -c \u4ec5\u4fee\u6539\u6587\u4ef6\u7684\u72b6\u6001\u4fee\u6539\u65f6\u95f4\u3002 -m \u4ec5\u4fee\u6539\u6587\u4ef6\u7684\u6570\u636e\u4fee\u6539\u65f6\u95f4\u3002 -d \u65f6\u95f4 \u6307\u5b9a\u6587\u4ef6\u7684\u4fee\u6539\u65f6\u95f4\u3002"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/3.touch%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"<p>\u4e0b\u9762\u901a\u8fc7\u4e00\u4e9b\u793a\u4f8b\u6765\u6f14\u793atouch\u547d\u4ee4\u7684\u4f7f\u7528\u65b9\u6cd5\uff1a</p> <ul> <li>\u521b\u5efa\u4e00\u4e2a\u7a7a\u6587\u4ef6</li> </ul> Bash<pre><code># \u521b\u5efa\u4e00\u4e2a\u7a7a\u6587\u4ef6\ntouch test.txt\n</code></pre> <ul> <li>\u4fee\u6539\u6587\u4ef6\u7684\u4fee\u6539\u65f6\u95f4</li> </ul> Bash<pre><code># \u4fee\u6539\u6587\u4ef6\u7684\u4fee\u6539\u65f6\u95f4\u4e3a\u5f53\u524d\u65f6\u95f4\ntouch -m test.txt\n</code></pre> <ul> <li>\u4fee\u6539\u6587\u4ef6\u7684\u8bbf\u95ee\u65f6\u95f4</li> </ul> Bash<pre><code># \u4fee\u6539\u6587\u4ef6\u7684\u8bbf\u95ee\u65f6\u95f4\u4e3a\u5f53\u524d\u65f6\u95f4\ntouch -a test.txt\n</code></pre> <ul> <li>\u4fee\u6539\u6587\u4ef6\u7684\u72b6\u6001\u4fee\u6539\u65f6\u95f4</li> </ul> Bash<pre><code># \u4fee\u6539\u6587\u4ef6\u7684\u72b6\u6001\u4fee\u6539\u65f6\u95f4\u4e3a\u5f53\u524d\u65f6\u95f4\ntouch -c test.txt\n</code></pre> <ul> <li>\u6307\u5b9a\u6587\u4ef6\u7684\u4fee\u6539\u65f6\u95f4</li> </ul> Bash<pre><code># \u6307\u5b9a\u6587\u4ef6\u7684\u4fee\u6539\u65f6\u95f4\u4e3a2023-08-02 12:00:00\ntouch -d 2023-08-02 12:00:00 test.txt\n</code></pre> <ul> <li>\u9a8c\u8bc1\u4fee\u6539\u8fc7\u7684\u6587\u4ef6\u65f6\u95f4</li> </ul> <p>\u5f53\u4f7f\u7528touch\u547d\u4ee4\u4fee\u6539\u6587\u4ef6\u7684\u65f6\u95f4\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528ls\u547d\u4ee4\u6216stat\u547d\u4ee4\u6765\u9a8c\u8bc1\u65f6\u95f4\u662f\u5426\u5df2\u88ab\u6210\u529f\u4fee\u6539\u3002</p> <p>\u4f7f\u7528ls\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u6587\u4ef6\u7684\u8bbf\u95ee\u65f6\u95f4\u3001\u4fee\u6539\u65f6\u95f4\u548c\u72b6\u6001\u4fee\u6539\u65f6\u95f4\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p> <p>Bash<pre><code>ls -l test.txt\n</code></pre> \u9a8c\u8bc1\uff1a</p> Bash<pre><code>[root@chatgpt-test tmp]# ls -l test.txt    \n-rw-r--r--. 1 root root 76 11\u6708 28 03:47 test.txt\n[root@chatgpt-test tmp]# touch -m test.txt \n[root@chatgpt-test tmp]# touch -a test.txt \n[root@chatgpt-test tmp]# touch -c test.txt \n[root@chatgpt-test tmp]# ls -l test.txt \n-rw-r--r--. 1 root root 76 12\u6708  7 23:45 test.txt\n</code></pre> <p>\u4e0a\u8ff0\u547d\u4ee4\u5c06\u663e\u793atest.txt\u6587\u4ef6\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u8bbf\u95ee\u65f6\u95f4\u3001\u4fee\u6539\u65f6\u95f4\u548c\u72b6\u6001\u4fee\u6539\u65f6\u95f4\u3002</p> <p>\u4f7f\u7528stat\u547d\u4ee4\u53ef\u4ee5\u83b7\u53d6\u6587\u4ef6\u7684\u8be6\u7ec6\u65f6\u95f4\u4fe1\u606f\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p> <p>Bash<pre><code>stat test.txt\n</code></pre> \u9a8c\u8bc1\uff1a</p> Bash<pre><code>[root@chatgpt-test tmp]# stat test.txt\n  \u6587\u4ef6\uff1a\"test.txt\"\n  \u5927\u5c0f\uff1a76              \u5757\uff1a8          IO \u5757\uff1a4096   \u666e\u901a\u6587\u4ef6\n\u8bbe\u5907\uff1afd00h/64768d      Inode\uff1a18092200    \u786c\u94fe\u63a5\uff1a1\n\u6743\u9650\uff1a(0644/-rw-r--r--)  Uid\uff1a(    0/    root)   Gid\uff1a(    0/    root)\n\u73af\u5883\uff1aunconfined_u:object_r:user_tmp_t:s0\n\u6700\u8fd1\u8bbf\u95ee\uff1a2023-12-07 23:45:59.161055000 +0800\n\u6700\u8fd1\u66f4\u6539\uff1a2023-12-07 23:45:59.161055000 +0800\n\u6700\u8fd1\u6539\u52a8\uff1a2023-12-07 23:45:59.161055000 +0800\n\u521b\u5efa\u65f6\u95f4\uff1a-\n</code></pre> <p>\u4e0a\u8ff0\u547d\u4ee4\u5c06\u663e\u793atest.txt\u6587\u4ef6\u7684\u8be6\u7ec6\u65f6\u95f4\u4fe1\u606f\uff0c\u5305\u62ec\u8bbf\u95ee\u65f6\u95f4\u3001\u4fee\u6539\u65f6\u95f4\u548c\u72b6\u6001\u4fee\u6539\u65f6\u95f4\u3002</p> <p>\u901a\u8fc7\u4ee5\u4e0a\u547d\u4ee4\uff0c\u4f60\u53ef\u4ee5\u9a8c\u8bc1touch\u547d\u4ee4\u662f\u5426\u6210\u529f\u4fee\u6539\u4e86\u6587\u4ef6\u7684\u65f6\u95f4\u3002\u5982\u679c\u65f6\u95f4\u4e0e\u4f60\u8bbe\u7f6e\u7684\u65f6\u95f4\u4e00\u81f4\uff0c\u90a3\u4e48\u8bf4\u660e\u4fee\u6539\u6210\u529f\u3002\u5982\u679c\u65f6\u95f4\u6ca1\u6709\u6539\u53d8\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u6587\u4ef6\u7cfb\u7edf\u4e0d\u652f\u6301\u4fee\u6539\u65f6\u95f4\u6233\u6216\u8005\u4f60\u6ca1\u6709\u8db3\u591f\u7684\u6743\u9650\u8fdb\u884c\u4fee\u6539\u3002</p> <p>\u5173\u4e8eLinux\u4e2d\u6587\u4ef6\u7684\u4e09\u4e2a\u65f6\u95f4\u6233 \u8865\u5145\u5982\u4e0b\uff1a</p> <ul> <li>\u8bbf\u95ee\u65f6\u95f4\uff1a\u6587\u4ef6\u88ab\u8bbf\u95ee\u7684\u6700\u540e\u4e00\u6b21\u65f6\u95f4\u3002</li> <li>\u6570\u636e\u4fee\u6539\u65f6\u95f4\uff1a\u6587\u4ef6\u7684\u6570\u636e\u88ab\u4fee\u6539\u7684\u6700\u540e\u4e00\u6b21\u65f6\u95f4\u3002</li> <li>\u72b6\u6001\u4fee\u6539\u65f6\u95f4\uff1a\u6587\u4ef6\u7684\u72b6\u6001\uff08\u4f8b\u5982\u6587\u4ef6\u6743\u9650\u3001\u6240\u6709\u8005\u7b49\uff09\u88ab\u4fee\u6539\u7684\u6700\u540e\u4e00\u6b21\u65f6\u95f4\u3002</li> </ul> <p>touch\u547d\u4ee4\u53ea\u80fd\u4fee\u6539\u8bbf\u95ee\u65f6\u95f4\u548c\u6570\u636e\u4fee\u6539\u65f6\u95f4\uff0c\u4e0d\u80fd\u4fee\u6539\u72b6\u6001\u4fee\u6539\u65f6\u95f4\u3002\u4fee\u6539\u8bbf\u95ee\u65f6\u95f4\u6216\u6570\u636e\u4fee\u6539\u65f6\u95f4\u90fd\u4f1a\u5bfc\u81f4\u72b6\u6001\u4fee\u6539\u65f6\u95f4\u7684\u53d8\u5316\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/3.touch%E5%91%BD%E4%BB%A4/#\u4e94\u5c0f\u7ed3","title":"\u4e94\u3001\u5c0f\u7ed3","text":"<p>touch\u547d\u4ee4\u662f\u4e00\u4e2a\u975e\u5e38\u5b9e\u7528\u7684\u547d\u4ee4\uff0c\u53ef\u4ee5\u7528\u4e8e\u521b\u5efa\u7a7a\u6587\u4ef6\u6216\u4fee\u6539\u6587\u4ef6\u7684\u65f6\u95f4\u6233\u3002\u901a\u8fc7\u672c\u6587\u7684\u4ecb\u7ecd\uff0c\u4f60\u5e94\u8be5\u5df2\u7ecf\u4e86\u89e3\u4e86touch\u547d\u4ee4\u7684\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5\u548c\u5e38\u89c1\u9009\u9879\u3002\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u8981\u7075\u6d3b\u8fd0\u7528touch\u547d\u4ee4\u6765\u7ba1\u7406\u6587\u4ef6\u7684\u65f6\u95f4\u6233\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/4.%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E7%9F%A5%E8%AF%86%E6%A6%82%E5%BF%B5/","title":"4. \u6e90\u7801\u5b89\u88c5\u77e5\u8bc6\u6982\u5ff5","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217\uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660e\u6e90\u7801\u5b89\u88c5\u77e5\u8bc6\u6982\u5ff5\u3002 </p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/4.%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E7%9F%A5%E8%AF%86%E6%A6%82%E5%BF%B5/#\u4e00\u6ce8\u610f\u4e8b\u9879","title":"\u4e00\u3001\u6ce8\u610f\u4e8b\u9879","text":"<p>1\u3001\u6e90\u7801\u5305\u662f\u4ece\u5b98\u65b9\u7f51\u7ad9\u4e0a\u4e0b\u8f7d\u6765\u7684\uff0c\u4e0b\u8f7d\u7684\u6587\u4ef6\u5e38\u89c1\u683c\u5f0f\u4e00\u822c\u662f<code>.tar.gz</code>\u6216<code>.tar.bz2</code>\u3002</p> <p>2\u3001\u6e90\u4ee3\u7801\u4e0b\u8f7d\u540e\u7684\u4fdd\u5b58\u4f4d\u7f6e\uff1a\u201d<code>/usr/src</code>\u4fdd\u5b58\u5185\u6838\u6e90\u4ee3\u7801\uff0c<code>/usr/local/src</code>\u4fdd\u5b58\u7528\u6237\u4e0b\u8f7d\u7684\u6e90\u4ee3\u7801\u201d\u3002</p> <p>3\u3001\u8f6f\u4ef6\u5b89\u88c5\u4f4d\u7f6e\u9ed8\u8ba4\u76ee\u5f55\u662f<code>/usr/local/\u8f6f\u4ef6\u540d</code>\uff0c\u4e3a\u65b9\u4fbf\u7ba1\u7406\u4e0e\u5378\u8f7d\uff0c\u9700\u8981\u5355\u72ec\u89c4\u5212\u5b89\u88c5\u76ee\u5f55\u3002</p> <p>4\u3001\u8f6f\u4ef6\u5b89\u88c5\u62a5\u9519\u4e00\u51fa\u73b0<code>error</code>\u6216<code>warning</code>\u5b57\u6837\uff0c\u5176\u4e8c\u662f\u5b89\u88c5\u8fc7\u7a0b\u505c\u6b62\uff0c\u5982\u6ca1\u505c\u6b62\u53ea\u662f\u51fa\u73b0\u8b66\u544a\u4fe1\u606f\uff0c\u5219\u53ea\u662f\u8f6f\u4ef6\u90e8\u5206\u529f\u80fd\u65e0\u6cd5\u4f7f\u7528\uff0c\u5e76\u975e\u62a5\u9519\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/4.%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E7%9F%A5%E8%AF%86%E6%A6%82%E5%BF%B5/#\u4e8c\u5b89\u88c5\u6b65\u9aa4","title":"\u4e8c\u3001\u5b89\u88c5\u6b65\u9aa4","text":""},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/4.%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E7%9F%A5%E8%AF%86%E6%A6%82%E5%BF%B5/#1\u4e0b\u8f7d\u8f6f\u4ef6\u5305","title":"1.\u4e0b\u8f7d\u8f6f\u4ef6\u5305","text":""},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/4.%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E7%9F%A5%E8%AF%86%E6%A6%82%E5%BF%B5/#2\u89e3\u538b\u7f29","title":"2.\u89e3\u538b\u7f29","text":""},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/4.%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E7%9F%A5%E8%AF%86%E6%A6%82%E5%BF%B5/#3\u8fdb\u5165\u89e3\u538b\u76ee\u5f55","title":"3.\u8fdb\u5165\u89e3\u538b\u76ee\u5f55","text":""},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/4.%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E7%9F%A5%E8%AF%86%E6%A6%82%E5%BF%B5/#4configure\u8f6f\u4ef6\u914d\u7f6e\u4e0e\u68c0\u67e5","title":"4.<code>./configure</code>\u8f6f\u4ef6\u914d\u7f6e\u4e0e\u68c0\u67e5","text":"<p>\uff081\uff09\u5b89\u88c5\u524d\u9700\u8981\u68c0\u6d4b\u7cfb\u7edf\u73af\u5883\u662f\u5426\u7b26\u5408\u5b89\u88c5\u9700\u6c42\uff1b</p> <p>\uff082\uff09<code>./configure --help</code>\u67e5\u8be2\u5176\u652f\u6301\u529f\u80fd\uff0c\u4e00\u822c\u662f\u901a\u8fc7<code>./configure--prefix=\u5b89\u88c5\u8def\u5f84</code>\u6765\u6307\u5b9a\u5b89\u88c5\u8def\u5f84\uff1b</p> <p>\uff083\uff09\u628a\u7cfb\u7edf\u73af\u5883\u68c0\u6d4b\u7ed3\u679c\u3001\u5b9a\u4e49\u597d\u7684\u529f\u80fd\u9009\u9879\u5199\u5165Makefile\u6587\u4ef6\uff0c\u540e\u7eed\u7f16\u8bd1\u548c\u5b89\u88c5\u9700\u8981\u4f9d\u8d56\u8be5\u6587\u4ef6\u5185\u5bb9\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/4.%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E7%9F%A5%E8%AF%86%E6%A6%82%E5%BF%B5/#5make\u7f16\u8bd1","title":"5.<code>make</code>\u7f16\u8bd1","text":"<p>make\u7f16\u8bd1\u4f1a\u8c03\u7528gcc\u7f16\u8bd1\u5668\uff0c\u5e76\u8bfb\u53d6Makefile\u6587\u4ef6\u4e2d\u4fe1\u606f\u8fdb\u884c\u7cfb\u7edf\u8f6f\u4ef6\u7f16\u8bd1\uff0c\u7f16\u8bd1\u76ee\u7684\u662f\u628a\u6e90\u7801\u7a0b\u5e8f\u8f6c\u53d8\u4e3aLinux\u8bc6\u522b\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u7f16\u8bd1\u4f1a\u6bd4\u8f83\u8d39\u65f6\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/4.%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E7%9F%A5%E8%AF%86%E6%A6%82%E5%BF%B5/#6make-clean\u6e05\u7a7a\u7f16\u8bd1\u5185\u5bb9\u975e\u5fc5\u987b\u6b65\u9aa4","title":"6.<code>make clean</code>\u6e05\u7a7a\u7f16\u8bd1\u5185\u5bb9\uff08\u975e\u5fc5\u987b\u6b65\u9aa4\uff09","text":"<p>\u5982\u679c<code>./configure</code>\u6216<code>make</code>\u7f16\u8bd1\u4e2d\u62a5\u9519\uff0c\u90a3\u4e48\u91cd\u65b0\u6267\u884c\u547d\u4ee4\u524d\u4e00\u5b9a\u8981\u6267\u884c<code>make clean</code>\u547d\u4ee4\uff0c\u5b83\u4f1a\u6e05\u7a7a<code>Makefile</code>\u6587\u4ef6\u6216\u7f16\u8bd1\u4ea7\u751f\u7684<code>.o</code>\u5934\u6587\u4ef6\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/4.%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E7%9F%A5%E8%AF%86%E6%A6%82%E5%BF%B5/#7make-install\u5b89\u88c5","title":"7.<code>make install</code>\u5b89\u88c5","text":"<p>\u771f\u6b63\u7684\u5b89\u88c5\u8fc7\u7a0b\uff0c\u4e00\u822c\u4f1a\u5199\u6e05\u695a\u7a0b\u5e8f\u7684\u5b89\u88c5\u4f4d\u7f6e\uff0c\u5982\u679c\u672a\u6307\u5b9a\u5b89\u88c5\u76ee\u5f55\uff0c\u5219\u53ef\u4ee5\u628a\u8fd9\u4e2a\u547d\u4ee4\u6267\u884c\u8fc7\u7a0b\u4fdd\u5b58\u4e0b\u6765\uff0c\u4ee5\u5907\u5c06\u6765\u5220\u9664\u4f7f\u7528\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/4.%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E7%9F%A5%E8%AF%86%E6%A6%82%E5%BF%B5/#8\u5907\u6ce8","title":"8.\u5907\u6ce8","text":"<p><code>linux</code>\u7f16\u8bd1\u5b89\u88c5\u90fd\u9700\u8981\u4f9d\u8d56\u5b89\u88c5\u5305 <code>gcc</code>\u3001<code>gcc-c++</code>\u3001<code>make</code>\u3001<code>mysql 5.5\u4ee5\u4e0a\u7248\u672c(\u5305\u542bmysql 5.5\u7248\u672c)</code>\u90fd\u9700\u8981\u4f7f\u7528<code>cmake</code>\u5de5\u5177\u8fdb\u884c\u7f16\u8bd1\uff0c\u4e0d\u80fd\u4f7f\u7528<code>./configure</code>\u7f16\u8bd1)\uff0c<code>mysql 5.7\u4ee5\u4e0a\u7248\u672c(\u5305\u542b mysql 5.7\u7248\u672c)</code>\u5728\u4f7f\u7528<code>cmake</code>\u8fdb\u884c\u7f16\u8bd1\u65f6\u4f1a\u63d0\u793a\u9519\u8bef\u9700\u8981<code>boost</code>\u8f6f\u4ef6\u5305\u652f\u6301\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/5.%E9%80%9A%E8%BF%87sshkey%E5%AF%86%E9%92%A5%E7%99%BB%E5%BD%95%E6%9C%8D%E5%8A%A1%E5%99%A8/","title":"5. \u901a\u8fc7sshkey\u5bc6\u94a5\u767b\u5f55\u670d\u52a1\u5668","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217\uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u4ecb\u7ecd\u901a\u8fc7\u5bc6\u94a5\u751f\u6210\uff0c\u901a\u8fc7\u516c\u94a5\u8fde\u63a5\u7ba1\u7406\u670d\u52a1\u5668\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/5.%E9%80%9A%E8%BF%87sshkey%E5%AF%86%E9%92%A5%E7%99%BB%E5%BD%95%E6%9C%8D%E5%8A%A1%E5%99%A8/#\u4e00\u6982\u5ff5","title":"\u4e00\u3001\u6982\u5ff5","text":"<p>SSH \u5bc6\u94a5\u662f\u7528\u4e8e\u5b89\u5168\u5730\u8bbf\u95ee\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u4e00\u79cd\u65b9\u6cd5\u3002SSH \u5bc6\u94a5\u7531\u4e00\u5bf9\u5bc6\u94a5\u7ec4\u6210\uff1a\u516c\u94a5\u548c\u79c1\u94a5\u3002\u516c\u94a5\u5b58\u50a8\u5728\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\uff0c\u79c1\u94a5\u5b58\u50a8\u5728\u672c\u5730\u8ba1\u7b97\u673a\u4e0a\u3002</p> <p>\u901a\u8fc7\u516c\u94a5\u8fde\u63a5\u7ba1\u7406Linux\u670d\u52a1\u5668\u4f18\u7f3a\u70b9\uff1a</p> <p>\u4f18\u70b9\uff1a</p> <ul> <li>\u5b89\u5168\u6027\uff1a \u516c\u94a5\u8eab\u4efd\u9a8c\u8bc1\u6bd4\u5bc6\u7801\u8eab\u4efd\u9a8c\u8bc1\u66f4\u5b89\u5168\u3002\u516c\u94a5\u662f\u4e00\u4e2a\u52a0\u5bc6\u7684\u5bc6\u94a5\u5bf9\uff0c\u79c1\u94a5\u4fdd\u5b58\u5728\u5ba2\u6237\u7aef\uff0c\u800c\u516c\u94a5\u4fdd\u5b58\u5728\u670d\u52a1\u5668\u4e0a\u3002</li> <li>\u65e0\u9700\u5bc6\u7801\uff1a \u516c\u94a5\u8eab\u4efd\u9a8c\u8bc1\u6d88\u9664\u4e86\u5bc6\u7801\u7ba1\u7406\u7684\u9700\u6c42\u3002\u7528\u6237\u65e0\u9700\u8bb0\u4f4f\u590d\u6742\u7684\u5bc6\u7801\uff0c\u800c\u4e14\u5728\u670d\u52a1\u5668\u4e0a\u4e5f\u4e0d\u9700\u8981\u5b58\u50a8\u5bc6\u7801\u3002</li> <li>\u65b9\u4fbf\u6027\uff1a \u4e00\u65e6\u8bbe\u7f6e\u4e86\u516c\u94a5\u8eab\u4efd\u9a8c\u8bc1\uff0c\u7528\u6237\u5c31\u53ef\u4ee5\u8f7b\u677e\u5730\u8fde\u63a5\u5230\u670d\u52a1\u5668\uff0c\u800c\u65e0\u9700\u6bcf\u6b21\u90fd\u8f93\u5165\u5bc6\u7801\u3002</li> <li>\u591a\u56e0\u7d20\u8ba4\u8bc1\uff1a \u516c\u94a5\u8eab\u4efd\u9a8c\u8bc1\u53ef\u4ee5\u4e0e\u5176\u4ed6\u8eab\u4efd\u9a8c\u8bc1\u65b9\u6cd5\u7ed3\u5408\u4f7f\u7528\uff0c\u5b9e\u73b0\u591a\u56e0\u7d20\u8ba4\u8bc1\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u4f7f\u7528\u5bc6\u7801\u548c\u516c\u94a5\u7684\u7ec4\u5408\u8fdb\u884c\u8ba4\u8bc1\uff0c\u63d0\u9ad8\u5b89\u5168\u6027\u3002</li> </ul> <p>\u7f3a\u70b9\uff1a - \u5bc6\u94a5\u7ba1\u7406\uff1a \u516c\u94a5\u8eab\u4efd\u9a8c\u8bc1\u9700\u8981\u6709\u6548\u5730\u7ba1\u7406\u5bc6\u94a5\u5bf9\u3002\u5982\u679c\u79c1\u94a5\u4e22\u5931\u6216\u6cc4\u9732\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5b89\u5168\u95ee\u9898\u3002 - \u521d\u6b21\u8bbe\u7f6e\u590d\u6742\u6027\uff1a \u521d\u6b21\u8bbe\u7f6e\u516c\u94a5\u8eab\u4efd\u9a8c\u8bc1\u53ef\u80fd\u4f1a\u76f8\u5bf9\u590d\u6742\uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u4e0d\u719f\u6089\u5bc6\u94a5\u7ba1\u7406\u7684\u7528\u6237\u6765\u8bf4\u3002\u7136\u800c\uff0c\u4e00\u65e6\u8bbe\u7f6e\u5b8c\u6210\uff0c\u540e\u7eed\u7684\u8fde\u63a5\u5c06\u66f4\u4e3a\u7b80\u5355\u3002</p> <ul> <li> <p>\u65e0\u6cd5\u5904\u7406\u4e22\u5931\u7684\u79c1\u94a5\uff1a \u5982\u679c\u7528\u6237\u4e22\u5931\u4e86\u79c1\u94a5\uff0c\u4ed6\u4eec\u5c06\u65e0\u6cd5\u518d\u6b21\u8fde\u63a5\u5230\u670d\u52a1\u5668\uff0c\u9664\u975e\u7ba1\u7406\u5458\u91cd\u65b0\u914d\u7f6e\u4ed6\u4eec\u7684\u516c\u94a5\u3002</p> </li> <li> <p>\u4e0d\u9002\u7528\u4e8e\u6240\u6709\u573a\u666f\uff1a \u516c\u94a5\u8eab\u4efd\u9a8c\u8bc1\u4e0d\u9002\u7528\u4e8e\u6240\u6709\u573a\u666f\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u5176\u4ed6\u8eab\u4efd\u9a8c\u8bc1\u65b9\u6cd5\uff0c\u5982\u5bc6\u7801\u8eab\u4efd\u9a8c\u8bc1\u6216\u8bc1\u4e66\u8eab\u4efd\u9a8c\u8bc1\u3002</p> </li> </ul> <p>\u603b\u4f53\u800c\u8a00\uff0c\u4f7f\u7528\u516c\u94a5\u8fde\u63a5\u7ba1\u7406Linux\u670d\u52a1\u5668\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7684\u5b89\u5168\u6027\u548c\u4fbf\u6377\u6027\uff0c\u4f46\u9700\u8981\u5408\u7406\u7ba1\u7406\u5bc6\u94a5\u5bf9\u4ee5\u786e\u4fdd\u7cfb\u7edf\u7684\u6574\u4f53\u5b89\u5168\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/5.%E9%80%9A%E8%BF%87sshkey%E5%AF%86%E9%92%A5%E7%99%BB%E5%BD%95%E6%9C%8D%E5%8A%A1%E5%99%A8/#\u4e8c\u751f\u6210\u5bc6\u94a5","title":"\u4e8c\u3001\u751f\u6210\u5bc6\u94a5","text":"<p>\u5728\u672c\u5730\u8ba1\u7b97\u673a\u4e0a\u751f\u6210SSH\u5bc6\u94a5\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>ssh-keygen</code> \u547d\u4ee4\uff1a</p> Bash<pre><code>ssh-keygen\n</code></pre> <p>\u63d0\u793a\u7684\u610f\u601d\uff08\u53ef\u4ee5\u76f4\u63a5\u56de\u8f66\uff0c\u7559\u7a7a\u9ed8\u8ba4\uff09\uff1a</p> <p>\u6b64\u547d\u4ee4\u5c06\u63d0\u793a\u60a8\u8f93\u5165\u4ee5\u4e0b\u4fe1\u606f\uff1a</p> <ul> <li>\u6587\u4ef6\u540d\uff1a\u7528\u4e8e\u5b58\u50a8\u5bc6\u94a5\u7684\u6587\u4ef6\u540d\u3002\u9ed8\u8ba4\u4e3a <code>id_rsa</code>\u3002</li> <li>\u5bc6\u7801\uff1a\u7528\u4e8e\u4fdd\u62a4\u79c1\u94a5\u7684\u5bc6\u7801\u3002\u53ef\u4ee5\u7559\u7a7a\u3002</li> <li>\u91cd\u590d\u5bc6\u7801\uff1a\u786e\u8ba4\u5bc6\u7801\u3002</li> </ul> <p>\u751f\u6210\u5bc6\u94a5\u540e\uff0c\u5c06\u5728\u672c\u5730\u8ba1\u7b97\u673a\u4e0a\u521b\u5efa\u4e24\u4e2a\u6587\u4ef6\uff1a</p> <ul> <li><code>id_rsa</code>\uff1a\u79c1\u94a5\u6587\u4ef6\u3002</li> <li><code>id_rsa.pub</code>\uff1a\u516c\u94a5\u6587\u4ef6\u3002</li> </ul> Bash<pre><code>[root@chatgpt-test ~]# ll /root/.ssh\n\u603b\u7528\u91cf 12\n-rw-------. 1 root root 1675 12\u6708  8 08:00 id_rsa\n-rw-r--r--. 1 root root  399 12\u6708  8 08:00 id_rsa.pub\n-rw-r--r--. 1 root root  347 11\u6708 21 05:19 known_hosts\n</code></pre> <p>\u5c06\u516c\u94a5\u590d\u5236\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>cat</code> \u547d\u4ee4\uff1a</p> Bash<pre><code>cat ~/.ssh/id_rsa.pub | ssh \u7528\u6237\u540d@\u8fdc\u7a0b\u670d\u52a1\u5668\u5730\u5740 'cat &gt;&gt; ~/.ssh/authorized_keys'\n</code></pre> <p>\u6b64\u547d\u4ee4\u5c06\u516c\u94a5\u8ffd\u52a0\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u7684 <code>authorized_keys</code> \u6587\u4ef6\u4e2d\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/5.%E9%80%9A%E8%BF%87sshkey%E5%AF%86%E9%92%A5%E7%99%BB%E5%BD%95%E6%9C%8D%E5%8A%A1%E5%99%A8/#\u4e09\u6f14\u793a\u793a\u4f8b","title":"\u4e09\u3001\u6f14\u793a\u793a\u4f8b","text":"<p>\u5047\u8bbe\u672c\u5730\u670d\u52a1\u5668\u7528\u6237\u540d\u4e3a <code>root</code>\uff0cIP\u4e3a<code>192.168.31.223</code>\uff0c\u8fdc\u7a0b\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u4e3a <code>192.168.31.162</code>\uff0c\u5219\u751f\u6210\u5bc6\u94a5\u5e76\u5c06\u516c\u94a5\u590d\u5236\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u64cd\u4f5c\u5982\u4e0b\uff1a</p> Bash<pre><code>#\u5728\u672c\u5730\u8ba1\u7b97\u673a\u4e0a\u751f\u6210\u5bc6\u94a5\uff0c\u6267\u884c\u547d\u4ee4\u540e\uff0c\u6839\u636e\u63d0\u793a\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u79c1\u94a5\u5bc6\u7801\uff0c\u6216\u8005\u76f4\u63a5\u56de\u8f663\u6b21\uff08\u9ed8\u8ba4\uff09\uff0c\u751f\u6210\u5bc6\u94a5\u3002\n[root@chatgpt-test ~]# ssh-keygen\nGenerating public/private rsa key pair.\nEnter file in which to save the key (/root/.ssh/id_rsa): \nEnter passphrase (empty for no passphrase): \nEnter same passphrase again: \nYour identification has been saved in /root/.ssh/id_rsa.\nYour public key has been saved in /root/.ssh/id_rsa.pub.\nThe key fingerprint is:\nSHA256:8IlsI9RZn/sDvn10OB5mvm8d+yP/0rVb5cwNQbT1wlg root@chatgpt-test\nThe key's randomart image is:\n+---[RSA 2048]----+\n|        .    .E .|\n|     . o . . = o.|\n|    . +   o . = .|\n|   . . + . .   o |\n|    . = S o   ...|\n|     o . . o  B*=|\n|          . o* =%|\n|           o o=+=|\n|          . ..+BO|\n+----[SHA256]-----+\n</code></pre> <p>\u5c06\u516c\u94a5\u590d\u5236\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\uff1a</p> <p>\u4ece<code>192.168.31.223</code>\u5c06\u516c\u94a5\u590d\u5236\u5230<code>192.168.31.162</code>\uff1a</p> Bash<pre><code>cat ~/.ssh/id_rsa.pub | ssh root@192.168.31.162 'cat &gt;&gt; ~/.ssh/authorized_keys'\n</code></pre> <p>\u6ce8\u610f\u4e8b\u9879\uff1a</p> <ul> <li>\u5728\u751f\u6210\u5bc6\u94a5\u65f6\uff0c\u5efa\u8bae\u4f7f\u7528\u5f3a\u5bc6\u7801\u6765\u4fdd\u62a4\u79c1\u94a5\u3002</li> <li>\u5728\u590d\u5236\u516c\u94a5\u65f6\uff0c\u8bf7\u786e\u4fdd\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u7684 <code>authorized_keys</code> \u6587\u4ef6\u5177\u6709\u53ef\u5199\u6743\u9650\u3002</li> </ul> <p>\u5176\u4ed6\u65b9\u6cd5\uff1a</p> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>ssh-copy-id</code> \u547d\u4ee4\u6765\u5c06\u516c\u94a5\u590d\u5236\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u3002</p> Bash<pre><code>ssh-copy-id \u7528\u6237\u540d@\u8fdc\u7a0b\u670d\u52a1\u5668\u5730\u5740\n</code></pre> <p>\u6b64\u547d\u4ee4\u5c06\u81ea\u52a8\u5c06\u516c\u94a5\u590d\u5236\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u7684 <code>authorized_keys</code> \u6587\u4ef6\u4e2d\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/5.%E9%80%9A%E8%BF%87sshkey%E5%AF%86%E9%92%A5%E7%99%BB%E5%BD%95%E6%9C%8D%E5%8A%A1%E5%99%A8/#\u56db\u547d\u4ee4\u64cd\u4f5c","title":"\u56db\u3001\u547d\u4ee4\u64cd\u4f5c","text":"<p>\u4f7f\u7528 SSH \u5bc6\u94a5\u767b\u5f55\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u547d\u4ee4\u5982\u4e0b\uff1a</p> Bash<pre><code>ssh [\u9009\u9879] \u7528\u6237\u540d@\u8fdc\u7a0b\u670d\u52a1\u5668\u5730\u5740\n</code></pre> <p>\u547d\u4ee4\u8be6\u7ec6\u89e3\u91ca\uff1a</p> <ul> <li>ssh \u547d\u4ee4\u7684\u53c2\u6570\u5982\u4e0b\uff1a</li> </ul> \u53c2\u6570 \u8bf4\u660e \u9009\u9879 \u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u6307\u5b9a SSH \u8fde\u63a5\u7684\u5c5e\u6027\u3002 \u7528\u6237\u540d \u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u7684\u7528\u6237\u540d\u3002 \u8fdc\u7a0b\u670d\u52a1\u5668\u5730\u5740 \u8fdc\u7a0b\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u6216\u4e3b\u673a\u540d\u3002 <p>\u547d\u4ee4\u9009\u9879\uff1a</p> \u9009\u9879 \u8bf4\u660e -i \u6307\u5b9a\u79c1\u94a5\u6587\u4ef6\u7684\u8def\u5f84\u3002 -p \u6307\u5b9a\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u7aef\u53e3\u53f7\u3002 -t \u542f\u7528\u7ec8\u7aef\u6a21\u5f0f\u3002 -v \u663e\u793a ssh \u547d\u4ee4\u6267\u884c\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 <p>\u6ce8\u610f\u4e8b\u9879\uff1a</p> <ul> <li>\u5728\u4f7f\u7528 SSH \u5bc6\u94a5\u767b\u5f55\u8fdc\u7a0b\u670d\u52a1\u5668\u4e4b\u524d\uff0c\u9700\u8981\u5728\u672c\u5730\u8ba1\u7b97\u673a\u4e0a\u751f\u6210 SSH \u5bc6\u94a5\u5e76\u5c06\u516c\u94a5\u590d\u5236\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528 <code>ssh-keygen</code> \u547d\u4ee4\u751f\u6210 SSH \u5bc6\u94a5\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528 <code>cat</code> \u547d\u4ee4\u5c06\u516c\u94a5\u590d\u5236\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u3002</li> </ul> <p>sshkey \u547d\u4ee4\u7684\u4f7f\u7528\u6280\u5de7\uff1a</p> <ul> <li>\u53ef\u4ee5\u4f7f\u7528\u9009\u9879<code>-i</code>\u6307\u5b9a\u79c1\u94a5\u6587\u4ef6\u7684\u8def\u5f84\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u6b64\u9009\u9879\uff0c\u5219 ssh \u547d\u4ee4\u5c06\u4f7f\u7528\u9ed8\u8ba4\u7684\u79c1\u94a5\u6587\u4ef6\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528\u9009\u9879<code>-p</code>\u6307\u5b9a\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u7aef\u53e3\u53f7\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u6b64\u9009\u9879\uff0c\u5219 ssh \u547d\u4ee4\u5c06\u4f7f\u7528\u9ed8\u8ba4\u7684\u7aef\u53e3\u53f7 22\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528\u9009\u9879<code>-t</code>\u542f\u7528\u7ec8\u7aef\u6a21\u5f0f\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u6b64\u9009\u9879\uff0c\u5219 ssh \u547d\u4ee4\u5c06\u542f\u7528\u4ea4\u4e92\u5f0f\u6a21\u5f0f\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528\u9009\u9879<code>-v</code>\u663e\u793a ssh \u547d\u4ee4\u6267\u884c\u7684\u8be6\u7ec6\u4fe1\u606f\u3002</li> </ul> <p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4f7f\u7528 sshkey \u8bbe\u7f6e\u5b8c\u6210\u540e\u6f14\u793a\u547d\u4ee4\u7684\u793a\u4f8b\uff1a</p> <ul> <li>\u793a\u4f8b1\uff1a\u4f7f\u7528\u9ed8\u8ba4\u7684\u79c1\u94a5\u6587\u4ef6\u767b\u5f55\u8fdc\u7a0b\u670d\u52a1\u5668</li> </ul> Bash<pre><code>ssh root@192.168.31.162\n</code></pre> <ul> <li>\u793a\u4f8b2\uff1a\u4f7f\u7528\u6307\u5b9a\u7684\u79c1\u94a5\u6587\u4ef6\u767b\u5f55\u8fdc\u7a0b\u670d\u52a1\u5668</li> </ul> Bash<pre><code>ssh -i ~/.ssh/id_rsa root@192.168.31.162\n</code></pre> <ul> <li>\u793a\u4f8b3\uff1a\u4f7f\u7528\u6307\u5b9a\u7684\u7aef\u53e3\u53f7\u767b\u5f55\u8fdc\u7a0b\u670d\u52a1\u5668</li> </ul> Bash<pre><code>ssh -p 2222 root@192.168.31.162\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/5.%E9%80%9A%E8%BF%87sshkey%E5%AF%86%E9%92%A5%E7%99%BB%E5%BD%95%E6%9C%8D%E5%8A%A1%E5%99%A8/#\u4e94\u901a\u8fc7ssh\u8f6f\u4ef6\u767b\u5f55","title":"\u4e94\u3001\u901a\u8fc7SSH\u8f6f\u4ef6\u767b\u5f55","text":"<p>soreceCRT\u65e0\u5bc6\u7801\u767b\u5f55centos7\uff1a</p> <p>\u5c06\u751f\u6210\u7684\u79c1\u94a5\uff0c\u901a\u8fc7\u547d\u4ee4<code>sz  ~/.ssh/id_rsa.pub</code>\u4e0b\u8f7d\u5230\u672c\u5730\uff0c\u901a\u8fc7crt\u8f6f\u4ef6\u8bfb\u5199\u79c1\u94a5\u6587\u4ef6\u8fdb\u884c\u767b\u5f55\uff0c\u5373\u53ef\u65e0\u5bc6\u7801\u8bbf\u95ee192.168.224.135\u3002</p> <ul> <li>\u8bbe\u7f6e\u516c\u94a5\u4f18\u5148\u7ea7\u518d\u524d\uff0c\u5bc6\u7801\u9a8c\u8bc1\u518d\u540e\uff1a</li> </ul> <p></p> <ul> <li>\u6dfb\u52a0\u516c\u94a5\uff08\u70b9\u51fb-\u5c5e\u6027\uff0c\u9009\u62e9\u516c\u94a5\u5728\u672c\u673a\u7684\u8def\u5f84\uff09\uff1a</li> </ul> <p></p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/6.stat%E5%91%BD%E4%BB%A4/","title":"6. stat\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217\uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660estat\u547d\u4ee4\u7684\u7f16\u5199\u793a\u4f8b\uff0c\u5305\u542b\u6982\u5ff5\u3001\u547d\u4ee4\u64cd\u4f5c\u4ee5\u53ca\u547d\u4ee4\u8be6\u7ec6\u89e3\u91ca\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/6.stat%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>stat\u547d\u4ee4\u662fLinux\u7cfb\u7edf\u4e0b\u7684\u6587\u4ef6\u72b6\u6001\u67e5\u770b\u547d\u4ee4\uff0c\u7528\u4e8e\u663e\u793a\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u72b6\u6001\u4fe1\u606f\u3002</p> <ul> <li>\u82f1\u6587\u539f\u610f\uff1adisplay file or file system status</li> <li>\u6240\u5728\u8def\u5f84\uff1a/usr/bin/stat</li> <li>\u6267\u884c\u6743\u9650\uff1a\u6240\u6709\u7528\u6237</li> </ul> <p>\u901a\u8fc7\u547d\u4ee4which\u53ef\u4ee5\u67e5\u770b\u5230stat\u547d\u4ee4\u7684\u8def\u5f84\uff1a</p> Bash<pre><code>[root@chatgpt-test tmp]# which stat\n/usr/bin/stat\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/6.stat%E5%91%BD%E4%BB%A4/#\u4e8c\u8bed\u6cd5","title":"\u4e8c\u3001\u8bed\u6cd5","text":"Bash<pre><code>stat  [\u9009\u9879] \u6587\u4ef6\u6216\u76ee\u5f55\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/6.stat%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":"\u9009\u9879 \u8bf4\u660e -c \u4ee5\u6307\u5b9a\u7684\u683c\u5f0f\u663e\u793a\u6587\u4ef6\u72b6\u6001\u4fe1\u606f\u3002 -f \u663e\u793a\u6587\u4ef6\u7684\u6587\u4ef6\u683c\u5f0f\u3002 -L \u663e\u793a\u7b26\u53f7\u94fe\u63a5\u7684\u76ee\u6807\u6587\u4ef6\u3002 -t \u8bbe\u7f6e\u4ee5\u7b80\u6d01\u65b9\u5f0f\u663e\u793a\u3002"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/6.stat%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"<p>\u4f8b1\uff1a\u663e\u793a\u6587\u4ef6\u7684\u72b6\u6001\u4fe1\u606f</p> Bash<pre><code>stat /etc/passwd\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>  \u6587\u4ef6\uff1a\"/etc/passwd\"\n  \u5927\u5c0f\uff1a1296            \u5757\uff1a8          IO \u5757\uff1a4096   \u666e\u901a\u6587\u4ef6\n\u8bbe\u5907\uff1afd00h/64768d      Inode\uff1a17392117    \u786c\u94fe\u63a5\uff1a1\n\u6743\u9650\uff1a(0644/-rw-r--r--)  Uid\uff1a(    0/    root)   Gid\uff1a(    0/    root)\n\u73af\u5883\uff1asystem_u:object_r:passwd_file_t:s0\n\u6700\u8fd1\u8bbf\u95ee\uff1a2023-12-01 14:03:23.221777756 +0800\n\u6700\u8fd1\u66f4\u6539\uff1a2023-11-20 09:32:44.228528334 +0800\n\u6700\u8fd1\u6539\u52a8\uff1a2023-11-20 09:32:44.523511270 +0800\n\u521b\u5efa\u65f6\u95f4\uff1a-\n</code></pre> <p>\u4f8b2\uff1a\u663e\u793a\u7b26\u53f7\u94fe\u63a5\u7684\u76ee\u6807\u6587\u4ef6</p> Bash<pre><code>touch stat_file1.txt\necho \"Hello world\" &gt;stat_file1.txt\nln -s stat_file1.txt file2.txt\n</code></pre> <p>\u663e\u793a\u7b26\u53f7\u8fde\u63a5\u7684\u76ee\u6807\u6587\u4ef6\uff1a</p> Bash<pre><code>stat -L file2.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>  \u6587\u4ef6\uff1a\"file2.txt\"\n  \u5927\u5c0f\uff1a12              \u5757\uff1a8          IO \u5757\uff1a4096   \u666e\u901a\u6587\u4ef6\n\u8bbe\u5907\uff1afd00h/64768d      Inode\uff1a17827834    \u786c\u94fe\u63a5\uff1a1\n\u6743\u9650\uff1a(0644/-rw-r--r--)  Uid\uff1a(    0/    root)   Gid\uff1a(    0/    root)\n\u73af\u5883\uff1aunconfined_u:object_r:user_tmp_t:s0\n\u6700\u8fd1\u8bbf\u95ee\uff1a2023-12-01 14:31:43.722569883 +0800\n\u6700\u8fd1\u66f4\u6539\uff1a2023-12-01 14:32:04.989662027 +0800\n\u6700\u8fd1\u6539\u52a8\uff1a2023-12-01 14:32:04.989662027 +0800\n\u521b\u5efa\u65f6\u95f4\uff1a-\n</code></pre> <p>\u4f8b3\uff1a\u663e\u793a\u6e90\u6587\u4ef6\u4fe1\u606f</p> Bash<pre><code>stat file2.txt \n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>  \u6587\u4ef6\uff1a\"file2.txt\" -&gt; \"stat_file1.txt\"\n  \u5927\u5c0f\uff1a14              \u5757\uff1a0          IO \u5757\uff1a4096   \u7b26\u53f7\u94fe\u63a5\n\u8bbe\u5907\uff1afd00h/64768d      Inode\uff1a17827839    \u786c\u94fe\u63a5\uff1a1\n\u6743\u9650\uff1a(0777/lrwxrwxrwx)  Uid\uff1a(    0/    root)   Gid\uff1a(    0/    root)\n\u73af\u5883\uff1aunconfined_u:object_r:user_tmp_t:s0\n\u6700\u8fd1\u8bbf\u95ee\uff1a2023-12-01 14:33:02.252550639 +0800\n\u6700\u8fd1\u66f4\u6539\uff1a2023-12-01 14:33:00.989502230 +0800\n\u6700\u8fd1\u6539\u52a8\uff1a2023-12-01 14:33:00.989502230 +0800\n\u521b\u5efa\u65f6\u95f4\uff1a-\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/6.stat%E5%91%BD%E4%BB%A4/#\u4e94\u6ce8\u610f\u4e8b\u9879","title":"\u4e94\u3001\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>stat\u547d\u4ee4\u53ea\u80fd\u663e\u793a\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u72b6\u6001\u4fe1\u606f\uff0c\u4e0d\u80fd\u663e\u793a\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u5185\u5bb9\u3002</li> <li>stat\u547d\u4ee4\u7684\u8f93\u51fa\u683c\u5f0f\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u8c03\u6574\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/6.stat%E5%91%BD%E4%BB%A4/#\u516d\u5c0f\u7ed3","title":"\u516d\u3001\u5c0f\u7ed3","text":"<p>stat\u547d\u4ee4\u662fLinux\u7cfb\u7edf\u4e0b\u67e5\u770b\u6587\u4ef6\u6216\u76ee\u5f55\u72b6\u6001\u4fe1\u606f\u7684\u91cd\u8981\u547d\u4ee4\u3002\u5728\u4f7f\u7528stat\u547d\u4ee4\u65f6\uff0c\u8bf7\u6ce8\u610f\u4ee5\u4e0b\u51e0\u70b9\uff1a</p> <ul> <li>\u6587\u4ef6\u6216\u76ee\u5f55\u5fc5\u987b\u5b58\u5728\u3002</li> <li>\u6587\u4ef6\u6216\u76ee\u5f55\u5fc5\u987b\u5177\u6709\u53ef\u8bfb\u6743\u9650\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/7.more%E5%91%BD%E4%BB%A4/","title":"7. more\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217\uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u4ecb\u7ecdLinux\u7cfb\u7edf\u4e0b\u7684more\u547d\u4ee4\uff0c\u5b83\u7528\u4e8e\u9010\u5c4f\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9\u3002 </p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/7.more%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>more\u547d\u4ee4\u662fLinux\u7cfb\u7edf\u4e0b\u7684\u6587\u4ef6\u9010\u5c4f\u663e\u793a\u547d\u4ee4\uff0c\u7528\u4e8e\u9010\u5c4f\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/7.more%E5%91%BD%E4%BB%A4/#\u4e8c\u8bed\u6cd5","title":"\u4e8c\u3001\u8bed\u6cd5","text":"Bash<pre><code>more [\u9009\u9879] \u6587\u4ef6\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/7.more%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":"\u9009\u9879 \u8bf4\u660e -d \u663e\u793a\u63d0\u9192\u4fe1\u606f\uff0c\u5173\u95ed\u54cd\u94c3\u529f\u80fd\u3002 -f \u7edf\u8ba1\u5b9e\u9645\u7684\u884c\u6570\uff0c\u800c\u975e\u81ea\u52a8\u6362\u884c\u7684\u884c\u6570\u3002 -s \u5c06\u591a\u4e2a\u7a7a\u884c\u538b\u7f29\u6210\u4e00\u884c\u663e\u793a\u3002 -l \u5c06\u201c^L\u201d\u5f53\u4f5c\u666e\u901a\u5b57\u7b26\u5904\u7406\uff0c\u800c\u4e0d\u6682\u505c\u8f93\u51fa\u4fe1\u606f\u3002 -u \u7981\u6b62\u4e0b\u5212\u7ebf\u3002 -c \u4e0d\u6eda\u5c4f\uff0c\u5148\u663e\u793a\u5185\u5bb9\u518d\u6e05\u9664\u65e7\u5185\u5bb9\u3002 -p \u5148\u6e05\u9664\u5c4f\u5e55\u518d\u663e\u793a\u6587\u672c\u6587\u4ef6\u7684\u5269\u4f59\u5185\u5bb9\u3002"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/7.more%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"<p>\u4e0b\u9762\u662f\u4e00\u4e9b\u4f7f\u7528more\u547d\u4ee4\u7684\u793a\u4f8b\uff1a</p> <p>\u4f8b1\uff1a\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9</p> Bash<pre><code>more test.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code># 12\n123\n\n\n123\n\n123\n</code></pre> <p>\u4f8b2\uff1a\u663e\u793a\u63d0\u9192\u4fe1\u606f\uff0c\u5173\u95ed\u54cd\u94c3\u529f\u80fd</p> Text Only<pre><code>more -d test.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code># 12\n123\n\n\n123\n\n123\n</code></pre> <p>\u4f8b3\uff1a\u7edf\u8ba1\u5b9e\u9645\u7684\u884c\u6570\uff0c\u800c\u975e\u81ea\u52a8\u6362\u884c\u7684\u884c\u6570</p> Text Only<pre><code>more -f test.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code># 12\n123\n\n\n123\n\n123\n</code></pre> <p>\u4f8b4\uff1a\u5c06\u591a\u4e2a\u7a7a\u884c\u538b\u7f29\u6210\u4e00\u884c\u663e\u793a</p> Text Only<pre><code>more -s test.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code># 12\n123\n\n123\n\n123\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/7.more%E5%91%BD%E4%BB%A4/#\u4e94\u6ce8\u610f\u4e8b\u9879","title":"\u4e94\u3001\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>more\u547d\u4ee4\u53ea\u80fd\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u4e0d\u80fd\u663e\u793a\u6587\u4ef6\u7684\u72b6\u6001\u4fe1\u606f\u3002</li> <li>more\u547d\u4ee4\u7684\u8f93\u51fa\u683c\u5f0f\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u8c03\u6574\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/7.more%E5%91%BD%E4%BB%A4/#\u516d\u5feb\u6377\u952e","title":"\u516d\u3001\u5feb\u6377\u952e","text":"<p>\u5728\u4f7f\u7528more\u547d\u4ee4\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u5feb\u6377\u952e\u8fdb\u884c\u64cd\u4f5c\uff1a</p> \u5feb\u6377\u952e \u8bf4\u660e \u7a7a\u683c\u952e \u5411\u4e0b\u7ffb\u4e00\u884c\u3002 b \u5411\u4e0a\u7ffb\u4e00\u884c\u3002 \u56de\u8f66\u952e \u5411\u4e0b\u7ffb\u4e00\u5c4f\u3002 q \u9000\u51famore\u547d\u4ee4\u3002 / \u67e5\u627e\u6307\u5b9a\u5b57\u7b26\u4e32\u3002 n \u91cd\u590d\u4e0a\u6b21\u67e5\u627e\u3002 ? \u67e5\u627e\u6307\u5b9a\u5b57\u7b26\u4e32\uff08\u9006\u5411\u67e5\u627e\uff09\u3002 <p>\u4f7f\u7528more\u547d\u4ee4\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5feb\u6377\u952e\u6765\u8fdb\u884c\u64cd\u4f5c\uff0c\u65b9\u4fbf\u5feb\u6377\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/7.more%E5%91%BD%E4%BB%A4/#\u4e03\u5c0f\u7ed3","title":"\u4e03\u3001\u5c0f\u7ed3","text":"<p>more\u547d\u4ee4\u662fLinux\u7cfb\u7edf\u4e0b\u67e5\u770b\u6587\u4ef6\u5185\u5bb9\u7684\u91cd\u8981\u547d\u4ee4\u3002\u901a\u8fc7\u672c\u6587\u7684\u4ecb\u7ecd\uff0c\u4f60\u5e94\u8be5\u5df2\u7ecf\u4e86\u89e3\u4e86more\u547d\u4ee4\u7684\u57fa\u672c\u7528\u6cd5\u548c\u5e38\u89c1\u9009\u9879\u3002\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u8981\u7075\u6d3b\u8fd0\u7528more\u547d\u4ee4\u6765\u9010\u5c4f\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9\u3002</p> <p>\u5e0c\u671b\u672c\u7bc7\u6587\u7ae0\u5bf9\u4f60\u6709\u6240\u5e2e\u52a9\uff0c\u611f\u8c22\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217\uff01</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/8.cat%E5%91%BD%E4%BB%A4/","title":"8. cat\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217\uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660ecat\u547d\u4ee4\u7528\u6cd5\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/8.cat%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>cat\u547d\u4ee4\u662fLinux\u7cfb\u7edf\u4e0b\u7684\u6587\u4ef6\u67e5\u770b\u547d\u4ee4\uff0c\u7528\u4e8e\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/8.cat%E5%91%BD%E4%BB%A4/#\u4e8c\u8bed\u6cd5","title":"\u4e8c\u3001\u8bed\u6cd5","text":"Bash<pre><code>cat [\u9009\u9879] \u6587\u4ef6\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/8.cat%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":"\u9009\u9879 \u8bf4\u660e <code>-n</code> <code>--number</code>\u663e\u793a\u6bcf\u4e00\u884c\u7684\u884c\u53f7 <code>-b</code> <code>--number-nonblank</code>\u663e\u793a\u975e\u7a7a\u884c\u7684\u884c\u53f7 <code>-s</code> <code>--squeeze-blank</code>\u538b\u7f29\u8fde\u7eed\u7684\u7a7a\u884c\u4e3a\u4e00\u884c <code>-v</code> <code>--show-nonprinting</code>\u663e\u793a\u975e\u6253\u5370\u5b57\u7b26 <code>-E</code> <code>--show-ends</code>\u5728\u6bcf\u884c\u7ed3\u5c3e\u663e\u793a\u7b26\u53f7<code>$</code> <code>-T</code> <code>--show-tabs</code>\u5c06\u5236\u8868\u7b26\u663e\u793a\u4e3a <code>^I</code> <code>-A</code> <code>-show-all</code>\uff1a \u4f4d\u4e8e<code>-vET</code>\u7ec4\u5408\u9009\u9879\u4e4b\u540e\u3002 <code>-e</code> \u4f4d\u4e8e\u7684<code>-vE</code>\u7ec4\u5408\u9009\u9879\u4e4b\u540e <code>-t</code> \u4f4d\u4e8e\u7684<code>-vT</code>\u7ec4\u5408\u9009\u9879\u4e4b\u540e\u3002 <code>-u</code> \u7981\u6b62\u7f13\u51b2\u8f93\u51fa"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/8.cat%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"<p>\u4f8b1\uff1a\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9</p> Bash<pre><code>cat test.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>This is my drives.\n\n\nthinks\n</code></pre> <p>\u4f8b2\uff1a<code>-b</code>\u6216<code>--number-nonblank</code>\uff1a\u663e\u793a\u975e\u7a7a\u884c\u7684\u884c\u53f7</p> Bash<pre><code>cat -b test.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>     1  This is my drives.\n\n     2\n     3  thinks\n</code></pre> <p>\u4f8b3\uff1a\u5728\u7279\u5b9a\u5b57\u7b26\u5904\u6dfb\u52a0\u7279\u6b8a\u5b57\u7b26$</p> Text Only<pre><code>cat -e test.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>This is my drives.$\n$\n        $\nthinks$\n</code></pre> <p>\u4f8b4\uff1a\u5728\u7279\u5b9a\u5b57\u7b26\u5904\u6dfb\u52a0\u7279\u6b8a\u5b57\u7b26$\uff0c\u5e76\u5c06\u8f93\u51fa\u683c\u5f0f\u8bbe\u7f6e\u4e3a\u201cDOS\u201d</p> Text Only<pre><code>cat -E test.txt \n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>This is my drives.$\n$\n        $\nthinks$\n</code></pre> <p>\u4f8b5\uff1a<code>--number</code>\uff1a\u663e\u793a\u6bcf\u4e00\u884c\u7684\u884c\u53f7\u3002</p> Text Only<pre><code>cat -n test.txt \n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>     1  This is my drives.\n     2\n     3\n     4  thinks\n</code></pre> <p>\u4f8b6\uff1a<code>-s</code>\u6216<code>--squeeze-blank</code>\uff1a\u538b\u7f29\u8fde\u7eed\u7684\u7a7a\u884c\u4e3a\u4e00\u884c\u3002</p> Python<pre><code>cat -s test.txt \n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>This is my drives.\n\n\nthinks\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/8.cat%E5%91%BD%E4%BB%A4/#\u4e94\u6ce8\u610f\u4e8b\u9879","title":"\u4e94\u3001\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>cat\u547d\u4ee4\u53ea\u80fd\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u4e0d\u80fd\u663e\u793a\u6587\u4ef6\u7684\u72b6\u6001\u4fe1\u606f\u3002</li> <li>cat\u547d\u4ee4\u7684\u8f93\u51fa\u683c\u5f0f\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u8c03\u6574\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/8.cat%E5%91%BD%E4%BB%A4/#\u516d\u5c0f\u7ed3","title":"\u516d\u3001\u5c0f\u7ed3","text":"<p>cat\u547d\u4ee4\u662fLinux\u7cfb\u7edf\u4e0b\u67e5\u770b\u6587\u4ef6\u5185\u5bb9\u7684\u91cd\u8981\u547d\u4ee4\u3002\u5728\u4f7f\u7528cat\u547d\u4ee4\u65f6\uff0c\u8bf7\u6ce8\u610f\u4ee5\u4e0b\u51e0\u70b9\uff1a</p> <ul> <li>\u6587\u4ef6\u5fc5\u987b\u5b58\u5728\u3002</li> <li>\u6587\u4ef6\u5fc5\u987b\u5177\u6709\u53ef\u8bfb\u6743\u9650\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/9.tail%E5%91%BD%E4%BB%A4/","title":"9. tail\u547d\u4ee4","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217\uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u8bf4\u660etail\u547d\u4ee4\u7528\u6cd5\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/9.tail%E5%91%BD%E4%BB%A4/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>tail\u547d\u4ee4\u662fLinux\u7cfb\u7edf\u4e0b\u7684\u6587\u4ef6\u5c3e\u90e8\u67e5\u770b\u547d\u4ee4\uff0c\u7528\u4e8e\u67e5\u770b\u6587\u4ef6\u7684\u672b\u5c3e\u90e8\u5206\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/9.tail%E5%91%BD%E4%BB%A4/#\u4e8c\u8bed\u6cd5","title":"\u4e8c\u3001\u8bed\u6cd5","text":"Bash<pre><code>tail [\u9009\u9879] \u6587\u4ef6\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/9.tail%E5%91%BD%E4%BB%A4/#\u4e09\u9009\u9879","title":"\u4e09\u3001\u9009\u9879","text":"\u9009\u9879 \u8bf4\u660e -c \u6570\u5b57 \u663e\u793a\u6307\u5b9a\u7684\u5b57\u8282\u6570\u3002 -f \u5faa\u73af\u8bfb\u53d6\u6587\u4ef6\uff0c\u5e76\u663e\u793a\u6700\u65b0\u7684\u5185\u5bb9\u3002 -n \u6570\u5b57 \u663e\u793a\u6307\u5b9a\u7684\u884c\u6570\u3002 -q \u4e0d\u663e\u793a\u5904\u7406\u4fe1\u606f\u3002 -s \u6570\u5b57 \u663e\u793a\u6307\u5b9a\u7684\u5b57\u7b26\u6570\u3002"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/9.tail%E5%91%BD%E4%BB%A4/#\u56db\u793a\u4f8b","title":"\u56db\u3001\u793a\u4f8b","text":"<p>\u4f8b1\uff1a\u9ed8\u8ba4\u663e\u793a\u6587\u4ef6\u7684\u672b\u5c3e10\u884c</p> Bash<pre><code>tail /etc/passwd\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>chrony:x:996:992::/var/lib/chrony:/sbin/nologin\nntp:x:38:38::/etc/ntp:/sbin/nologin\nrpc:x:32:32:Rpcbind Daemon:/var/lib/rpcbind:/sbin/nologin\nrpcuser:x:29:29:RPC Service User:/var/lib/nfs:/sbin/nologin\nnfsnobody:x:65534:65534:Anonymous NFS User:/var/lib/nfs:/sbin/nologin\nsquid:x:23:23::/var/spool/squid:/sbin/nologin\ntcpdump:x:72:72::/:/sbin/nologin\ngrafana:x:995:991:grafana user:/usr/share/grafana:/sbin/nologin\nprometheus:x:1001:1001::/home/prometheus:/sbin/nologin\nelk:x:1002:1002::/home/elk:/sbin/nologin\n</code></pre> <p>\u4f8b2\uff1a\u663e\u793a\u6587\u4ef6\u7684\u672b\u5c3e2\u884c</p> Text Only<pre><code>tail -n 2 /etc/passwd\n</code></pre> <p>\u8f93\u51fa\uff1a </p> Bash<pre><code>prometheus:x:1001:1001::/home/prometheus:/sbin/nologin\nelk:x:1002:1002::/home/elk:/sbin/nologin\n</code></pre> <p>\u4f8b3\uff1a\u5faa\u73af\u8bfb\u53d6\u6587\u4ef6\uff0c\u5e76\u663e\u793a\u6700\u65b0\u7684\u5185\u5bb9</p> <p>\u5728\u7ec8\u7aef1\u4e0a\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5f00\u59cb\u76d1\u542c\u6587\u4ef6\uff1a</p> Bash<pre><code>tail -f test.txt\n</code></pre> <p>\u5728\u7ec8\u7aef2\u4e0a\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06\u5185\u5bb9\u5199\u5165\u6587\u4ef6\uff1a</p> Bash<pre><code>echo \"Hello world\" &gt;&gt; test.txt\necho \"My name is josh.\" &gt;&gt; test.txt\n</code></pre> <p>\u7ec8\u7aef1\u4e0a\u7684<code>tail</code>\u547d\u4ee4\u5c06\u5b9e\u65f6\u663e\u793a<code>test.txt</code>\u6587\u4ef6\u7684\u6700\u65b0\u5185\u5bb9\u3002\u8f93\u51fa\u5c06\u5982\u4e0b\u6240\u793a\uff1a</p> Python<pre><code>Hello world\nMy name is josh.\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/9.tail%E5%91%BD%E4%BB%A4/#\u4e94\u6ce8\u610f\u4e8b\u9879","title":"\u4e94\u3001\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li> <p>tail\u547d\u4ee4\u53ea\u80fd\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u4e0d\u80fd\u663e\u793a\u6587\u4ef6\u7684\u72b6\u6001\u4fe1\u606f\u3002</p> </li> <li> <p>tail\u547d\u4ee4\u4e0emore\u547d\u4ee4\u548cless\u547d\u4ee4\u7684\u533a\u522b\uff1a</p> </li> </ul> \u533a\u522b tail\u547d\u4ee4 more\u547d\u4ee4 less\u547d\u4ee4 \u529f\u80fd \u53ea\u663e\u793a\u6587\u4ef6\u7684\u672b\u5c3e\u90e8\u5206\u3002 \u9010\u5c4f\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9\u3002 \u9010\u5c4f\u663e\u793a\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u652f\u6301\u66f4\u591a\u7684\u529f\u80fd\u3002 \u8f93\u51fa \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u663e\u793a\u6587\u4ef6\u7684\u672b\u5c3e10\u884c\u3002 \u663e\u793a\u6587\u4ef6\u7684\u6bcf\u4e00\u884c\uff0c\u76f4\u5230\u6309q\u9000\u51fa\u3002 \u663e\u793a\u6587\u4ef6\u7684\u6bcf\u4e00\u884c\uff0c\u76f4\u5230\u6309q\u9000\u51fa\u3002 <ul> <li> <p>tail\u547d\u4ee4\u7684\u4f7f\u7528\u6280\u5de7\uff1a</p> </li> <li> <p>\u4f7f\u7528tail\u547d\u4ee4\u67e5\u770b\u65e5\u5fd7\u6587\u4ef6\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u9009\u9879 -f \u6765\u5faa\u73af\u8bfb\u53d6\u6587\u4ef6\uff0c\u5e76\u663e\u793a\u6700\u65b0\u7684\u5185\u5bb9\u3002</p> </li> <li> <p>\u4f7f\u7528tail\u547d\u4ee4\u67e5\u770b\u6587\u4ef6\u7684\u672b\u5c3e\u90e8\u5206\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u9009\u9879 -n \u6765\u6307\u5b9a\u663e\u793a\u7684\u884c\u6570\u3002</p> </li> <li> <p>\u4f7f\u7528tail\u547d\u4ee4\u67e5\u770b\u6587\u4ef6\u7684\u672b\u5c3e\u90e8\u5206\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u9009\u9879 -c \u6765\u6307\u5b9a\u663e\u793a\u7684\u5b57\u8282\u6570\u3002</p> </li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/9.tail%E5%91%BD%E4%BB%A4/#\u516d\u5c0f\u7ed3","title":"\u516d\u3001\u5c0f\u7ed3","text":"<p>tail\u547d\u4ee4\u662fLinux\u7cfb\u7edf\u4e0b\u67e5\u770b\u6587\u4ef6\u5c3e\u90e8\u5185\u5bb9\u7684\u91cd\u8981\u547d\u4ee4\u3002\u5728\u4f7f\u7528tail\u547d\u4ee4\u65f6\uff0c\u8bf7\u6ce8\u610f\u4ee5\u4e0b\u51e0\u70b9\uff1a</p> <ul> <li>\u6587\u4ef6\u5fc5\u987b\u5b58\u5728\u3002</li> <li>\u6587\u4ef6\u5fc5\u987b\u5177\u6709\u53ef\u8bfb\u6743\u9650\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/passwd%E5%92%8Cshowad%E6%A6%82%E8%BF%B0/","title":"19. passwd\u548cshadow\u6982\u8ff0","text":""},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/passwd%E5%92%8Cshowad%E6%A6%82%E8%BF%B0/#\u4e00\u7b80\u4ecb","title":"\u4e00\u3001\u7b80\u4ecb","text":"<p>\u5728Linux\u7cfb\u7edf\u4e2d\uff0c<code>passwd</code>\u548c<code>shadow</code>\u662f\u4e24\u4e2a\u91cd\u8981\u7684\u6587\u4ef6\uff0c\u7528\u4e8e\u7ba1\u7406\u7528\u6237\u8d26\u6237\u548c\u5bc6\u7801\u4fe1\u606f\u3002<code>passwd</code>\u6587\u4ef6\u5b58\u50a8\u7528\u6237\u7684\u57fa\u672c\u4fe1\u606f\uff0c\u800c<code>shadow</code>\u6587\u4ef6\u5219\u7528\u4e8e\u5b58\u50a8\u7528\u6237\u7684\u52a0\u5bc6\u5bc6\u7801\u548c\u5176\u4ed6\u5b89\u5168\u76f8\u5173\u7684\u4fe1\u606f\u3002\u672c\u6587\u5c06\u5bf9\u8fd9\u4e24\u4e2a\u6587\u4ef6\u7684\u7ed3\u6784\u548c\u5b57\u6bb5\u8fdb\u884c\u6982\u8ff0\uff0c\u5e76\u63d0\u4f9b\u4e00\u4e9b\u5b9e\u9a8c\u793a\u4f8b\u548c\u6269\u5c55\u77e5\u8bc6\u3002</p>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/passwd%E5%92%8Cshowad%E6%A6%82%E8%BF%B0/#\u4e8c\u7528\u6237\u548c\u7ec4\u793a\u4f8b","title":"\u4e8c\u3001\u7528\u6237\u548c\u7ec4\u793a\u4f8b","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u5b9e\u9a8c\u793a\u4f8b\uff0c\u6f14\u793a\u5982\u4f55\u4f7f\u7528<code>/etc/passwd</code>\u548c<code>/etc/shadow</code>\u6587\u4ef6\u6765\u521b\u5efa\u7528\u6237\u8d26\u6237\u548c\u8bbe\u7f6e\u5bc6\u7801\u3002</p> <p>\u521b\u5efa\u4e00\u4e2a\u65b0\u7528\u6237\u8d26\u6237\uff1a</p> Bash<pre><code>useradd -m -s /bin/bash newuser\n</code></pre> <p>\u8bbe\u7f6e\u65b0\u7528\u6237\u7684\u5bc6\u7801\uff1a</p> Bash<pre><code>passwd newuser\n</code></pre> <p>\u67e5\u770b<code>/etc/passwd</code>\u6587\u4ef6\u4e2d\u7684\u7528\u6237\u4fe1\u606f\uff1a</p> Bash<pre><code>cat /etc/passwd | grep newuser\n</code></pre> <p>\u67e5\u770b<code>/etc/shadow</code>\u6587\u4ef6\u4e2d\u7684\u7528\u6237\u5bc6\u7801\u4fe1\u606f\uff1a</p> Bash<pre><code>cat /etc/shadow | grep newuser\n</code></pre> <p>\u521b\u5efa\u7528\u6237\u7ec4\uff1a</p> Bash<pre><code> groupadd newgroup\n</code></pre> <p>\u52a0\u5165\u7528\u6237\u7ec4\uff1a</p> Bash<pre><code>gpasswd -a newuser newgroup\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Bash<pre><code>\u6b63\u5728\u5c06\u7528\u6237\u201cnewuser\u201d\u52a0\u5165\u5230\u201cnewgroup\u201d\u7ec4\u4e2d\n</code></pre> <p>\u8fd8\u53ef\u4ee5\u4f7f\u7528<code>useradd -g group user</code>\uff0c\u5728\u521b\u5efa\u7528\u6237\u65f6\u52a0\u5165\u7ec4\uff1a</p> Bash<pre><code>useradd -g newgroup newuser1\n</code></pre>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/passwd%E5%92%8Cshowad%E6%A6%82%E8%BF%B0/#\u4e09etcpasswd\u6587\u4ef6","title":"\u4e09\u3001/etc/passwd\u6587\u4ef6","text":"<p><code>/etc/passwd</code>\u6587\u4ef6\u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u7528\u4e8e\u5b58\u50a8\u7528\u6237\u8d26\u6237\u7684\u57fa\u672c\u4fe1\u606f\u3002\u4e0b\u9762\u662f<code>/etc/passwd</code>\u6587\u4ef6\u7684\u5b57\u6bb5\u8bf4\u660e\uff1a</p> Text Only<pre><code>[root@localhost shell]# cat /etc/passwd\nroot:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/sbin/nologin\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\nadm:x:3:4:adm:/var/adm:/sbin/nologin\n</code></pre> <ul> <li>\u7b2c1\u5b57\u6bb5\uff1a\u7528\u6237\u540d\u79f0\uff08\u7528\u6237\u540d\uff09\uff1b</li> <li>\u7b2c2\u5b57\u6bb5\uff1a\u5bc6\u7801\u6807\u5fd7\uff08\u5728\u73b0\u4ee3\u7cfb\u7edf\u4e2d\u5df2\u5e9f\u5f03\uff0c\u901a\u5e38\u4e3a<code>x</code>\uff09\uff1b</li> <li>\u7b2c3\u5b57\u6bb5\uff1a\u7528\u6237ID\uff08UID\uff09\uff0c\u7528\u4e8e\u552f\u4e00\u6807\u8bc6\u7528\u6237\uff1b</li> <li>0\uff1a\u8d85\u7ea7\u7528\u6237\uff08root\uff09\uff1b</li> <li>1-499\uff1a\u7cfb\u7edf\u7528\u6237\uff1b</li> <li>500-65535\uff1a\u666e\u901a\u7528\u6237\u3002</li> <li>\u7b2c4\u5b57\u6bb5\uff1a\u7528\u6237\u521d\u59cb\u7ec4ID\uff08GID\uff09\uff1b</li> <li>\u7b2c5\u5b57\u6bb5\uff1a\u7528\u6237\u8bf4\u660e\uff08\u901a\u5e38\u662f\u7528\u6237\u7684\u5168\u540d\uff09\uff1b</li> <li>\u7b2c6\u5b57\u6bb5\uff1a\u5bb6\u76ee\u5f55\u8def\u5f84\uff1b</li> <li>\u5bf9\u4e8e\u666e\u901a\u7528\u6237\uff1a<code>/home/\u7528\u6237\u540d</code>\uff1b</li> <li>\u5bf9\u4e8e\u8d85\u7ea7\u7528\u6237\uff1a<code>/root/</code>\uff1b</li> <li>\u7b2c7\u5b57\u6bb5\uff1a\u767b\u5f55\u540e\u7684shell\uff08\u547d\u4ee4\u89e3\u91ca\u5668\uff09\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/passwd%E5%92%8Cshowad%E6%A6%82%E8%BF%B0/#\u56dbetcshadow\u6587\u4ef6","title":"\u56db\u3001/etc/shadow\u6587\u4ef6","text":"<p><code>/etc/shadow</code>\u6587\u4ef6\u662f\u4e00\u4e2a\u5177\u6709\u4e25\u683c\u6743\u9650\uff080-0-0\uff09\u7684\u6587\u4ef6\uff0c\u7528\u4e8e\u5b58\u50a8\u7528\u6237\u7684\u52a0\u5bc6\u5bc6\u7801\u548c\u5176\u4ed6\u5b89\u5168\u76f8\u5173\u7684\u4fe1\u606f\u3002\u4e0b\u9762\u662f<code>/etc/shadow</code>\u6587\u4ef6\u7684\u5b57\u6bb5\u8bf4\u660e\uff1a</p> Bash<pre><code>[root@localhost shell]# cat /etc/shadow\nroot:$6$F8CH0BXfQxw6..::0:99999:7:::\nbin:*:18353:0:99999:7:::\ndaemon:*:18353:0:99999:7:::\nadm:*:18353:0:99999:7:::\nlp:*:18353:0:99999:7:::\nsync:*:18353:0:99999:7:::\nshutdown:*:18353:0:99999:7:::\n</code></pre> <ul> <li>\u7b2c1\u5b57\u6bb5\uff1a\u7528\u6237\u540d\uff1b</li> <li>\u7b2c2\u5b57\u6bb5\uff1a\u52a0\u5bc6\u5bc6\u7801\uff1b</li> <li>\u52a0\u5bc6\u7b97\u6cd5\u5347\u7ea7\u4e3aSHA512\u6563\u5217\u52a0\u5bc6\u7b97\u6cd5\uff1b</li> <li><code>!!</code>\u6216<code>*</code>\u8868\u793a\u6ca1\u6709\u5bc6\u7801\uff0c\u7981\u6b62\u767b\u5f55\uff1b</li> <li>\u7b2c3\u5b57\u6bb5\uff1a\u5bc6\u7801\u6700\u540e\u4e00\u6b21\u4fee\u6539\u65e5\u671f\uff08\u65f6\u95f4\u6233\uff09\uff1b</li> <li>\u7b2c4\u5b57\u6bb5\uff1a\u4e24\u6b21\u5bc6\u7801\u7684\u4fee\u6539\u95f4\u9694\u65f6\u95f4\uff08\u4e0e\u7b2c3\u5b57\u6bb5\u76f8\u6bd4\uff09\uff1b</li> <li>\u7b2c5\u5b57\u6bb5\uff1a\u5bc6\u7801\u6709\u6548\u671f\uff08\u4e0e\u7b2c3\u5b57\u6bb5\u76f8\u6bd4\uff09\uff1b</li> <li>\u7b2c6\u5b57\u6bb5\uff1a\u5bc6\u7801\u4fee\u6539\u5230\u671f\u524d\u7684\u8b66\u544a\u5929\u6570\uff08\u4e0e\u7b2c5\u5b57\u6bb5\u76f8\u6bd4\uff09\uff1b</li> <li>\u7b2c7\u5b57\u6bb5\uff1a\u5bc6\u7801\u8fc7\u671f\u540e\u7684\u5bbd\u9650\u5929\u6570\uff08\u4e0e\u7b2c5\u5b57\u6bb5\u76f8\u6bd4\uff09\uff1b</li> <li>0\uff1a\u5bc6\u7801\u8fc7\u671f\u540e\u7acb\u5373\u5931\u6548\uff1b</li> <li>-1\uff1a\u5bc6\u7801\u6c38\u8fdc\u4e0d\u4f1a\u5931\u6548\uff1b</li> <li>\u7b2c8\u5b57\u6bb5\uff1a\u8d26\u53f7\u5931\u6548\u65f6\u95f4\uff08\u65f6\u95f4\u6233\uff09\uff1b</li> <li>\u7b2c9\u5b57\u6bb5\uff1a\u4fdd\u7559\u5b57\u6bb5\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/passwd%E5%92%8Cshowad%E6%A6%82%E8%BF%B0/#\u4e94etcgroup\u6587\u4ef6","title":"\u4e94\u3001/etc/group\u6587\u4ef6","text":"<p><code>/etc/group</code>\u6587\u4ef6\u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u7528\u4e8e\u5b58\u50a8\u7ec4\u7684\u4fe1\u606f\u3002\u4e0b\u9762\u662f<code>/etc/group</code>\u6587\u4ef6\u7684\u5b57\u6bb5\u8bf4\u660e\uff1a</p> Bash<pre><code>[root@localhost shell]# cat /etc/group\nroot:x:0:\nbin:x:1:\ndaemon:x:2:\nsys:x:3:\n</code></pre> <ul> <li>\u7b2c1\u5b57\u6bb5\uff1a\u7ec4\u540d\uff1b</li> <li>\u7b2c2\u5b57\u6bb5\uff1a\u7ec4\u5bc6\u7801\u6807\u5fd7\uff08\u5728\u73b0\u4ee3\u7cfb\u7edf\u4e2d\u5df2\u5e9f\u5f03\uff0c\u901a\u5e38\u4e3a<code>x</code>\uff09\uff1b</li> <li>\u7b2c3\u5b57\u6bb5\uff1a\u7ec4ID\uff08GID\uff09\uff1b</li> <li>\u7b2c4\u5b57\u6bb5\uff1a\u7ec4\u4e2d\u9644\u52a0\u7528\u6237\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/passwd%E5%92%8Cshowad%E6%A6%82%E8%BF%B0/#\u516detcgshadow\u6587\u4ef6","title":"\u516d\u3001/etc/gshadow\u6587\u4ef6","text":"<p><code>/etc/gshadow</code>\u6587\u4ef6\u662f\u4e00\u4e2a\u5177\u6709\u4e25\u683c\u6743\u9650\uff080-0-0\uff09\u7684\u6587\u4ef6\uff0c\u7528\u4e8e\u5b58\u50a8\u7ec4\u7684\u5bc6\u7801\u548c\u5176\u4ed6\u5b89\u5168\u76f8\u5173\u7684\u4fe1\u606f\u3002\u4e0b\u9762\u662f<code>/etc/gshadow</code>\u6587\u4ef6\u7684\u5b57\u6bb5\u8bf4\u660e\uff1a</p> Bash<pre><code>[root@localhost shell]# more /etc/gshadow\nroot:::\nbin:::\ndaemon:::\nsys:::\n</code></pre> <ul> <li>\u7b2c1\u5b57\u6bb5\uff1a\u7ec4\u540d\uff1b</li> <li>\u7b2c2\u5b57\u6bb5\uff1a\u7ec4\u5bc6\u7801\uff1b</li> <li>\u7b2c3\u5b57\u6bb5\uff1a\u7ec4\u7ba1\u7406\u5458\u7528\u6237\u540d\uff1b</li> <li>\u7b2c4\u5b57\u6bb5\uff1a\u7ec4\u4e2d\u9644\u52a0\u7528\u6237\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/passwd%E5%92%8Cshowad%E6%A6%82%E8%BF%B0/#\u4e03\u6269\u5c55\u77e5\u8bc6","title":"\u4e03\u3001\u6269\u5c55\u77e5\u8bc6","text":"<p>\u9664\u4e86<code>/etc/passwd</code>\u548c<code>/etc/shadow</code>\u6587\u4ef6\uff0c\u8fd8\u6709\u4e00\u4e9b\u76f8\u5173\u7684\u6587\u4ef6\u548c\u914d\u7f6e\u9879\u9700\u8981\u4e86\u89e3\uff1a</p> <ul> <li><code>/etc/login.defs</code>\u6587\u4ef6\uff1a\u5305\u542b\u4e0e\u767b\u5f55\u548c\u5bc6\u7801\u7b56\u7565\u76f8\u5173\u7684\u914d\u7f6e\u9879\uff0c\u5982\u5bc6\u7801\u6709\u6548\u671f\u3001\u5bc6\u7801\u4fee\u6539\u95f4\u9694\u7b49\u3002</li> <li><code>/etc/default/useradd</code>\u6587\u4ef6\uff1a\u7528\u6237\u9ed8\u8ba4\u503c\u6587\u4ef6\uff0c\u7528\u4e8e\u8bbe\u7f6e\u65b0\u7528\u6237\u7684\u9ed8\u8ba4\u5c5e\u6027\uff0c\u5982\u9ed8\u8ba4\u7ec4\u3001\u5bb6\u76ee\u5f55\u8def\u5f84\u7b49\u3002</li> </ul>"},{"location":"linux/Linux%E5%91%BD%E4%BB%A4/passwd%E5%92%8Cshowad%E6%A6%82%E8%BF%B0/#\u516b\u7ed3\u8bba","title":"\u516b\u3001\u7ed3\u8bba","text":"<p><code>passwd</code>\u548c<code>shadow</code>\u6587\u4ef6\u5728Linux\u7cfb\u7edf\u4e2d\u8d77\u7740\u81f3\u5173\u91cd\u8981\u7684\u4f5c\u7528\uff0c\u7528\u4e8e\u7ba1\u7406\u7528\u6237\u8d26\u6237\u548c\u5bc6\u7801\u4fe1\u606f\u3002\u4e86\u89e3\u8fd9\u4e9b\u6587\u4ef6\u7684\u7ed3\u6784\u548c\u5b57\u6bb5\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u66f4\u597d\u5730\u7406\u89e3\u548c\u7ba1\u7406\u7528\u6237\u8d26\u6237\u3002\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u6982\u8ff0\u4e86\u8fd9\u4e9b\u6587\u4ef6\u7684\u5b57\u6bb5\u8bf4\u660e\uff0c\u5e76\u63d0\u4f9b\u4e86\u5b9e\u9a8c\u793a\u4f8b\u548c\u6269\u5c55\u77e5\u8bc6\u3002\u901a\u8fc7\u6df1\u5165\u7814\u7a76\u8fd9\u4e9b\u6587\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u66f4\u597d\u5730\u4fdd\u62a4\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u548c\u7a33\u5b9a\u6027\u3002</p> <p>\u5e0c\u671b\u672c\u6587\u5bf9\u4f60\u6709\u6240\u5e2e\u52a9\uff0c\u5982\u679c\u6709\u4efb\u4f55\u95ee\u9898\u6216\u5efa\u8bae\uff0c\u8bf7\u968f\u65f6\u63d0\u51fa\u3002</p>"},{"location":"python/","title":"Python\u4ecb\u7ecd","text":"<p>\u5728\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u4e2d\uff0cPython \u6a21\u5757\u662f\u8bb0\u5f55\u6211\u5728\u7f16\u7a0b\u4e0e\u81ea\u52a8\u5316\u5f00\u53d1\u4e2d\u7684\u63a2\u7d22\u4e0e\u7ecf\u9a8c\u7684\u5730\u65b9\u3002Python \u662f\u4e00\u95e8\u7b80\u6d01\u800c\u5f3a\u5927\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u6570\u636e\u5206\u6790\u3001Web \u5f00\u53d1\u3001\u81ea\u52a8\u5316\u811a\u672c\u548c\u4eba\u5de5\u667a\u80fd\u7b49\u9886\u57df\u3002\u65e0\u8bba\u662f\u5feb\u901f\u6784\u5efa\u539f\u578b\u8fd8\u662f\u5904\u7406\u590d\u6742\u7684\u903b\u8f91\uff0cPython \u90fd\u4ee5\u5176\u4e30\u5bcc\u7684\u5e93\u548c\u7b80\u5355\u7684\u8bed\u6cd5\uff0c\u5e2e\u52a9\u6211\u8f7b\u677e\u5e94\u5bf9\u5404\u79cd\u7f16\u7a0b\u6311\u6218\u3002\u4ece\u5c0f\u578b\u5de5\u5177\u7684\u5f00\u53d1\u5230\u5927\u578b\u7cfb\u7edf\u7684\u6784\u5efa\uff0cPython \u8ba9\u6211\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u66f4\u52a0\u7075\u6d3b\u3001\u9ad8\u6548\uff0c\u6210\u4e3a\u6211\u7f16\u7a0b\u751f\u6daf\u4e2d\u4e0d\u53ef\u6216\u7f3a\u7684\u4f19\u4f34\u3002</p>"},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/","title":"Python\u53caPycharm\u5b89\u88c5\u6559\u7a0b","text":""},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#\u4e00\u524d\u8a00","title":"\u4e00\u3001\u524d\u8a00","text":""},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#1python","title":"1.Python","text":"<p>\u200b       \u76ee\u524d\uff0cPython\u6709\u4e24\u4e2a\u7248\u672c\uff0c\u4e00\u4e2a\u662f2.x\u7248\uff0c\u4e00\u4e2a\u662f3.x\u7248\uff0c\u8fd9\u4e24\u4e2a\u7248\u672c\u662f\u4e0d\u517c\u5bb9\u7684\u3002\u7531\u4e8e3.x\u7248\u8d8a\u6765\u8d8a\u666e\u53ca\uff0c\u6211\u4eec\u7684\u6559\u7a0b\u5c06\u4ee5\u6700\u65b0\u7684Python 3.9.7\u7248\u672c\u4e3a\u57fa\u7840\u3002\uff08\u4f46\u53cd\u7f16\u8bd1\u5305uncompyle6\u4e0d\u652f\u63013.9.0\u4ee5\u4e0a\u7248\u672c\uff09</p>"},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#2pycharm","title":"2.PyCharm","text":"<p>\u200b       PyCharm \u662fJetBrains\u516c\u53f8\u7814\u53d1\uff0c\u7528\u4e8e\u5f00\u53d1 Python \u7684 IDE \u5f00\u53d1\u5de5\u5177\u3002\u5176\u5e26\u6709\u4e00\u6574\u5957\u53ef\u4ee5\u5e2e\u52a9\u7528\u6237\u5728\u4f7f\u7528Python\u8bed\u8a00\u5f00\u53d1\u65f6\u63d0\u9ad8\u5176\u6548\u7387\u7684\u5de5\u5177\uff0c\u6bd4\u5982\u8c03\u8bd5\u3001\u8bed\u6cd5\u9ad8\u4eae\u3001\u9879\u76ee\u7ba1\u7406\u3001\u4ee3\u7801\u8df3\u8f6c\u3001\u667a\u80fd\u63d0\u793a\u3001\u81ea\u52a8\u5b8c\u6210\u3001\u5355\u5143\u6d4b\u8bd5\u3001\u7248\u672c\u63a7\u5236\u3002\u6b64\u5916\uff0c\u8be5IDE\u63d0\u4f9b\u4e86\u4e00\u4e9b\u9ad8\u7ea7\u529f\u80fd\uff0c\u4ee5\u7528\u4e8e\u652f\u6301Django\u6846\u67b6\u4e0b\u7684\u4e13\u4e1aWeb\u5f00\u53d1\u3002</p>"},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#\u4e8cpython\u5b89\u88c5","title":"\u4e8c\u3001Python\u5b89\u88c5","text":""},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#1python\u5b98\u7f51\u4e0b\u8f7d","title":"1.Python\u5b98\u7f51\u4e0b\u8f7d","text":""},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#11-python\u5b98\u7f51","title":"1.1 Python\u5b98\u7f51","text":"<p>\u200b       \u82f1\u6587\u7248\uff1ahttps://www.python.org/downloads/windows/</p> <p>\u200b       \u4e2d\u6587\u7248\uff1ahttps://python.p2hp.com/downloads/windows/index.html</p> <p>\u200b       \u5728\u4e0b\u8f7d\u9875\u9762\u53ef\u4ee5\u770b\u5230\u5f88\u591a\u4e0d\u540c\u7248\u672c\u7684\u4e0b\u8f7d\u94fe\u63a5\u3002\u5176\u4e2d\uff0c\u6807\u8bb0 x86 \u7684\u4e3a 32 \u4f4d\u5b89\u88c5\u5305\uff0cx86-64 \u4e3a 64 \u4f4d\u5b89\u88c5\u5305\u3002executable installer\u4e3a\u5b8c\u6574\u7684\u5b89\u88c5\u5305\uff0c\u4e0b\u8f7d\u5b8c\u5373\u53ef\u5b89\u88c5\uff1bweb-based installer \u4f53\u79ef\u66f4\u5c0f\uff0c\u4f46\u5b89\u88c5\u65f6\u4ecd\u9700\u8054\u7f51\u4e0b\u8f7d\u5176\u4ed6\u90e8\u5206\u3002\u4e00\u822c\u7f51\u7edc\u4e0d\u597d\u65f6\u9009\u62e9 executable installer\uff0c\u4ee5\u4fdd\u8bc1\u5b89\u88c5\u8fc7\u7a0b\u4e0d\u4f1a\u4e2d\u65ad\u3002</p> <p></p>"},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#12-python\u7248\u672c\u7b80\u4ecb","title":"1.2 Python\u7248\u672c\u7b80\u4ecb","text":"<p>\u200b       python \u5305\u62ec python2\u3001python3 \u4e24\u4e2a\u5927\u7248\u672c\uff0c\u5176\u4e2d python3 \u6539\u8fdb\u4e86 python2 \u7684\u4e00\u4e9b\u4e0d\u8db3\uff0c\u4f46\u7531\u4e8e\u4ee5\u524d\u5f88\u591a\u5e94\u7528\u662f\u7528 python2 \u5f00\u53d1\u7684\uff0c\u7ef4\u62a4\u8fd9\u4e9b\u5e94\u7528\u8fd8\u9700\u7528\u5230 python2\uff0c\u6545 python2 \u5c1a\u672a\u88ab\u5b8c\u5168\u6dd8\u6c70\u3002</p>"},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#13-\u5b89\u88c5python","title":"1.3 \u5b89\u88c5Python","text":"<p>\u6253\u5f00\u5b89\u88c5\u5305\u6240\u5728\u6587\u4ef6\u5939\uff0c\u53cc\u51fb\u5f00\u59cb\u5b89\u88c5\uff1a</p> <p></p> <p>\u52fe\u9009 \u201cAdd Python to PATH\u201d \u590d\u9009\u6846\uff0c\u70b9\u51fb \u201cCustomize installaion\u201d\uff1a</p> <p></p> <p>\u4fdd\u6301\u9ed8\u8ba4\u8bbe\u7f6e\uff0c\u70b9\u51fb \u201cnext\u201d\uff1a</p> <p></p> <p>\u70b9\u51fb \u201cInstall\u201d \u5f00\u59cb\u5b89\u88c5\uff1a</p> <p></p> <p></p>"},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#2\u914d\u7f6e\u73af\u5883\u53d8\u91cf","title":"2.\u914d\u7f6e\u73af\u5883\u53d8\u91cf","text":"<p>\u200b       \u6ce8\uff1a\u5982\u679c\u5728\u5b89\u88c5Python\u65f6\u5df2\u52fe\u9009\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\uff0c\u5219\u65e0\u9700\u64cd\u4f5c\u6b64\u6b65\u9aa4\u3002</p> <p>\u200b       \u547d\u4ee4\u884c\u5728\u67e5\u627e\u53ef\u6267\u884c\u6587\u4ef6\u65f6\uff0c\u5148\u5728\u5f53\u524d\u76ee\u5f55\u627e\uff0c\u5982\u679c\u627e\u4e0d\u5230\uff0c\u5c31\u4f1a\u5728 Path \u53d8\u91cf\u6307\u5b9a\u7684\u76ee\u5f55\u627e\u3002\u56e0\u6b64\uff0c\u5c06\u53ef\u6267\u884c\u6587\u4ef6\u7684\u8def\u5f84\u6dfb\u52a0\u5230 Path \u4e2d\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u5728\u4efb\u610f\u8def\u5f84\u90fd\u80fd\u6267\u884c\u7a0b\u5e8f\u3002</p> <p>\uff081\uff09\u53f3\u51fb\u6b64\u7535\u8111 -&gt; \u5355\u51fb\u5c5e\u6027\uff1a</p> <p></p> <p>\uff082\uff09\u70b9\u51fb\u201d\u9ad8\u7ea7\u7cfb\u7edf\u8bbe\u7f6e\u201d\uff0c\u70b9\u51fb \u201c\u73af\u5883\u53d8\u91cf\u201d\uff08\u6709\u7684\u7535\u8111\u53ef\u80fd\u8981\u624b\u52a8\u9009\u62e9\u4e0a\u9762\u7684 \u201c\u9ad8\u7ea7\u201d \u9009\u9879\u5361\uff09\uff0c\u5355\u51fb\u9009\u4e2d\u201dPath\u201d -&gt; \u5355\u51fb\u7f16\u8f91\uff1a</p> <p></p> <p>\uff083\uff09\u6253\u5f00 python \u7684\u5b89\u88c5\u8def\u5f84\uff08\u5b89\u88c5\u65f6\u8bbe\u7f6e\u7684\uff0c\u53ef\u80fd\u8ddf\u7b14\u8005\u4e0d\u540c\uff09 -&gt; \u70b9\u51fb\u5730\u5740\u680f -&gt; \u201cCtrl+C\u201d \u590d\u5236\u8def\u5f84\uff1a</p> <p></p> <p>\uff084\uff09\u5728 \u201c\u7f16\u8f91\u73af\u5883\u53d8\u91cf\u201d \u9009\u9879\u5361\u5355\u51fb\u65b0\u5efa\uff0c\u7c98\u8d34\u8def\u5f84 -&gt; \u70b9\u51fb\u786e\u5b9a\uff1a</p> <p></p> <p>\u6ce8\u610f\u4e8b\u9879\uff1a</p> <p>\u6709\u65f6\u5019\u914d\u7f6e\u4e86\u73af\u5883\u53d8\u91cf\uff0c\u5728\u547d\u4ee4\u884c\u8f93\u5165 \u201cpython\u201d \u4f1a\u5f39\u51fa\u5fae\u8f6f\u5546\u5e97\u3002\u89e3\u51b3\u529e\u6cd5\u662f\u5c06 python \u7684\u8def\u5f84\u4e0a\u79fb\u5230\u5fae\u8f6f\u5546\u5e97\u524d\u9762\uff1a</p> <p></p> <ul> <li>\u4ece\u4ee5\u4e0a\u95ee\u9898\u53ef\u4ee5\u770b\u5230\uff0c\u547d\u4ee4\u884c\u5728\u524d\u9762\u627e\u5230\u4e86\u53ef\u8fd0\u884c\u7684\u7a0b\u5e8f\u540e\uff0c\u4f1a\u5ffd\u7565\u540e\u9762\u7684\u9879\u3002</li> <li>\u5728\u73af\u5883\u53d8\u91cf\u7a97\u53e3\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230 \u201c\u7528\u6237\u53d8\u91cf\u201d \u4e0e \u201c\u7cfb\u7edf\u53d8\u91cf\u201d \u4e24\u79cd\u53d8\u91cf\uff0c\u4e24\u79cd\u53d8\u91cf\u7684\u533a\u522b\u662f\uff1a\u7528\u6237\u53d8\u91cf\u662f\u5bf9\u5355\u4e00\u7528\u6237\u751f\u6548\uff0c\u7cfb\u7edf\u53d8\u91cf\u5bf9\u6240\u6709\u7528\u6237\u751f\u6548\u3002\u5982\u679c\u7535\u8111\u8bbe\u7f6e\u4e86\u591a\u4e2a\u7528\u6237\uff0c\u8bbe\u7f6e\u7528\u6237\u53d8\u91cf\u4f1a\u4f7f\u5f97\u5b89\u88c5\u8f6f\u4ef6\u53ea\u80fd\u4f9b\u5355\u4e00\u7528\u6237\u4f7f\u7528\uff0c\u8bbe\u7f6e\u7cfb\u7edf\u53d8\u91cf\u5219\u6240\u6709\u7528\u6237\u90fd\u80fd\u4f7f\u7528\u3002</li> </ul> <p>pip\u73af\u5883\u53d8\u91cf\u914d\u7f6e</p> <p>python\u5e38\u5e38\u7528\u5230 pip \u5de5\u5177\u5b89\u88c5\u7b2c\u4e09\u65b9\u5e93\uff08\u6a21\u5757\uff09\uff0cpip \u5de5\u5177\u901a\u5e38\u662f\u968f\u7740 python \u4e00\u8d77\u5b89\u88c5\u597d\u7684\uff0c\u4f46\u662f\u4f7f\u7528 pip \u5b89\u88c5\u5e93\u65f6\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e0b\u9762\u7684\u9519\u8bef\u63d0\u793a\uff1a</p> <p></p> <p>pip\u9700\u8981\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff1a</p> <p>\u8fd9\u540c\u6837\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u89e3\u51b3\uff0c\u914d\u7f6e\u6b65\u9aa4\u662f\u5b8c\u5168\u4e00\u81f4\u7684\u3002\u8981\u6ce8\u610f\u7684\u662f\uff0cpip \u5de5\u5177\u5728 python \u76ee\u5f55\u7684 Scripts \u6587\u4ef6\u5939\u4e0b\uff1a</p> <p></p> <p></p> <p>\u53e6\u5916\uff0c\u5728\u4f7f\u7528 pip \u5b89\u88c5\u5e93\u65f6\uff0c\u53ef\u80fd\u4f1a\u63d0\u793a pip \u7248\u672c\u592a\u65e7\u4e86\uff0c\u6b64\u65f6\u53ea\u9700\u6267\u884c\u63d0\u793a\u547d\u4ee4\u5373\u53ef\u66f4\u65b0 pip\uff1a</p> <p></p>"},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#3\u8fd0\u884cpython","title":"3.\u8fd0\u884cPython","text":"<p>\u5b89\u88c5\u6210\u529f\u540e\uff0c\u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\u7a97\u53e3\uff08win+R,\u5728\u8f93\u5165cmd\u56de\u8f66\uff09\uff0c\u6572\u5165python\u540e\uff0c\u4f1a\u51fa\u73b0\u4e0b\u9762\u7684\u60c5\u51b5\uff1a</p> <p></p> <p>\u51fa\u73b0\u8fd9\u4e2a\u8868\u793apython\u5b89\u88c5\u6210\u529f\u3002\u770b\u5230\u63d0\u793a\u7b26 &gt;&gt;&gt; \u5c31\u8868\u793a\u6211\u4eec\u5df2\u7ecf\u5728Python\u4ea4\u4e92\u5f0f\u73af\u5883\u4e2d\u4e86\uff0c\u53ef\u4ee5\u8f93\u5165\u4efb\u4f55Python\u4ee3\u7801\uff0c\u56de\u8f66\u540e\u4f1a\u7acb\u523b\u5f97\u5230\u6267\u884c\u7ed3\u679c\u3002\u73b0\u5728\uff0c\u8f93\u5165exit()\u5e76\u56de\u8f66\uff0c\u5c31\u53ef\u4ee5\u9000\u51faPython\u4ea4\u4e92\u5f0f\u73af\u5883\uff08\u6216\u76f4\u63a5\u5173\u6389\u547d\u4ee4\u884c\u7a97\u53e3\u4e5f\u53ef\u4ee5)\u3002 </p>"},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#\u4e09\u5f00\u53d1\u5de5\u5177pycharm\u5b89\u88c5","title":"\u4e09\u3001\u5f00\u53d1\u5de5\u5177PyCharm\u5b89\u88c5","text":""},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#1pycharm\u5b98\u7f51\u4e0b\u8f7d","title":"1.PyCharm\u5b98\u7f51\u4e0b\u8f7d","text":""},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#11-pycharm\u5b98\u7f51","title":"1.1 PyCharm\u5b98\u7f51","text":"<p>\u200b       https://www.jetbrains.com/zh-cn/pycharm/download/?section=windows</p> <p>\u200b       \u4e0b\u65b9\u4e3aPyCharm\u7684\u5b98\u7f51\u53ca\u4e0b\u8f7d\u9875\u9762\uff0cPycharm\u63d0\u4f9b\u4e86\u4e24\u4e2a\u7248\u672c\u7684\u4e0b\u8f7d\uff0c\u4e00\u4e2a\u662f\u4e13\u4e1a\u7248Professional\uff08\u4ed8\u8d39\uff09\uff0c\u53e6\u4e00\u4e2a\u662f\u793e\u533a\u7248Community\uff08\u514d\u8d39\uff09\u3002\u7528\u6765\u5b66\u4e60\u53ea\u9700\u8981\u4e0b\u8f7d\u793e\u533a\u7248\u5373\u53ef\u3002\u82f9\u679c\u7535\u8111\u7528\u6237\u6839\u636e\u7535\u8111\u82af\u7247\u81ea\u884c\u9009\u62e9\u3002</p> <p></p>"},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#12-\u5b89\u88c5pycharm","title":"1.2 \u5b89\u88c5PyCharm","text":"<p>\u6253\u5f00\u5b89\u88c5\u5305\u6240\u5728\u6587\u4ef6\u5939\uff0c\u53cc\u51fb\u5f00\u59cb\u5b89\u88c5\uff1a</p> <p></p> <p></p> <p></p> <p></p> <p>\u622a\u6b62\u5230\u6b64\u65f6\uff0cPyCharm\u5b89\u88c5\u5b8c\u6210\u3002</p>"},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#2pycharm\u7684\u4f7f\u7528","title":"2.PyCharm\u7684\u4f7f\u7528","text":"<p>\u200b       \u63a5\u4e0b\u6765\u6211\u4eec\u4f1a\u9047\u5230\u4e00\u4e2a\u865a\u62df\u73af\u5883\u7684\u6982\u5ff5\uff0c\u6211\u5148\u7ed9\u5927\u5bb6\u9610\u8ff0\u4e00\u4e0b\u5173\u4e8e\u865a\u62df\u73af\u5883\u7684\u4f5c\u7528\uff1a \u200b       \u865a\u62df\u73af\u5883\uff0c\u5728Python\u4e2d\u662f\u76f8\u5f53\u91cd\u8981\u7684\u5b58\u5728\uff0c\u5b83\u8d77\u5230\u4e86\u9879\u76ee\u9694\u79bb\u7684\u4f5c\u7528\u3002\u524d\u8fb9\u6211\u4eec\u5b89\u88c5\u7684Python\uff0c\u76f8\u5f53\u4e8e\u5728\u672c\u5730\u5b89\u88c5\u4e86\u4e00\u4e2aPython\u7684\u5168\u5c40\u73af\u5883\uff0c\u5728\u4efb\u4f55\u5730\u65b9\u90fd\u53ef\u4ee5\u4f7f\u7528\u5230\u8fd9\u4e2aPython\u7684\u5168\u5c40\u73af\u5883\u3002 \u200b       \u4f46\u662f\u5927\u5bb6\u6709\u6ca1\u6709\u60f3\u8fc7\u8fd9\u4e2a\u95ee\u9898\uff1a\u6211\u540c\u65f6\u63a5\u624b\u4e86Demo A\u548cDemo B\u4e24\u4e2a\u9879\u76ee\uff0c\u4e24\u4e2a\u9879\u76ee\u540c\u65f6\u7528\u5230\u4e86\u540c\u4e00\u4e2a\u6a21\u5757X\uff0c\u4f46\u662fDemo A\u8981\u6c42\u4f7f\u7528\u6a21\u5757X\u76841.0\u7248\u672c\uff0cDemo B\u8981\u6c42\u4f7f\u7528\u6a21\u5757X\u76842.0\u7248\u672c\u3002\u5168\u5c40\u73af\u5883\u4e2d\u53ea\u80fd\u5b89\u88c5\u4e00\u4e2a\u6a21\u5757\u7684\u4e00\u4e2a\u7248\u672c\uff0c\u90a3\u4e48\u5c31\u9047\u5230\u95ee\u9898\u4e86\uff0c\u600e\u6837\u624d\u80fd\u8ba9\u4e24\u4e2a\u9879\u76ee\u540c\u65f6\u6b63\u5e38\u8fd0\u884c\u5462\uff1f \u200b       \u8fd9\u65f6\u865a\u62df\u73af\u5883\u5c31\u80fd\u53d1\u6325\u4f5c\u7528\u4e86\uff0c\u6211\u4f7f\u7528\u5168\u5c40\u7684Python\u73af\u5883\u5206\u522b\u521b\u5efa\u4e24\u4e2a\u865a\u62df\u73af\u5883\u7ed9Demo A\u548cDemo B\u3002\u76f8\u5f53\u4e8e\u4e24\u4e2a\u9879\u76ee\u5206\u522b\u6709\u81ea\u5df1\u7684\u73af\u5883\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u628a\u5404\u81ea\u9700\u8981\u7684\u6a21\u5757\u5b89\u88c5\u8fdb\u5404\u81ea\u7684\u865a\u62df\u73af\u5883\uff0c\u5c31\u6210\u529f\u7684\u5b9e\u73b0\u4e86\u9879\u76ee\u9694\u79bb\u3002\u5047\u5982\u8fd9\u4e2a\u9879\u76ee\u6211\u4e0d\u9700\u8981\u4e86\uff0c\u76f4\u63a5\u5220\u9664\u5c31\u53ef\u4ee5\uff08\u4e00\u4e2a\u865a\u62df\u73af\u5883\u76f8\u5f53\u4e8e\u4e00\u4e2a\u62e5\u6709Python\u73af\u5883\u7684\u6587\u4ef6\u5939\uff0c\u53ef\u4ee5\u81ea\u884c\u6307\u5b9a\u8def\u5f84\uff09\u3002</p> <p></p> <p>\u622a\u6b62\u5230\u6b64\u65f6\uff0c\u4e00\u4e2aPython\u9879\u76ee\u5728PyCharm\u4e2d\u5c31\u521b\u5efa\u5b8c\u6210\u3002</p>"},{"location":"python/Python%E5%8F%8APycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#3pycharm\u6587\u4ef6\u7684\u521b\u5efa","title":"3.PyCharm\u6587\u4ef6\u7684\u521b\u5efa","text":"<p>\uff081\uff09\u4ece\u521a\u624d\u521b\u5efa\u7684\u9879\u76ee\u4e0a\u53f3\u952e\uff0c\u70b9\u51fbNew\uff0c\u9009\u62e9Python File\uff0c\u5373\u53ef\u521b\u5efa\u4e00\u4e2aPython\u6587\u4ef6\uff1a</p> <p></p> <p>\uff082\uff09\u63a5\u4e0b\u6765\u7ed9\u8fd9\u4e2a\u6587\u4ef6\u8d77\u4e00\u4e2a\u540d\u5b57\uff0c\u6bd4\u5982\u8bf4hello_world\uff0c\u56de\u8f66\u5373\u53ef\uff1a</p> <p></p> <p>\uff083\uff09\u4ece\u521b\u5efa\u597d\u7684Python\u6587\u4ef6\u4e2d\u7f16\u5199\u4ee3\u7801\uff0c\u7136\u540e\u53f3\u952e\u9009\u62e9Run\u6587\u4ef6\u540d\uff0c\u5373\u53ef\u8fd0\u884c\u6b64\u4ee3\u7801\u6587\u4ef6\uff1a</p> <p></p> <p>\u8fd9\u4fbf\u662f\u5982\u4f55\u5728PyCharm\u4e2d\u521b\u5efa\u9879\u76ee\u3001\u7f16\u5199\u53ca\u8fd0\u884c\u4ee3\u7801\u3002</p>"},{"location":"python/VS%20Code%E9%85%8D%E7%BD%AEDjango%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/","title":"VS Code\u914d\u7f6eDjango\u5f00\u53d1\u73af\u5883","text":"<p>\u53c2\u8003\u6587\u6863\uff1ahttps://blog.csdn.net/weixin_40283570/article/details/97240666</p>"},{"location":"python/VS%20Code%E9%85%8D%E7%BD%AEDjango%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#\u4e00\u4e3adjango\u6559\u7a0b\u521b\u5efa\u9879\u76ee\u73af\u5883","title":"\u4e00\u3001\u4e3aDjango\u6559\u7a0b\u521b\u5efa\u9879\u76ee\u73af\u5883","text":"<p>\u8fd9\u79cd\u65b9\u5f0f\u4e0b\uff0c\u76f8\u5f53\u4e8e\u6bcf\u4e2a\u9879\u76ee\u90fd\u9700\u8981\u5efa\u7acb\u865a\u62df\u73af\u5883\u8fd0\u884c\u3002</p>"},{"location":"python/VS%20Code%E9%85%8D%E7%BD%AEDjango%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#1\u521b\u5efa\u865a\u62df\u73af\u5883","title":"1.\u521b\u5efa\u865a\u62df\u73af\u5883","text":"<p>\u952e\u76d8 <code>win+R</code> \u8fdb\u5165\u8fd0\u884c\u7a97\u53e3\uff0c\u8f93\u5165 <code>cmd</code> \u547d\u4ee4\uff0c\u8fdb\u5165\u547d\u4ee4\u63d0\u793a\u7b26\u7a97\u53e3\uff0c\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> Bash<pre><code>d:     # \u8fdb\u5165d\u76d8\nmkdir Python\\django_git    # \u521b\u5efa\u9879\u76ee\u76ee\u5f55\ncd Python\\django_git       # \u8fdb\u5165\u9879\u76ee\u76ee\u5f55\npython -m venv env         # \u521b\u5efa\u57fa\u4e8e\u5f53\u524d\u89e3\u91ca\u5668\u547d\u540d\u7684\u865a\u62df\u73af\u5883\uff0c\u540d\u4e3aenv\n\nD:\\Python\\django_git&gt;dir\n \u9a71\u52a8\u5668 D \u4e2d\u7684\u5377\u662f Data\n \u5377\u7684\u5e8f\u5217\u53f7\u662f B262-5D6B\n\nD:\\Python\\django_git&gt;dir\n \u9a71\u52a8\u5668 D \u4e2d\u7684\u5377\u662f Data\n \u5377\u7684\u5e8f\u5217\u53f7\u662f B262-5D6B\n\n D:\\Python\\django_git \u7684\u76ee\u5f55\n\n2024/08/12  22:35    &lt;DIR&gt;          .\n2024/08/12  22:35    &lt;DIR&gt;          ..\n2024/08/12  22:35    &lt;DIR&gt;          env\n               0 \u4e2a\u6587\u4ef6              0 \u5b57\u8282\n               3 \u4e2a\u76ee\u5f55 143,806,779,392 \u53ef\u7528\u5b57\u8282\n</code></pre>"},{"location":"python/VS%20Code%E9%85%8D%E7%BD%AEDjango%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#2\u8fd0\u884c\u9879\u76ee\u6587\u4ef6\u5939","title":"2.\u8fd0\u884c\u9879\u76ee\u6587\u4ef6\u5939","text":"<p>\u6253\u5f00VS Code\uff0c\u70b9\u51fb\u53f3\u4e0a\u89d2\u3010\u6587\u4ef6\u3011\u2014\u2014\u70b9\u51fb\u3010\u6253\u5f00\u6587\u4ef6\u5939\u3011\uff0c\u9009\u62e9\u521a\u521a\u521b\u5efa\u7684\u9879\u76ee\u6587\u4ef6\u5939\uff1a</p> <p></p>"},{"location":"python/VS%20Code%E9%85%8D%E7%BD%AEDjango%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#3\u9009\u62e9python\u89e3\u91ca\u5668","title":"3.\u9009\u62e9python\u89e3\u91ca\u5668","text":"<p>\u5728VS Code\u4e2d\uff0c\u6253\u5f00\u547d\u4ee4\u9009\u9879\u677f\uff0c\u70b9\u51fb\u5de6\u4e0a\u65b9\u3010\u67e5\u770b\u3011\u2014\u2014\u70b9\u51fb\u3010\u547d\u4ee4\u9762\u677f\u3011\uff08\u6216\u8005\u76f4\u63a5 Ctrl + Shift + P\uff09\uff0c\u8f93\u5165 <code>Python\uff1aSelect Interpreter</code> \u547d\u4ee4\u5e76\u9009\u62e9\uff08\u5982\u679c\u8fd9\u4e2a\u9009\u9879\uff0c\u9700\u8981\u5148\u53bb\u3010\u6269\u5c55\u3011\u91cc\u641c\u7d22 <code>python</code> \u5e76\u5b89\u88c5\uff09\uff1a</p> <p></p> <p>\u8be5\u547d\u4ee4\u63d0\u4f9b\u4e86VS Code\u53ef\u4ee5\u81ea\u52a8\u5b9a\u4f4d\u7684\u53ef\u7528\u89e3\u91ca\u5668\u5217\u8868\u3002\u4ece\u5217\u8868\u4e2d\uff0c\u9009\u62e9\u9879\u76ee\u6587\u4ef6\u5939\u4e2d\u4ee5 <code>./env</code> \u6216\u5f00\u5934\u7684\u865a\u62df\u73af\u5883<code>.\\env</code>\uff1a</p> <p></p>"},{"location":"python/VS%20Code%E9%85%8D%E7%BD%AEDjango%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#4\u914d\u7f6e\u7ec8\u7aef","title":"4.\u914d\u7f6e\u7ec8\u7aef","text":"<p>\u901a\u8fc7 Ctrl + Shift + ~ \u6253\u5f00\u65b0\u7684\u7ec8\u7aef\uff08\u5982\u679c\u5df2\u7ecf\u914d\u7f6e\u8fc7\u7684\u8bdd\u76f4\u63a5\u901a\u8fc7 Ctrl + ~ \u6765\u8fd0\u884c\uff09\uff0c\u5728\u52a0\u53f7\u65c1\u8fb9\u9009\u62e9\u9ed8\u8ba4\u7ec8\u7aef\u7c7b\u578b\u4e3a <code>cmd</code>\uff1a</p> <p></p> <p><code>(env)</code> \u8868\u793a\u5df2\u7ecf\u52a0\u8f7d\u865a\u62df\u73af\u5883\uff1a</p> <p></p> <p>\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u7ec8\u7aef\u5185\u6fc0\u6d3b\u865a\u62df\u73af\u5883\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>D:\\Python\\django_git&gt;.\\env\\Scripts\\activate\n</code></pre> <p>\u5982\u679c\u8981\u9000\u51fa\u865a\u62df\u73af\u5883\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>(env) D:\\Python\\django_git&gt;deactivate\n</code></pre> <p>\u8fd9\u5c06\u5173\u95ed\u865a\u62df\u73af\u5883\uff0c\u5e76\u5c06\u8fd4\u56de\u5230\u5168\u5c40\u7684 Python \u73af\u5883\u3002</p>"},{"location":"python/VS%20Code%E9%85%8D%E7%BD%AEDjango%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#\u4e8c\u521b\u5efa\u5e76\u8fd0\u884c\u6700\u5c0f\u7684django\u5e94\u7528\u7a0b\u5e8f","title":"\u4e8c\u3001\u521b\u5efa\u5e76\u8fd0\u884c\u6700\u5c0f\u7684Django\u5e94\u7528\u7a0b\u5e8f","text":"<p>\u4ee5\u4e0b\u8fd0\u884c\u547d\u4ee4\u90fd\u5728\u5df2\u6fc0\u6d3b\u865a\u62df\u73af\u5883\u7684 VS Code \u7ec8\u7aef\u5185\u8fd0\u884c\u3002</p>"},{"location":"python/VS%20Code%E9%85%8D%E7%BD%AEDjango%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#1\u5b89\u88c5django","title":"1.\u5b89\u88c5Django","text":"<p>\u5728\u7ec8\u7aef\u5185\u901a\u8fc7 <code>pip</code> \u547d\u4ee4\u5b89\u88c5Django\uff1a</p> Bash<pre><code>(env) D:\\Python\\django_git&gt;pip install django\n</code></pre> <p>\u5217\u51fa\u5f53\u524d Python \u73af\u5883\u4e2d\u5df2\u5b89\u88c5\u7684\u6240\u6709 Python \u5305\u53ca\u5176\u7248\u672c\uff1a</p> Bash<pre><code>(env) D:\\Python\\django_git&gt;pip freeze\nasgiref==3.8.1\nDjango==4.2.15\nsqlparse==0.5.1\ntyping_extensions==4.12.2\ntzdata==2024.1\n</code></pre>"},{"location":"python/VS%20Code%E9%85%8D%E7%BD%AEDjango%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#2\u521b\u5efadjango\u9879\u76ee","title":"2.\u521b\u5efaDjango\u9879\u76ee","text":"<p>\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>git_project</code> \u7684Django\u9879\u76ee\uff1a</p> Bash<pre><code>(env) D:\\Python\\django_git&gt;django-admin startproject git_project\n</code></pre>"},{"location":"python/VS%20Code%E9%85%8D%E7%BD%AEDjango%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#3\u8fd0\u884c\u5e76\u9a8c\u8bc1django\u9879\u76ee","title":"3.\u8fd0\u884c\u5e76\u9a8c\u8bc1Django\u9879\u76ee","text":"<p>\u8fdb\u5165 git_project \u76ee\u5f55\uff0c\u542f\u52a8 Django \u9879\u76ee\u7684\u5f00\u53d1\u670d\u52a1\u5668\uff0c\u9a8c\u8bc1Django\u9879\u76ee\u662f\u5426\u6210\u529f\u8fd0\u884c\uff1a</p> Bash<pre><code>(env) D:\\Python\\django_git&gt;cd git_project\n\n(env) D:\\Python\\django_git\\git_project&gt;python manage.py runserver\n</code></pre> <p><code>python manage.py runserver</code> \u662f Django \u6846\u67b6\u4e2d\u7684\u4e00\u4e2a\u547d\u4ee4\uff0c\u7528\u4e8e\u542f\u52a8 Django \u9879\u76ee\u7684\u5f00\u53d1\u670d\u52a1\u5668\u3002\u901a\u8fc7\u8fd0\u884c\u8fd9\u4e2a\u547d\u4ee4\uff0cDjango \u4f1a\u5728\u672c\u5730\u542f\u52a8\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684 web \u670d\u52a1\u5668\uff0c\u901a\u5e38\u7528\u4e8e\u5f00\u53d1\u548c\u8c03\u8bd5\u76ee\u7684\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cDjango \u5f00\u53d1\u670d\u52a1\u5668\u4f1a\u5728\u672c\u5730\u7684\u7aef\u53e3 <code>8000</code> \u4e0a\u542f\u52a8\uff0c\u5728\u7ec8\u7aef\u7a97\u53e3\u4e2d\u770b\u5230\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u8f93\u51fa\uff1a</p> <p></p> <p>\u542f\u52a8\u6210\u529f\u540e\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee <code>http://127.0.0.1:8000/</code> \u6216 <code>http://localhost:8000/</code>\uff0c\u67e5\u770b Django \u9879\u76ee\uff1a</p> <p></p> <p>\u56de\u5230  VS Code \u7ec8\u7aef\uff0c\u8f93\u51fa\u7a97\u53e3\u8fd8\u4f1a\u663e\u793a\u670d\u52a1\u5668\u65e5\u5fd7\uff1a</p> Bash<pre><code>[12/Aug/2024 23:13:28] \"GET / HTTP/1.1\" 200 10664\n</code></pre> <p>\u5982\u679c\u8981\u4f7f\u7528\u4e0e\u9ed8\u8ba48000\u4e0d\u540c\u7684\u7aef\u53e3\uff0c\u5728\u547d\u4ee4\u884c\u4e0a\u6307\u5b9a\u7aef\u53e3\u53f7\uff0c\u4f8b\u5982\uff1a</p> Bash<pre><code>python manage.py runserver 5000\n</code></pre>"},{"location":"python/Windows%E4%B8%8Bpip%E6%8D%A2%E6%BA%90/","title":"Windows\u4e0bpip\u6362\u6e90","text":"<p>\u5728Windows\u73af\u5883\u4e0b\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539pip\u914d\u7f6e\u6587\u4ef6\u6765\u66f4\u6362\u6e90\u3002\u4ee5\u4e0b\u662f\u6b65\u9aa4\u548c\u793a\u4f8b\u4ee3\u7801\uff1a</p> <ol> <li>\u627e\u5230\u6216\u521b\u5efapip\u914d\u7f6e\u6587\u4ef6\uff1a</li> <li>\u5bf9\u4e8e\u7528\u6237\u7ea7\u522b\u7684\u914d\u7f6e\uff0c\u6587\u4ef6\u901a\u5e38\u4f4d\u4e8e%APPDATA%\\pip\\pip.ini\u3002</li> <li> <p>\u5bf9\u4e8e\u7cfb\u7edf\u7ea7\u522b\u7684\u914d\u7f6e\uff0c\u6587\u4ef6\u901a\u5e38\u4f4d\u4e8e%PROGRAMFILES%\\pip\\pip.ini\u3002</p> </li> <li> <p>\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\u6765\u6307\u5b9a\u65b0\u7684\u6e90\uff1a Bash<pre><code>[global]\nindex-url = https://pypi.tuna.tsinghua.edu.cn/simple\n[install]\ntrusted-host = https://pypi.tuna.tsinghua.edu.cn\n</code></pre> \u8fd9\u91cc\u4ee5\u6e05\u534e\u5927\u5b66\u7684\u6e90\u4e3a\u4f8b\u3002\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u8981\u66ff\u6362\u4e3a\u5176\u4ed6\u6e90\uff0c\u4f8b\u5982\u963f\u91cc\u4e91\u3001\u8c46\u74e3\u7b49\u3002</p> </li> </ol>"},{"location":"python/Windows%E4%B8%8Bpip%E6%8D%A2%E6%BA%90/#\u6e05\u534e\u5927\u5b66httpspypitunatsinghuaeducnsimple","title":"\u6e05\u534e\u5927\u5b66\uff1ahttps://pypi.tuna.tsinghua.edu.cn/simple/","text":""},{"location":"python/Windows%E4%B8%8Bpip%E6%8D%A2%E6%BA%90/#\u963f\u91cc\u4e91httpmirrorsaliyuncompypisimple","title":"\u963f\u91cc\u4e91\uff1ahttp://mirrors.aliyun.com/pypi/simple/","text":""},{"location":"python/Windows%E4%B8%8Bpip%E6%8D%A2%E6%BA%90/#\u8c46\u74e3httppypidoubancomsimple","title":"\u8c46\u74e3\uff1ahttp://pypi.douban.com/simple/","text":""},{"location":"python/Windows%E4%B8%8Bpip%E6%8D%A2%E6%BA%90/#\u4e2d\u56fd\u79d1\u6280\u5927\u5b66httpspypimirrorsustceducnsimple","title":"\u4e2d\u56fd\u79d1\u6280\u5927\u5b66:https://pypi.mirrors.ustc.edu.cn/simple/","text":""},{"location":"python/Windows%E4%B8%8Bpip%E6%8D%A2%E6%BA%90/#\u767e\u5ea6httpsmirrorbaiducompypisimple","title":"\u767e\u5ea6\uff1ahttps://mirror.baidu.com/pypi/simple","text":"<ol> <li> <p>\u4fdd\u5b58\u914d\u7f6e\u6587\u4ef6\u3002</p> </li> <li> <p>\u4e4b\u540e\u4f7f\u7528pip\u65f6\uff0c\u5b83\u5c06\u4f1a\u81ea\u52a8\u4f7f\u7528\u65b0\u914d\u7f6e\u7684\u6e90\u3002</p> </li> </ol> <p>\u5982\u679c\u4f60\u60f3\u4e34\u65f6\u4f7f\u7528\u5176\u4ed6\u6e90\uff0c\u53ef\u4ee5\u5728pip\u547d\u4ee4\u4e2d\u4f7f\u7528\u2013index-url\u9009\u9879\uff1a Bash<pre><code>pip install --index-url https://pypi.tuna.tsinghua.edu.cn/simple some-package\n</code></pre> \u66ff\u6362some-package\u4e3a\u4f60\u60f3\u8981\u5b89\u88c5\u7684\u5305\u540d\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/","title":"Python\u5b66\u4e60\u7b14\u8bb0\u6574\u7406","text":"<p>\u65f6\u95f4\uff1a2022/05/11</p> <p>\u5730\u70b9\uff1a\u53a6\u95e8\u96c6\u7f8e\u8f6f\u4ef6\u56edb17</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u4e00python\u5b66\u4e60\u89c4\u5212","title":"\u4e00\u3001python\u5b66\u4e60\u89c4\u5212","text":""},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u4e8cpython\u4e4b\u7985import-this","title":"\u4e8c\u3001python\u4e4b\u7985\uff08import this\uff09","text":"<p>1\u3001\u5982\u679c\u6709\u4e24\u4e2a\u89e3\u51b3\u65b9\u6848\uff0c\u4e00\u4e2a\u7b80\u5355\uff0c\u4e00\u4e2a\u590d\u6742\uff0c\u4f46\u90fd\u884c\u4e4b\u6709\u6548\uff0c\u5c31\u9009\u62e9\u7b80\u5355\u7684\u89e3\u51b3\u65b9\u6848\u5427\u3002</p> <p>2\u3001\u5373\u4fbf\u662f\u590d\u6742\u7684\u4ee3\u7801\uff0c\u4e5f\u8981\u8ba9\u5b83\u6613\u4e8e\u7406\u89e3\u3002\u5f00\u53d1\u7684\u9879\u76ee\u6d89\u53ca\u590d\u6742\u4ee3\u7801\u65f6\uff0c\u4e00\u5b9a\u8981\u4e3a\u8fd9\u4e9b\u4ee3\u7801\u7f16\u5199\u6709\u76ca\u7684\u6ce8\u91ca\u3002</p> <p>3\u3001\u4f60\u53ef\u4ee5\u5c06\u4f59\u751f\u90fd\u7528\u6765\u5b66\u4e60Python\u548c\u7f16\u7a0b\u7684\u7eb7\u7e41\u96be\u61c2\u4e4b\u5904\uff0c\u4f46\u8fd9\u6837\u4f60\u4ec0\u4e48\u9879\u76ee\u90fd\u5b8c\u4e0d\u6210\u3002\u4e0d\u8981\u4f01\u56fe\u7f16\u5199\u5b8c\u7f8e\u65e0\u7f3a\u7684\u4ee3\u7801\uff1b\u5148\u7f16\u5199\u884c\u4e4b\u6709\u6548\u7684\u4ee3\u7801\uff0c\u518d\u51b3\u5b9a\u662f\u5bf9\u5176\u505a\u8fdb\u4e00\u6b65\u6539\u8fdb\uff0c\u8fd8\u662f\u8f6c\u800c\u53bb\u7f16\u5199\u65b0\u4ee3\u7801\u3002</p> <p>4\u3001\u5982\u679c\u4f60\u51b3\u5fc3\u638c\u63e1\u7f16\u7a0b\u8fd9\u79cd\u9b54\u6cd5\uff0c\u5b9e\u9645\u4e0a\u6700\u9700\u8981\u7684\uff0c\u53d1\u5c55\u51fa\u8bbe\u8ba1\u548c\u5206\u89e3\u4e8b\u7269\u7684\u601d\u8def\uff0c\u6240\u8c13\u903b\u8f91\u5173\u7cfb\u5c31\u662f\u4e0d\u540c\u4e8b\u7269\u4e4b\u95f4\u7684\u5173\u8054\u6027\uff0c\u5b83\u4eec\u4ee5\u4f55\u79cd\u65b9\u5f0f\u8fde\u63a5\u3001\u4f5c\u7528\uff0c\u53c8\u5728\u4ec0\u4e48\u8fb9\u754c\u6761\u4ef6\u4e0b\u80fd\u5b9e\u73b0\u8f6c\u6362\u548c\u4e92\u65a5\u3002</p> <p>\u5b66\u4e60\u9047\u5230\u95ee\u9898</p> <p>&lt;1&gt;\u6b63\u786e\u4f7f\u7528\u641c\u7d22\u5f15\u64ce</p> <p>&lt;2&gt;\u5b66\u4f1a\u4f7f\u7528\u6587\u6863https://docs.python.org/zh-cn/3.10/tutorial/index.html #\u67e5\u770b\u5b98\u65b9\u6587\u6863</p> <p>&lt;3&gt;\u793e\u533astack overflow</p> <p>&lt;4&gt;gitee\u3001github\u4ee3\u7801\u53c2\u8003</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u4e09python\u521d\u5b66\u8005\u5199\u4ee3\u7801\u7684\u65b9\u6cd5\u548c\u6280\u5de7","title":"\u4e09\u3001Python\u521d\u5b66\u8005\u5199\u4ee3\u7801\u7684\u65b9\u6cd5\u548c\u6280\u5de7","text":""},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#1-\u80cc\u666f\u4ecb\u7ecd","title":"1. \u80cc\u666f\u4ecb\u7ecd","text":"<p>\u5728\u5b66\u4e60\u7f16\u7a0b\u7684\u8fc7\u7a0b\u4e2d\uff0c\u521d\u5b66\u8005\u5e38\u5e38\u4f1a\u9762\u4e34\u4e00\u4e2a\u95ee\u9898\uff1a\u8ddf\u7740\u89c6\u9891\u6572\u4ee3\u7801\u65f6\u90fd\u80fd\u7406\u89e3\uff0c\u4f46\u81ea\u5df1\u5199\u7684\u65f6\u5019\u5374\u4e0d\u77e5\u9053\u600e\u4e48\u4e0b\u624b\u3002\u672c\u7bc7\u535a\u5ba2\u5c06\u5206\u4eab\u4e00\u4e9b\u65b9\u6cd5\u548c\u6280\u5de7\uff0c\u5e2e\u52a9\u521d\u5b66\u8005\u5728\u72ec\u7acb\u7f16\u5199\u4ee3\u7801\u65f6\u66f4\u52a0\u5f97\u5fc3\u5e94\u624b\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#2-\u5173\u6389\u89c6\u9891\u518d\u72ec\u7acb\u6572\u4e00\u904d","title":"2. \u5173\u6389\u89c6\u9891\u518d\u72ec\u7acb\u6572\u4e00\u904d","text":"<p>\u8ddf\u7740\u89c6\u9891\u6572\u4ee3\u7801\u662f\u521d\u5b66\u8005\u7684\u5e38\u89c1\u5b66\u4e60\u65b9\u5f0f\uff0c\u4f46\u8981\u6ce8\u610f\u4e0d\u8981\u9677\u5165\u201c\u53ea\u4f1a\u6284\u201d\u7684\u56f0\u5883\u3002\u5efa\u8bae\u5728\u8ddf\u7740\u89c6\u9891\u6572\u5b8c\u4ee3\u7801\u540e\uff0c\u5173\u6389\u89c6\u9891\uff0c\u6ce8\u91ca\u6389\u4e4b\u524d\u6572\u7684\u4ee3\u7801\uff0c\u7136\u540e\u5c1d\u8bd5\u72ec\u7acb\u518d\u6572\u4e00\u904d\u3002</p> <p>\u5728\u72ec\u7acb\u6572\u4ee3\u7801\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f60\u4f1a\u903c\u8feb\u81ea\u5df1\u53bb\u601d\u8003\u548c\u7406\u89e3\u4ee3\u7801\u7684\u903b\u8f91\u3002\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u4e9b\u95ee\u9898\uff0c\u4f8b\u5982\u67d0\u6bb5\u4ee3\u7801\u4e3a\u4ec0\u4e48\u8981\u5199\u5728\u8fd9\u91cc\u3001\u4e3a\u4ec0\u4e48\u4e4b\u524d\u53ef\u4ee5\u8fd0\u884c\u800c\u73b0\u5728\u6709 bug \u7b49\u7b49\u3002\u8fd9\u4e9b\u95ee\u9898\u90fd\u662f\u5f88\u6b63\u5e38\u7684\uff0c\u901a\u8fc7\u72ec\u7acb\u6572\u4ee3\u7801\u5e76\u601d\u8003\u95ee\u9898\uff0c\u4f60\u5c06\u9010\u6e10\u7406\u89e3\u4ee3\u7801\u7684\u8fd0\u884c\u539f\u7406\u548c\u5b9e\u73b0\u65b9\u5f0f\u3002</p> <p>\u5982\u679c\u9047\u5230\u95ee\u9898\u5361\u4f4f\u4e86\uff0c\u53ef\u4ee5\u56de\u987e\u89c6\u9891\u4e2d\u5bf9\u5e94\u90e8\u5206\u7684\u4ee3\u7801\uff0c\u5bf9\u6bd4\u5b66\u4e60\uff0c\u5e2e\u52a9\u81ea\u5df1\u66f4\u597d\u5730\u7406\u89e3\u548c\u638c\u63e1\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#3-\u81ea\u5df1\u6539\u52a8\u4e00\u4e9b\u529f\u80fd","title":"3. \u81ea\u5df1\u6539\u52a8\u4e00\u4e9b\u529f\u80fd","text":"<p>\u5728\u8ddf\u7740\u89c6\u9891\u6572\u4ee3\u7801\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u81ea\u5df1\u6539\u52a8\u4e00\u4e9b\u529f\u80fd\u5b9e\u73b0\u3002\u8fd9\u6837\u505a\u53ef\u4ee5\u6a21\u62df\u771f\u5b9e\u5de5\u4f5c\u4e2d\u7684\u60c5\u51b5\uff0c\u5f53\u4f60\u63a5\u624b\u4e00\u4e2a\u9879\u76ee\u65f6\uff0c\u53ef\u80fd\u9700\u8981\u5bf9\u67d0\u4e2a\u529f\u80fd\u8fdb\u884c\u6539\u52a8\u3002</p> <p>\u901a\u8fc7\u81ea\u5df1\u6539\u52a8\u529f\u80fd\uff0c\u4f60\u9700\u8981\u4e3b\u52a8\u53bb\u7406\u89e3\u76f8\u5173\u4ee3\u7801\u903b\u8f91\uff0c\u5e76\u786e\u5b9a\u4ee3\u7801\u5e94\u8be5\u52a0\u5728\u54ea\u91cc\uff0c\u5177\u4f53\u7684\u4ee3\u7801\u903b\u8f91\u5e94\u8be5\u5982\u4f55\u7f16\u5199\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u953b\u70bc\u4e86\u4f60\u7684\u601d\u8003\u80fd\u529b\uff0c\u5e76\u5e2e\u52a9\u4f60\u9002\u5e94\u5de5\u4f5c\u4e2d\u7684\u8282\u594f\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#4-\u591a\u9605\u8bfb\u6587\u6863\u548c\u793a\u4f8b\u4ee3\u7801","title":"4. \u591a\u9605\u8bfb\u6587\u6863\u548c\u793a\u4f8b\u4ee3\u7801","text":"<p>\u9605\u8bfb\u6587\u6863\u548c\u793a\u4f8b\u4ee3\u7801\u662f\u5b66\u4e60\u7f16\u7a0b\u7684\u91cd\u8981\u65b9\u6cd5\u4e4b\u4e00\u3002\u521d\u5b66\u8005\u53ef\u4ee5\u901a\u8fc7\u9605\u8bfb\u5b98\u65b9\u6587\u6863\u3001\u6559\u7a0b\u548c\u4f18\u79c0\u7684\u793a\u4f8b\u4ee3\u7801\u6765\u6269\u5c55\u81ea\u5df1\u7684\u77e5\u8bc6\u548c\u6280\u80fd\u3002</p> <p>\u6587\u6863\u548c\u793a\u4f8b\u4ee3\u7801\u53ef\u4ee5\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u7406\u89e3\u8bed\u8a00\u7279\u6027\u3001\u5e93\u51fd\u6570\u548c\u5e38\u7528\u7684\u7f16\u7a0b\u6a21\u5f0f\u3002\u540c\u65f6\uff0c\u901a\u8fc7\u9605\u8bfb\u522b\u4eba\u7684\u4ee3\u7801\uff0c\u4f60\u8fd8\u53ef\u4ee5\u5b66\u4e60\u5230\u826f\u597d\u7684\u7f16\u7a0b\u98ce\u683c\u548c\u5b9e\u8df5\u7ecf\u9a8c\uff0c\u63d0\u5347\u81ea\u5df1\u7684\u7f16\u7801\u6c34\u5e73\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#5-\u591a\u52a8\u624b\u5b9e\u8df5\u548c\u7ec3\u4e60","title":"5. \u591a\u52a8\u624b\u5b9e\u8df5\u548c\u7ec3\u4e60","text":"<p>\u5b66\u4e60\u7f16\u7a0b\u6700\u91cd\u8981\u7684\u662f\u591a\u52a8\u624b\u5b9e\u8df5\u548c\u7ec3\u4e60\u3002\u901a\u8fc7\u5b9e\u9645\u7684\u7f16\u7801\u5b9e\u8df5\uff0c\u4f60\u53ef\u4ee5\u5de9\u56fa\u6240\u5b66\u77e5\u8bc6\uff0c\u57f9\u517b\u81ea\u5df1\u7684\u7f16\u7a0b\u601d\u7ef4\u548c\u89e3\u51b3\u95ee\u9898\u7684\u80fd\u529b\u3002</p> <p>\u53ef\u4ee5\u5c1d\u8bd5\u89e3\u51b3\u4e00\u4e9b\u7f16\u7a0b\u9898\u76ee\u3001\u5b8c\u6210\u4e00\u4e9b\u5c0f\u9879\u76ee\u6216\u53c2\u4e0e\u5f00\u6e90\u9879\u76ee\u7684\u8d21\u732e\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u56dbpython\u7b80\u4ecb\u8bed\u8a00\u80cc\u666f\u4e0e\u7279\u70b9","title":"\u56db\u3001\u300aPython\u7b80\u4ecb\uff1a\u8bed\u8a00\u80cc\u666f\u4e0e\u7279\u70b9\u300b","text":""},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#1\u8bed\u8a00\u80cc\u666f\u4e0e\u7279\u70b9","title":"1.\u8bed\u8a00\u80cc\u666f\u4e0e\u7279\u70b9","text":"<p>Python\u662f\u4e00\u79cd\u7b80\u6d01\u4e14\u6613\u4e8e\u4e0a\u624b\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ol> <li> <p>\u7b80\u6d01\u6613\u5b66\uff1aPython\u7684\u8bed\u6cd5\u7b80\u6d01\u800c\u4f18\u96c5\uff0c\u4f7f\u5f97\u521d\u5b66\u8005\u53ef\u4ee5\u5feb\u901f\u4e0a\u624b\u3002\u5b83\u7684\u8bbe\u8ba1\u76ee\u6807\u662f\u8ba9\u4ee3\u7801\u50cf\u81ea\u7136\u8bed\u8a00\u4e00\u6837\u6613\u4e8e\u7406\u89e3\u3002</p> </li> <li> <p>\u5927\u6570\u636e\u548c\u4eba\u5de5\u667a\u80fd\u8bed\u8a00\uff1aPython\u5728\u5927\u6570\u636e\u548c\u4eba\u5de5\u667a\u80fd\u9886\u57df\u5f97\u5230\u5e7f\u6cdb\u5e94\u7528\u3002\u5b83\u62e5\u6709\u4e30\u5bcc\u7684\u5e93\u548c\u5de5\u5177\uff0c\u4f7f\u5f97\u6570\u636e\u5206\u6790\u3001\u673a\u5668\u5b66\u4e60\u548c\u6df1\u5ea6\u5b66\u4e60\u7b49\u4efb\u52a1\u53d8\u5f97\u66f4\u52a0\u7b80\u5355\u3002</p> </li> <li> <p>\u5e9e\u5927\u7684\u7528\u6237\u7fa4\u4f53\u548c\u6210\u719f\u7684\u6280\u672f\u4f53\u7cfb\uff1aPython\u62e5\u6709\u5e9e\u5927\u7684\u7528\u6237\u7fa4\u4f53\u548c\u6d3b\u8dc3\u7684\u793e\u533a\uff0c\u8fd9\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u8f7b\u677e\u5730\u83b7\u53d6\u5230\u4e30\u5bcc\u7684\u5b66\u4e60\u8d44\u6e90\u548c\u89e3\u51b3\u95ee\u9898\u7684\u652f\u6301\u3002</p> </li> </ol>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#2\u7f16\u7a0b\u8bed\u8a00\u53d1\u5c55\u53f2","title":"2.\u7f16\u7a0b\u8bed\u8a00\u53d1\u5c55\u53f2","text":"<p>\u7f16\u7a0b\u8bed\u8a00\u7684\u53d1\u5c55\u53ef\u4ee5\u5206\u4e3a\u4e09\u4ee3\uff1a</p> <ul> <li>\u7b2c\u4e00\u4ee3\u662f\u673a\u5668\u8bed\u8a00\uff0c\u4f7f\u7528\u4e8c\u8fdb\u5236\u4ee3\u7801\u8868\u793a\u6307\u4ee4\u548c\u6570\u636e\u3002</li> <li>\u7b2c\u4e8c\u4ee3\u662f\u6c47\u7f16\u8bed\u8a00\uff0c\u4f7f\u7528\u52a9\u8bb0\u7b26\u4ee3\u8868\u673a\u5668\u6307\u4ee4\u3002</li> <li>\u7b2c\u4e09\u4ee3\u662f\u9ad8\u7ea7\u8bed\u8a00\uff0c\u4e0e\u81ea\u7136\u8bed\u8a00\u76f8\u4f3c\uff0c\u66f4\u6613\u4e8e\u7406\u89e3\u548c\u4f7f\u7528\u3002Java\u548cPython\u7b49\u90fd\u5c5e\u4e8e\u9ad8\u7ea7\u8bed\u8a00\u3002</li> </ul>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#python\u7684\u7531\u6765\u548c\u7248\u672c","title":"Python\u7684\u7531\u6765\u548c\u7248\u672c","text":"<p>Python\u7684\u521b\u59cb\u4eba\u662f\u5409\u591a\u00b7\u8303\u7f57\u82cf\u59c6\uff08Guido van Rossum\uff09\uff0c\u4ed6\u5728\u8bbe\u8ba1Python\u65f6\u8ffd\u6c42\u7b80\u6d01\u548c\u6613\u8bfb\u6027\u3002\u4ed6\u7684\u540d\u8a00\u201c\u4eba\u751f\u82e6\u77ed\uff0c\u6211\u7528Python\u201d\u8868\u8fbe\u4e86\u4ed6\u5bf9Python\u7684\u70ed\u7231\u548c\u63a8\u5d07\u3002</p> <p>Python\u6709\u4e24\u4e2a\u4e3b\u8981\u7248\u672c\uff1aPython 2\u548cPython 3\u3002Python 2\u5df2\u4e8e2020\u5e74\u505c\u6b62\u66f4\u65b0\uff0c\u73b0\u5728\u4e3b\u6d41\u7684Python\u7248\u672c\u662fPython 3\u3002Python 3\u5f15\u5165\u4e86\u4e00\u4e9b\u8bed\u6cd5\u548c\u529f\u80fd\u4e0a\u7684\u6539\u8fdb\uff0c\u63d0\u4f9b\u4e86\u66f4\u597d\u7684\u6027\u80fd\u548c\u66f4\u597d\u7684\u8bed\u8a00\u8bbe\u8ba1\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#python\u7684\u8bbe\u8ba1\u76ee\u6807\u548c\u7279\u70b9","title":"Python\u7684\u8bbe\u8ba1\u76ee\u6807\u548c\u7279\u70b9","text":"<p>Python\u7684\u8bbe\u8ba1\u76ee\u6807\u662f\u7b80\u5355\u4f18\u96c5\uff0c\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ol> <li> <p>\u5b8c\u5168\u9762\u5411\u5bf9\u8c61\uff1aPython\u662f\u4e00\u79cd\u5b8c\u5168\u9762\u5411\u5bf9\u8c61\u7684\u8bed\u8a00\uff0c\u652f\u6301\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8303\u5f0f\u3002</p> </li> <li> <p>\u5f3a\u5927\u7684\u6807\u51c6\u5e93\uff1aPython\u63d0\u4f9b\u4e86\u4e30\u5bcc\u800c\u5f3a\u5927\u7684\u6807\u51c6\u5e93\uff0c\u6db5\u76d6\u4e86\u5404\u79cd\u5e38\u7528\u7684\u529f\u80fd\u548c\u6a21\u5757\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u5feb\u901f\u5b9e\u73b0\u5404\u79cd\u4efb\u52a1\uff0c\u51cf\u5c11\u4ee3\u7801\u91cf\u3002</p> </li> <li> <p>\u6d77\u91cf\u7684\u7b2c\u4e09\u65b9\u6a21\u5757\uff1aPython\u62e5\u6709\u5e9e\u5927\u7684\u7b2c\u4e09\u65b9\u6a21\u5757\u751f\u6001\u7cfb\u7edf\uff0c\u5305\u62ec\u722c\u866b\u7ec4\u4ef6\u3001Web\u6846\u67b6\u3001\u79d1\u5b66\u8ba1\u7b97\u5e93\u7b49\uff0c\u53ef\u4ee5\u6ee1\u8db3\u5404\u79cd\u5f00\u53d1\u9700\u6c42\u3002</p> </li> </ol>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#python\u7684\u4f18\u7f3a\u70b9","title":"Python\u7684\u4f18\u7f3a\u70b9","text":"<p>Python\u7684\u4f18\u70b9\u5305\u62ec\uff1a</p> <ul> <li>\u7b80\u5355\u6613\u5b66\uff1aPython\u7684\u8bed\u6cd5\u7b80\u6d01\u660e\u4e86\uff0c\u6613\u4e8e\u5b66\u4e60\u548c\u7406\u89e3\u3002</li> <li>\u514d\u8d39\u5f00\u6e90\uff1aPython\u662f\u5f00\u6e90\u7684\uff0c\u53ef\u4ee5\u514d\u8d39\u4f7f\u7528\u548c\u5206\u53d1\u3002</li> <li>\u4e30\u5bcc\u7684\u5e93\uff1aPython\u62e5\u6709\u5927\u91cf\u7684\u6807\u51c6\u5e93\u548c\u7b2c\u4e09\u65b9\u5e93\uff0c\u53ef\u4ee5\u5feb\u901f\u5f00\u53d1\u5404\u79cd\u5e94\u7528\u3002</li> <li>\u53ef\u6269\u5c55\u6027\uff1aPython\u53ef\u4ee5\u901a\u8fc7C/C++\u6269\u5c55\u6a21\u5757\u6765\u63d0\u9ad8\u6027\u80fd\uff0c\u5e76\u4e0e\u5176\u4ed6\u8bed\u8a00\u8fdb\u884c\u65e0\u7f1d\u96c6\u6210\u3002</li> </ul> <p>Python\u7684\u7f3a\u70b9\u5305\u62ec\uff1a</p> <ul> <li>\u8fd0\u884c\u901f\u5ea6\u76f8\u5bf9\u8f83\u6162\uff1a\u4e0e\u4e00\u4e9b\u7f16\u8bd1\u578b\u8bed\u8a00\u76f8\u6bd4\uff0cPython\u7684\u8fd0\u884c\u901f\u5ea6\u8f83\u6162\u3002</li> <li>\u56fd\u5185\u8d77\u6b65\u8f83\u665a\uff1a\u76f8\u6bd4\u4e8e\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\uff0cPython\u5728\u56fd\u5185\u7684\u666e\u53ca\u548c\u5e94\u7528\u8d77\u6b65\u8f83\u665a\u3002</li> <li>\u4e2d\u6587\u8d44\u6599\u76f8\u5bf9\u532e\u4e4f\uff1a\u76f8\u6bd4\u4e8e\u82f1\u6587\u8d44\u6599\uff0cPython\u7684\u4e2d\u6587\u8d44\u6599\u76f8\u5bf9\u8f83\u5c11\uff0c\u8fd9\u5bf9\u4e8e\u4e00\u4e9b\u521d\u5b66\u8005\u6765\u8bf4\u53ef\u80fd\u662f\u4e00\u4e2a\u6311\u6218\u3002</li> </ul>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u89e3\u91ca\u578b\u8bed\u8a00","title":"\u89e3\u91ca\u578b\u8bed\u8a00","text":"<p>Python\u662f\u4e00\u79cd\u89e3\u91ca\u578b\u8bed\u8a00\uff0c\u8fd9\u610f\u5473\u7740Python\u7684\u4ee3\u7801\u5728\u8fd0\u884c\u4e4b\u524d\u4e0d\u9700\u8981\u7f16\u8bd1\u6210\u673a\u5668\u7801\uff0c\u800c\u662f\u7531\u89e3\u91ca\u5668\u9010\u884c\u89e3\u91ca\u6267\u884c\u3002\u89e3\u91ca\u5668\u5c06\u4ee3\u7801\u8f6c\u6362\u4e3a\u673a\u5668\u8bed\u8a00\u5e76\u6267\u884c\u3002</p> <p>\u603b\u7ed3\uff1a</p> <p>\u672c\u6587\u4ecb\u7ecd\u4e86Python\u7684\u8bed\u8a00\u80cc\u666f\u548c\u7279\u70b9\u3002Python\u662f\u4e00\u79cd\u7b80\u6d01\u6613\u5b66\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u9002\u7528\u4e8e\u5927\u6570\u636e\u548c\u4eba\u5de5\u667a\u80fd\u9886\u57df\u3002\u5b83\u62e5\u6709\u5e9e\u5927\u7684\u7528\u6237\u7fa4\u4f53\u548c\u6210\u719f\u7684\u6280\u672f\u4f53\u7cfb\u3002Python\u7684\u8bbe\u8ba1\u76ee\u6807\u662f\u7b80\u5355\u4f18\u96c5\uff0c\u5b83\u662f\u5b8c\u5168\u9762\u5411\u5bf9\u8c61\u7684\u8bed\u8a00\uff0c\u62e5\u6709\u5f3a\u5927\u7684\u6807\u51c6\u5e93\u548c\u4e30\u5bcc\u7684\u7b2c\u4e09\u65b9\u6a21\u5757\u3002Python\u5177\u6709\u7b80\u5355\u6613\u5b66\u3001\u514d\u8d39\u5f00\u6e90\u3001\u4e30\u5bcc\u7684\u5e93\u548c\u53ef\u6269\u5c55\u6027\u7b49\u4f18\u70b9\uff0c\u4f46\u4e5f\u5b58\u5728\u8fd0\u884c\u901f\u5ea6\u8f83\u6162\u548c\u4e2d\u6587\u8d44\u6599\u532e\u4e4f\u7684\u7f3a\u70b9\u3002\u6b64\u5916\uff0cPython\u662f\u4e00\u79cd\u89e3\u91ca\u578b\u8bed\u8a00\uff0c\u4e0d\u9700\u8981\u7f16\u8bd1\u6210\u673a\u5668\u7801\u5373\u53ef\u6267\u884c\u3002\u5e0c\u671b\u672c\u6587\u5bf9\u4f60\u4e86\u89e3Python\u7684\u80cc\u666f\u548c\u7279\u70b9\u6709\u6240\u5e2e\u52a9\uff01</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u4e94python\u6e90\u4ee3\u7801\u7684\u6267\u884c\u539f\u7406","title":"\u4e94\u3001Python\u6e90\u4ee3\u7801\u7684\u6267\u884c\u539f\u7406","text":""},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#1\u89e3\u91ca\u5668\u6267\u884c\u6d41\u7a0b","title":"1.\u89e3\u91ca\u5668\u6267\u884c\u6d41\u7a0b\uff1a","text":"<p>\u5728Python\u7f16\u7a0b\u4e2d\uff0c\u6e90\u4ee3\u7801\u662f\u6211\u4eec\u7f16\u5199\u7684\u53ef\u8bfb\u6027\u5f3a\u7684\u6587\u672c\u6587\u4ef6\uff0c\u5b58\u50a8\u5728\u786c\u76d8\u4e0a\u3002\u5f53\u6211\u4eec\u8981\u6267\u884cPython\u6e90\u4ee3\u7801\u65f6\uff0c\u662f\u7531python\u89e3\u91ca\u5668\u5bf9\u6e90\u4ee3\u7801\u8fdb\u884c\u89e3\u91ca\uff0c\u5c06\u5176\u8f6c\u6362\u4e3a\u673a\u5668\u53ef\u4ee5\u6267\u884c\u7684\u4e8c\u8fdb\u5236\u6307\u4ee4\uff0c\u628a\u5b83\u653e\u5728\u5185\u5b58\u4e2d\uff0c\u5185\u5b58\u5728\u628a0\u30011\u6307\u4ee4\u9001\u5230cpu\u8fdb\u884c\u5904\u7406\uff0c\u7ed3\u679c\u8fd4\u56de\u7ed9\u5185\u5b58\uff0c\u4ece\u800c\u5b8c\u6210\u6bcf\u4e00\u6761\u7a0b\u5e8f\u6307\u4ee4\u7684\u4efb\u52a1\u3002</p> <p>python\u89e3\u91ca\u5668\u662f\u5bf9python\u6e90\u4ee3\u7801\u8fdb\u884c\u5904\u7406\uff0c\u4e09\u8005\u76f8\u8f85\u76f8\u6210\uff0c\u786c\u76d8\u4fdd\u5b58\u4ee3\u7801\uff0c\u5185\u5b58\u5b58\u50a8\u7ecf\u8fc7\u89e3\u91ca\u7684\u6307\u4ee4\uff0cCPU\u8d77\u5230\u5927\u8111\u4f5c\u7528\uff0c\u6240\u4ee5\uff0c\u4efb\u4f55python\u6e90\u4ee3\u7801\u90fd\u79bb\u4e0d\u5f00python\u89e3\u91ca\u5668\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#3\u901a\u7528\u8ba1\u7b97\u673a\u6a21\u578b\u56fe","title":"3.\u901a\u7528\u8ba1\u7b97\u673a\u6a21\u578b\u56fe\uff1a","text":""},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u516dpython-ide\u548c\u73af\u5883\u53d8\u91cf\u914d\u7f6e","title":"\u516d\u3001Python IDE\u548c\u73af\u5883\u53d8\u91cf\u914d\u7f6e","text":"<p>\u5728Python\u7f16\u7a0b\u4e2d\uff0c\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09\u5bf9\u4e8e\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u548c\u8212\u9002\u5ea6\u975e\u5e38\u91cd\u8981\u3002\u672c\u6587\u5c06\u4ecb\u7ecd\u4e00\u4e9b\u5e38\u7528\u7684Python IDE\uff0c\u91cd\u70b9\u4ecb\u7ecdPyCharm\uff0c\u5e76\u63d0\u4f9bPython\u548cpip\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u7684\u6b65\u9aa4\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#1python\u5b98\u7f51\u53ca\u4e0b\u8f7d\u5730\u5740","title":"1.Python\u5b98\u7f51\u53ca\u4e0b\u8f7d\u5730\u5740","text":"<p>Python\u5b98\u7f51\u662f\u83b7\u53d6Python\u7f16\u7a0b\u8bed\u8a00\u76f8\u5173\u4fe1\u606f\u7684\u4e3b\u8981\u6765\u6e90\u3002\u4f60\u53ef\u4ee5\u5728\u5b98\u7f51\u4e0a\u4e0b\u8f7dPython\u89e3\u91ca\u5668\u548c\u5176\u4ed6\u76f8\u5173\u5de5\u5177\u3002\u5b98\u7f51\u5730\u5740\uff1ahttps://www.python.org/</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#2pycharm\u5b98\u7f51\u53ca\u4e0b\u8f7d\u5730\u5740","title":"2.PyCharm\u5b98\u7f51\u53ca\u4e0b\u8f7d\u5730\u5740","text":"<p>PyCharm\u662f\u7531JetBrains\u516c\u53f8\u5f00\u53d1\u7684\u4e00\u6b3e\u529f\u80fd\u5f3a\u5927\u7684Python IDE\u3002\u5b83\u652f\u6301\u591a\u5e73\u53f0\uff08\u5982Windows\u3001Mac\u548cLinux\uff09\uff0c\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u529f\u80fd\u548c\u5de5\u5177\uff0c\u53ef\u4ee5\u5927\u5927\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u3002\u4f60\u53ef\u4ee5\u5728\u5b98\u7f51\u4e0a\u4e0b\u8f7dPyCharm\u7684\u793e\u533a\u7248\u6216\u4e13\u4e1a\u7248\u3002\u5b98\u7f51\u5730\u5740\uff1ahttps://www.jetbrains.com/</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#3\u5b89\u88c5ide","title":"3.\u5b89\u88c5IDE","text":"<p>\u5728Python\u7f16\u7a0b\u4e2d\uff0c\u9009\u62e9\u4e00\u4e2a\u9002\u5408\u81ea\u5df1\u7684IDE\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u7684Python IDE\uff1a</p> <ul> <li>PyCharm\uff1a\u529f\u80fd\u5f3a\u5927\u7684Python IDE\uff0c\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u529f\u80fd\u548c\u5de5\u5177\uff0c\u9002\u5408\u4e13\u4e1a\u5f00\u53d1\u8005\u4f7f\u7528\u3002</li> <li>Visual Studio Code\uff08VS Code\uff09\uff1a\u8f7b\u91cf\u7ea7\u7684\u4ee3\u7801\u7f16\u8f91\u5668\uff0c\u652f\u6301Python\u5f00\u53d1\uff0c\u5e76\u5177\u6709\u5f3a\u5927\u7684\u6269\u5c55\u6027\u548c\u751f\u6001\u7cfb\u7edf\u3002</li> <li>Jupyter Notebook\uff1a\u4ea4\u4e92\u5f0f\u7684\u7f16\u7a0b\u73af\u5883\uff0c\u9002\u5408\u8fdb\u884c\u6570\u636e\u5206\u6790\u548c\u53ef\u89c6\u5316\u7b49\u4efb\u52a1\u3002</li> </ul> <p>\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u548c\u559c\u597d\uff0c\u9009\u62e9\u4e00\u4e2a\u9002\u5408\u81ea\u5df1\u7684IDE\u8fdb\u884c\u5b89\u88c5\u548c\u4f7f\u7528\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#4ide\u4f18\u70b9","title":"4.IDE\u4f18\u70b9","text":"<p>\u4f7f\u7528IDE\u53ef\u4ee5\u5e26\u6765\u8bb8\u591a\u597d\u5904\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u4f18\u70b9\uff1a</p> <ol> <li>\u81ea\u52a8\u63d0\u793a\uff08\u4ee3\u7801\u8865\u5168\u3001\u7528\u6cd5\u63d0\u793a\uff09\uff1aIDE\u53ef\u4ee5\u6839\u636e\u4e0a\u4e0b\u6587\u81ea\u52a8\u63d0\u793a\u4ee3\u7801\u548c\u51fd\u6570\u7684\u8865\u5168\uff0c\u63d0\u9ad8\u7f16\u7801\u6548\u7387\u3002</li> <li>\u81ea\u52a8\u9519\u8bef\u63d0\u793a\uff1aIDE\u53ef\u4ee5\u68c0\u6d4b\u548c\u63d0\u793a\u4ee3\u7801\u4e2d\u7684\u9519\u8bef\u548c\u6f5c\u5728\u95ee\u9898\uff0c\u5e2e\u52a9\u6211\u4eec\u53ca\u65f6\u53d1\u73b0\u548c\u4fee\u590dbug\u3002</li> <li>\u652f\u6301\u5feb\u6377\u952e\uff1aIDE\u63d0\u4f9b\u4e86\u8bb8\u591a\u5feb\u6377\u952e\uff0c\u53ef\u4ee5\u52a0\u5feb\u7f16\u7801\u901f\u5ea6\uff0c\u63d0\u9ad8\u6548\u7387\u3002</li> </ol>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#5\u914d\u7f6epython\u548cpip\u7684\u73af\u5883\u53d8\u91cf","title":"5.\u914d\u7f6ePython\u548cpip\u7684\u73af\u5883\u53d8\u91cf","text":"<p>\u5728\u4f7f\u7528Python\u548cpip\u547d\u4ee4\u65f6\uff0c\u6211\u4eec\u9700\u8981\u914d\u7f6e\u76f8\u5e94\u7684\u73af\u5883\u53d8\u91cf\uff0c\u4ee5\u4fbf\u5728\u547d\u4ee4\u884c\u4e2d\u76f4\u63a5\u4f7f\u7528\u5b83\u4eec\u3002\u4e0b\u9762\u662f\u914d\u7f6ePython\u548cpip\u73af\u5883\u53d8\u91cf\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u6253\u5f00\u63a7\u5236\u9762\u677f\uff08Control Panel\uff09\u5e76\u8fdb\u5165\u7cfb\u7edf\uff08System\uff09\u8bbe\u7f6e\u3002</li> <li>\u70b9\u51fb\u201c\u9ad8\u7ea7\u7cfb\u7edf\u8bbe\u7f6e\u201d\uff08Advanced system settings\uff09\u3002</li> <li>\u5728\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u4e2d\uff0c\u70b9\u51fb\u201c\u73af\u5883\u53d8\u91cf\u201d\uff08Environment Variables\uff09\u6309\u94ae\u3002</li> <li>\u5728\u201c\u7528\u6237\u53d8\u91cf\u201d\uff08User Variables\uff09\u90e8\u5206\uff0c\u627e\u5230\u540d\u4e3a\u201cPath\u201d\u7684\u53d8\u91cf\uff0c\u5e76\u53cc\u51fb\u8fdb\u884c\u7f16\u8f91\u3002</li> <li>\u5728\u5f39\u51fa\u7684\u7f16\u8f91\u5bf9\u8bdd\u6846\u4e2d\uff0c\u70b9\u51fb\u201c\u65b0\u5efa\u201d\uff08New\uff09\u6309\u94ae\u3002</li> <li>\u6dfb\u52a0Python\u89e3\u91ca\u5668\u7684\u5b89\u88c5\u8def\u5f84\uff0c\u4f8b\u5982\uff1a<code>C:\\Users\\Josh\\AppData\\Local\\Programs\\Python\\Python310</code>\u3002\uff08cmd\u4f7f\u7528python\u547d\u4ee4\u9700\u8981\uff09</li> <li>\u518d\u6b21\u70b9\u51fb\u201c\u65b0\u5efa\u201d\uff08New\uff09\u6309\u94ae\u3002</li> <li>\u6dfb\u52a0Python\u89e3\u91ca\u5668\u7684Scripts\u76ee\u5f55\u7684\u8def\u5f84\uff0c\u4f8b\u5982\uff1a<code>C:\\Users\\Josh\\AppData\\Local\\Programs\\Python\\Python310\\Scripts</code>\u3002\uff08#cmd\u4f7f\u7528pip\u9700\u8981\uff09</li> <li>\u70b9\u51fb\u201c\u786e\u5b9a\u201d\uff08OK\uff09\u6309\u94ae\u4fdd\u5b58\u8bbe\u7f6e\u3002</li> </ol> <p>\u5b8c\u6210\u4e0a\u8ff0\u6b65\u9aa4\u540e\uff0c\u4f60\u5c31\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u76f4\u63a5\u4f7f\u7528<code>python</code>\u547d\u4ee4\u6765\u6267\u884cPython\u811a\u672c\uff0c\u4f7f\u7528<code>pip</code>\u547d\u4ee4\u6765\u7ba1\u7406Python\u5305\u548c\u5e93\u4e86\u3002</p> <p>\u672c\u6587\u4ecb\u7ecd\u4e86Python IDE\u7684\u9009\u62e9\u548c\u5b89\u88c5\uff0c\u91cd\u70b9\u4ecb\u7ecd\u4e86PyCharm\uff0c\u5e76\u5217\u4e3e\u4e86\u4e00\u4e9b\u5e38\u7528\u7684Python IDE\u4f9b\u9009\u62e9\u3002\u6b64\u5916\uff0c\u8fd8\u4ecb\u7ecd\u4e86IDE\u7684\u4f18\u70b9\uff0c\u5305\u62ec\u81ea\u52a8\u63d0\u793a\u3001\u81ea\u52a8\u9519\u8bef\u63d0\u793a\u548c\u5feb\u6377\u952e\u7b49\u3002\u6700\u540e\uff0c\u63d0\u4f9b\u4e86\u914d\u7f6ePython\u548cpip\u73af\u5883\u53d8\u91cf\u7684\u6b65\u9aa4\uff0c\u4ee5\u4fbf\u5728\u547d\u4ee4\u884c\u4e2d\u76f4\u63a5\u4f7f\u7528Python\u548cpip\u547d\u4ee4\u3002</p> <p>\u9009\u62e9\u4e00\u4e2a\u9002\u5408\u81ea\u5df1\u7684IDE\uff0c\u5e76\u6b63\u786e\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u53ef\u4ee5\u63d0\u9ad8Python\u7f16\u7a0b\u7684\u6548\u7387\u548c\u8212\u9002\u5ea6\uff0c\u8ba9\u4f60\u66f4\u8f7b\u677e\u5730\u8fdb\u884c\u5f00\u53d1\u5de5\u4f5c\u3002\u5e0c\u671b\u672c\u6587\u5bf9\u4f60\u6709\u6240\u5e2e\u52a9\uff01</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#6pycharm\u548cvscode\u4f7f\u7528\u6280\u5de7","title":"6.PyCharm\u548cVSCode\u4f7f\u7528\u6280\u5de7","text":"<p>PyCharm\u4f7f\u7528\u6280\u5de7</p> <p>PyCharm\u662f\u4e00\u6b3e\u529f\u80fd\u5f3a\u5927\u7684Python\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9bPyCharm\u7684\u4f7f\u7528\u6280\u5de7\uff1a</p> <ol> <li> <p>\u9879\u76ee\u7ba1\u7406\uff1aPyCharm\u4f7f\u7528\u6587\u4ef6\u5939\u6765\u7ba1\u7406\u9879\u76ee\u3002\u719f\u7ec3\u4f7f\u7528PyCharm\u7684\u9879\u76ee\u7ba1\u7406\u529f\u80fd\u53ef\u4ee5\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u3002</p> </li> <li> <p>\u5feb\u6377\u952e\uff1a\u719f\u7ec3\u4f7f\u7528PyCharm\u7684\u5feb\u6377\u952e\u53ef\u4ee5\u52a0\u5feb\u7f16\u7801\u901f\u5ea6\u3002\u4f8b\u5982\uff0c\u4f7f\u7528Ctrl + /\u53ef\u4ee5\u6ce8\u91ca\u9009\u4e2d\u7684\u5185\u5bb9\u3002</p> </li> <li> <p>\u9519\u8bef\u548c\u8b66\u544a\uff1aPyCharm\u4f1a\u5728\u4ee3\u7801\u4e2d\u6807\u8bb0\u51fa\u9519\u8bef\u548c\u8b66\u544a\u3002\u7ea2\u7ebf\u8868\u793a\u4ee3\u7801\u62a5\u9519\uff0c\u571f\u9ec4\u8272\u6807\u8bc6\u8868\u793a\u8b66\u544a\u3002\u5efa\u8bae\u6839\u636e\u63d0\u793a\u8fdb\u884c\u4fee\u6539\u3002</p> </li> <li> <p>Python\u7248\u672c\u9009\u62e9\uff1a\u53ef\u4ee5\u5728PyCharm\u4e2d\u9009\u62e9\u4f7f\u7528\u7684Python\u7248\u672c\u3002\u901a\u8fc7\u8def\u5f84\uff1aFile | Settings | Project: [\u9879\u76ee\u540d\u79f0] | Python Interpreter\uff0c\u53ef\u4ee5\u9009\u62e9\u9879\u76ee\u6240\u4f7f\u7528\u7684Python\u89e3\u91ca\u5668\u7248\u672c\u3002</p> </li> <li> <p>\u5916\u89c2\u8bbe\u7f6e\uff1a\u53ef\u4ee5\u6839\u636e\u4e2a\u4eba\u559c\u597d\u8c03\u6574PyCharm\u7684\u5916\u89c2\u3002\u901a\u8fc7\u8def\u5f84\uff1aFile | Settings | Appearance &amp; Behavior | System Settings\uff0c\u53ef\u4ee5\u8fdb\u884c\u5916\u89c2\u8bbe\u7f6e\u3002</p> </li> </ol> <p>VSCode\u5c0f\u6280\u5de7</p> <p>VSCode\u662f\u4e00\u6b3e\u8f7b\u91cf\u7ea7\u7684\u4ee3\u7801\u7f16\u8f91\u5668\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8ePython\u5f00\u53d1\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9bVSCode\u7684\u4f7f\u7528\u6280\u5de7\uff1a</p> <ol> <li>\u6ce8\u91ca\uff1a\u4f7f\u7528Shift + Alt + A\u53ef\u4ee5\u5feb\u901f\u6ce8\u91ca\u9009\u4e2d\u7684\u5185\u5bb9\u3002</li> <li>\u6267\u884c\u4ee3\u7801\u62a5\u9519\u8bb0\u5f55\uff1a\u5728VSCode\u4e2d\u6267\u884cPython\u4ee3\u7801\u65f6\uff0c\u5982\u679c\u51fa\u73b0\u9519\u8bef\uff0c\u4f1a\u5728\u8f93\u51fa\u7a97\u53e3\u4e2d\u663e\u793a\u9519\u8bef\u4fe1\u606f\u3002\u4f8b\u5982\uff0cNameError\u8868\u793a\u540d\u79f0\u672a\u5b9a\u4e49\uff0cSyntaxError\u8868\u793a\u8bed\u6cd5\u9519\u8bef\uff0cIndentationError\u8868\u793a\u7f29\u8fdb\u9519\u8bef\u3002</li> </ol>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#7\u4f7f\u7528pip\u8fdb\u884c\u5305\u7ba1\u7406","title":"7.\u4f7f\u7528pip\u8fdb\u884c\u5305\u7ba1\u7406","text":"<p>\u5728Python\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528pip\u5de5\u5177\u6765\u7ba1\u7406\u7b2c\u4e09\u65b9\u5305\u7684\u5b89\u88c5\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4f7f\u7528pip\u7684\u793a\u4f8b\uff1a</p> <ul> <li>\u5b89\u88c5JupyterLab\uff1a<code>pip3.10 install jupyterlab</code></li> <li>\u5b89\u88c5pynput\uff1a<code>pip3.10 install pynput</code></li> <li>\u5b89\u88c5TinyDB\uff1a<code>pip3.10 install tinydb</code></li> </ul>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#8\u4f7f\u7528jupyterlab\u8fdb\u884c\u4ea4\u4e92\u5f0f\u7f16\u7a0b","title":"8.\u4f7f\u7528JupyterLab\u8fdb\u884c\u4ea4\u4e92\u5f0f\u7f16\u7a0b","text":"<p>JupyterLab\u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u4ea4\u4e92\u5f0f\u7f16\u7a0b\u73af\u5883\uff0c\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\u3002\u4ee5\u4e0b\u662f\u4f7f\u7528JupyterLab\u7684\u4e00\u822c\u6b65\u9aa4\uff1a</p> <ul> <li>\u4f7f\u7528\u547d\u4ee4<code>jupyter lab</code>\u8fd0\u884cJupyterLab\u3002</li> <li>\u6839\u636e\u6267\u884c\u7ed3\u679c\u8fd4\u56de\u7684\u5730\u5740\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95eeJupyterLab\u7684\u540e\u53f0\u3002</li> </ul>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u4e03\u5e38\u89c1\u7684python\u7f16\u7a0b\u9519\u8bef\u53ca\u6280\u5de7","title":"\u4e03\u3001\u5e38\u89c1\u7684Python\u7f16\u7a0b\u9519\u8bef\u53ca\u6280\u5de7","text":"<p>\u5728Python\u7f16\u7a0b\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u4f1a\u9047\u5230\u4e00\u4e9b\u9519\u8bef\u548c\u6311\u6218\u3002\u672c\u6587\u6574\u7406\u4e86\u4e00\u4e9b\u5e38\u89c1\u7684Python\u9519\u8bef\u4ee5\u53ca\u4e00\u4e9b\u7f16\u7a0b\u6280\u5de7\uff0c\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u7406\u89e3\u548c\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002</p> <p>1. \u4f7f\u7528\u534a\u89d2\u5b57\u7b26</p> <p>\u5728Python\u4e2d\uff0c\u8bf7\u4f7f\u7528\u534a\u89d2\u5b57\u7b26\uff08\u82f1\u6587\u5b57\u7b26\uff09\uff0c\u800c\u4e0d\u662f\u5168\u89d2\u5b57\u7b26\u3002\u5168\u89d2\u5b57\u7b26\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8bed\u6cd5\u9519\u8bef\u6216\u5176\u4ed6\u95ee\u9898\u3002</p> <p>2. \u5927\u5c0f\u5199\u9519\u8bef</p> <p>Python\u662f\u5927\u5c0f\u5199\u654f\u611f\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u56e0\u6b64\u53d8\u91cf\u540d\u3001\u51fd\u6570\u540d\u548c\u5173\u952e\u5b57\u7684\u5927\u5c0f\u5199\u5fc5\u987b\u4e00\u81f4\u3002\u6ce8\u610f\u68c0\u67e5\u62fc\u5199\u548c\u5927\u5c0f\u5199\uff0c\u4ee5\u907f\u514d\u51fa\u73b0\u9519\u8bef\u3002</p> <p>3. \u82f1\u6587\u5355\u8bcd\u62fc\u5199\u9519\u8bef</p> <p>\u5728\u7f16\u7a0b\u4e2d\uff0c\u82f1\u6587\u5355\u8bcd\u7684\u62fc\u5199\u9519\u8bef\u662f\u5e38\u89c1\u7684\u9519\u8bef\u4e4b\u4e00\u3002\u8bf7\u786e\u4fdd\u4f60\u6b63\u786e\u62fc\u5199\u53d8\u91cf\u540d\u3001\u51fd\u6570\u540d\u548c\u6a21\u5757\u540d\uff0c\u4ee5\u907f\u514d\u51fa\u73b0\u610f\u5916\u7684\u9519\u8bef\u3002</p> <p>4. \u6ce8\u91ca\u7684\u91cd\u8981\u6027</p> <p>\u6ce8\u91ca\u662f\u63d0\u9ad8\u7a0b\u5e8f\u53ef\u8bfb\u6027\u7684\u91cd\u8981\u5de5\u5177\u3002Python\u6709\u4e24\u79cd\u6ce8\u91ca\u65b9\u5f0f\uff1a\u5355\u884c\u6ce8\u91ca\uff08\u4ee5<code>#</code>\u5f00\u5934\uff09\u548c\u5757\u6ce8\u91ca\uff08\u4f7f\u7528<code>\"\"\"\u6ce8\u91ca\u5185\u5bb9\"\"\"</code>\uff09\u3002\u5408\u7406\u4f7f\u7528\u6ce8\u91ca\u53ef\u4ee5\u4f7f\u4ee3\u7801\u66f4\u6613\u8bfb\u3001\u6613\u4e8e\u7ef4\u62a4\u3002</p> <p>5. \u7f16\u7801\u98ce\u683c\u548c\u4ee3\u7801\u7f8e\u89c2</p> <p>\u7a0b\u5e8f\u5458\u662f\u4e00\u4e2a\u6ce8\u91cd\u7ec6\u8282\u7684\u804c\u4e1a\uff0c\u7f16\u5199\u7f8e\u89c2\u7684\u4ee3\u7801\u662f\u4e00\u4e2a\u597d\u4e60\u60ef\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u7f16\u7801\u98ce\u683c\u548c\u4ee3\u7801\u7f8e\u89c2\u7684\u6280\u5de7\uff1a</p> <ul> <li> <p>\u5728\u53d8\u91cf\u8d4b\u503c\u65f6\uff0c\u5728\u7b49\u53f7\u7684\u5de6\u53f3\u52a0\u4e00\u4e2a\u7a7a\u683c\uff0c\u4f8b\u5982\uff1a<code>name = \"\u5f20\u4e09\"</code>\u3002</p> </li> <li> <p>\u5728\u4f7f\u7528\u52a0\u6cd5\u65f6\uff0c\u5728<code>+</code>\u7684\u5de6\u53f3\u52a0\u4e00\u4e2a\u7a7a\u683c\uff0c\u4f8b\u5982\uff1a<code>print(10 + 3)</code>\u3002</p> </li> <li> <p>\u7ed9\u53d8\u91cf\u8d77\u4e00\u4e2a\u6709\u610f\u4e49\u7684\u3001\u597d\u770b\u7684\u540d\u5b57\uff0c\u4ee5\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u3002</p> </li> </ul> <p>6. SyntaxError: invalid syntax\uff08\u65e0\u6548\u8bed\u6cd5\uff09</p> <p>\u5f53\u4f60\u5728\u4ee3\u7801\u4e2d\u9047\u5230<code>SyntaxError: invalid syntax</code>\u9519\u8bef\u65f6\uff0c\u610f\u5473\u7740\u4f60\u7684\u4ee3\u7801\u5b58\u5728\u8bed\u6cd5\u9519\u8bef\u3002\u68c0\u67e5\u4ee3\u7801\u7684\u62fc\u5199\u3001\u6807\u70b9\u7b26\u53f7\u548c\u8bed\u6cd5\u7ed3\u6784\uff0c\u786e\u4fdd\u5b83\u4eec\u7b26\u5408Python\u7684\u8bed\u6cd5\u89c4\u5219\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u516bpython\u5173\u952e\u5b57","title":"\u516b\u3001python\u5173\u952e\u5b57","text":"\u5173\u952e\u5b57 \u542b\u4e49 \u5173\u952e\u5b57 \u542b\u4e49 \u5173\u952e\u5b57 \u542b\u4e49 and \u903b\u8f91\u4e0e\u8fd0\u7b97 def \u51fd\u6570\u5b9a\u4e49 for \u5faa\u73af\u8bed\u53e5 as \u53d8\u91cf\u522b\u540d del \u5220\u9664\u53d8\u91cf from \u5bfc\u5165 assert \u65ad\u8a00 elif \u6761\u4ef6\u8bed\u53e5\u7684else-if\u5b50\u53e5 global \u5168\u5c40\u53d8\u91cf break \u8df3\u51fa\u5faa\u73af else \u6761\u4ef6\u8bed\u53e5\u7684else\u5b50\u53e5 if \u6761\u4ef6\u8bed\u53e5 class \u7c7b\u5b9a\u4e49 except \u5f02\u5e38\u5904\u7406 import \u5bfc\u5165 continue \u7ee7\u7eed\u5faa\u73af finally \u5f02\u5e38\u5904\u7406 in \u6210\u5458\u8fd0\u7b97\u7b26 lambda \u533f\u540d\u51fd\u6570 not \u903b\u8f91\u975e\u8fd0\u7b97 is \u5224\u65ad\u5bf9\u8c61\u662f\u5426\u76f8\u7b49 pass \u7a7a\u8bed\u53e5 or \u903b\u8f91\u6216\u8fd0\u7b97 raise \u629b\u51fa\u5f02\u5e38 return \u51fd\u6570\u8fd4\u56de try \u5f02\u5e38\u5904\u7406 while \u5faa\u73af\u8bed\u53e5 yield \u751f\u6210\u5668"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u4e5d\u53d8\u91cf\u4e0e\u547d\u540d\u89c4\u8303","title":"\u4e5d\u3001\u53d8\u91cf\u4e0e\u547d\u540d\u89c4\u8303","text":"<p>\u5728\u7f16\u7a0b\u4e2d\uff0c\u53d8\u91cf\u662f\u7528\u6765\u5b58\u50a8\u548c\u5904\u7406\u6570\u636e\u7684\u91cd\u8981\u6982\u5ff5\u3002\u672c\u6587\u5c06\u4ecb\u7ecd\u53d8\u91cf\u7684\u4f5c\u7528\u3001\u7c7b\u578b\u4e0e\u5b9a\u4e49\u3001\u7c7b\u578b\u8f6c\u6362\u4ee5\u53ca\u547d\u540d\u89c4\u8303\uff0c\u5e76\u4e3a\u521d\u5b66\u8005\u63d0\u4f9b\u4e00\u4e9b\u6709\u4ef7\u503c\u7684\u6269\u5c55\u5185\u5bb9\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#1\u53d8\u91cf\u7684\u4f5c\u7528","title":"1\u3001\u53d8\u91cf\u7684\u4f5c\u7528","text":"<p>\u7a0b\u5e8f\u7684\u76ee\u7684\u662f\u5904\u7406\u6570\u636e\uff0c\u800c\u53d8\u91cf\u5219\u662f\u7528\u6765\u4fdd\u5b58\u548c\u64cd\u4f5c\u6570\u636e\u7684\u5de5\u5177\u3002\u901a\u8fc7\u7ed9\u53d8\u91cf\u8d4b\u503c\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u5e76\u5728\u7a0b\u5e8f\u4e2d\u8fdb\u884c\u5f15\u7528\u548c\u5904\u7406\u3002\u53d8\u91cf\u53ef\u4ee5\u662f\u4e0d\u540c\u7684\u7c7b\u578b\uff0c\u5982\u5b57\u7b26\u4e32\u3001\u6574\u6570\u3001\u6d6e\u70b9\u6570\u548c\u5e03\u5c14\u578b\u7b49\uff0c\u6839\u636e\u4e0d\u540c\u7684\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u53d8\u91cf\u7c7b\u578b\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#2\u53d8\u91cf\u7c7b\u578b\u4e0e\u5b9a\u4e49","title":"2\u3001\u53d8\u91cf\u7c7b\u578b\u4e0e\u5b9a\u4e49","text":"<p>Python\u4e2d\u6700\u5e38\u7528\u7684\u56db\u79cd\u53d8\u91cf\u7c7b\u578b\u662f\uff1a</p> <ul> <li>\u5b57\u7b26\u4e32\uff08str\uff09\uff1a\u7528\u4e8e\u8868\u793a\u6587\u672c\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528\u5f15\u53f7\uff08\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\uff09\u62ec\u8d77\u6765\uff0c\u5982<code>name = \"John\"</code></li> <li>\u6574\u6570\uff08int\uff09\uff1a\u7528\u4e8e\u8868\u793a\u6574\u6570\u6570\u636e\uff0c\u5982<code>age = 25</code></li> <li>\u6d6e\u70b9\u6570\uff08float\uff09\uff1a\u7528\u4e8e\u8868\u793a\u5e26\u6709\u5c0f\u6570\u90e8\u5206\u7684\u6570\u5b57\uff0c\u5982<code>pi = 3.14</code></li> <li>\u5e03\u5c14\u578b\uff08bool\uff09\uff1a\u7528\u4e8e\u8868\u793a\u771f\uff08True\uff09\u6216\u5047\uff08False\uff09\u7684\u503c\uff0c\u5982<code>is_student = True</code></li> </ul> <p>\u5728Python\u4e2d\uff0c\u53d8\u91cf\u5728\u8d4b\u503c\u65f6\u4f1a\u81ea\u52a8\u5224\u65ad\u6570\u636e\u7684\u7c7b\u578b\uff0c\u65e0\u9700\u663e\u5f0f\u58f0\u660e\u53d8\u91cf\u7684\u7c7b\u578b\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#3\u53d8\u91cf\u7c7b\u578b\u8f6c\u6362","title":"3\u3001\u53d8\u91cf\u7c7b\u578b\u8f6c\u6362","text":"<p>\u6709\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u5728\u4e0d\u540c\u7684\u53d8\u91cf\u7c7b\u578b\u4e4b\u95f4\u8fdb\u884c\u8f6c\u6362\u3002\u4ee5\u4e0b\u662f\u5e38\u89c1\u7684\u7c7b\u578b\u8f6c\u6362\u65b9\u6cd5\uff1a</p> <ul> <li>\u5b57\u7b26\u4e32\u8f6c\u6570\u5b57\u7c7b\u578b\uff1a</li> <li>\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6574\u6570\uff1a\u4f7f\u7528<code>int()</code>\u51fd\u6570\uff0c\u5982<code>age = int(\"25\")</code></li> <li> <p>\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6d6e\u70b9\u6570\uff1a\u4f7f\u7528<code>float()</code>\u51fd\u6570\uff0c\u5982<code>pi = float(\"3.14\")</code></p> </li> <li> <p>\u6570\u5b57\u8f6c\u5b57\u7b26\u4e32\uff1a</p> </li> <li>\u5c06\u6574\u6570\u6216\u6d6e\u70b9\u6570\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\uff1a\u4f7f\u7528<code>str()</code>\u51fd\u6570\uff0c\u5982<code>age_str = str(25)</code></li> </ul> <p>\u7c7b\u578b\u8f6c\u6362\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5728\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u4e4b\u95f4\u8fdb\u884c\u8f6c\u6362\u548c\u64cd\u4f5c\uff0c\u63d0\u9ad8\u7a0b\u5e8f\u7684\u7075\u6d3b\u6027\u548c\u5904\u7406\u80fd\u529b\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#4\u53d8\u91cf\u7684\u547d\u540d\u8981\u6c42\u4e0e\u89c4\u8303","title":"4\u3001\u53d8\u91cf\u7684\u547d\u540d\u8981\u6c42\u4e0e\u89c4\u8303","text":"<p>\u5728\u547d\u540d\u53d8\u91cf\u65f6\uff0c\u6211\u4eec\u5e94\u8be5\u9075\u5faa\u4e00\u5b9a\u7684\u89c4\u8303\u548c\u8981\u6c42\uff0c\u4ee5\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u3002</p> <ol> <li> <p>\u53d8\u91cf\u540d\u5e94\u5177\u6709\u610f\u4e49\uff0c\u80fd\u591f\u6e05\u6670\u5730\u8868\u8fbe\u53d8\u91cf\u6240\u4ee3\u8868\u7684\u542b\u4e49\uff0c\u4f7f\u5176\u5728\u4ee3\u7801\u4e2d\u5bb9\u6613\u7406\u89e3\u548c\u4f7f\u7528\u3002</p> </li> <li> <p>\u53d8\u91cf\u540d\u53ea\u80fd\u5305\u542b\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\u548c\u6570\u5b57\uff0c\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\u3002</p> </li> <li> <p>\u907f\u514d\u4e0ePython\u5173\u952e\u5b57\u91cd\u540d\uff0c\u5173\u952e\u5b57\u662fPython\u8bed\u8a00\u4e2d\u5177\u6709\u7279\u6b8a\u542b\u4e49\u7684\u5355\u8bcd\uff0c\u4e0d\u80fd\u7528\u4f5c\u53d8\u91cf\u540d\u3002</p> </li> </ol> <p>\u4e3a\u4e86\u66f4\u597d\u5730\u547d\u540d\u53d8\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u9075\u5faa\u4ee5\u4e0b\u89c4\u8303\uff1a</p> <ul> <li>\u6240\u6709\u5355\u8bcd\u5c0f\u5199\uff0c\u591a\u4e2a\u5355\u8bcd\u4e4b\u95f4\u4f7f\u7528\u4e0b\u5212\u7ebf\u8fde\u63a5\uff0c\u5982<code>first_name</code></li> <li>\u5c3d\u91cf\u4f7f\u7528\u82f1\u6587\u5355\u8bcd\u547d\u540d\uff0c\u907f\u514d\u4f7f\u7528\u62fc\u97f3\u6216\u7f29\u5199\uff0c\u4ee5\u589e\u52a0\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u3002</li> <li>\u53d8\u91cf\u540d\u957f\u5ea6\u4e0d\u8d85\u8fc720\u4e2a\u5b57\u7b26\uff0c\u8fc7\u957f\u7684\u53d8\u91cf\u540d\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u7f29\u5199\u3002</li> </ul> <p>\u901a\u8fc7\u826f\u597d\u7684\u547d\u540d\u89c4\u8303\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u4ee3\u7801\u66f4\u6613\u8bfb\u3001\u6613\u61c2\uff0c\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u548c\u53ef\u6269\u5c55\u6027\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u5341\u8fd0\u7b97\u7b26","title":"\u5341\u3001\u8fd0\u7b97\u7b26","text":""},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#1-\u57fa\u672c\u8fd0\u7b97\u7b26","title":"1. \u57fa\u672c\u8fd0\u7b97\u7b26","text":"<p>\u57fa\u672c\u8fd0\u7b97\u7b26\u662fPython\u4e2d\u5e38\u7528\u7684\u6570\u5b66\u8ba1\u7b97\u7b26\u53f7\uff0c\u5305\u62ec\u52a0\u6cd5\uff08+\uff09\u3001\u51cf\u6cd5\uff08-\uff09\u3001\u4e58\u6cd5\uff08*\uff09\u548c\u9664\u6cd5\uff08/\uff09\u3002\u901a\u8fc7\u8fd9\u4e9b\u8fd0\u7b97\u7b26\uff0c\u53ef\u4ee5\u5bf9\u6570\u5b57\u8fdb\u884c\u57fa\u672c\u7684\u6570\u5b66\u8fd0\u7b97\u3002</p> <p>\u7b49\u503c\u8fd0\u7b97\u7b26\u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u503c\u662f\u5426\u76f8\u7b49\uff0c\u5305\u62ec\u5927\u4e8e\uff08&gt;\uff09\u3001\u5c0f\u4e8e\uff08&lt;\uff09\u3001\u7b49\u4e8e\uff08==\uff09\u548c\u4e0d\u7b49\u4e8e\uff08!=\uff09\u3002\u8fd9\u4e9b\u8fd0\u7b97\u7b26\u53ef\u4ee5\u7528\u4e8e\u6761\u4ef6\u5224\u65ad\u548c\u903b\u8f91\u63a7\u5236\u3002</p> <p>\u903b\u8f91\u8fd0\u7b97\u7b26\u7528\u4e8e\u5728\u591a\u4e2a\u6761\u4ef6\u7ec4\u5408\u5224\u65ad\u65f6\u4f7f\u7528\u3002\u5e38\u89c1\u7684\u903b\u8f91\u8fd0\u7b97\u7b26\u6709\u4e0e\uff08and\uff09\u3001\u6216\uff08or\uff09\u548c\u975e\uff08not\uff09\u3002\u4e0e\u8fd0\u7b97\u7b26\u8981\u6c42\u524d\u540e\u4e24\u4e2a\u6761\u4ef6\u90fd\u4e3a\u771f\u624d\u8fd4\u56de\u771f\uff0c\u6216\u8fd0\u7b97\u7b26\u53ea\u8981\u524d\u540e\u4efb\u4e00\u6761\u4ef6\u4e3a\u771f\u5c31\u8fd4\u56de\u771f\uff0c\u975e\u8fd0\u7b97\u7b26\u7528\u4e8e\u5bf9\u7ed3\u679c\u53d6\u53cd\u3002</p> <p>\u6c42\u6a21\u8fd0\u7b97\u7b26\uff08%\uff09\u7528\u4e8e\u8ba1\u7b97\u4e24\u4e2a\u6570\u76f8\u9664\u7684\u4f59\u6570\u3002\u5b83\u5e38\u7528\u4e8e\u5224\u65ad\u4e00\u4e2a\u6570\u662f\u5426\u80fd\u88ab\u53e6\u4e00\u4e2a\u6570\u6574\u9664\uff0c\u5982\u679c\u4f59\u6570\u4e3a0\uff0c\u5219\u8bf4\u660e\u53ef\u4ee5\u6574\u9664\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#2-\u4f4d\u8fd0\u7b97\u7b26","title":"2. \u4f4d\u8fd0\u7b97\u7b26","text":"<p>\u4f4d\u8fd0\u7b97\u7b26\u662f\u5bf9\u4e8c\u8fdb\u5236\u6570\u8fdb\u884c\u64cd\u4f5c\u7684\u8fd0\u7b97\u7b26\u3002\u5e38\u89c1\u7684\u4f4d\u8fd0\u7b97\u7b26\u6709\u4e0e\uff08&amp;\uff09\u3001\u6216\uff08|\uff09\u3001\u5f02\u6216\uff08^\uff09\u548c\u53d6\u53cd\uff08~\uff09\u3002\u8fd9\u4e9b\u8fd0\u7b97\u7b26\u53ef\u4ee5\u5bf9\u4e8c\u8fdb\u5236\u6570\u7684\u6bcf\u4e00\u4f4d\u8fdb\u884c\u5bf9\u5e94\u7684\u4f4d\u8fd0\u7b97\u64cd\u4f5c\u3002</p> <p>\u4e0e\u8fd0\u7b97\u7b26\uff08&amp;\uff09\u5bf9\u4e24\u4e2a\u4e8c\u8fdb\u5236\u6570\u7684\u6bcf\u4e00\u4f4d\u8fdb\u884c\u4e0e\u64cd\u4f5c\uff0c\u53ea\u6709\u5f53\u5bf9\u5e94\u4f4d\u90fd\u4e3a1\u65f6\uff0c\u7ed3\u679c\u624d\u4e3a1\u3002\u6216\u8fd0\u7b97\u7b26\uff08|\uff09\u5bf9\u4e24\u4e2a\u4e8c\u8fdb\u5236\u6570\u7684\u6bcf\u4e00\u4f4d\u8fdb\u884c\u6216\u64cd\u4f5c\uff0c\u53ea\u8981\u5bf9\u5e94\u4f4d\u6709\u4e00\u4e2a\u4e3a1\uff0c\u7ed3\u679c\u5c31\u4e3a1\u3002\u5f02\u6216\u8fd0\u7b97\u7b26\uff08^\uff09\u5bf9\u4e24\u4e2a\u4e8c\u8fdb\u5236\u6570\u7684\u6bcf\u4e00\u4f4d\u8fdb\u884c\u5f02\u6216\u64cd\u4f5c\uff0c\u76f8\u540c\u4f4d\u7684\u503c\u4e0d\u540c\u5219\u7ed3\u679c\u4e3a1\uff0c\u5426\u5219\u4e3a0\u3002\u53d6\u53cd\u8fd0\u7b97\u7b26\uff08~\uff09\u5bf9\u4e8c\u8fdb\u5236\u6570\u7684\u6bcf\u4e00\u4f4d\u8fdb\u884c\u53d6\u53cd\u64cd\u4f5c\uff0c\u53730\u53d8\u4e3a1\uff0c1\u53d8\u4e3a0\u3002</p> <p>\u5de6\u79fb\u8fd0\u7b97\u7b26\uff08&lt;&lt;\uff09\u5c06\u4e8c\u8fdb\u5236\u6570\u5411\u5de6\u79fb\u52a8\u82e5\u5e72\u4f4d\uff0c\u53f3\u4fa7\u88650\u3002\u53f3\u79fb\u8fd0\u7b97\u7b26\uff08&gt;&gt;\uff09\u5c06\u4e8c\u8fdb\u5236\u6570\u5411\u53f3\u79fb\u52a8\u82e5\u5e72\u4f4d\uff0c\u5de6\u4fa7\u88650\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#3-\u8fdb\u5236\u8f6c\u6362","title":"3. \u8fdb\u5236\u8f6c\u6362","text":"<p>\u8fdb\u5236\u8f6c\u6362\u662f\u6307\u5c06\u4e00\u4e2a\u6570\u4ece\u4e00\u79cd\u8fdb\u5236\u8868\u793a\u8f6c\u6362\u4e3a\u53e6\u4e00\u79cd\u8fdb\u5236\u8868\u793a\u7684\u8fc7\u7a0b\u3002\u5728\u8ba1\u7b97\u673a\u4e2d\uff0c\u5e38\u89c1\u7684\u8fdb\u5236\u6709\u4e8c\u8fdb\u5236\u3001\u516b\u8fdb\u5236\u3001\u5341\u8fdb\u5236\u548c\u5341\u516d\u8fdb\u5236\u3002</p> <p>\u5341\u8fdb\u5236\u8f6c\u4e8c\u8fdb\u5236\u53ef\u4ee5\u4f7f\u7528\u96642\u53d6\u4f59\u6cd5\u3002\u5c06\u5341\u8fdb\u5236\u6570\u9664\u4ee52\uff0c\u5f97\u5230\u7684\u4f59\u6570\u5373\u4e3a\u4e8c\u8fdb\u5236\u6570\u7684\u6700\u4f4e\u4f4d\uff0c\u7136\u540e\u5c06\u5546\u7ee7\u7eed\u9664\u4ee52\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u5230\u5546\u4e3a0\u4e3a\u6b62\u3002\u5c06\u4f59\u6570\u6309\u7167\u4ece\u4f4e\u4f4d\u5230\u9ad8\u4f4d\u7684\u987a\u5e8f\u6392\u5217\uff0c\u5373\u5f97\u5230\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u6570\u3002</p> <p>\u4e8c\u8fdb\u5236\u8f6c\u5341\u8fdb\u5236\u53ef\u4ee5\u4f7f\u7528\u6743\u91cd\u6cd5\u3002\u5c06\u4e8c\u8fdb\u5236\u6570\u7684\u6bcf\u4e00\u4f4d\u4e0e\u5bf9\u5e94\u7684\u6743\u91cd\u76f8\u4e58\uff0c\u518d\u5c06\u7ed3\u679c\u76f8\u52a0\uff0c\u5373\u53ef\u5f97\u5230\u5bf9\u5e94\u7684\u5341\u8fdb\u5236\u6570\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#4-\u903b\u8f91\u8fd0\u7b97\u7b26","title":"4. \u903b\u8f91\u8fd0\u7b97\u7b26","text":"<p>\u903b\u8f91\u8fd0\u7b97\u7b26\u7528\u4e8e\u5728\u6761\u4ef6\u5224\u65ad\u548c\u903b\u8f91\u63a7\u5236\u4e2d\u7ec4\u5408\u591a\u4e2a\u6761\u4ef6\u3002\u5e38\u89c1\u7684\u903b\u8f91\u8fd0\u7b97\u7b26\u6709\u4e0e\uff08and\uff09\u3001\u6216\uff08or\uff09\u548c\u975e\uff08not\uff09\u3002</p> <ul> <li>\u4e0e\u8fd0\u7b97\u7b26\uff08and\uff09\uff1a\u5f53\u4e24\u4e2a\u6761\u4ef6\u90fd\u4e3a\u771f\u65f6\uff0c\u7ed3\u679c\u4e3a\u771f\uff1b\u5426\u5219\uff0c\u7ed3\u679c\u4e3a\u5047\u3002\u4f8b\u5982\uff0c<code>True and False</code> \u7684\u7ed3\u679c\u4e3a False\u3002</li> <li>\u6216\u8fd0\u7b97\u7b26\uff08or\uff09\uff1a\u5f53\u81f3\u5c11\u6709\u4e00\u4e2a\u6761\u4ef6\u4e3a\u771f\u65f6\uff0c\u7ed3\u679c\u4e3a\u771f\uff1b\u5426\u5219\uff0c\u7ed3\u679c\u4e3a\u5047\u3002\u4f8b\u5982\uff0c<code>True or False</code> \u7684\u7ed3\u679c\u4e3a True\u3002</li> <li>\u975e\u8fd0\u7b97\u7b26\uff08not\uff09\uff1a\u5bf9\u7ed3\u679c\u8fdb\u884c\u53d6\u53cd\u64cd\u4f5c\uff0c\u5982\u679c\u6761\u4ef6\u4e3a\u771f\uff0c\u5219\u7ed3\u679c\u4e3a\u5047\uff1b\u5982\u679c\u6761\u4ef6\u4e3a\u5047\uff0c\u5219\u7ed3\u679c\u4e3a\u771f\u3002\u4f8b\u5982\uff0c<code>not True</code> \u7684\u7ed3\u679c\u4e3a False\u3002</li> </ul> <p>\u903b\u8f91\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u4e3a\uff1anot &gt; and &gt; or\u3002\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u62ec\u53f7\u6765\u6539\u53d8\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\uff0c\u4ee5\u6ee1\u8db3\u7279\u5b9a\u7684\u6761\u4ef6\u7ec4\u5408\u9700\u6c42\u3002</p> <p>\u903b\u8f91\u8fd0\u7b97\u7b26\u5728\u6761\u4ef6\u5224\u65ad\u3001\u5faa\u73af\u63a7\u5236\u548c\u51fd\u6570\u8c03\u7528\u7b49\u573a\u666f\u4e2d\u7ecf\u5e38\u88ab\u4f7f\u7528\u3002\u5b83\u4eec\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u7ec4\u5408\u591a\u4e2a\u6761\u4ef6\uff0c\u8fdb\u884c\u590d\u6742\u7684\u903b\u8f91\u5224\u65ad\u548c\u63a7\u5236\u6d41\u7a0b\u3002</p> <p>\u9664\u4e86\u57fa\u672c\u7684\u903b\u8f91\u8fd0\u7b97\u7b26\uff0cPython\u8fd8\u63d0\u4f9b\u4e86\u5176\u4ed6\u4e00\u4e9b\u7528\u4e8e\u6bd4\u8f83\u548c\u5224\u65ad\u7684\u8fd0\u7b97\u7b26\uff0c\u5982\u5927\u4e8e\u7b49\u4e8e\uff08&gt;=\uff09\u3001\u5c0f\u4e8e\u7b49\u4e8e\uff08&lt;=\uff09\u3001\u6052\u7b49\u4e8e\uff08is\uff09\u3001\u4e0d\u6052\u7b49\u4e8e\uff08is not\uff09\u7b49\u3002\u8fd9\u4e9b\u8fd0\u7b97\u7b26\u53ef\u4ee5\u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u503c\u7684\u5927\u5c0f\u3001\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u76f8\u540c\u7b49\u3002</p> <p>\u5728\u7f16\u7a0b\u4e2d\uff0c\u903b\u8f91\u8fd0\u7b97\u7b26\u7684\u6b63\u786e\u4f7f\u7528\u975e\u5e38\u91cd\u8981\u3002\u5408\u7406\u5730\u7ec4\u5408\u548c\u8fd0\u7528\u903b\u8f91\u8fd0\u7b97\u7b26\u53ef\u4ee5\u4f7f\u7a0b\u5e8f\u66f4\u52a0\u7b80\u6d01\u3001\u9ad8\u6548\uff0c\u5e76\u4e14\u80fd\u591f\u6b63\u786e\u5730\u5904\u7406\u5404\u79cd\u6761\u4ef6\u548c\u60c5\u51b5\u3002</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u4e09\u6570\u636e\u7c7b\u578b","title":"\u4e09\u3001\u6570\u636e\u7c7b\u578b","text":"<p>1. \u5e38\u89c1\u6570\u636e\u7c7b\u578b</p> <p>2 \u5b57\u7b26\u4e32str</p> <p>name = \u201c\u5f20\u4e09\u201d #\u6587\u672c</p> <p>3 \u6574\u6570\uff08int\uff09\uff0c\u6d6e\u70b9\u6570\uff08float\uff09</p> <p>salary = 1996 #\u6570\u5b57</p> <p>num1=10.1</p> <p>4 \u5e03\u5c14\u578b\uff08bool\uff09</p> <p>is_weekend = True #\u5e03\u5c14\u503c\uff08True\u4ee3\u8868\u5bf9\uff0cFlase\u4ee3\u8868\u9519\uff09,\u201dis_weekend = True\u201d\u7684\u89e3\u91ca\uff1a\u53d8\u91cf\u7684\u6570\u636e\u662f\u6b63\u786e\u7684\uff0cis_workday = False #True/False\u88ab\u7edf\u79f0\u4e3a\u5e03\u5c14\u578b\u6570\u636e</p> <p>5 \u5217\u8868</p> <p>1 \u5217\u8868\u6982\u5ff5</p> <p>\u5217\u8868\u7531\u4e00\u7cfb\u5217\u6309\u7279\u5b9a\u987a\u5e8f\u6392\u5217\u7684\u5143\u7d20\u7ec4\u6210\u3002\u521b\u5efa\u5305\u542b\u5b57\u6bcd\u8868\u4e2d\u6240\u6709\u5b57\u6bcd\u3001\u6570\u5b570~9\u6216\u6240\u6709\u5bb6\u5ead\u6210\u5458\u59d3\u540d\u7684\u5217\u8868\uff1b\u4e5f\u53ef\u4ee5\u5c06\u4efb\u4f55\u4e1c\u897f\u52a0\u5165\u5217\u8868\u4e2d\uff0c\u5176\u4e2d\u7684\u5143\u7d20\u4e4b\u95f4\u53ef\u4ee5\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\u3002</p> <p>\u5217\u8868\u662f\u6709\u5e8f\u96c6\u5408\uff0c\u8981\u8bbf\u95ee\u5217\u8868\u7684\u4efb\u4f55\u5143\u7d20\uff0c\u53ea\u9700\u77e5\u9053\u8be5\u5143\u7d20\u7684\u4f4d\u7f6e\u6216\u7d22\u5f15\uff0c\u7d22\u5f15\u4ece0\u5f00\u59cb\u3002</p> <p>2 \u5217\u8868\u521b\u5efa</p> <p>\u5217\u8868\u7528\u65b9\u62ec\u53f7[]\u6765\u8868\u793a\uff0c\u5e76\u7528\u9017\u53f7\u6765\u5206\u9694\u5176\u4e2d\u7684\u5143\u7d20\uff0c\u5982i = [\u20181\u2019,\u20182\u2019,\u20183\u2019]</p> <p>#\u8fd8\u53ef\u4ee5\u521b\u5efa\u7a7a\u5217\u8868 list = [\u2018a\u2019,\u2019b\u2019,\u2019c\u2019,\u2019d\u2019,1,2,3,4]</p> <p>3 \u5217\u8868\u53d6\u503c</p> <p>name = [\u2018\u5f20\u4e09\u2019,\u2019\u674e\u56db\u2019,\u2019\u738b\u4e94\u2019,\u2019\u8d75\u516d\u2019,\u2019\u94b1\u4e03\u2019,\u2019\u5b59\u516b\u2019] print(name[0]) print(name[-1]) #\u8303\u56f4\u53d6\u503c\uff1a\u5217\u8868\u53d8\u91cf = \u539f\u5217\u8868\u53d8\u91cf[\u8d77\u59cb\u7d22\u5f15:\u7ed3\u675f\u7d22\u5f15] list1 = name[1:4] print(list1) #\u5217\u8868\u7684index\u51fd\u6570\u7528\u4e8e\u83b7\u53d6\u6307\u5b9a\u5143\u7d20\u7684\u7d22\u5f15\u503c index_1 = name.index(\u2018\u738b\u4e94\u2019) print(index_1)</p> <p>4 \u64cd\u4f5c\u5217\u8868</p> <p>\u5217\u8868\u7684\u65b0\u589e\u3001\u4fee\u6539\u3001\u5220\u9664\u64cd\u4f5c</p> <p>5 \u5217\u8868\u65b0\u589e-\u4fee\u6539</p> <p>\u5217\u8868\u672b\u5c3e\u6dfb\u52a0\u5143\u7d20\uff0c\u4f7f\u7528\u65b9\u6cd5append()\uff0c\u5c06\u5143\u7d20\u6dfb\u52a0\u5230\u5217\u8868\u672b\u5c3e\u3002i.append(\u20184\u2019)</p> <p>#\u4f7f\u7528append\u65b9\u6cd5\u5bf9\u5217\u8868\u8fdb\u884c\u8ffd\u52a0 persons = [\u2018\u5f20\u4e09\u2019,\u2019\u8d75\u516d\u2019,\u2019\u674e\u56db\u2019,\u2019\u738b\u4e94\u2019,\u2019\u8d75\u516d\u2019,\u2019\u94b1\u4e03\u2019,\u2019\u5b59\u516b\u2019] persons.append(\u2018\u6768\u4e5d\u2019) print(persons) #\u4f7f\u7528insert\u65b9\u6cd5\u5bf9\u5217\u8868\u63d2\u5165 persons.insert(2,\u2019\u5218\u4e8c\u2019) print(persons) #\u5217\u8868\u7684\u63d2\u5165 persons = [\u2018\u5f20\u4e09\u2019,\u2019\u8d75\u516d\u2019,\u2019\u674e\u56db\u2019,\u2019\u738b\u4e94\u2019,\u2019\u8d75\u516d\u2019,\u2019\u94b1\u4e03\u2019,\u2019\u5b59\u516b\u2019] persons.insert(2,\u2019\u5218\u4e8c\u2019) print(persons) #\u5217\u8868\u7684\u63d2\u5165 persons = [\u2018\u5f20\u4e09\u2019,\u2019\u8d75\u516d\u2019,\u2019\u674e\u56db\u2019,\u2019\u738b\u4e94\u2019,\u2019\u8d75\u516d\u2019,\u2019\u94b1\u4e03\u2019,\u2019\u5b59\u516b\u2019] persons.insert(len(persons),\u2019\u4faf\u5927\u2019) #len(persons)\uff0clen\u83b7\u53d6\u5217\u8868\u957f\u5ea6\u90fd\u662f\u4ece0\u5f00\u59cb\uff0c\u8fd9\u8fb9\u8868\u793a\u603b\u957f\u5ea6-1 print(persons) #\u5217\u8868\u7684\u66f4\u65b0 persons = [\u2018\u5f20\u4e09\u2019,\u2019\u8d75\u516d\u2019,\u2019\u674e\u56db\u2019,\u2019\u738b\u4e94\u2019,\u2019\u8d75\u516d\u2019,\u2019\u94b1\u4e03\u2019,\u2019\u5b59\u516b\u2019] persons[2] = \u2018\u5b8b\u4e8c\u2019 print(persons) #\u8303\u56f4\u53d8\u66f4 persons[3:5] = [\u2018josh\u2019,\u2019pino\u2019] print(persons)</p> <p>6 \u5217\u8868\u5220\u9664\u5143\u7d20</p> <p>\u4f7f\u7528del\u8bed\u53e5\uff0c\u6839\u636e\u4f4d\u7f6e/\u503c\u6765\u5220\u9664\u3002del i[0]</p> <p>\u5217\u8868\u672b\u5c3e\u5220\u9664\u5143\u7d20\uff0c\u4f7f\u7528pop()\u65b9\u6cd5\u3002o = i.pop() print(i) print(o)</p> <p>\u5982\u679c\u4f60\u8981\u4ece\u5217\u8868\u4e2d\u5220\u9664\u4e00\u4e2a\u5143\u7d20\uff0c\u4e14\u4e0d\u518d\u4ee5\u4efb\u4f55\u65b9\u5f0f\u4f7f\u7528\u5b83\uff0c\u5c31\u4f7f\u7528del\u8bed\u53e5\uff1b\u5982\u679c\u4f60\u8981\u5728\u5220\u9664\u5143\u7d20\u540e\u8fd8\u80fd\u7ee7\u7eed\u4f7f\u7528\u5b83\uff0c\u5c31\u4f7f\u7528\u65b9\u6cd5pop()\u3002</p> <p>\u5217\u8868\u4e2d\u5220\u9664\u5143\u7d20\u7684\u503c\uff0c\u4f7f\u7528remove()\u65b9\u6cd5\u3002i.remove(\u20182\u2019)</p> <p>#\u5217\u8868\u7684\u5220\u9664\uff08\u6309\u5143\u7d20\u5185\u5bb9\u5220\u9664\uff09 persons.remove(\u2018\u5b8b\u4e8c\u2019) print(persons) #\u5217\u8868\u5220\u9664\uff08\u6309\u7d22\u5f15\u503c\u5220\u9664\uff09 persons.pop(4) print(persons) #\u6309\u8303\u56f4\u5220\u9664 persons[2:4] = [] print(persons)</p> <p>7 \u5217\u8868\u7684\u53cd\u8f6c\u4e0e\u6392\u5e8f</p> <p>\u5217\u8868\u6c38\u4e45\u6027\u6392\u5e8f\uff0c\u4f7f\u7528\u65b9\u6cd5sort()\u3002i.sort()</p> <p>\u76f8\u53cd\u987a\u5e8f\u6392\u5e8f\u5217\u8868\u5143\u7d20\uff0c\u4f7f\u7528sort()\u65b9\u6cd5\u4f20\u9012\u53c2\u6570reverse=True\u3002i.sort(reverse=True)</p> <p>\u5217\u8868\u4e34\u65f6\u6392\u5e8f\uff0c\u4f7f\u7528\u51fd\u6570sorted()\u5bf9\u5217\u8868\u4e34\u65f6\u6392\u5e8f\uff0c\u4fdd\u7559\u5217\u8868\u539f\u6765\u987a\u5e8f\uff0c\u540c\u65f6\u4ee5\u7279\u5b9a\u987a\u5e8f\u5448\u73b0\u5b83\u4eec\u3002print(sorted(i))</p> <p>#reverse\u65b9\u6cd5\u7528\u4e8e\u53cd\u8f6c\u5217\u8868 persons = [\u2018\u5f20\u4e09\u2019,\u2019\u8d75\u516d\u2019,\u2019\u674e\u56db\u2019,\u2019\u738b\u4e94\u2019,\u2019\u8d75\u516d\u2019,\u2019\u94b1\u4e03\u2019,\u2019\u5b59\u516b\u2019] persons.reverse() print(persons) #sort()\u7528\u4e8e\u6392\u5e8f\uff0c\u6309\u5347\u5e8f\u65b9\u6cd5\u6392\u5217 numbers = [28,32,14,12,53,42] numbers.sort() print(numbers) #sort(reverse=True)\u6309\u964d\u5e8f\u65b9\u6cd5\u6392\u5217 numbers = [28,32,14,12,53,42] numbers.sort(reverse=True) print(numbers)</p> <p>8 \u590d\u5236\u5217\u8868</p> <p>\u590d\u5236\u5217\u8868\uff0cmerber=[1,2,3,4],merber1=merber[:]</p> <p>9 \u786e\u5b9a\u5217\u8868\u957f\u5ea6</p> <p>\u4f7f\u7528\u51fd\u6570len()\uff0c\u5b83\u53ef\u7528\u4e8e\u786e\u5b9a\u7f51\u7ad9\u6709\u591a\u5c11\u6ce8\u518c\u7528\u6237\u7b49\u3002&gt;&gt;&gt;len(i)</p> <p>10 \u521b\u5efa\u6570\u5b57\u5217\u8868</p> <p>\u4f7f\u7528range()\u51fd\u6570\u751f\u6210\u6570\u5b57\uff0c\u518d\u4f7f\u7528list()\u5c06range()\u7684\u7ed3\u679c\u76f4\u63a5\u8f6c\u4e3a\u5217\u8868\u3002even_numbers = list(range(2,11,2)) </p> <p>4\u3001\u6570\u5b57\u5217\u8868\u7edf\u8ba1\u8ba1\u7b97\u2014\u5217\u8868\u5904\u7406\u51fd\u6570min()\u3001max()\u3001sum()\uff1b\u6700\u5927\u503c\u3001\u6700\u5c0f\u503c\u3001\u548c\uff0cdigits = [1,2,3,4] &gt;&gt;&gt;min(digits)</p> <p>11 \u5217\u8868\u5207\u7247</p> <p>1\u3001\u4f7f\u7528\u5217\u8868\u7684\u4e00\u90e8\u5206\uff0c\u521b\u5efa\u5207\u7247\uff0c\u6307\u5b9a\u8981\u4f7f\u7528\u7b2c\u4e00\u4e2a\u5143\u7d20\u548c\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002players = [\u20181\u2019,\u20182\u2019,\u20183\u2019,\u20184\u2019,\u20185\u2019] </p> <p>print(players[0:3])</p> <p>2\u3001\u904d\u5386\u5207\u7247\u2014\u5982\u8981\u904d\u5386\u5217\u8868\u90e8\u5206\u5143\u7d20\uff0c\u53ef\u5728for\u5faa\u73af\u4e2d\u4f7f\u7528\u5207\u7247</p> <p>3\u3001\u590d\u5236\u5217\u8868\u2014\u590d\u5236\u5217\u8868\u53ef\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u6574\u4e2a\u5217\u8868\u7684\u5207\u7247\uff0c\u65b9\u6cd5\u662f\u540c\u65f6\u7701\u7565\u8d77\u59cb\u7d22\u5f15\u548c\u7ec8\u6b62\u7d22\u5f15([:])\u3002</p> <p>6 \u5143\u7ec4</p> <p>\u5982\u679c\u5143\u7ec4\u5185\u6301\u6709\u5217\u8868\uff0c\u5217\u8868\u5185\u5bb9\u5141\u8bb8\u4fee\u6539\uff0c\u5982\uff1a</p> <p>t2 = ([\u2018\u5f20\u4e09\u2019,38,5000],[\u2018\u674e\u56db\u2019,28,2000])</p> <p>\u5982\u679c\u5143\u7ec4\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\u65f6\uff0c\u5fc5\u987b\u5728\u8fd9\u4e2a\u5143\u7d20\u540e\u9762\u589e\u52a0\u9017\u53f7\uff0c\u8bf4\u660e\u8fd9\u662f\u4e00\u4e2a\u5143\u7ec4\uff0c\u5982\uff1at4 = (10,) * 5</p> <p>\u5143\u7ec4\u4e0e\u5217\u8868\u533a\u522b</p> <p>7 \u5e8f\u5217</p> <p>\u5e8f\u5217\u662f\u6307\u201c\u6709\u5e8f\u201d\u7684\u961f\u5217\uff0c</p> <p>\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\u987a\u5e8f\u6309\u6dfb\u52a0\u987a\u5e8f\u6392\u5217</p> <p>\u5e8f\u5217\u4e2d\u7684\u6570\u636e\u901a\u8fc7\u201c\u7d22\u5f15\u201d\u8fdb\u884c\u83b7\u53d6</p> <p>\u5e8f\u5217\u5e38\u7528\u6570\u636e\u7ed3\u6784\uff08\u5b57\u7b26\u4e32\uff0c\u5217\u8868\uff0c\u5143\u7ec4\uff0c\u6570\u5b57\u5e8f\u5217\uff08range\uff09\uff09</p> <p>\u6570\u5b57\u5e8f\u5217\uff08Range\uff09</p> <p>range\u7528\u4e8e\u8868\u793a\u6570\u5b57\u5e8f\u5217\uff0c\u5185\u5bb9\u4e0d\u53ef\u53d8,\u6570\u5b57\u5e8f\u5217\u4f7f\u7528range\uff08\uff09\u51fd\u6570\u521b\u5efa</p> <p>\u8bed\u6cd5\uff1ar = range(0,100) #\u4ea7\u751f0-99\u6570\u5b57\u5e8f\u5217</p> <p>r1 = range(10,20) #10-19\u7684\u6574\u6570\uff0c\u5de6\u95ed\u53f3\u5f00 print(r1)</p> <p>\u6253\u5370\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p>range\u5bf9\u6709\u5e8f\u5e8f\u5217\u53ea\u6253\u5370\u8d77\u59cb\u503c-\u7ed3\u675f\u503c\uff0c\u53ef\u63d0\u9ad8\u6548\u7387\uff0c\u8282\u7ea6\u5185\u5b58\u3002</p> <p>#\u5229\u7528range\u904d\u5386\u5176\u5b83\u5e8f\u5217 c = \u201cabcdefg\u201d for i in range(0,len\u00a9): letter = c[i] print(letter)</p> <p>#\u6590\u6ce2\u90a3\u5951\u6570\u5217 #1\uff0c1,2,3,5,8,13,..... result = [] for i in range(0,50): if i == 0 or i == 1: result.append(1) else: result.append(result[i-2]+ result[i-1]) print(result)</p> <p>#\u5224\u65ad\u8d28\u6570 #\u8d28\u6570\u542b\u4e49\uff1a\u8d28\u6570\u662f\u6307\u5728\u5927\u4e8e1\u7684\u81ea\u7136\u6570\u4e2d\uff0c\u9664\u4e861\u548c\u5b83\u672c\u8eab\uff0c\u4e0d\u80fd\u88ab\u5176\u5b83\u6570\u6574\u9664\u5c31\u662f\u8d28\u6570\u3002 l = 776351721 is_prime = True for i in range(2,l): if l % i == 0: print(i) #\u770b\u662f\u88ab\u8c01\u6574\u9664\u4e86 is_prime = False break if is_prime == True: print(\u201c{0}\u662f\u8d28\u6570\u201d.format(l)) else: print(\u201c{0}\u4e0d\u662f\u8d28\u6570\u201d)</p> <p>#\u6709\u56db\u4e2a\u6570\u5b571\u30012\u30013\u30014\uff0c\u80fd\u7ec4\u6210\u591a\u5c11\u4e2a\u4e92\u4e0d\u76f8\u540c\u4e14\u6570\u5b57\u4e0d\u91cd\u590d\u7684\u4e24\u4f4d\u6570 count = 0 for i in range(1,5): for j in range(1,5): if(i10+j) == (j10+i): continue print(i*10+j) count += 1 print(\u201c\u6709%i\u4e2a\u4e92\u4e0d\u76f8\u540c\u4e14\u65e0\u91cd\u590d\u6570\u5b57\u7684\u4e24\u4f4d\u6570\u201d%count)</p> <p>#\u6709\u56db\u4e2a\u6570\u5b571\u30012\u30013\u30014\uff0c\u80fd\u7ec4\u6210\u591a\u5c11\u4e2a\u4e92\u4e0d\u76f8\u540c\u4e14\u6570\u5b57\u4e0d\u91cd\u590d\u7684\u4e24\u4f4d\u6570 count = 0 list = [] for i in range(1,5): for j in range(1,5): if i != j: list.append(i*10+j) count += 1 print(count) print(list)</p> <p>\u5e8f\u5217\u7c7b\u578b\u7684\u4e92\u76f8\u8f6c\u6362</p> <p>\u8f6c\u6362\u4e3a\u5217\u8868</p> <p>l1 = [\u2018a\u2019,\u2019b\u2019\u2018c\u2019] t1 = (\u2018d\u2019,\u2019e\u2019,\u2019f\u2019) s1 = \u2018abc123\u2019 s2 = \u2018abc,123\u2019 r1 = range(1,4) l2 = list(t1) print(l2) print(list(s1)) print(s2.split(\u201c,\u201d)) print(list(r1))</p> <p>\u8f6c\u6362\u4e3a\u5143\u7ec4</p> <p>print(tuple(l1)) print(tuple(s1)) print(tuple(s2.split(\u201c,\u201d))) print(tuple(r1))</p> <p>str\u51fd\u6570\u7528\u4e8e\u5c06\u5355\u4e2a\u6570\u636e\u8f6c\u4e3a\u5b57\u7b26\u4e32\uff0cjoin\u5bf9\u5217\u8868\u8fdb\u884c\u5bf9\u63a5</p> <p>print(str(l1)) print(\u201c,\u201d.join(l1)) #join\u5fc5\u987b\u8981\u6c42\u6240\u6709\u5143\u7d20\u90fd\u662f\u5b57\u7b26\u4e32 print(\u201c|\u201d.join(l1)) print(\u201c|\u201d.join(t1)) s3 = \u201c\u201d #\u5c06\u5305\u542b\u6570\u5b57\u7684\u5e8f\u5217\u8f93\u51fa for i in r1: s3 += str(i) print(s3)</p> <p>8 \u5b57\u5178</p> <p>1\u3001\u5b57\u5178\u662f\u4e00\u7cfb\u5217\u952e-\u503c\u5bf9\uff0c\u6bcf\u4e2a\u952e\u90fd\u4e00\u4e2a\u503c\u76f8\u5173\u8054\uff0c\u53ef\u4ee5\u4f7f\u7528\u952e\u6765\u8bbf\u95ee\u4e0e\u4e4b\u76f8\u5173\u8054\u7684\u503c\u3002\u503c\u53ef\u4ee5\u662f\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u3001\u5217\u8868\u4e43\u81f3\u5b57\u5178\uff0c\u53ef\u5c06\u4efb\u4f55python\u5bf9\u8c61\u7528\u4f5c\u5b57\u5178\u7684\u503c\u3002</p> <p>2\u3001\u5b57\u5178\u7528\u653e\u5728{}\u4e2d\u7684\u4e00\u7cfb\u5217\u952e-\u503c\u5bf9\u8868\u793a</p> <p>3\u3001\u952e-\u503c\u5bf9\u662f\u4e24\u4e2a\u76f8\u5173\u8054\u7684\u503c</p> <p>4\u3001\u952e\u4e0e\u503c\u7528\u5192\u53f7\u5206\u5272</p> <p>5\u3001\u952e-\u503c\u5bf9\u4e4b\u95f4\u5bf9\u7528\u9017\u53f7\u8fdb\u884c\u5206\u5272</p> <p>6\u3001\u8bbf\u95ee\u5b57\u5178\u503c\uff0c\u53ef\u6307\u5b9a\u5b57\u5178\u540d\u548c\u65b9\u62ec\u53f7\u5185\u7684\u952e</p> <p>7\u3001\u6dfb\u52a0\u952e-\u503c\u5bf9\u2014\u5b57\u5178\u662f\u4e00\u79cd\u52a8\u6001\u7ed3\u6784\uff0c\u53ef\u968f\u65f6\u6dfb\u52a0\u952e-\u503c\u5bf9\uff0c\u4f9d\u6b21\u6307\u5b9a\u5b57\u5178\u540d\u3001\u7528\u65b9\u62ec\u53f7\u62ec\u8d77\u6765\u7684\u952e\u548c\u503c\u3002</p> <p>8\u3001python\u4e0d\u5173\u5fc3\u952e\u503c\u5bf9\u7684\u6dfb\u52a0\u987a\u5e8f\uff0c\u53ea\u5173\u5fc3\u952e\u4e0e\u503c\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb\u3002</p> <p>9\u3001\u81ea\u52a8\u751f\u6210\u5927\u91cf\u952e\u503c\u5bf9\u65f6\uff0c\u9700\u5148\u5b9a\u4e49\u7a7a\u5b57\u5178\u3002</p> <p>10\u3001\u5d4c\u5957\u2014\u5c06\u4e00\u7cfb\u5217\u5b57\u5178\u5b58\u50a8\u5728\u5217\u8868\u4e2d\uff0c\u6216\u5c06\u5217\u8868\u4f5c\u4e3a\u503c\u5b58\u50a8\u5728\u5b57\u5178\u4e2d\uff0c\u79f0\u4e3a\u5d4c\u5957\u3002</p> <p>9 \u96c6\u5408</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u56db\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5","title":"\u56db\u3001\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5","text":"<p>\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5\uff1a\u6709\u4e09\u79cd\u63a7\u5236\u8bed\u53e5\uff0c\u6761\u4ef6\u8bed\u53e5\uff08if\uff09\u3001\u5faa\u73af\u8bed\u53e5\uff08for\uff09\u3001\u5faa\u73af\u63a7\u5236\u8bed\u53e5\uff08while\uff09</p> <p>3.1 if else</p> <p>\u6839\u636e\u6761\u4ef6\u5224\u65ad\u7ed3\u679c\uff0c\u51b3\u5b9a\u6267\u884c\u54ea\u4e2a\u4ee3\u7801\u5757\u3002\u5982\u679c\u6761\u4ef6\u4e3a\u771f\uff08True\uff09\uff0c\u5219\u6267\u884c\u4e00\u4e2a\u4ee3\u7801\u5757\uff1b\u5982\u679c\u6761\u4ef6\u4e3a\u5047\uff08False\uff09\uff0c\u5219\u6267\u884c\u53e6\u4e00\u4e2a\u4ee3\u7801\u5757\u3002</p> <p>\u5206\u652f\u8bed\u53e5 if \u5224\u65ad\u6761\u4ef6: \u6761\u4ef6\u6210\u7acb\u65f6\u6267\u884c\u8bed\u53e5\u5757 else:</p> <p>\u591a\u5206\u652f\u8bed\u53e5 if \u5224\u65ad\u6761\u4ef61\uff1a elif \u5224\u65ad\u6761\u4ef62\uff1a elif \u5224\u65ad\u6761\u4ef63\uff1a else:</p> <p>\u6bcf\u4e2aif\u8bed\u53e5\u7684\u6838\u5fc3\u90fd\u662f\u5224\u65ad\u6761\u4ef6\u7684\u7f16\u5199\uff0c\u5224\u65ad\u6761\u4ef6\u5fc5\u987b\u662f\u8fd4\u56deTrue \u6216 False\u7684\u8868\u8fbe\u5f0f\uff1b\u6761\u4ef6\u6d4b\u8bd5\u2014if\u8bed\u53e5\u7684\u6838\u5fc3\u662f\u4e00\u4e2a\u503c\u4e3aTrue\u6216False\u7684\u8868\u8fbe\u5f0f\uff1bif-elif-else\u7ed3\u6784\uff0cpython\u53ea\u6267\u884cif-elif-else\u7ed3\u6784\u4e2d\u7684\u4e00\u4e2a\u4ee3\u7801\u5757\uff0c\u5b83\u4f9d\u6b21\u68c0\u67e5\u6bcf\u4e2a\u6761\u4ef6\u6d4b\u8bd5\uff0c\u76f4\u5230\u9047\u5230\u901a\u8fc7\u4e86\u7684\u6761\u4ef6\u6d4b\u8bd5\u3002\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0cpython\u5c06\u6267\u884c\u7d27\u8ddf\u5728\u5b83\u540e\u9762\u7684\u4ee3\u7801\uff0c\u5e76\u8df3\u8fc7\u4f59\u4e0b\u7684\u6d4b\u8bd5\u3002</p> <p>3.2 \u5faa\u73af\u8bed\u53e5\uff08for\uff09</p> <p>for\u5faa\u73af\u6982\u8ff0\u6210\u4e00\u53e5\u8bdd\uff1a\u4e8e..\u5176\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\uff0c\u505a..\u4e8b\u60c5\uff1bfor\u5faa\u73af\u662f\u4e00\u79cd\u904d\u5386\u5217\u8868\u7684\u6709\u6548\u65b9\u5f0f\uff0c\u4f46\u4e0d\u9002\u5408\u5728\u5faa\u73af\u4e2d\u4fee\u6539\u5217\u8868\uff0c\u8981\u904d\u5386\u5217\u8868\u540c\u65f6\u5e76\u5bf9\u5176\u4fee\u6539\uff0c\u9700\u8981\u4f7f\u7528while\u5faa\u73af\u3002</p> <p>\u5173\u952e\u5b57 \u5143\u7d20 \u5173\u952e\u5b57 \u96c6\u5408 :</p> <p>for item in iterable \u5192\u53f7</p> <p>\u7f29\u8fdb do something</p> <p>1\u3001\u904d\u5386\u6574\u4e2a\u5217\u8868\uff0c\u4f7f\u7528for\u5faa\u73af\u3002\u4e3e\u4f8b\u4f7f\u7528for\u5faa\u73af\u6253\u5370\u5217\u8868\u4e2d\u6240\u6709\u6570\u5b57\u3002</p> <p>i = [\u20181\u2019,\u20182\u2019,\u20183\u2019] for a in i: print(a)i = [\u20181\u2019,\u20182\u2019,\u20183\u2019] for a in i: print(a)i = [\u20181\u2019,\u20182\u2019,\u20183\u2019] for a in i: print(a)</p> <p>2\u3001\u5faa\u73af\u662f\u8ba9\u8ba1\u7b97\u673a\u81ea\u52a8\u5b8c\u6210\u91cd\u590d\u5de5\u4f5c\u7684\u5e38\u89c1\u65b9\u5f0f\u4e4b\u4e00\u3002</p> <p>\u5192\u6ce1\u6392\u5e8f</p> <p>\u5192\u6ce1\u6392\u5e8f\u89c4\u5219\uff1a\u524d\u97621\u4e2a\u6570\u4e0e\u540e\u97621\u4e2a\u6570\u8fdb\u884c\u6bd4\u8f83\uff0c\u524d\u9762\u6bd4\u540e\u9762\u6570\u5927\uff0c\u5219\u8fdb\u884c\u4ea4\u6362\uff1b</p> <p>\u539f\u59cb\u503c 28 32 14 12 53 42</p> <p>for..in\u8bed\u53e5 for..in\u8bed\u53e5\u4e13\u95e8\u7528\u4e8e\u904d\u5386\u5217\u8868\u3001\u5143\u7ec4\u7b49\u6570\u636e\u7ed3\u6784 for \u8fed\u4ee3\u53d8\u91cf in \u53ef\u8fed\u4ee3\u5bf9\u8c61 \u5faa\u73af\u4f53\uff08\u5fc5\u987b\u7f29\u8fdb\uff09 #\u4f7f\u7528for\u5faa\u73af\u904d\u5386\u5217\u8868 persons = [\u2018\u5f20\u4e09\u2019,\u2019\u674e\u56db\u2019,\u2019\u738b\u4e94\u2019,\u2019\u8d75\u516d\u2019,\u2019\u94b1\u4e03\u2019,\u2019\u5b59\u516b\u2019] for p in persons: print(p) #\u4f7f\u7528for\u5faa\u73af\uff0c\u53ea\u6253\u5370\u8d75\u516d persons = [\u2018\u5f20\u4e09\u2019,\u2019\u674e\u56db\u2019,\u2019\u738b\u4e94\u2019,\u2019\u8d75\u516d\u2019,\u2019\u94b1\u4e03\u2019,\u2019\u5b59\u516b\u2019] for p in persons: if p == \u2018\u8d75\u516d\u2019: print(p) #\u4f7f\u7528for\u5faa\u73af\u6253\u5370\u8d75\u516d\u4e0e\u4e4b\u5bf9\u5e94\u7684\u7d22\u5f15\u503c persons = [\u2018\u5f20\u4e09\u2019,\u2019\u674e\u56db\u2019,\u2019\u738b\u4e94\u2019,\u2019\u8d75\u516d\u2019,\u2019\u94b1\u4e03\u2019,\u2019\u5b59\u516b\u2019] i = 0 for p in persons: if p == \u2018\u8d75\u516d\u2019: print(p,i) i += 1 #\u83b7\u53d6\u5217\u8868\u957f\u5ea6 \u53ca\u5012\u5e8f\u7d22\u5f15 persons = [\u2018\u949f\u4e00\u2019,\u2019\u5f20\u4e09\u2019,\u2019\u674e\u56db\u2019,\u2019\u738b\u4e94\u2019,\u2019\u8d75\u516d\u2019,\u2019\u94b1\u4e03\u2019,\u2019\u5b59\u516b\u2019] count = len(persons) #\u83b7\u53d6\u5217\u8868\u957f\u5ea6 print(count) #\u83b7\u53d6\u5012\u5e8f\u7d22\u5f15 i = 0 for p in persons: if p == \u2018\u8d75\u516d\u2019: ri = count * -1 + i #\u4f7f\u7528count\u4e3a 7 * -1 =-7\uff0c-7+i\uff084\uff09=-3 print(p,i,ri) i += 1 #\u7528while\u6765\u83b7\u53d6\u5217\u8868\u957f\u5ea6 \u53ca\u5012\u5e8f\u7d22\u5f15\uff08\u4e0d\u5982for\uff09 persion = [\u2018\u949f\u4e00\u2019,\u2019\u5f20\u4e09\u2019,\u2019\u674e\u56db\u2019,\u2019\u738b\u4e94\u2019,\u2019\u8d75\u516d\u2019,\u2019\u5b59\u4e03\u2019,\u2019\u94b1\u516b\u2019] count1 = len(persion) print(count1) i = 0 while i &lt; len(persion): p = persion[i] if p == \u2018\u8d75\u516d\u2019: ri = count1 * -1 + i print(p,i,ri) i += 1 </p> <p>3.3 while</p> <p>1 wihle\u5faa\u73af\u63a7\u5236\u8bed\u53e5</p> <p>\u5faa\u73af\u662f\u5728\u6ee1\u8db3\u6761\u4ef6\u4e0b\u5468\u800c\u590d\u59cb\u7684\u8fd0\u884c\u7684\u60c5\u51b5\uff08\u5982\u77f3\u82f1\u949f\u3001\u6469\u5929\u8f6e\uff09\uff0c\u77f3\u82f1\u949f\u8fd0\u884c\u6761\u4ef6\u7535\u91cf\uff0c\u6469\u5929\u8f6e\u5468\u800c\u590d\u59cb\u8f6c\uff0c\u6d88\u8d39\u540e\u8f6c\u591a\u5c11\u5206\u949f\u3002</p> <p>while\u4f5c\u7528\uff1a\u53ea\u8981..\u6761\u4ef6\u6210\u7acb\uff0c\u5c31\u4e00\u76f4\u505a..\u3002\u6c38\u8fdc\u4e3aTrue\u7684\u5faa\u73af\uff0c\u4fd7\u79f0\u6b7b\u5faa\u73af\u3002\u4f46\u5728\u5faa\u73af\u8fc7\u7a0b\u4e2d\uff0c\u5236\u9020\u67d0\u79cd\u53ef\u4ee5\u4f7f\u5faa\u73af\u505c\u4e0b\u6765\u7684\u6761\u4ef6\uff0c\u5c31\u53ef\u4ee5\u505c\u6b62\u5b83\u3002\u8981\u514d\u7f16\u5199\u65e0\u9650\u5faa\u73af\uff0c\u52a1\u5fc5\u5bf9\u6bcf\u4e2awhile\u73af\u8fdb\u884c\u6d4b\u8bd5\uff0c\u786e\u4fdd\u5b83\u50cf\u9884\u671f\u90a3\u6837\u7ed3\u675f\u3002</p> <p>while True: #while\u7684\u610f\u601d\uff1a\u5f53\u8fd9\u4e2a\u6761\u4ef6\u6210\u7acb\u7684\u65f6\u5019\uff0c\u5c31\u6267\u884c\u91cc\u9762\u7684\u4ee3\u7801</p> <p>\u5173\u952e\u5b57 \u6210\u7acb\u7684\u6761\u4ef6 \u5192\u53f7</p> <p>while condition :</p> <p>while \u5173\u952e\u5b57\u7528\u4e8e\u521b\u5efa\u5faa\u73af\uff0c\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u5c06\u5faa\u73af\u6267\u884c\u8bed\u53e5\u5757\uff1b</p> <p>i = 0 while i &lt; 5: #\u5b9a\u4e49\u5faa\u73af\u7684\u6267\u884c\u6761\u4ef6 print(\u201c\u7f16\u7a0b\u771f\u662f\u4e00\u4ef6\u5f88\u6709\u8da3\u7684\u4e8b\u60c5\u201d) #\u7f16\u5199\u8981\u88ab\u6267\u884c\u7684\u5faa\u73af\u4ee3\u7801 i = i + 1 #\u7f16\u5199\u8981\u6267\u884c\u6761\u4ef6\u7684\u4ee3\u7801</p> <p>2 while\u4ee3\u7801</p> <p>\u8ba1\u7b9710\u7684\u9636\u4e58\uff08123\u202610\uff09</p> <p>#\u9636\u4e58\u8ba1\u7b97\u5668 i = 1 result = 1 #\u7ed3\u679c while i &lt;= 10: print(i) #1: result = 1, i = 1 , \u7ed3\u679c\u4e3a1 #2: result = 1, i = 2 , \u7ed3\u679c\u4e3a2 #3\u2026 result = result * i print(result) i = i + 1</p> <p>1.3.5 \u5b8c\u5584\u9636\u4e58\u8ba1\u7b97\u5668</p> <p>\u2019\u2018\u2019 \u8981\u6c421\uff1a\u8ba1\u7b9720\u7684\u9636\u4e58 \u8981\u6c422\uff1a\u5f53\u9636\u4e58\u6570\u80fd\u88ab5\u6574\u9664\uff0c\u6253\u5370\u4e2d\u95f4\u7ed3\u679c \u8981\u6c423\uff1a\u80fd\u591f\u8f93\u5165\u81ea\u5b9a\u4e49\u7684\u6570\u503c\uff081-100\uff09 \u2018\u2019\u2019 number = input(\u201c\u8bf7\u8f93\u51651-100\u7684\u6570\u503c\uff1a\u201d) number = int(number) if number &gt;=1 and number &lt;= 100: i = 1 result = 1 while i &lt;= number: i = i + 1 result = result * i if i % 5 == 0: print(\u201c{}:{}\u201d.format(i,result)) #\u4e0d\u4f7f\u7528\u7f29\u8fdb\u7684\u4ee3\u7801\uff0c\u4ee3\u8868while\u5faa\u73af\u7ed3\u675f\u540e\u7ee7\u7eed\u6267\u884c\u7684\u4ee3\u7801 print(\u201c\u6700\u7ec8\u7ed3\u679c\uff1a{}\u201d.format(result)) else: print(\u2018\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57\u2019)</p> <p>3 continue</p> <p>continue\u7528\u4e8e\u8df3\u8fc7\u5f53\u524d\u5faa\u73af\u7684\u5269\u4f59\u8bed\u53e5</p> <p>start = 101 end = 183 i = 100 while i &lt;= 182: i = i + 1 if i % 17 != 0: continue print(i) </p> <p>4 break</p> <p>break\u5173\u952e\u5b57\u7528\u6765\u7ec8\u6b62\u5faa\u73af\u8bed\u53e5</p> <p>i = 0 while i &lt; 3: mobile = input(\u2018\u8bf7\u8f93\u5165\u8981\u67e5\u8be2\u624b\u673a\u53f7\uff1a\u2019) if mobile == \u201c13312345678\u201d: print(\u201c\u60a8\u7684\u8bdd\u8d39\u7ea6100\u5143\u201d) break i = i +1 print(\u201c\u611f\u89c9\u60a8\u7684\u6765\u7535\u201d)</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u4e94-\u6587\u4ef6\u64cd\u4f5c","title":"\u4e94 \u6587\u4ef6\u64cd\u4f5c","text":"<p>\u4f7f\u7528with\u8bed\u6cd5</p> <p>with open(\u201cname.txt\u201d) as f: do_something(f)</p> <p>\u5230\u8fbe\u8be5\u8bed\u53e5\u672b\u5c3e\u65f6\uff0c\u5c06\u81ea\u52a8\u5173\u95ed\u6587\u4ef6\uff0c\u5373\u4fbf\u51fa\u73b0\u5f02\u5e38\u4ea6\u5982\u6b64\u3002</p> <p>\u4f7f\u7528open\u51fd\u6570\u6253\u5f00\u6587\u4ef6</p> <p>f = open(\u2018tets.txt\u2019)</p> <p>\u4f7f\u7528close\u51fd\u6570\u5173\u95ed\u6587\u4ef6</p> <p>f.close() </p> <p>\u4ee5\u5199\u5165\u7684\u65b9\u5f0f\u6253\u5f00\u6587\u4ef6</p> <p>def write_file(): \u2018\u2019\u2018\u5199\u5165\u6587\u4ef6\u2019\u2018\u2019 file_name = \u2018write_test.txt\u2019 # \u4ee5\u5199\u5165\u7684\u65b9\u5f0f\u6253\u5f00\u6587\u4ef6 </p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u516d\u51fd\u6570","title":"\u516d\u3001\u51fd\u6570","text":""},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u51fd\u6570\u6982\u5ff5","title":"\u51fd\u6570\u6982\u5ff5","text":"<ol> <li>\u51fd\u6570\u7684\u4f7f\u7528\uff1a</li> <li>\u4f7f\u7528\u51fd\u6570\u65f6\uff0c\u9700\u8981\u5c06\u8981\u5904\u7406\u7684\u5bf9\u8c61\u653e\u5728\u51fd\u6570\u540d\u540e\u9762\u7684\u62ec\u53f7\u5185\u3002</li> <li>\u51fd\u6570\u7684\u5b9a\u4e49\uff1a</li> <li>\u5b9a\u4e49\u51fd\u6570\u65f6\uff0c\u5192\u53f7\u540e\u56de\u8f66\uff08\u6362\u884c\uff09\u4f1a\u81ea\u52a8\u83b7\u5f97\u7f29\u8fdb\uff0c\u7f29\u8fdb\u90e8\u5206\u7684\u8bed\u53e5\u79f0\u4e3a\u8bed\u53e5\u5757\uff08block\uff09\u3002\u7f29\u8fdb\u7528\u6765\u8868\u660e\u8bed\u53e5\u548c\u903b\u8f91\u7684\u4ece\u5c5e\u5173\u7cfb\u3002</li> <li>\u51fd\u6570\u8c03\u7528\uff1a</li> <li>\u5b9a\u4e49\u51fd\u6570\u540e\uff0c\u4f7f\u7528\u51fd\u6570\u7684\u884c\u4e3a\u79f0\u4e3a\u8c03\u7528\u3002</li> <li>\u8fd4\u56de\u503c\uff1a</li> <li><code>return</code> \u4f5c\u4e3a\u5173\u952e\u5b57\uff0c\u5728\u51fd\u6570\u4e2d\u8d77\u5230\u8fd4\u56de\u503c\u7684\u4f5c\u7528\u3002\u5b83\u662f\u53ef\u9009\u9879\uff0c\u4e0d\u5199 <code>return</code> \u4e5f\u53ef\u4ee5\u5b9a\u4e49\u548c\u4f7f\u7528\u51fd\u6570\uff0c\u53ea\u4e0d\u8fc7\u6b64\u65f6\u51fd\u6570\u8fd4\u56de\u7684\u503c\u662f <code>None</code>\u3002</li> <li>\u51fd\u6570\u8fd4\u56de\u7684\u503c\u79f0\u4e3a\u8fd4\u56de\u503c\u3002</li> <li>\u53c2\u6570\u662f\u51fd\u6570\u7684\u8f93\u5165\u6570\u636e\uff0c\u8fd4\u56de\u503c\u662f\u51fd\u6570\u7684\u8f93\u51fa\u7ed3\u679c\u3002</li> <li>\u867d\u7136 <code>return</code> \u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u4f46 <code>return</code> \u8bed\u53e5\u6267\u884c\u540e\uff0c\u51fd\u6570\u5c06\u4e2d\u65ad\u6267\u884c\u3002</li> <li>\u7a0b\u5e8f\u9700\u8981\u8f93\u51fa\u65f6\uff0c\u53ef\u4ee5\u7528 <code>return</code> + \u5bf9\u5e94\u7684\u6570\u636e\u8fdb\u884c\u8fd4\u56de\uff0c\u5e76\u5728\u51fd\u6570\u5916\u90e8\u7528\u53d8\u91cf\u63a5\u6536\u8fd4\u56de\u503c\u3002</li> <li>\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u6700\u597d\u4fdd\u8bc1 <code>return</code> \u5728\u51fd\u6570\u7684\u6700\u540e\u4e00\u884c\u3002</li> </ol>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u51fd\u6570\u7684\u4f18\u52bf","title":"\u51fd\u6570\u7684\u4f18\u52bf","text":"<ol> <li>\u9ad8\u6548\u5de5\u4f5c\u65b9\u5f0f</li> <li>\u51fd\u6570\u53ef\u4ee5\u591a\u6b21\u8c03\u7528\uff0c\u662f\u4e00\u79cd\u6548\u7387\u6781\u9ad8\u7684\u5de5\u4f5c\u65b9\u5f0f\u3002</li> </ol> <p>\u901a\u8fc7\u51fd\u6570\u7684\u5b9a\u4e49\u548c\u8c03\u7528\uff0c\u6211\u4eec\u53ef\u4ee5\u66f4\u9ad8\u6548\u5730\u5904\u7406\u6570\u636e\u548c\u5b9e\u73b0\u903b\u8f91\uff0c\u4f7f\u4ee3\u7801\u66f4\u52a0\u7b80\u6d01\u548c\u6a21\u5757\u5316\u3002</p> <p>\u200b   </p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u5b9a\u4e49\u51fd\u6570","title":"\u5b9a\u4e49\u51fd\u6570","text":"Text Only<pre><code># \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u8ba1\u7b97\u4e24\u4e2a\u6570\u7684\u548c\ndef add_numbers(a, b):\n    result = a + b  # \u8ba1\u7b97\u4e24\u4e2a\u6570\u7684\u548c\n    return result   # \u8fd4\u56de\u8ba1\u7b97\u7ed3\u679c\n\n# \u8c03\u7528\u51fd\u6570\u5e76\u63a5\u6536\u8fd4\u56de\u503c\nsum_result = add_numbers(5, 3)\n\n# \u6253\u5370\u8fd4\u56de\u503c\nprint(\"The sum is:\", sum_result)\n\n# \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u6253\u5370\u95ee\u5019\u8bed\ndef greet(name):\n    print(f\"Hello, {name}!\")  # \u6253\u5370\u95ee\u5019\u8bed\n\n# \u8c03\u7528\u51fd\u6570\ngreet(\"Alice\")\n\n# \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u68c0\u67e5\u4e00\u4e2a\u6570\u662f\u5426\u4e3a\u5076\u6570\ndef is_even(number):\n    if number % 2 == 0:\n        return True  # \u5982\u679c\u662f\u5076\u6570\uff0c\u8fd4\u56deTrue\n    else:\n        return False  # \u5982\u679c\u4e0d\u662f\u5076\u6570\uff0c\u8fd4\u56deFalse\n\n# \u8c03\u7528\u51fd\u6570\u5e76\u63a5\u6536\u8fd4\u56de\u503c\nnumber = 4\neven_result = is_even(number)\n\n# \u6253\u5370\u7ed3\u679c\nif even_result:\n    print(f\"{number} is even.\")\nelse:\n    print(f\"{number} is not even.\")\n</code></pre>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u4ee3\u7801\u89e3\u91ca","title":"\u4ee3\u7801\u89e3\u91ca","text":"<ol> <li><code>add_numbers</code> \u51fd\u6570\uff1a</li> <li>\u63a5\u6536\u4e24\u4e2a\u53c2\u6570 <code>a</code> \u548c <code>b</code>\uff0c\u8ba1\u7b97\u5b83\u4eec\u7684\u548c\uff0c\u5e76\u8fd4\u56de\u7ed3\u679c\u3002</li> <li>\u8c03\u7528 <code>add_numbers(5, 3)</code> \u5e76\u5c06\u7ed3\u679c\u5b58\u50a8\u5728 <code>sum_result</code> \u53d8\u91cf\u4e2d\uff0c\u7136\u540e\u6253\u5370\u7ed3\u679c\u3002</li> <li><code>greet</code> \u51fd\u6570\uff1a</li> <li>\u63a5\u6536\u4e00\u4e2a\u53c2\u6570 <code>name</code>\uff0c\u6253\u5370\u95ee\u5019\u8bed\u3002</li> <li>\u8c03\u7528 <code>greet(\"Alice\")</code>\uff0c\u8f93\u51fa\u95ee\u5019\u8bed\u3002</li> <li><code>is_even</code> \u51fd\u6570\uff1a</li> <li>\u63a5\u6536\u4e00\u4e2a\u53c2\u6570 <code>number</code>\uff0c\u68c0\u67e5\u662f\u5426\u4e3a\u5076\u6570\uff0c\u5e76\u8fd4\u56de\u5e03\u5c14\u503c\u3002</li> <li>\u8c03\u7528 <code>is_even(4)</code> \u5e76\u5c06\u7ed3\u679c\u5b58\u50a8\u5728 <code>even_result</code> \u53d8\u91cf\u4e2d\uff0c\u6839\u636e\u8fd4\u56de\u503c\u6253\u5370\u76f8\u5e94\u7684\u6d88\u606f\u3002</li> </ol>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u5e38\u7528\u51fd\u6570","title":"\u5e38\u7528\u51fd\u6570","text":"<p>1\u3001str()\u2014\u907f\u514d\u7c7b\u578b\u9519\u8bef</p> <p>2\u3001sorted()\u2014\u4f7f\u7528\u51fd\u6570sorted()\u5bf9\u5217\u8868\u4e34\u65f6\u6392\u5e8f\uff0c\u4fdd\u7559\u5217\u8868\u539f\u6765\u987a\u5e8f\uff0c\u540c\u65f6\u4ee5\u7279\u5b9a\u987a\u5e8f\u5448\u73b0\u5b83\u4eec\u3002</p> <p>3\u3001range()\u2014\u80fd\u7528\u4e8e\u521b\u5efa\u6570\u5b57\u5217\u8868\uff0c\u5b83\u80fd\u8ba9\u4f60\u8f7b\u677e\u751f\u6210\u4e00\u7cfb\u5217\u7684\u6570\u5b57\u3002\u751f\u6210\u6570\u5b571~4\uff0cfor value in range(1,5)</p> <p>4\u3001list()\u2014\u4f7f\u7528\u51fd\u6570list()\u53ef\u5c06range()\u7684\u7ed3\u679c\u76f4\u63a5\u8f6c\u6362\u4e3a\u5217\u8868\u3002\u751f\u6210\u6570\u5b57\u5217\u8868 numbers = list(range(1,6))</p> <p>5\u3001min()\u2014\u6700\u5c0f\u503c\uff0c\u4e3e\u4f8bdigits = [1,2,3,4,5] &gt;&gt;&gt;min(digits)</p> <p>6\u3001max()\u2014\u6700\u5927\u503c\uff0cmax(digits)</p> <p>7\u3001sum()\u2014\u603b\u548c\uff0csum(digits)</p> <p>8\u3001sorted()\u2014\u6309\u7279\u5b9a\u987a\u5e8f\u6392\u5217</p> <p>9\u3001input()\u2014\u8ba9\u7a0b\u5e8f\u6682\u505c\u8fd0\u884c\uff0c\u7b49\u5f85\u7528\u6237\u8f93\u5165\u6587\u672c\uff0c\u5e76\u5b58\u50a8\u5728\u53d8\u91cf</p> <p>10\u3001print()\u2014\u6253\u5370\u51fd\u6570</p> <p>11\u3001len()\u2014\u53ef\u4ee5\u6d4b\u91cf\u5bf9\u8c61\u957f\u5ea6</p> <p>12\u3001int()\u2014\u53ef\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6574\u6570</p> <p>\uff08\u4e34\u65f6\u5148\u653e\u7740\uff0c\u540e\u9762\u6574\u7406\uff09</p> <p>\u65b9\u6cd5\u662fpython\u53ef\u5bf9\u6570\u636e\u6267\u884c\u7684\u64cd\u4f5c\u3002</p> <p>1\u3001title()\u2014\u4ee5\u9996\u5b57\u6bcd\u5927\u5199\u7684\u65b9\u5f0f\u663e\u793a\u6bcf\u4e2a\u5355\u8bcd\uff0c\u5373\u6bcf\u4e2a\u5355\u8bcd\u9996\u5b57\u6bcd\u90fd\u6539\u4e3a\u5927\u5199\uff0c\u7528\u6cd5\uff1aname = \u201cjosh\u201d print(name.title())</p> <p>2\u3001upper()\u2014\u5c06\u5b57\u7b26\u4e32\u5168\u90e8\u6539\u4e3a\u5927\u5199\uff0c\u7528\u6cd5\uff1aprint(name.upper())</p> <p>3\u3001lower()\u2014\u5c06\u5b57\u7b26\u4e32\u5168\u90e8\u6539\u4e3a\u5c0f\u5199\uff0c\u7528\u6cd5\uff1aprint(name.lower())\uff0c\u5b58\u50a8\u6570\u636e\u65f6\u975e\u5e38\u6709\u7528\u3002</p> <p>4\u3001rstrip()\u2014\u53ef\u786e\u4fdd\u5b57\u7b26\u4e32\u672b\u5c3e\u6ca1\u6709\u7a7a\u767d\uff0c</p> <p>5\u3001lstrip()\u2014\u53ef\u5254\u9664\u5b57\u7b26\u4e32\u5f00\u5934\u7684\u7a7a\u767d\uff0c</p> <p>6\u3001strip()\u2014\u540c\u65f6\u5254\u9664\u5b57\u7b26\u4e32\u4e24\u7aef\u7684\u7a7a\u767d\uff0c</p> <p>7\u3001append()\u2014\u4f7f\u7528\u65b9\u6cd5append()\uff0c\u5c06\u5143\u7d20\u6dfb\u52a0\u5230\u5217\u8868\u672b\u5c3e\u3002</p> <p>8\u3001insert()\u2014\u5217\u8868\u4e2d\u63d2\u5165\u5143\u7d20\uff0c\u4f7f\u7528\u65b9\u6cd5insert()\uff0c\u6307\u5b9a\u65b0\u5143\u7d20\u7d22\u5f15\u548c\u503c\u5373\u53ef\u3002</p> <p>9\u3001remove()\u2014\u5220\u9664\u5217\u8868\u5143\u7d20\u7684\u503c\uff0c\u4f7f\u7528\u65b9\u6cd5remove()\uff0c\u5b83\u503c\u5220\u9664\u7b2c\u4e00\u4e2a\u6307\u5b9a\u7684\u503c\uff0c\u5982\u679c\u8981\u5220\u9664\u7684\u503c\u5728\u5217\u8868\u4e2d\u51fa\u73b0\u591a\u6b21\uff0c\u4f7f\u7528\u5faa\u73af\u6765\u5224\u65ad\u662f\u5426\u5220\u9664\u4e86\u6240\u6709\u8fd9\u6837\u7684\u503c\u3002</p> <p>10\u3001sort()\u2014\u5bf9\u5217\u8868\u8fdb\u884c\u6c38\u4e45\u6027\u6392\u5e8f\u3002</p> <p>11\u3001reverse()\u2014\u53cd\u8f6c\u5217\u8868\u6392\u5217\u987a\u5e8f\u3002</p> <p>12\u3001keys()\u2014\u63d0\u53d6\u5b57\u5178\u7684\u952e\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u52a0Key()\uff0c\u663e\u5f0f\u7684\u4f7f\u7528keys()\u53ef\u8ba9\u4ee3\u7801\u66f4\u5bb9\u6613\u7406\u89e3</p> <p>13\u3001values()\u2014\u904d\u5386\u5b57\u5178\u503c\u65f6\uff0c\u53ea\u8fd4\u56de\u503c\u5217\u8868\uff0c\u4e0d\u53cd\u56de\u952e</p> <p>14\u3001format()\u2014\u5f53\u5b57\u7b26\u4e32\u4e2d\u6709\u591a\u4e2a{}\u7a7a\u65f6\uff0c\u4f7f\u7528format\u3002</p> <p>15\u3001randrange()\u2014\u5185\u7f6e\u5e93random\u7684\u65b9\u6cd5\uff0c\u7c7b\u4f3crange\u51fd\u6570\uff0c\u4e24\u4e2a\u53c2\u6570\u5373\u53ef\u9650\u5b9a\u968f\u673a\u6570\u8303\u56f4\u3002</p> <p>16\u3001random\u2014\u751f\u6210\u968f\u673a\u6570\u5185\u7f6e\u5e93</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u4e03\u7c7b","title":"\u4e03\u3001\u7c7b","text":"<p>\u7c7b\u7684\u65b9\u6cd5</p> <p>\u5496\u5561\u7c7b\u6dfb\u52a0\u6c34</p> <p>class Coffee(object): water = 0 milk = 0 def add_water(self): self.hotwater = 1 </p> <p>\u7c7b\u7684\u5b9e\u4f8b\u5316</p> <p>\u5728\u5de6\u8fb9\u521b\u5efa\u4e00\u4e2a\u53d8\u91cf\uff0c\u53f3\u8fb9\u5199\u4e0a\u7c7b\u7684\u540d\u79f0\uff0c\u770b\u4e0a\u53bb\u50cf\u8d4b\u503c\u7684\u884c\u4e3a\uff0c\u79f0\u4e3a\u7c7b\u7684\u5b9e\u4f8b\u5316\u3002\u88ab\u5b9e\u4f8b\u5316\u7684\u5bf9\u8c61\uff0c\u79f0\u4e3a\u5b9e\u4f8b\u6216\u7c7b\u7684\u5b9e\u4f8b\u3002</p> <p>\u7c7b\u7684\u7ee7\u627f</p> <p>\u7ee7\u627f\u7279\u70b9\uff1a</p> <p>1\u3001\u5229\u4e8e\u4ee3\u7801\u590d\u7528        </p> <p>2\u3001\u7f29\u77ed\u5f00\u53d1\u5468\u671f</p> <p>\u7ee7\u627f\u4e3e\u4f8b\uff1a\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5</p> <p>class Father(object): def run(self): print(\u201crun is father\u201d) class son(Father): def run(self): super().run() print(\u201crun is son\u201d) obj = Father() obj.run() obj2 = son() obj2.run()</p> <p>\u88c5\u9970\u5668</p> <p>\u7c7b\u7684\u88c5\u9970\u5668\u6539\u53d8\u4e86\u8c03\u7528\u65b9\u6cd5\u548c\u884c\u4e3a\uff0c\u8ba9\u7c7b\u66f4\u7075\u6d3b\uff0c\u975e\u5fc5\u8981\u53ef\u4e0d\u7528</p> <p>classmethod</p> <p>\u5b83\u53ef\u4ee5\u5b9e\u4f8b\u7684\u65b9\u6cd5\u5b9a\u4e49\u4e3a\u7c7b\u7684\u65b9\u6cd5\uff0c\u7528\u4e8e\u7c7b\u76f4\u63a5\u8c03\u7528</p> <p>class Klass1: @classmethod def funcs(cls): print(\u201cClass method\u201d) Klass1.funcs()</p> <p>staticmethod</p> <p>staticmethod\u662f\u4e3a\u4e86\u7ef4\u62a4\u65b9\u4fbf\u53ca\u4ee3\u7801\u5de5\u6574\uff0c\u5c06\u8be5\u51fd\u6570\u5b9a\u4e49\u5230\u7c7b\u4e2d\uff0c\u5e76\u4fee\u9970\uff0c\u4e14\u4e0d\u9700\u8981self\u6216cls</p> <p>class Klass2: @staticmethod def func(): print(\u201cstatic method\u201d) #cls \u8868\u793a\u5f53\u524d\u64cd\u4f5c\u7684\u7c7b\uff0c\u53ef\u4ee5\u4f7f\u7528Klass.func()\u8c03\u7528</p> <p>property</p> <p>property\u628a\u65b9\u6cd5\u88c5\u9970\u6210\u5c5e\u6027</p> <p>class Klass3: @property def func(self): return self.__varName @func.setter def func(self, varValue): self.__varName = varValue #\u53cc\u4e0b\u5212\u7ebf\u4ee3\u8868\u79c1\u6709 obj = Klass3() #\u5b9e\u4f8b\u5316\u7c7bKlass3 obj.func=\u201d123\u201d #\u7ed9obj\u5b9e\u4f8b\u7684\u5c5e\u6027func\u8d4b\u503c123 print(obj.func)</p> <p>init\u65b9\u6cd5</p> <p>init()\u79f0\u4f5c\u521d\u59cb\u5316\u65b9\u6cd5\uff0c\u7528\u4e8e\u5c5e\u6027\u548c\u65b9\u6cd5\u521d\u59cb\u5316\u65b9\u6cd5</p> <p>\u4f7f\u7528init\u65b9\u6cd5\uff0c\u5728\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\u53ef\u4ee5\u63a5\u6536\u53c2\u6570\uff0c\u521d\u59cb\u5316\u7684\u65f6\u5019\u81ea\u52a8\u6267\u884c</p> <p>#\u4e66\u5199\u683c\u5f0f class Klass: def init(self,\u63a5\u6536\u53c2\u6570) self.var = \u53c2\u6570 \u5b9e\u4f8b = Klass(\u53c2\u6570)</p> <p>#\u4e3e\u4f8b class Klass(object): def init(self,name,age): self.name = name self.age = age def information(self): print(self.name) print(self.age) myself = Klass(\u201cJosh\u201d,18) #\u5b9e\u4f8b\u5316\u63a5\u6536\u53c2\u6570 myself.information() #\u521d\u59cb\u5316\u81ea\u52a8\u6267\u884c</p>"},{"location":"python/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/#\u516b\u6a21\u5757\u4e0e\u6807\u51c6\u5e93","title":"\u516b\u3001\u6a21\u5757\u4e0e\u6807\u51c6\u5e93","text":"<p>\u6a21\u5757</p> <p>\u4ec0\u4e48\u662f\u6a21\u5757</p> <p>\u6a21\u5757\u662f\u5b58\u653e\u4e86\u51fd\u6570\u7684\u4e14\u4ee5.py\u7ed3\u5c3e\u7684\u6587\u4ef6</p> <p>\u6a21\u5757\u7684\u4f5c\u7528</p> <p>\u5c06\u51fd\u6570\u653e\u5728\u6a21\u5757\u6587\u4ef6\u91cc\uff0c\u6709\u52a9\u4e8e\u9690\u85cf\u4ee3\u7801\u7ec6\u8282\uff0c\u4f7f\u7a0b\u5e8f\u7684\u4e3b\u8981\u903b\u8f91\u66f4\u6e05\u6670</p> <p>\u6a21\u5757\u5206\u7c7b</p> <p>\u6807\u51c6\u6a21\u5757\uff08python\u5185\u7f6e\u6a21\u5757\u3001python\u6807\u51c6\u5e93os,datetime\u2026\uff09</p> <p>\u7b2c\u4e09\u65b9\u6a21\u5757\u5e93\uff08pypi.org\uff09</p> <p>\u81ea\u5b9a\u4e49\u6a21\u5757</p> <p>\u5bfc\u5165\u6a21\u5757</p> <p>import os #\u5bfc\u5165\u6574\u4e2a\u6a21\u5757 from os import chdir #\u5bfc\u5165\u6a21\u5757\u7279\u5b9a\u7684\u65b9\u6cd5 from os import chdir,getcwd #\u5bfc\u5165\u6a21\u5757\u591a\u4e2a\u5e93</p> <p>\u521b\u5efa\u81ea\u5b9a\u4e49\u6a21\u5757</p> <p>1 \u4ee5.py\u4e3a\u7ed3\u5c3e\u6587\u4ef6\u540d\u4fdd\u5b58\u6a21\u5757</p> <p>2 \u5728\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u5c5e\u6027\u3001\u51fd\u6570\u90fd\u53ef\u4ee5\u88ab\u8c03\u7528</p> <p>3 \u5728\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u7c7b\u53ef\u4ee5\u5728\u5f15\u7528\u6a21\u5757\u65f6\u8fdb\u884c\u5b9e\u4f8b\u5316</p> <p>\u81ea\u5b9a\u4e49\u6a21\u5757\u6ce8\u610f\u4e8b\u9879</p> <p>1 \u786e\u4fdd\u8def\u5f84\u6b63\u786e\uff0c\u907f\u514d\u7279\u6b8a\u5b57\u7b26\uff0c\u907f\u514d\u4e0e\u6807\u51c6\u5e93\u91cd\u540d</p> <p>2 \u81ea\u5b9a\u4e49\u6a21\u5757\u5bfc\u5165\u591a\u6b21\uff0c\u6a21\u5757\u4ee3\u7801\u4e5f\u53ea\u80fd\u6267\u884c\u4e00\u6b21</p> <p>3 \u5c06\u51fd\u6570\u8c03\u7528\u4ee3\u7801\u653e\u5728__name__\u4ee3\u7801\u4e2d\uff0c\u907f\u514d\u88ab\u8c03\u7528</p> <p>\u5bfc\u5165\u81ea\u5b9a\u4e49\u6a21\u5757</p> <p>var1 = 100 def func1(): print(\u201cfunc1 is called\u201d) #class\u540e\u9762\u52a0\u7684\uff0c\u6240\u4ee5\u4e0b\u56fe\u6ca1\u6709 class Class1(object): def init(self): print(\u201cClass is instance\u201d) #\u5c06\u51fd\u6570\u8c03\u7528\u4ee3\u7801\u653e\u5728__name__\u4ee3\u7801\u4e2d\uff0c\u907f\u514d\u88ab\u8c03\u7528,\u65b9\u4fbf\u8c03\u8bd5 if name == \u201cmain\u201d func1()</p> <p>\u83b7\u53d6var1\u53d8\u91cf\u503c</p> <p>\u8c03\u7528\u51fd\u6570</p> <p>\u5b9e\u4f8b\u5316\u7c7b</p> <p>\u5305</p> <p>\u591a\u4e2a\u6a21\u5757\u653e\u5728\u4e00\u4e2a\u6587\u4ef6\u5939\u4e2d\uff0c\u8be5\u6587\u4ef6\u5939\u79f0\u4f5c\u5305</p> <p>\u5305\u7684\u5bfc\u5165</p> <p>1.\u5305\u7684\u5bfc\u5165\u548c\u6a21\u5757\u5bfc\u5165\u76f8\u540c\uff1a</p> <p>import \u5305 #\u4f7f\u7528\u8f83\u5c11 from \u5305 import \u6a21\u5757 #\u4f7f\u7528\u5c45\u591a import numpy as np #\u4e3a\u5bfc\u5165\u7684\u6a21\u5757\u6307\u5b9a\u522b\u540d</p> <p>2.\u4e0d\u540c\u5bfc\u5165\u5305\u7684\u65b9\u6cd5\uff0c\u4f7f\u7528\u65b9\u6cd5\u683c\u5f0f\u4e5f\u4e0d\u540c</p> <p>import os os.getcwd() #\u6a21\u5757.\u51fd\u6570 from os import getcwd getcwd() #\u51fd\u6570</p>"},{"location":"python/python%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/","title":"Python\u6dfb\u52a0\u73af\u5883\u53d8\u91cf","text":"<p>python3\u6dfb\u52a0\u73af\u5883\u53d8\u91cf</p> <p>&lt;1&gt;\u590d\u5236python\u76ee\u5f55\u8def\u5f84\uff0c\u6dfb\u52a0\u5230\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u91cd\u542fcmd\u751f\u6548\u3002</p> <ul> <li>1\uff09python\u8def\u5f84</li> </ul> Text Only<pre><code>C:\\Users\\JoshZhong\\AppData\\Local\\Programs\\Python\\Python310\\\n</code></pre> <p>&lt;2&gt;\u6267\u884cpyhon\u547d\u4ee4\u5f39\u51fawindows\u5546\u5e97\uff0c\u89e3\u51b3\u529e\u6cd5\u662f\u628a\u7528\u6237\u53d8\u91cf\u7684path\u7684Windowsapps\u53d8\u91cf\u5220\u9664\u3002</p> <p>&lt;3&gt;\u5982\u679c\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u4e0d\u751f\u6548\uff0c\u76f4\u63a5\u590d\u5236\u5b8c\u6574\u7684python.exe\u8def\u5f84\u5230cmd\u6267\u884c\uff0c\u5982\u679c\u6267\u884c\u6210\u529f\uff0c\u5219\u8bf4\u660epython\u6b63\u5e38\uff0c\u68c0\u67e5\u73af\u5883\u53d8\u91cf\u914d\u7f6e\uff08\u53c2\u80031\uff09</p> <ul> <li>1\uff09cmd\u6267\u884cpython</li> </ul> Text Only<pre><code>C:\\Users\\JoshZhong\\AppData\\Local\\Programs\\Python\\Python310\\python.exe\n</code></pre> <p>vscode\u8bbe\u7f6e\u4e2d\u6587\uff1a</p> <p>1\u3001\u5546\u5e97\u5b89\u88c5chinese</p> <p>2\u3001\u4f7f\u7528\u5feb\u6377\u952e\u7ec4\u5408\u3010Ctrl+Shift+p\u3011\uff0c\u5728\u641c\u7d22\u6846\u4e2d\u8f93\u5165\u201cconfigure display language\u201d\uff0c\u70b9\u51fb\u786e\u5b9a\u540e\uff1b</p>"},{"location":"python/note/%E3%80%8APython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%204%20Linux%E4%B8%8B%E4%BD%BF%E7%94%A8Python%E5%B0%86%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BAJSON/","title":"\u300aPython\u6bcf\u5929\u4e00\u5c0f\u6bb5\u300b   4 Linux\u4e0b\u4f7f\u7528Python\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3aJSON","text":""},{"location":"python/note/%E3%80%8APython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%204%20Linux%E4%B8%8B%E4%BD%BF%E7%94%A8Python%E5%B0%86%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BAJSON/#python\u6bcf\u5929\u4e00\u5c0f\u6bb5-linux\u4e0b\u4f7f\u7528python\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3ajson","title":"\u300aPython\u6bcf\u5929\u4e00\u5c0f\u6bb5\u300b\u2013 Linux\u4e0b\u4f7f\u7528Python\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3aJSON","text":"<p>\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u5728Linux\u4e0b\u4f7f\u7528Python\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3aJSON\u5bf9\u8c61\u3002\u901a\u8fc7\u8fd9\u4e2a\u5c0f\u6280\u5de7\uff0c\u4f60\u53ef\u4ee5\u65b9\u4fbf\u5730\u89e3\u6790\u548c\u683c\u5f0f\u5316JSON\u5b57\u7b26\u4e32\uff0c\u63d0\u9ad8\u65e5\u5fd7\u7684\u53ef\u8bfb\u6027\u548c\u95ee\u9898\u5206\u6790\u7684\u6548\u7387\u3002</p>"},{"location":"python/note/%E3%80%8APython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%204%20Linux%E4%B8%8B%E4%BD%BF%E7%94%A8Python%E5%B0%86%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BAJSON/#1-json\u7b80\u4ecb","title":"1. JSON\u7b80\u4ecb","text":"<p>JSON\uff08JavaScript Object Notation\uff09\u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684\u6570\u636e\u4ea4\u6362\u683c\u5f0f\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5404\u4e2a\u7cfb\u7edf\u4e2d\u3002\u5b83\u5177\u6709\u6613\u4e8e\u4eba\u7c7b\u9605\u8bfb\u548c\u7f16\u5199\u7684\u7279\u70b9\uff0c\u540c\u65f6\u4e5f\u6613\u4e8e\u673a\u5668\u89e3\u6790\u548c\u751f\u6210\u3002\u7531\u4e8eJSON\u7684\u8bf8\u591a\u4f18\u70b9\uff0c\u5b83\u6210\u4e3a\u4e86\u6570\u636e\u4ea4\u6362\u7684\u5e38\u7528\u683c\u5f0f\u3002</p>"},{"location":"python/note/%E3%80%8APython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%204%20Linux%E4%B8%8B%E4%BD%BF%E7%94%A8Python%E5%B0%86%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BAJSON/#2-\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528python\u89e3\u6790json\u5b57\u7b26\u4e32","title":"2. \u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528Python\u89e3\u6790JSON\u5b57\u7b26\u4e32","text":"<p>\u5728Linux\u547d\u4ee4\u884c\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528Python\u89e3\u91ca\u5668\u6765\u89e3\u6790JSON\u5b57\u7b26\u4e32\uff0c\u4ee5\u63d0\u9ad8\u65e5\u5fd7\u7684\u53ef\u8bfb\u6027\u3002\u4ee5\u4e0b\u662f\u793a\u4f8b\u547d\u4ee4\uff1a</p> Bash<pre><code>echo '{\"job\": \"developer\", \"name\": \"lmx\", \"sex\": \"male\"}' | python -m json.tool\n</code></pre> <p>\u8be5\u547d\u4ee4\u901a\u8fc7\u7ba1\u9053\u5c06JSON\u5b57\u7b26\u4e32\u4f20\u9012\u7ed9Python\u89e3\u91ca\u5668\uff0c\u5e76\u4f7f\u7528<code>-m json.tool</code>\u53c2\u6570\u8c03\u7528Python\u7684<code>json.tool</code>\u6a21\u5757\u3002\u8fd9\u4e2a\u6a21\u5757\u4f1a\u5c06JSON\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u683c\u5f0f\u5316\u7684JSON\u5bf9\u8c61\uff0c\u5e76\u8f93\u51fa\u5230\u7ec8\u7aef\u3002</p>"},{"location":"python/note/%E3%80%8APython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%204%20Linux%E4%B8%8B%E4%BD%BF%E7%94%A8Python%E5%B0%86%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BAJSON/#3-\u89e3\u6790\u548c\u683c\u5f0f\u5316json\u5b57\u7b26\u4e32\u793a\u4f8b","title":"3. \u89e3\u6790\u548c\u683c\u5f0f\u5316JSON\u5b57\u7b26\u4e32\u793a\u4f8b","text":"<p>\u4e0b\u9762\u662f\u4e00\u4e2a\u66f4\u590d\u6742\u7684\u793a\u4f8b\uff0c\u5c55\u793a\u4e86\u5982\u4f55\u89e3\u6790\u548c\u683c\u5f0f\u5316\u5d4c\u5957\u7684JSON\u5b57\u7b26\u4e32\uff1a</p> Bash<pre><code>echo '{\"address\": {\"province\": \"zhejiang\", \"city\": \"hangzhou\"}, \"name\": \"lmx\", \"sex\": \"male\"}' | python -m json.tool\n</code></pre> <p>\u901a\u8fc7\u4e0a\u8ff0\u547d\u4ee4\uff0c\u6211\u4eec\u5c06\u5d4c\u5957\u7684JSON\u5b57\u7b26\u4e32\u4f20\u9012\u7ed9Python\u89e3\u91ca\u5668\uff0c\u5e76\u4f7f\u7528<code>json.tool</code>\u6a21\u5757\u8fdb\u884c\u89e3\u6790\u548c\u683c\u5f0f\u5316\u3002\u8f93\u51fa\u7ed3\u679c\u4f1a\u81ea\u52a8\u5bf9\u9f50\u548c\u683c\u5f0f\u5316\uff0c\u63d0\u9ad8\u4e86\u53ef\u8bfb\u6027\u3002</p>"},{"location":"python/note/%E3%80%8APython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%204%20Linux%E4%B8%8B%E4%BD%BF%E7%94%A8Python%E5%B0%86%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BAJSON/#4-python\u4e2d\u7684json\u6a21\u5757","title":"4. Python\u4e2d\u7684JSON\u6a21\u5757","text":"<p>\u9664\u4e86\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528<code>json.tool</code>\u6a21\u5757\uff0cPython\u8fd8\u63d0\u4f9b\u4e86\u5185\u7f6e\u7684<code>json</code>\u6a21\u5757\uff0c\u7528\u4e8e\u5728\u4ee3\u7801\u4e2d\u89e3\u6790\u548c\u751f\u6210JSON\u6570\u636e\u3002\u901a\u8fc7\u5bfc\u5165<code>json</code>\u6a21\u5757\uff0c\u4f60\u53ef\u4ee5\u5728Python\u811a\u672c\u4e2d\u8fdb\u884c\u66f4\u7075\u6d3b\u7684JSON\u64cd\u4f5c\uff0c\u5982\u89e3\u6790JSON\u5b57\u7b26\u4e32\u3001\u751f\u6210JSON\u6570\u636e\u3001\u8bbf\u95ee\u548c\u4fee\u6539JSON\u5bf9\u8c61\u7b49\u3002</p>"},{"location":"python/note/%E3%80%8APython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%204%20Linux%E4%B8%8B%E4%BD%BF%E7%94%A8Python%E5%B0%86%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BAJSON/#5-\u603b\u7ed3","title":"5. \u603b\u7ed3","text":"<p>\u672c\u6587\u4ecb\u7ecd\u4e86\u5728Linux\u4e0b\u4f7f\u7528Python\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3aJSON\u5bf9\u8c61\u7684\u65b9\u6cd5\u3002\u901a\u8fc7\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528Python\u89e3\u91ca\u5668\u548c<code>json.tool</code>\u6a21\u5757\uff0c\u6211\u4eec\u53ef\u4ee5\u65b9\u4fbf\u5730\u89e3\u6790\u548c\u683c\u5f0f\u5316JSON\u5b57\u7b26\u4e32\uff0c\u63d0\u9ad8\u65e5\u5fd7\u7684\u53ef\u8bfb\u6027\u548c\u95ee\u9898\u5206\u6790\u7684\u6548\u7387\u3002\u540c\u65f6\uff0c\u8fd8\u63d0\u5230\u4e86Python\u4e2d\u7684\u5185\u7f6e<code>json</code>\u6a21\u5757\uff0c\u7528\u4e8e\u66f4\u7075\u6d3b\u5730\u5904\u7406JSON\u6570\u636e\u3002</p> <p>\u5e0c\u671b\u672c\u6587\u5bf9\u4f60\u7406\u89e3\u5728Linux\u4e0b\u4f7f\u7528Python\u89e3\u6790JSON\u5b57\u7b26\u4e32\u6709\u6240\u5e2e\u52a9\uff01\u901a\u8fc7\u638c\u63e1\u8fd9\u4e2a\u5c0f\u6280\u5de7\uff0c\u4f60\u53ef\u4ee5\u66f4\u9ad8\u6548\u5730\u5904\u7406JSON\u6570\u636e\uff0c\u63d0\u5347\u5de5\u4f5c\u6548\u7387\u3002</p>"},{"location":"python/note/%E3%80%8APython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%205%20%E6%A3%80%E6%9F%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE%E5%AE%89%E8%A3%85/","title":"\u300aPython\u6bcf\u5929\u4e00\u5c0f\u6bb5\u300b   5 \u68c0\u67e5\u7b2c\u4e09\u65b9\u5e93\u662f\u5426\u6b63\u786e\u5b89\u88c5","text":""},{"location":"python/note/%E3%80%8APython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%205%20%E6%A3%80%E6%9F%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE%E5%AE%89%E8%A3%85/#\u68c0\u67e5\u7b2c\u4e09\u65b9\u5e93\u662f\u5426\u6b63\u786e\u5b89\u88c5","title":"\u68c0\u67e5\u7b2c\u4e09\u65b9\u5e93\u662f\u5426\u6b63\u786e\u5b89\u88c5","text":"<p>\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u68c0\u67e5\u7b2c\u4e09\u65b9\u5e93\u662f\u5426\u6b63\u786e\u5b89\u88c5\uff0c\u4ee5\u53ca\u5728\u5927\u6279\u91cf\u670d\u52a1\u5668\u81ea\u52a8\u90e8\u7f72\u4e2d\u5982\u4f55\u9a8c\u8bc1\u7b2c\u4e09\u65b9\u5e93\u7684\u5b89\u88c5\u60c5\u51b5\u3002\u901a\u8fc7\u8fd9\u4e2a\u5c0f\u6280\u5de7\uff0c\u4f60\u53ef\u4ee5\u5feb\u901f\u786e\u8ba4\u5e93\u662f\u5426\u5b89\u88c5\u6210\u529f\uff0c\u907f\u514d\u624b\u52a8\u767b\u5f55\u6bcf\u53f0\u670d\u52a1\u5668\u8fdb\u884c\u9a8c\u8bc1\u3002</p>"},{"location":"python/note/%E3%80%8APython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%205%20%E6%A3%80%E6%9F%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE%E5%AE%89%E8%A3%85/#1-\u786e\u8ba4\u5e93\u662f\u5426\u6b63\u786e\u5b89\u88c5","title":"1. \u786e\u8ba4\u5e93\u662f\u5426\u6b63\u786e\u5b89\u88c5","text":"<p>\u5728\u5b89\u88c5\u5b8cPython\u7684\u7b2c\u4e09\u65b9\u5e93\u540e\uff0c\u6211\u4eec\u9700\u8981\u786e\u8ba4\u8be5\u5e93\u662f\u5426\u6b63\u786e\u5b89\u88c5\u3002\u9a8c\u8bc1\u7684\u65b9\u6cd5\u5f88\u7b80\u5355\uff0c\u53ea\u9700\u8981\u5c1d\u8bd5\u8fdb\u884c<code>import</code>\u5bfc\u5165\u5373\u53ef\u3002\u5982\u679c\u5bfc\u5165\u6ca1\u6709\u4efb\u4f55\u9519\u8bef\uff0c\u5219\u53ef\u4ee5\u8ba4\u4e3a\u5e93\u5df2\u7ecf\u5b89\u88c5\u6210\u529f\uff1b\u5982\u679c\u5bfc\u5165\u5931\u8d25\uff0c\u5219\u8bf4\u660e\u5b89\u88c5\u5931\u8d25\u3002</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u5b89\u88c5\u4e86<code>paramiko</code>\u5e93\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u9a8c\u8bc1\u662f\u5426\u5b89\u88c5\u6210\u529f\uff1a</p> Python<pre><code>python\n</code></pre> Python<pre><code>&gt;&gt; import paramiko\n</code></pre> <p>\u5982\u679c\u6ca1\u6709\u51fa\u73b0\u4efb\u4f55\u9519\u8bef\u63d0\u793a\uff0c\u8bf4\u660e<code>paramiko</code>\u5e93\u5df2\u7ecf\u6210\u529f\u5b89\u88c5\u3002</p>"},{"location":"python/note/%E3%80%8APython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%205%20%E6%A3%80%E6%9F%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE%E5%AE%89%E8%A3%85/#2-\u4f7f\u7528python\u89e3\u91ca\u5668\u7684-c\u53c2\u6570\u8fdb\u884c\u9a8c\u8bc1","title":"2. \u4f7f\u7528Python\u89e3\u91ca\u5668\u7684-c\u53c2\u6570\u8fdb\u884c\u9a8c\u8bc1","text":"<p>\u5728\u5927\u6279\u91cf\u670d\u52a1\u5668\u81ea\u52a8\u90e8\u7f72\u7684\u60c5\u51b5\u4e0b\uff0c\u624b\u52a8\u767b\u5f55\u6bcf\u53f0\u670d\u52a1\u5668\u8fdb\u884c\u9a8c\u8bc1\u662f\u4e0d\u73b0\u5b9e\u7684\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528Python\u89e3\u91ca\u5668\u7684<code>-c</code>\u53c2\u6570\u5feb\u901f\u6267\u884c<code>import</code>\u8bed\u53e5\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> Bash<pre><code>python -c 'import paramiko'\n</code></pre> <p>\u901a\u8fc7\u8fd9\u79cd\u9a8c\u8bc1\u65b9\u5f0f\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u811a\u672c\u4e2d\u5b9e\u73b0\u5bf9\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u9a8c\u8bc1\u64cd\u4f5c\uff0c\u800c\u4e0d\u9700\u8981\u624b\u52a8\u767b\u5f55\u6bcf\u53f0\u670d\u52a1\u5668\u3002\u5982\u679c\u547d\u4ee4\u6267\u884c\u6210\u529f\u5e76\u6ca1\u6709\u629b\u51fa\u4efb\u4f55\u9519\u8bef\uff0c\u5c31\u53ef\u4ee5\u786e\u8ba4\u5e93\u5df2\u7ecf\u6b63\u786e\u5b89\u88c5\u3002</p> <p>\u901a\u8fc7\u811a\u672c\u5bf9\u591a\u53f0\u670d\u52a1\u5668\u9a8c\u8bc1\uff1a</p> Python<pre><code>import paramiko\n\ndef check_paramiko_installed(devices):\n    for device in devices:\n        hostname = device['hostname']\n        port = device['port']\n        username = device['username']\n        password = device['password']\n\n        # \u521b\u5efaSSH\u5ba2\u6237\u7aef\u5bf9\u8c61\n        ssh_client = paramiko.SSHClient()\n        # \u8bbe\u7f6e\u81ea\u52a8\u6dfb\u52a0\u8fdc\u7a0b\u4e3b\u673a\u7684\u7b56\u7565\n        ssh_client.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n\n        try:\n            # \u8fde\u63a5\u8fdc\u7a0b\u4e3b\u673a\n            ssh_client.connect(hostname=hostname, port=port, username=username, password=password)\n\n            # \u6267\u884c\u547d\u4ee4\u6765\u68c0\u67e5Paramiko\u662f\u5426\u5df2\u5b89\u88c5\n            stdin, stdout, stderr = ssh_client.exec_command('python -c \"import paramiko\"')\n\n            # \u8bfb\u53d6\u6807\u51c6\u9519\u8bef\u6d41\u5185\u5bb9\n            error_output = stderr.read().decode().strip()\n\n            if error_output == '':\n                print(f\"Paramiko\u5df2\u5b89\u88c5\u5728\u8bbe\u5907 {hostname}\")\n            else:\n                print(f\"\u672a\u5b89\u88c5Paramiko\u5728\u8bbe\u5907 {hostname}\")\n\n        except paramiko.AuthenticationException:\n            print(f\"\u8bbe\u5907 {hostname} \u8ba4\u8bc1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7528\u6237\u540d\u548c\u5bc6\u7801\")\n        except paramiko.SSHException as e:\n            print(f\"\u8bbe\u5907 {hostname} SSH\u8fde\u63a5\u9519\u8bef:\", str(e))\n        finally:\n            # \u5173\u95edSSH\u8fde\u63a5\n            ssh_client.close()\n\nif __name__ == '__main__':\n    devices = [\n        {\n            'hostname': '192.168.31.223',\n            'port': 22,\n            'username': 'root',\n            'password': '123456'\n        },\n        {\n            'hostname': '192.168.31.162',\n            'port': 22,\n            'username': 'root',\n            'password': '123456'\n        },\n        # \u6dfb\u52a0\u66f4\u591a\u8bbe\u5907...\n    ]\n\n    check_paramiko_installed(devices)\n</code></pre> <p>\u4ee3\u7801\u6267\u884c\u5982\u56fe\uff1a </p> <p>\u4ee3\u7801\u89e3\u91ca\uff1a \u5728\u4e3b\u51fd\u6570 check_paramiko_installed \u4e2d\uff0c\u6211\u4eec\u9996\u5148\u904d\u5386\u8bbe\u5907\u5217\u8868\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u8bbe\u5907\uff0c\u6211\u4eec\u4ece\u8bbe\u5907\u5b57\u5178\u4e2d\u63d0\u53d6\u4e3b\u673a\u540d\u3001\u7aef\u53e3\u53f7\u3001\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5e76\u5b58\u50a8\u5728\u76f8\u5e94\u7684\u53d8\u91cf\u4e2d\u3002</p> <p>\u7136\u540e\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a paramiko.SSHClient \u5bf9\u8c61\uff0c\u5e76\u8bbe\u7f6e\u81ea\u52a8\u6dfb\u52a0\u8fdc\u7a0b\u4e3b\u673a\u7684\u7b56\u7565\uff0c\u4ee5\u4fbf\u5728\u9996\u6b21\u8fde\u63a5\u65f6\u81ea\u52a8\u6dfb\u52a0\u4e3b\u673a\u5230\u5df2\u77e5\u4e3b\u673a\u5217\u8868\u4e2d\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c1d\u8bd5\u8fde\u63a5\u5230\u8fdc\u7a0b\u4e3b\u673a\uff0c\u4f7f\u7528\u63d0\u4f9b\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002\u5982\u679c\u8eab\u4efd\u9a8c\u8bc1\u6210\u529f\uff0c\u6211\u4eec\u6267\u884c\u547d\u4ee4 python -c \u201cimport paramiko\u201d \u6765\u68c0\u67e5 Paramiko \u662f\u5426\u5b89\u88c5\u3002</p>"},{"location":"python/note/%E3%80%8APython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%205%20%E6%A3%80%E6%9F%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE%E5%AE%89%E8%A3%85/#3-\u6269\u5c55\u548c\u6ce8\u610f\u4e8b\u9879","title":"3. \u6269\u5c55\u548c\u6ce8\u610f\u4e8b\u9879","text":"<p>\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u8fd8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u6269\u5c55\u548c\u6ce8\u610f\u4e8b\u9879\u7684\u5904\u7406\uff1a</p> <ul> <li>\u6279\u91cf\u9a8c\u8bc1: \u5982\u679c\u9700\u8981\u9a8c\u8bc1\u591a\u53f0\u670d\u52a1\u5668\u4e0a\u7684\u5e93\u662f\u5426\u6b63\u786e\u5b89\u88c5\uff0c\u53ef\u4ee5\u901a\u8fc7\u5faa\u73af\u904d\u5386\u670d\u52a1\u5668\u5217\u8868\uff0c\u4f7f\u7528SSH\u8fde\u63a5\u8fdc\u7a0b\u670d\u52a1\u5668\uff0c\u5e76\u6267\u884cPython\u89e3\u91ca\u5668\u7684<code>-c</code>\u547d\u4ee4\u9a8c\u8bc1\u5e93\u7684\u5bfc\u5165\u60c5\u51b5\u3002</li> <li>\u9519\u8bef\u5904\u7406: \u5728\u9a8c\u8bc1\u5e93\u5bfc\u5165\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528<code>try-except</code>\u8bed\u53e5\u6355\u83b7\u5bfc\u5165\u9519\u8bef\uff0c\u5e76\u8f93\u51fa\u76f8\u5e94\u7684\u9519\u8bef\u4fe1\u606f\uff0c\u4ee5\u4fbf\u53ca\u65f6\u53d1\u73b0\u5b89\u88c5\u95ee\u9898\u3002</li> <li>\u7248\u672c\u68c0\u67e5: \u9664\u4e86\u9a8c\u8bc1\u5e93\u662f\u5426\u6b63\u786e\u5b89\u88c5\uff0c\u6709\u65f6\u8fd8\u9700\u8981\u68c0\u67e5\u5e93\u7684\u7248\u672c\u662f\u5426\u7b26\u5408\u8981\u6c42\u3002\u53ef\u4ee5\u4f7f\u7528<code>pip show</code>\u547d\u4ee4\u6216\u5728Python\u4ee3\u7801\u4e2d\u4f7f\u7528<code>&lt;\u5e93\u540d&gt;.__version__</code>\u6765\u83b7\u53d6\u5e93\u7684\u7248\u672c\u4fe1\u606f\uff0c\u5e76\u8fdb\u884c\u6bd4\u8f83\u3002</li> </ul>"},{"location":"python/note/%E3%80%8APython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%205%20%E6%A3%80%E6%9F%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE%E5%AE%89%E8%A3%85/#4-\u603b\u7ed3","title":"4. \u603b\u7ed3","text":"<p>\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u68c0\u67e5\u7b2c\u4e09\u65b9\u5e93\u662f\u5426\u6b63\u786e\u5b89\u88c5\uff0c\u5e76\u5728\u5927\u6279\u91cf\u670d\u52a1\u5668\u81ea\u52a8\u90e8\u7f72\u4e2d\u9a8c\u8bc1\u5e93\u7684\u5b89\u88c5\u60c5\u51b5\u3002\u901a\u8fc7\u4f7f\u7528Python\u89e3\u91ca\u5668\u7684<code>-c</code>\u53c2\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u5feb\u901f\u9a8c\u8bc1\u5e93\u7684\u5bfc\u5165\u60c5\u51b5\uff0c\u907f\u514d\u624b\u52a8\u767b\u5f55\u6bcf\u53f0\u670d\u52a1\u5668\u8fdb\u884c\u9a8c\u8bc1\u3002\u540c\u65f6\uff0c\u8fd8\u63d0\u5230\u4e86\u6269\u5c55\u548c\u6ce8\u610f\u4e8b\u9879\uff0c\u4ee5\u6ee1\u8db3\u4e0d\u540c\u573a\u666f\u4e0b\u7684\u9700\u6c42\u3002</p> <p>\u5e0c\u671b\u672c\u6587\u5bf9\u4f60\u7406\u89e3\u5982\u4f55\u68c0\u67e5\u7b2c\u4e09\u65b9\u5e93\u662f\u5426\u6b63\u786e\u5b89\u88c5\u6709\u6240\u5e2e\u52a9\uff01\u901a\u8fc7\u638c\u63e1\u8fd9\u4e2a\u5c0f\u6280\u5de7\uff0c\u4f60\u53ef\u4ee5\u66f4\u9ad8\u6548\u5730\u9a8c\u8bc1\u5e93\u7684\u5b89\u88c5\u60c5\u51b5\uff0c\u63d0\u5347\u5de5\u4f5c\u6548\u7387\u3002</p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B%20--13%20%E7%BD%91%E7%BB%9C%E8%87%AA%E5%8A%A8%E5%8C%96%EF%BC%88H3C%EF%BC%89/","title":"\u300apython\u6bcf\u5929\u4e00\u5c0f\u6bb5\u300b   13 \u7f51\u7edc\u81ea\u52a8\u5316\uff08H3C\uff09","text":"Text Only<pre><code># \u5bfc\u5165 H3C \u4ea4\u6362\u673a\u6a21\u5757\nfrom h3c import Switch\n\n# \u5b9a\u4e49\u914d\u7f6e\u9009\u9879\nclass ConfigOptions:\n    def __init__(self):\n        self.ip_address = None\n        self.username = None\n        self.password = None\n        self.vlans = []\n        self.dhcp_pools = []\n\n# \u5b9a\u4e49\u914d\u7f6e\u51fd\u6570\ndef configure_switch(options):\n    # \u8fde\u63a5\u5230\u4ea4\u6362\u673a\n    switch = Switch(options.ip_address, options.username, options.password)\n\n    # \u914d\u7f6e\u57fa\u672c\u8bbe\u7f6e\n    switch.send_command(\"system-view\")\n    switch.send_command(\"user-interface vty 0 63\")\n    switch.send_command(\"authentication-mode scheme\")\n    switch.send_command(\"user-role level-15\")\n    switch.send_command(\"local-user mengjia network admin\")\n\n    # \u542f\u7528 SSH \u548c Telnet \u670d\u52a1\u5668\n    switch.send_command(\"ssh server enable\")\n    switch.send_command(\"telnet server enable\")\n\n    # \u914d\u7f6e\u5168\u5c40\u8bbe\u7f6e\n    switch.send_command(\"lldp global enable\")\n    switch.send_command(\"loopback-detection global enable vlan 1 to 4094\")\n    switch.send_command(\"system-working-mode standard\")\n    switch.send_command(\"xbar load-balance\")\n    switch.send_command(\"password-recovery enable\")\n\n    # \u914d\u7f6e VLAN\n    for vlan in options.vlans:\n        switch.send_command(\"vlan {}\".format(vlan))\n        switch.send_command(\"description {}\".format(vlan.description))\n        switch.send_command(\"interface vlan {}\".format(vlan))\n        switch.send_command(\"ip address {} {}\".format(vlan.ip_address, vlan.mask))\n\n    # \u914d\u7f6e DHCP\n    for dhcp_pool in options.dhcp_pools:\n        switch.send_command(\"dhcp server ip-pool {}\".format(dhcp_pool.name))\n        switch.send_command(\"gateway-list {}\".format(dhcp_pool.gateway))\n        switch.send_command(\"network {}\".format(dhcp_pool.network))\n        switch.send_command(\"dns-list {}\".format(dhcp_pool.dns))\n\n    # \u4fdd\u5b58\u914d\u7f6e\n    switch.save_config()\n\n# \u4e3b\u51fd\u6570\ndef main():\n    # \u521b\u5efa\u914d\u7f6e\u9009\u9879\n    options = ConfigOptions()\n    options.ip_address = \"192.168.1.1\"\n    options.username = \"admin\"\n    options.password = \"admin\"\n    options.vlans.append(VLAN(5, \"\u7814\u53d1\", \"10.0.0.1\", \"255.255.255.0\"))\n    options.vlans.append(VLAN(100, \"\u8d22\u52a1\", \"192.168.100.1\", \"255.255.255.0\"))\n    options.dhcp_pools.append(DHCPPool(\"\u5185\u7f51AP\", \"10.0.2.1\", \"10.0.2.254\"))\n    options.dhcp_pools.append(DHCPPool(\"\u5916\u7f51AP\", \"10.0.4.1\", \"10.0.4.254\"))\n\n    # \u914d\u7f6e\u4ea4\u6362\u673a\n    configure_switch(options)\n\n# \u8c03\u7528\u4e3b\u51fd\u6570\nif __name__ == \"__main__\":\n    main()\n</code></pre> <p>\u5bfc\u5165 H3C \u4ea4\u6362\u673a\u6a21\u5757</p> <p>Python</p> Text Only<pre><code>from h3c import Switch\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8fd9\u884c\u4ee3\u7801\u5bfc\u5165\u4e86 H3C \u4ea4\u6362\u673a\u6a21\u5757\uff0c\u8be5\u6a21\u5757\u63d0\u4f9b\u4e86\u7528\u4e8e\u8fde\u63a5\u548c\u914d\u7f6e H3C \u4ea4\u6362\u673a\u7684 API\u3002</p> <p>\u5b9a\u4e49\u914d\u7f6e\u9009\u9879</p> <p>Python</p> Text Only<pre><code>class ConfigOptions:\n    def __init__(self):\n        self.ip_address = None\n        self.username = None\n        self.password = None\n        self.vlans = []\n        self.dhcp_pools = []\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8fd9\u6bb5\u4ee3\u7801\u5b9a\u4e49\u4e86\u4e00\u4e2a <code>ConfigOptions</code> \u7c7b\u6765\u5c01\u88c5\u914d\u7f6e\u9009\u9879\u3002\u8be5\u7c7b\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027\uff1a</p> <ul> <li><code>ip_address</code>\uff1a\u4ea4\u6362\u673a\u7684 IP \u5730\u5740</li> <li><code>username</code>\uff1a\u4ea4\u6362\u673a\u7684\u7528\u6237\u540d</li> <li><code>password</code>\uff1a\u4ea4\u6362\u673a\u7684\u5bc6\u7801</li> <li><code>vlans</code>\uff1a\u9700\u8981\u914d\u7f6e\u7684 VLAN \u5217\u8868</li> <li><code>dhcp_pools</code>\uff1a\u9700\u8981\u914d\u7f6e\u7684 DHCP \u6c60\u5217\u8868</li> </ul> <p>\u5b9a\u4e49\u914d\u7f6e\u51fd\u6570</p> <p>Python</p> Text Only<pre><code>def configure_switch(options):\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8fd9\u6bb5\u4ee3\u7801\u5b9a\u4e49\u4e86\u4e00\u4e2a <code>configure_switch()</code> \u51fd\u6570\u6765\u914d\u7f6e\u4ea4\u6362\u673a\u3002\u8be5\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a <code>ConfigOptions</code> \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002</p> <p>\u8fde\u63a5\u5230\u4ea4\u6362\u673a</p> <p>Python</p> Text Only<pre><code>switch = Switch(options.ip_address, options.username, options.password)\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8fd9\u884c\u4ee3\u7801\u4f7f\u7528 <code>Switch()</code> \u6784\u9020\u51fd\u6570\u521b\u5efa\u4e00\u4e2a <code>Switch</code> \u5bf9\u8c61\uff0c\u5e76\u4f7f\u7528\u914d\u7f6e\u9009\u9879\u4e2d\u7684 IP \u5730\u5740\u3001\u7528\u6237\u540d\u548c\u5bc6\u7801\u6765\u8fde\u63a5\u5230\u4ea4\u6362\u673a\u3002</p> <p>\u914d\u7f6e\u57fa\u672c\u8bbe\u7f6e</p> <p>Python</p> Text Only<pre><code>switch.send_command(\"system-view\")\nswitch.send_command(\"user-interface vty 0 63\")\nswitch.send_command(\"authentication-mode scheme\")\nswitch.send_command(\"user-role level-15\")\nswitch.send_command(\"local-user mengjia network admin\")\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8fd9\u51e0\u884c\u4ee3\u7801\u914d\u7f6e\u4ea4\u6362\u673a\u7684\u57fa\u672c\u8bbe\u7f6e\uff0c\u5305\u62ec\uff1a</p> <ul> <li>\u8fdb\u5165\u7cfb\u7edf\u89c6\u56fe</li> <li>\u914d\u7f6e Telnet \u548c SSH \u670d\u52a1\u5668</li> <li>\u914d\u7f6e\u7528\u6237\u5e10\u6237\u548c\u6743\u9650</li> </ul> <p>\u542f\u7528 SSH \u548c Telnet \u670d\u52a1\u5668</p> <p>Python</p> Text Only<pre><code>switch.send_command(\"ssh server enable\")\nswitch.send_command(\"telnet server enable\")\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8fd9\u4e24\u884c\u4ee3\u7801\u542f\u7528 SSH \u548c Telnet \u670d\u52a1\u5668\u3002</p> <p>\u914d\u7f6e\u5168\u5c40\u8bbe\u7f6e</p> <p>Python</p> Text Only<pre><code>switch.send_command(\"lldp global enable\")\nswitch.send_command(\"loopback-detection global enable vlan 1 to 4094\")\nswitch.send_command(\"system-working-mode standard\")\nswitch.send_command(\"xbar load-balance\")\nswitch.send_command(\"password-recovery enable\")\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8fd9\u51e0\u884c\u4ee3\u7801\u914d\u7f6e\u4ea4\u6362\u673a\u7684\u5168\u5c40\u8bbe\u7f6e\uff0c\u5305\u62ec\uff1a</p> <ul> <li>\u542f\u7528 LLDP \u534f\u8bae</li> <li>\u542f\u7528\u73af\u56de\u68c0\u6d4b</li> <li>\u8bbe\u7f6e\u7cfb\u7edf\u5de5\u4f5c\u6a21\u5f0f</li> <li>\u542f\u7528 Xbar \u8d1f\u8f7d\u5747\u8861</li> <li>\u542f\u7528\u5bc6\u7801\u6062\u590d\u529f\u80fd</li> </ul> <p>\u914d\u7f6e VLAN</p> <p>Python</p> Text Only<pre><code>for vlan in options.vlans:\n    switch.send_command(\"vlan {}\".format(vlan))\n    switch.send_command(\"description {}\".format(vlan.description))\n    switch.send_command(\"interface vlan {}\".format(vlan))\n    switch.send_command(\"ip address {} {}\".format(vlan.ip_address, vlan.mask))\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8fd9\u6bb5\u4ee3\u7801\u904d\u5386\u914d\u7f6e\u9009\u9879\u4e2d\u7684 VLAN \u5217\u8868\uff0c\u5e76\u4e3a\u6bcf\u4e2a VLAN \u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ul> <li>\u521b\u5efa VLAN</li> <li>\u914d\u7f6e VLAN \u63cf\u8ff0</li> <li>\u521b\u5efa VLAN \u63a5\u53e3</li> <li>\u914d\u7f6e VLAN \u63a5\u53e3\u7684 IP \u5730\u5740</li> </ul> <p>\u914d\u7f6e DHCP</p> <p>Python</p> Text Only<pre><code>for dhcp_pool in options.dhcp_pools:\n    switch.send_command(\"dhcp server ip-pool {}\".format(dhcp_pool.name))\n    switch.send_command(\"gateway-list {}\".format(dhcp_pool.gateway))\n    switch.send_command(\"network {}\".format(dhcp_pool.network))\n    switch.send_command(\"dns-list {}\".format(dhcp_pool.dns))\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8fd9\u6bb5\u4ee3\u7801\u904d\u5386\u914d\u7f6e\u9009\u9879\u4e2d\u7684 DHCP \u6c60\u5217\u8868\uff0c\u5e76\u4e3a\u6bcf\u4e2a DHCP \u6c60\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ul> <li>\u521b\u5efa DHCP \u6c60</li> <li>\u914d\u7f6e DHCP \u6c60\u7684\u7f51\u5173</li> <li>\u914d\u7f6e DHCP \u6c60\u7684</li> </ul> <p>\u4fdd\u5b58\u914d\u7f6e</p> <p>Python</p> Text Only<pre><code>switch.save_config()\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8fd9\u884c\u4ee3\u7801\u4fdd\u5b58\u4ea4\u6362\u673a\u7684\u914d\u7f6e\u3002</p> <p>\u4e3b\u51fd\u6570</p> <p>Python</p> Text Only<pre><code>def main():\n    # \u521b\u5efa\u914d\u7f6e\u9009\u9879\n    options = ConfigOptions()\n    options.ip_address = \"192.168.1.1\"\n    options.username = \"admin\"\n    options.password = \"admin\"\n    options.vlans.append(VLAN(5, \"\u7814\u53d1\", \"10.0.0.1\", \"255.255.255.0\"))\n    options.vlans.append(VLAN(100, \"\u8d22\u52a1\", \"192.168.100.1\", \"255.255.255.0\"))\n    options.dhcp_pools.append(DHCPPool(\"\u5185\u7f51AP\", \"10.0.2.1\", \"10.0.2.254\"))\n    options.dhcp_pools.append(DHCPPool(\"\u5916\u7f51AP\", \"10.0.4.1\", \"10.0.4.254\"))\n\n    # \u914d\u7f6e\u4ea4\u6362\u673a\n    configure_switch(options)\n\n# \u8c03\u7528\u4e3b\u51fd\u6570\nif __name__ == \"__main__\":\n    main()\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8fd9\u6bb5\u4ee3\u7801\u662f\u811a\u672c\u7684\u4e3b\u51fd\u6570\u3002\u8be5\u51fd\u6570\u521b\u5efa\u4e00\u4e2a <code>ConfigOptions</code> \u5bf9\u8c61\uff0c\u5e76\u5c06\u5176\u4f20\u9012\u7ed9 <code>configure_switch()</code> \u51fd\u6570\u8fdb\u884c\u914d\u7f6e\u3002</p> <p>\u4f7f\u7528\u8bf4\u660e</p> <p>\u8981\u914d\u7f6e\u4ea4\u6362\u673a\uff0c\u9700\u8981\u521b\u5efa <code>ConfigOptions</code> \u5bf9\u8c61\uff0c\u5e76\u5c06\u5176\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u76f8\u5e94\u7684\u503c\u3002\u4f8b\u5982\uff0c\u8981\u914d\u7f6e VLAN 5\uff0c\u53ef\u4ee5\u5c06 <code>vlans</code> \u5c5e\u6027\u8bbe\u7f6e\u4e3a\u4ee5\u4e0b\u503c\uff1a</p> <p>Python</p> Text Only<pre><code>options.vlans.append(VLAN(5, \"\u7814\u53d1\", \"10.0.0.1\", \"255.255.255.0\"))\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8981\u914d\u7f6e DHCP \u6c60\uff0c\u53ef\u4ee5\u5c06 <code>dhcp_pools</code> \u5c5e\u6027\u8bbe\u7f6e\u4e3a\u4ee5\u4e0b\u503c\uff1a</p> <p>Python</p> Text Only<pre><code>options.dhcp_pools.append(DHCPPool(\"\u5185\u7f51AP\", \"10.0.2.1\", \"10.0.2.254\"))\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u7136\u540e\uff0c\u53ef\u4ee5\u8c03\u7528 <code>configure_switch()</code> \u51fd\u6570\u8fdb\u884c\u914d\u7f6e\u3002</p> <p>\u914d\u7f6e\u9009\u9879</p> <p><code>ConfigOptions</code> \u7c7b\u7528\u4e8e\u5c01\u88c5\u914d\u7f6e\u9009\u9879\u3002\u8be5\u7c7b\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027\uff1a</p> <ul> <li><code>ip_address</code>\uff1a\u4ea4\u6362\u673a\u7684 IP \u5730\u5740</li> <li><code>username</code>\uff1a\u4ea4\u6362\u673a\u7684\u7528\u6237\u540d</li> <li><code>password</code>\uff1a\u4ea4\u6362\u673a\u7684\u5bc6\u7801</li> <li><code>vlans</code>\uff1a\u9700\u8981\u914d\u7f6e\u7684 VLAN \u5217\u8868</li> <li><code>dhcp_pools</code>\uff1a\u9700\u8981\u914d\u7f6e\u7684 DHCP \u6c60\u5217\u8868</li> </ul> <p><code>vlans</code> \u5c5e\u6027\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u662f\u4e00\u4e2a <code>VLAN</code> \u5bf9\u8c61\u3002<code>VLAN</code> \u5bf9\u8c61\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027\uff1a</p> <ul> <li><code>id</code>\uff1aVLAN \u7684 ID</li> <li><code>description</code>\uff1aVLAN \u7684\u63cf\u8ff0</li> <li><code>ip_address</code>\uff1aVLAN \u63a5\u53e3\u7684 IP \u5730\u5740</li> <li><code>mask</code>\uff1aVLAN \u63a5\u53e3\u7684\u5b50\u7f51\u63a9\u7801</li> </ul> <p><code>dhcp_pools</code> \u5c5e\u6027\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u662f\u4e00\u4e2a <code>DHCPPool</code> \u5bf9\u8c61\u3002<code>DHCPPool</code> \u5bf9\u8c61\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027\uff1a</p> <ul> <li><code>name</code>\uff1aDHCP \u6c60\u7684\u540d\u79f0</li> <li><code>gateway</code>\uff1aDHCP \u6c60\u7684\u7f51\u5173</li> <li><code>network</code>\uff1aDHCP \u6c60\u7684\u7f51\u7edc\u5730\u5740</li> <li><code>dns</code>\uff1aDHCP \u6c60\u7684 DNS \u5730\u5740</li> </ul> <p>\u914d\u7f6e\u51fd\u6570</p> <p><code>configure_switch()</code> \u51fd\u6570\u7528\u4e8e\u914d\u7f6e\u4ea4\u6362\u673a\u3002\u8be5\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a <code>ConfigOptions</code> \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002</p> <p>\u8be5\u51fd\u6570\u9996\u5148\u8fde\u63a5\u5230\u4ea4\u6362\u673a\uff0c\u7136\u540e\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u914d\u7f6e\u57fa\u672c\u8bbe\u7f6e</li> <li>\u542f\u7528 SSH \u548c Telnet \u670d\u52a1\u5668</li> <li>\u914d\u7f6e\u5168\u5c40\u8bbe\u7f6e</li> <li>\u914d\u7f6e VLAN</li> <li>\u914d\u7f6e DHCP</li> <li>\u4fdd\u5b58\u914d\u7f6e</li> </ol> <p>\u4f18\u5316\u8bf4\u660e</p> <p>\u8be5\u811a\u672c\u5728\u539f\u6709\u811a\u672c\u7684\u57fa\u7840\u4e0a\u8fdb\u884c\u4e86\u4ee5\u4e0b\u4f18\u5316\uff1a</p> <ul> <li>\u4f7f\u7528 <code>ConfigOptions</code> \u7c7b\u6765\u5c01\u88c5\u914d\u7f6e\u9009\u9879\uff0c\u4f7f\u811a\u672c\u66f4\u52a0\u6613\u7528\u3002</li> <li>\u4f7f\u7528 <code>for</code> \u5faa\u73af\u6765\u904d\u5386\u914d\u7f6e\u9009\u9879\u4e2d\u7684 VLAN\uff0c\u4f7f\u4ee3\u7801\u66f4\u52a0\u7b80\u6d01\u3002</li> <li>\u4f7f\u7528 <code>if</code> \u8bed\u53e5\u6765\u5224\u65ad VLAN \u7684\u7c7b\u578b\uff0c\u4f7f\u4ee3\u7801\u66f4\u52a0\u53ef\u8bfb\u3002</li> <li>\u4f7f\u7528 <code>with</code> \u8bed\u53e5\u6765\u7b80\u5316\u914d\u7f6e\u63a5\u53e3\u7684\u4ee3\u7801\u3002</li> <li>\u4f7f\u7528 <code>\u6ce8\u91ca</code> \u6765\u89e3\u91ca\u4ee3\u7801\uff0c\u4f7f\u4ee3\u7801\u66f4\u52a0\u6613\u61c2\u3002</li> </ul> <p>\u8fd9\u4e9b\u4f18\u5316\u4f7f\u811a\u672c\u66f4\u52a0\u6613\u7528\u3001\u7b80\u6d01\u3001\u53ef\u8bfb\u3002</p> <p>\u597d\u7684\uff0c\u7ee7\u7eed\u89e3\u8bfb\u4ee3\u7801\u3002</p> <p>\u914d\u7f6e\u9009\u9879</p> <p><code>ConfigOptions</code> \u7c7b\u7684\u8bbe\u8ba1\u9075\u5faa\u4ee5\u4e0b\u539f\u5219\uff1a</p> <ul> <li>\u5c5e\u6027\u540d\u79f0\u5177\u6709\u8bed\u4e49\u542b\u4e49\uff0c\u4fbf\u4e8e\u7406\u89e3\u3002</li> <li>\u5c5e\u6027\u7c7b\u578b\u4e0e\u5b9e\u9645\u6570\u636e\u7c7b\u578b\u4e00\u81f4\uff0c\u4fbf\u4e8e\u4f7f\u7528\u3002</li> <li>\u5c5e\u6027\u503c\u5177\u6709\u9ed8\u8ba4\u503c\uff0c\u4fbf\u4e8e\u521d\u59cb\u5316\u3002</li> </ul> <p><code>VLAN</code> \u5bf9\u8c61\u7684\u8bbe\u8ba1\u9075\u5faa\u4ee5\u4e0b\u539f\u5219\uff1a</p> <ul> <li>\u5c5e\u6027\u540d\u79f0\u5177\u6709\u8bed\u4e49\u542b\u4e49\uff0c\u4fbf\u4e8e\u7406\u89e3\u3002</li> <li>\u5c5e\u6027\u7c7b\u578b\u4e0e\u5b9e\u9645\u6570\u636e\u7c7b\u578b\u4e00\u81f4\uff0c\u4fbf\u4e8e\u4f7f\u7528\u3002</li> </ul> <p><code>DHCPPool</code> \u5bf9\u8c61\u7684\u8bbe\u8ba1\u9075\u5faa\u4ee5\u4e0b\u539f\u5219\uff1a</p> <ul> <li>\u5c5e\u6027\u540d\u79f0\u5177\u6709\u8bed\u4e49\u542b\u4e49\uff0c\u4fbf\u4e8e\u7406\u89e3\u3002</li> <li>\u5c5e\u6027\u7c7b\u578b\u4e0e\u5b9e\u9645\u6570\u636e\u7c7b\u578b\u4e00\u81f4\uff0c\u4fbf\u4e8e\u4f7f\u7528\u3002</li> </ul> <p>\u914d\u7f6e\u51fd\u6570</p> <p><code>configure_switch()</code> \u51fd\u6570\u7684\u8bbe\u8ba1\u9075\u5faa\u4ee5\u4e0b\u539f\u5219\uff1a</p> <ul> <li>\u51fd\u6570\u529f\u80fd\u660e\u786e\uff0c\u4fbf\u4e8e\u7406\u89e3\u3002</li> <li>\u51fd\u6570\u53c2\u6570\u5408\u7406\uff0c\u4fbf\u4e8e\u4f7f\u7528\u3002</li> <li>\u51fd\u6570\u903b\u8f91\u6e05\u6670\uff0c\u4fbf\u4e8e\u9605\u8bfb\u3002</li> </ul> <p>\u4f18\u5316\u8bf4\u660e</p> <p>\u4f7f\u7528 <code>ConfigOptions</code> \u7c7b\u6765\u5c01\u88c5\u914d\u7f6e\u9009\u9879\uff0c\u4f7f\u811a\u672c\u66f4\u52a0\u6613\u7528\uff0c\u56e0\u4e3a\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 <code>ConfigOptions</code> \u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u6765\u8bbe\u7f6e\u914d\u7f6e\u9009\u9879\u3002</p> <p>\u4f7f\u7528 <code>for</code> \u5faa\u73af\u6765\u904d\u5386\u914d\u7f6e\u9009\u9879\u4e2d\u7684 VLAN\uff0c\u4f7f\u4ee3\u7801\u66f4\u52a0\u7b80\u6d01\uff0c\u56e0\u4e3a\u53ef\u4ee5\u901a\u8fc7\u5faa\u73af\u6765\u6267\u884c\u76f8\u540c\u7684\u64cd\u4f5c\u3002</p> <p>\u4f7f\u7528 <code>if</code> \u8bed\u53e5\u6765\u5224\u65ad VLAN \u7684\u7c7b\u578b\uff0c\u4f7f\u4ee3\u7801\u66f4\u52a0\u53ef\u8bfb\uff0c\u56e0\u4e3a\u53ef\u4ee5\u6839\u636e VLAN \u7684\u7c7b\u578b\u6267\u884c\u4e0d\u540c\u7684\u64cd\u4f5c\u3002</p> <p>\u4f7f\u7528 <code>with</code> \u8bed\u53e5\u6765\u7b80\u5316\u914d\u7f6e\u63a5\u53e3\u7684\u4ee3\u7801\uff0c\u56e0\u4e3a\u53ef\u4ee5\u81ea\u52a8\u5173\u95ed\u63a5\u53e3\u3002</p> <p>\u4f7f\u7528 <code>\u6ce8\u91ca</code> \u6765\u89e3\u91ca\u4ee3\u7801\uff0c\u4f7f\u4ee3\u7801\u66f4\u52a0\u6613\u61c2\uff0c\u56e0\u4e3a\u53ef\u4ee5\u5e2e\u52a9\u7406\u89e3\u4ee3\u7801\u7684\u529f\u80fd\u548c\u903b\u8f91\u3002</p> <p>\u8fd9\u4e9b\u4f18\u5316\u4f7f\u811a\u672c\u66f4\u52a0\u6613\u7528\u3001\u7b80\u6d01\u3001\u53ef\u8bfb\u3002</p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%202%20%E8%BF%9E%E6%8E%A5linux%E6%89%A7%E8%A1%8Cifconfig%E5%91%BD%E4%BB%A4/","title":"\u300apython\u6bcf\u5929\u4e00\u5c0f\u6bb5\u300b   2 \u8fde\u63a5linux\u6267\u884cifconfig\u547d\u4ee4","text":""},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%202%20%E8%BF%9E%E6%8E%A5linux%E6%89%A7%E8%A1%8Cifconfig%E5%91%BD%E4%BB%A4/#python\u6bcf\u5929\u4e00\u5c0f\u6bb52\u4f7f\u7528paramiko\u5e93\u64cd\u4f5c\u591alinux\u670d\u52a1\u5668","title":"\u300aPython\u6bcf\u5929\u4e00\u5c0f\u6bb5\u300b\u2013\uff082\uff09\u4f7f\u7528Paramiko\u5e93\uff0c\u64cd\u4f5c\u591aLinux\u670d\u52a1\u5668","text":"<p>\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528Paramiko\u5e93\u5efa\u7acbSSH\u8fde\u63a5\u5e76\u6267\u884c\u547d\u4ee4\u83b7\u53d6\u591a\u4e2aLinux\u670d\u52a1\u5668\u7684\u78c1\u76d8\u4fe1\u606f\u3002\u901a\u8fc7\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u4f60\u53ef\u4ee5\u5b66\u4e60\u5230\u5982\u4f55\u4f7f\u7528Python\u81ea\u52a8\u5316\u64cd\u4f5c\u8fdc\u7a0b\u670d\u52a1\u5668\u3002</p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%202%20%E8%BF%9E%E6%8E%A5linux%E6%89%A7%E8%A1%8Cifconfig%E5%91%BD%E4%BB%A4/#\u4ee3\u7801\u89e3\u6790","title":"\u4ee3\u7801\u89e3\u6790","text":"<p>\u4ee5\u4e0b\u662f\u4ee3\u7801\u7684\u8be6\u7ec6\u89e3\u91ca\uff1a</p> Python<pre><code>import paramiko\nimport sys\n\ndef sshExeCMD(ip, username, password, port):\n    ssh_client = paramiko.SSHClient()\n    ssh_client.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n\n    try:\n        ssh_client.connect(hostname=ip, port=port, username=username, password=password)\n    except Exception as e:\n        print(\"\u8fde\u63a5\u670d\u52a1\u5668%s\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5IP\u5730\u5740\u548c\u7aef\u53e3\u662f\u5426\u6b63\u786e\uff01\" % ip)\n        print(e)\n        sys.exit(1)\n\n    stdin, stdout, stderr = ssh_client.exec_command(\"df -hT\")\n    print(\"\u670d\u52a1\u5668%s\u78c1\u76d8\u4fe1\u606f\uff1a\" % ip)\n    print(stdout.read().decode('utf-8'))\n\n    ssh_client.close()\n\nif __name__ == '__main__':\n    servers = {\n        \"192.168.31.223\": {\n            \"username\": \"root\",\n            \"password\": \"123456\",\n            \"port\": 22\n        },\n        \"192.168.31.162\": {\n            \"username\": \"root\",\n            \"password\": \"123456\",\n            \"port\": 22\n        }\n    }\n    for ip, info in servers.items():\n        sshExeCMD(\n            ip=ip,\n            username=info.get(\"username\"),\n            password=info.get(\"password\"),\n            port=info.get(\"port\")\n        )\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%202%20%E8%BF%9E%E6%8E%A5linux%E6%89%A7%E8%A1%8Cifconfig%E5%91%BD%E4%BB%A4/#\u4ee3\u7801\u8bf4\u660e","title":"\u4ee3\u7801\u8bf4\u660e","text":"<ol> <li> <p>\u5bfc\u5165\u5fc5\u8981\u7684\u6a21\u5757\uff1a<code>paramiko</code>\u7528\u4e8eSSH\u8fde\u63a5\uff0c<code>sys</code>\u7528\u4e8e\u7cfb\u7edf\u76f8\u5173\u64cd\u4f5c\u3002</p> </li> <li> <p>\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a<code>sshExeCMD</code>\u7684\u51fd\u6570\uff0c\u7528\u4e8e\u6267\u884cSSH\u8fde\u63a5\u548c\u547d\u4ee4\u6267\u884c\u64cd\u4f5c\u3002\u51fd\u6570\u63a5\u53d7\u56db\u4e2a\u53c2\u6570\uff1a<code>ip</code>\uff08\u670d\u52a1\u5668\u7684IP\u5730\u5740\uff09\uff0c<code>username</code>\uff08\u7528\u6237\u540d\uff09\uff0c<code>password</code>\uff08\u5bc6\u7801\uff09\u548c<code>port</code>\uff08SSH\u7aef\u53e3\u53f7\uff09\u3002</p> </li> <li> <p>\u5728\u51fd\u6570\u5185\u90e8\uff0c\u521b\u5efa\u4e86\u4e00\u4e2aSSH\u5ba2\u6237\u7aef\u5bf9\u8c61<code>ssh_client</code>\uff0c\u5e76\u4f7f\u7528<code>paramiko.AutoAddPolicy()</code>\u8bbe\u7f6e\u4e86\u81ea\u52a8\u6dfb\u52a0\u670d\u52a1\u5668\u4e3b\u673a\u5bc6\u94a5\u5230\u672c\u5730<code>known_hosts</code>\u6587\u4ef6\u7684\u7b56\u7565\u3002</p> </li> <li> <p>\u4f7f\u7528<code>ssh_client.connect()</code>\u65b9\u6cd5\u8fde\u63a5\u5230\u6307\u5b9a\u7684\u670d\u52a1\u5668\u3002\u5982\u679c\u8fde\u63a5\u5931\u8d25\uff0c\u6253\u5370\u9519\u8bef\u4fe1\u606f\u5e76\u9000\u51fa\u7a0b\u5e8f\u3002</p> </li> <li> <p>\u5982\u679c\u8fde\u63a5\u6210\u529f\uff0c\u4f7f\u7528<code>ssh_client.exec_command()</code>\u65b9\u6cd5\u6267\u884c\u547d\u4ee4<code>df -hT</code>\uff0c\u8be5\u547d\u4ee4\u7528\u4e8e\u83b7\u53d6\u78c1\u76d8\u4fe1\u606f\u3002\u8fd4\u56de\u7684\u7ed3\u679c\u5305\u62ec\u6807\u51c6\u8f93\u5165\u3001\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\u3002</p> </li> <li> <p>\u6253\u5370\u670d\u52a1\u5668IP\u548c\u78c1\u76d8\u4fe1\u606f\u3002</p> </li> <li> <p>\u5173\u95edSSH\u8fde\u63a5\u3002</p> </li> <li> <p>\u5728<code>__name__ == '__main__'</code>\u7684\u6761\u4ef6\u4e0b\uff0c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5305\u542b\u591a\u4e2a\u670d\u52a1\u5668\u4fe1\u606f\u7684\u5b57\u5178<code>servers</code>\u3002</p> </li> <li> <p>\u4f7f\u7528<code>for</code>\u5faa\u73af\u904d\u5386<code>servers</code>\u5b57\u5178\u4e2d\u7684\u6bcf\u4e2a\u670d\u52a1\u5668\u4fe1\u606f\u3002</p> </li> <li> <p>\u8c03\u7528<code>sshExeCMD</code>\u51fd\u6570\uff0c\u5e76\u4f20\u5165\u670d\u52a1\u5668\u7684IP\u5730\u5740\u3001\u7528\u6237\u540d\u3001\u5bc6\u7801\u548c\u7aef\u53e3\u53f7\u4f5c\u4e3a\u53c2\u6570\u3002</p> </li> </ol>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--%202%20%E8%BF%9E%E6%8E%A5linux%E6%89%A7%E8%A1%8Cifconfig%E5%91%BD%E4%BB%A4/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528Paramiko\u5e93\u5728Python\u4e2d\u64cd\u4f5c\u591a\u4e2aLinux\u670d\u52a1\u5668\u3002\u901a\u8fc7\u5efa\u7acbSSH\u8fde\u63a5\u5e76\u6267\u884c\u547d\u4ee4\uff0c\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u78c1\u76d8\u4fe1\u606f\u3002\u8fd9\u4e2a\u4f8b\u5b50\u5c55\u793a\u4e86Python\u5728\u81ea\u52a8\u5316\u64cd\u4f5c\u670d\u52a1\u5668\u65b9\u9762\u7684\u5f3a\u5927\u80fd\u529b\uff0c\u4e3a\u670d\u52a1\u5668\u7ba1\u7406\u548c\u7ef4\u62a4\u63d0\u4f9b\u4e86\u4fbf\u5229\u3002</p> <p>\u5e0c\u671b\u672c\u6587\u5bf9\u4f60\u7406\u89e3Paramiko\u5e93\u7684\u4f7f\u7528\u4ee5\u53caPython\u64cd\u4f5c\u8fdc\u7a0b\u670d\u52a1\u5668\u6709\u6240\u5e2e\u52a9\uff01</p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--10%20%E7%88%AC%E5%8F%96%E5%B0%8F%E8%AF%B4-%E6%96%97%E7%BD%97%E5%A4%A7%E9%99%86/","title":"\u300apython\u6bcf\u5929\u4e00\u5c0f\u6bb5\u300b  10 \u722c\u53d6\u5c0f\u8bf4 \u6597\u7f57\u5927\u9646","text":""},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--10%20%E7%88%AC%E5%8F%96%E5%B0%8F%E8%AF%B4-%E6%96%97%E7%BD%97%E5%A4%A7%E9%99%86/#\u722c\u53d6\u5c0f\u8bf4\u6597\u7f57\u5927\u9646","title":"\u722c\u53d6\u5c0f\u8bf4\u6597\u7f57\u5927\u9646","text":"<p>@[toc] \u4ee5\u4e0b\u662f\u6839\u636e\u63d0\u4f9b\u7684\u5185\u5bb9\u8fdb\u884c\u6269\u5c55\u548c\u6574\u7406\u7684\u300apython\u6bcf\u5929\u4e00\u5c0f\u6bb5\u300b\u535a\u5ba2\u6587\u7ae0\u7684\u793a\u4f8b\uff1a</p> <p>\u7ae0\u8282\u6548\u679c\uff1a </p> <p>\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u5c06\u4f7f\u7528Python\u7f16\u5199\u4e00\u4e2a\u7b80\u5355\u7684\u722c\u866b\u7a0b\u5e8f\uff0c\u7528\u4e8e\u4ece\u5c0f\u8bf4\u7f51\u7ad9\u4e0a\u722c\u53d6\u300a\u6597\u7f57\u5927\u9646\u300b\u5c0f\u8bf4\u7684\u7ae0\u8282\u5185\u5bb9\uff0c\u5e76\u5c06\u5176\u4fdd\u5b58\u5230\u672c\u5730\u6587\u4ef6\u4e2d\u3002\u6211\u4eec\u5c06\u4f7f\u7528requests\u5e93\u53d1\u9001HTTP\u8bf7\u6c42\uff0clxml\u5e93\u89e3\u6790HTML\u54cd\u5e94\uff0c\u5e76\u4f7f\u7528XPath\u8868\u8fbe\u5f0f\u6765\u63d0\u53d6\u6240\u9700\u7684\u6570\u636e\u3002</p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--10%20%E7%88%AC%E5%8F%96%E5%B0%8F%E8%AF%B4-%E6%96%97%E7%BD%97%E5%A4%A7%E9%99%86/#1\u5b89\u88c5\u4f9d\u8d56\u5e93","title":"\uff081\uff09\u5b89\u88c5\u4f9d\u8d56\u5e93","text":"Bash<pre><code>pip install lxml\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--10%20%E7%88%AC%E5%8F%96%E5%B0%8F%E8%AF%B4-%E6%96%97%E7%BD%97%E5%A4%A7%E9%99%86/#2\u6b65\u9aa4\u6982\u8ff0","title":"\uff082\uff09\u6b65\u9aa4\u6982\u8ff0","text":"<ol> <li>\u83b7\u53d6\u4ee3\u7406\u5934\uff1a\u901a\u8fc7\u68c0\u67e5\u7f51\u9875\u5934\u90e8\u4fe1\u606f\uff0c\u83b7\u53d6User-Agent\uff0c\u7528\u4e8e\u4f2a\u88c5\u722c\u866b\u4ee3\u7801\u7684\u8bbf\u95ee\u4fe1\u606f\u3002</li> <li>XPath\u5b89\u88c5\u4f7f\u7528\uff1a\u5b89\u88c5XPath Helper\u6269\u5c55\u7a0b\u5e8f\uff0c\u5e76\u4f7f\u7528XPath\u8868\u8fbe\u5f0f\u5254\u9664HTML\u6807\u7b7e\uff0c\u63d0\u53d6\u5c0f\u8bf4\u6587\u5b57\u5185\u5bb9\u3002</li> <li>\u83b7\u53d6\u4e0b\u4e00\u7ae0\u5185\u5bb9\uff1a\u901a\u8fc7\u68c0\u67e5\u7f51\u9875\u5143\u7d20\uff0c\u627e\u5230\u4e0b\u4e00\u7ae0\u7684\u94fe\u63a5\uff0c\u5e76\u4f7f\u7528XPath\u8868\u8fbe\u5f0f\u6765\u83b7\u53d6\u4e0b\u4e00\u7ae0\u7684URL\u3002</li> </ol>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--10%20%E7%88%AC%E5%8F%96%E5%B0%8F%E8%AF%B4-%E6%96%97%E7%BD%97%E5%A4%A7%E9%99%86/#3\u722c\u866b\u51c6\u5907\u6b65\u9aa4","title":"\uff083\uff09\u722c\u866b\u51c6\u5907\u6b65\u9aa4","text":"<p>url\u4e3a\u5c0f\u8bf4\u7684\u7b2c\u4e00\u7ae0\uff0c\u7f51\u9875\u5730\u5740\uff1ahttps://www.51shucheng.net/wangluo/douluodalu/21750.html</p> <p></p> <p>\u83b7\u53d6\u4ee3\u7406\u5934\uff1a <ol> <li> <p>\u83b7\u53d6\u4ee3\u7406\u5934\u7684\u4f5c\u7528\u4e3b\u8981\u662f\u7528\u4e8e\u4f2a\u88c5\u4ee3\u7801\u8bbf\u95ee\u7684\u4fe1\u606f</p> </li> <li> <p>\u5728\u7f51\u9875\u7a7a\u767d\u5904\uff0c\u9f20\u6807\u53f3\u51fb\u70b9\u51fb\u68c0\u67e5\uff0c\u6253\u5f00\u754c\u9762\u5728network\u9009\u9879\uff0c\u4f7f\u7528ctrl+r\u5237\u65b0\u4e00\u4e0bnetwork\u7684\u4fe1\u606f\uff0c\u622a\u56fe\u4e2d2\u7684\u4efb\u610f\u4f4d\u7f6e\uff0c\u9f20\u6807\u5de6\u51fb\uff0c\u53ef\u4ee5\u770b\u5230headers\u5934\u90e8\u4fe1\u606f\uff0c\u627e\u5230User-Agent\uff0c\u590d\u5236\u8be5\u4fe1\u606f\uff0c\u7528\u4e8e\u4ee3\u7801\uff1a</p> </li> </ol> Bash<pre><code>User-Agent:\nMozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36\n</code></pre> <p></p> <p>xpath\u5b89\u88c5\u4f7f\u7528 <ol> <li>google\u6d4f\u89c8\u5668\u5b89\u88c5\u6269\u5c55\u7a0b\u5e8f:XPath Helper\uff08\u53ef\u5c06\u5feb\u6377\u952e\u8bbe\u7f6e\u4e3actrl+u\uff0c\u6ca1\u8bbe\u7f6e\u4e0d\u77e5\u9053\u5177\u4f53\u5feb\u6377\u952e\uff0c\u6253\u4e0d\u5f00\u9ed1\u6846\uff09 </li> </ol> <p>\u5728\u5c0f\u8bf4\u7f51\u9875\u754c\u9762\uff0c\u6309ctrl+uxpath\u7684\u5c0f\u9ed1\u6846\uff0c\u8f93\u5165\uff1astring(//div/p) <p>string(//div/p)\u662f\u901a\u8fc7\u7f51\u9875\u622a\u53d6\uff0c\u56e0\u4e3a\u4e0d\u61c2html\uff0c\u5c31\u7c97\u7565\u8fc7\u4e00\u904d <p> </p> <p></p> <p> xpath\u914d\u5408lxml\u6a21\u5757\uff0c\u7528\u4e8e\u5254\u9664html\u6807\u7b7e\uff0c\u4ee5\u53ca\u5e95\u90e8\u7684\u8bc4\u8bba\uff0c\u5269\u4e0b\u5c31\u662f\u5c0f\u8bf4\u6587\u5b57\u3002 <p></p> <p>\u83b7\u53d6\u4e0b\u4e00\u7ae0\u5185\u5bb9\uff1a <p>\u5728\u4e0b\u4e00\u7ae0\u5904\uff0c\u9f20\u6807\u53f3\u51fb\u70b9\u51fb\u68c0\u67e5 <p></p> <p>\u5728elements\u5904\uff0c\u627e\u5230\u4e0b\u4e00\u7ae0\u7684\u94fe\u63a5\uff0c  \u9f20\u6807\u53f3\u51fbCopy-&gt;Copy Xpath  \u7c98\u8d34xpath\u67e5\u770b\u83b7\u53d6\u7684\u5177\u4f53\u5185\u5bb9\u662f\u5426\u6b63\u786e\uff0c\u663e\u793a\u7684\u65f6\u4e0b\u4e00\u7ae0\u7684\u4e3b\u9898\u5373\u53ef\u3002 <p>\u4f7f\u7528XPath\u8868\u8fbe\u5f0f\u6765\u4eceHTML\u9875\u9762\u4e2d\u67e5\u627e\u4e0b\u4e00\u7ae0\u94fe\u63a5\u7684URL <p>Python<pre><code>next_chapter_url = e.xpath('//*[@id=\"BookNext\"]/@href')\n</code></pre> </p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--10%20%E7%88%AC%E5%8F%96%E5%B0%8F%E8%AF%B4-%E6%96%97%E7%BD%97%E5%A4%A7%E9%99%86/#4\u722c\u866b\u4ee3\u7801\u5b9e\u73b0","title":"\uff084\uff09\u722c\u866b\u4ee3\u7801\u5b9e\u73b0","text":"Python<pre><code>#\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u6240\u9700\u7684\u5e93\uff1a\nimport requests\nfrom lxml import etree\nfrom urllib.parse import urljoin\n\n#\u7136\u540e\uff0c\u6211\u4eec\u5b9a\u4e49\u521d\u59cbURL\u548c\u4e00\u4e2a\u5faa\u73af\uff0c\u7528\u4e8e\u904d\u5386\u6bcf\u4e00\u7ae0\u8282\uff1a\nurl = 'https://www.51shucheng.net/wangluo/douluodalu/21750.html'\n\nwhile True:\n    # \u53d1\u9001GET\u8bf7\u6c42\n    resp = requests.get(url, headers=headers)\n\n    # \u89e3\u6790HTML\u54cd\u5e94\n    e = etree.HTML(resp.text)\n\n    # \u63d0\u53d6\u7ae0\u8282\u6807\u9898\u548c\u5185\u5bb9\n    info = ' '.join(e.xpath('//div/p//text()'))\n    title = e.xpath('//h1/text()')[0]\n\n    # \u6253\u5370\u548c\u4fdd\u5b58\u7ae0\u8282\u5185\u5bb9\n    print(title)\n    with open('\u6597\u7f57\u5927\u9646.txt', 'a', encoding='utf-8') as f:\n        f.write(title + '\\n\\n' + info + '\\n\\n')\n\n    # \u83b7\u53d6\u4e0b\u4e00\u7ae0\u7684URL\n    next_chapter_url = e.xpath('//*[@id=\"BookNext\"]/@href')\n    if not next_chapter_url:\n        print(\"\u6ca1\u6709\u66f4\u591a\u7ae0\u8282\u53ef\u7528\u3002\")\n        break\n\n    # \u66f4\u65b0URL\n    url = urljoin(url, next_chapter_url[0])\n</code></pre> <p>\u5728\u4ee3\u7801\u4e2d\uff0c\u4f7f\u7528<code>requests.get()</code>\u53d1\u9001GET\u8bf7\u6c42\uff0c\u5e76\u4f7f\u7528<code>headers</code>\u53c2\u6570\u4f20\u9012\u4ee3\u7406\u5934\u4fe1\u606f\u3002\u7136\u540e\uff0c\u4f7f\u7528lxml\u5e93\u7684<code>etree.HTML()</code>\u51fd\u6570\u89e3\u6790HTML\u54cd\u5e94\uff0c\u4ee5\u4fbf\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528XPath\u8868\u8fbe\u5f0f\u63d0\u53d6\u6240\u9700\u7684\u6570\u636e\u3002</p> <p>\u6211\u4eec\u4f7f\u7528XPath\u8868\u8fbe\u5f0f <code>//div/p//text()</code> \u63d0\u53d6\u7ae0\u8282\u5185\u5bb9\uff0c\u5e76\u4f7f\u7528 <code>//h1/text()</code> \u63d0\u53d6\u7ae0\u8282\u6807\u9898\u3002\u7136\u540e\uff0c\u6211\u4eec\u6253\u5370\u7ae0\u8282\u6807\u9898\uff0c\u5e76\u5c06\u7ae0\u8282\u6807\u9898\u548c\u5185\u5bb9\u5199\u5165\u5230\u540d\u4e3a <code>\u6597\u7f57\u5927\u9646.txt</code> \u7684\u6587\u4ef6\u4e2d\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528XPath\u8868\u8fbe\u5f0f <code>//*[@id=\"BookNext\"]/@href</code> \u83b7\u53d6\u4e0b\u4e00\u7ae0\u7684URL\uff0c\u5e76\u4f7f\u7528<code>urljoin()</code>\u51fd\u6570\u5c06\u76f8\u5bf9URL\u8f6c\u6362\u4e3a\u7edd\u5bf9URL\uff0c\u4ee5\u786e\u4fdd\u6b63\u786e\u6784\u5efaURL\u3002</p> <p>\u6700\u540e\uff0c\u901a\u8fc7\u5faa\u73af\u7ee7\u7eed\u5904\u7406\u4e0b\u4e00\u7ae0\uff0c\u76f4\u5230\u6ca1\u6709\u66f4\u591a\u7ae0\u8282\u53ef\u7528\u3002</p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--10%20%E7%88%AC%E5%8F%96%E5%B0%8F%E8%AF%B4-%E6%96%97%E7%BD%97%E5%A4%A7%E9%99%86/#5\u6267\u884c\u7ed3\u679c","title":"\uff085\uff09\u6267\u884c\u7ed3\u679c","text":"<p>\u5728\u4ee3\u7801\u6267\u884c\u5b8c\u6210\u540e\uff0c\u6211\u4eec\u5c06\u5728\u63a7\u5236\u53f0\u4e0a\u770b\u5230\u6bcf\u4e00\u7ae0\u7684\u6807\u9898\uff0c\u5e76\u5c06\u6240\u6709\u7ae0\u8282\u7684\u6807\u9898\u548c\u5185\u5bb9\u4fdd\u5b58\u5728 <code>\u6597\u7f57\u5927\u9646.txt</code> \u6587\u4ef6\u4e2d\u3002</p> <p>\u53ef\u4ee5\u6839\u636e\u9700\u8981\u5bf9\u4ee3\u7801\u8fdb\u884c\u4fee\u6539\u548c\u4f18\u5316\uff0c\u4f8b\u5982\u6dfb\u52a0\u5f02\u5e38\u5904\u7406\u3001\u8bbe\u7f6e\u8bf7\u6c42\u5ef6\u8fdf\u7b49\u3002</p> <p></p> <p>\u5c0f\u8bf4\u5185\u5bb9\uff1a </p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--11%20%E6%93%8D%E4%BD%9C%20Excel%20%E8%AF%A6%E8%A7%A3%20/","title":"\u300apython\u6bcf\u5929\u4e00\u5c0f\u6bb5\u300b  11 \u64cd\u4f5c Excel \u8be6\u89e3","text":""},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--11%20%E6%93%8D%E4%BD%9C%20Excel%20%E8%AF%A6%E8%A7%A3%20/#python-\u64cd\u4f5c-excel-\u8be6\u89e3","title":"Python \u64cd\u4f5c Excel \u8be6\u89e3","text":"<p>Excel \u662f\u529e\u516c\u8f6f\u4ef6\u4e2d\u5e38\u7528\u7684\u5de5\u5177\u4e4b\u4e00\uff0c\u5b83\u53ef\u4ee5\u7528\u4e8e\u5b58\u50a8\u3001\u6574\u7406\u548c\u5206\u6790\u6570\u636e\u3002Python \u662f\u4e00\u95e8\u5f3a\u5927\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u5b83\u53ef\u4ee5\u7528\u4e8e\u81ea\u52a8\u5316 Excel \u64cd\u4f5c\u3002</p> <p>\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c06\u4ecb\u7ecd Python \u64cd\u4f5c Excel \u7684\u8be6\u7ec6\u77e5\u8bc6\uff0c\u5305\u62ec\uff1a</p> <ul> <li>\u521b\u5efa DataFrame \u5bf9\u8c61</li> <li>\u8bfb\u53d6 Excel \u6587\u4ef6</li> <li>\u5199\u5165 Excel \u6587\u4ef6</li> <li>\u7b5b\u9009\u6570\u636e</li> <li>\u6392\u5e8f\u6570\u636e</li> <li>\u8ba1\u7b97\u6570\u636e</li> <li>\u5408\u5e76\u6570\u636e</li> <li>\u5220\u9664\u6570\u636e</li> </ul>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--11%20%E6%93%8D%E4%BD%9C%20Excel%20%E8%AF%A6%E8%A7%A3%20/#\u521b\u5efa-dataframe-\u5bf9\u8c61","title":"\u521b\u5efa DataFrame \u5bf9\u8c61","text":"<p>\u8981\u64cd\u4f5c Excel \u6570\u636e\uff0c\u6211\u4eec\u9700\u8981\u5c06 Excel \u6570\u636e\u8f6c\u6362\u4e3a DataFrame \u5bf9\u8c61\u3002DataFrame \u5bf9\u8c61\u662f pandas \u5e93\u4e2d\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5b83\u53ef\u4ee5\u7528\u4e8e\u5b58\u50a8\u8868\u683c\u6570\u636e\u3002</p> <p>\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u521b\u5efa DataFrame \u5bf9\u8c61\uff1a</p> Text Only<pre><code>import pandas as pd\n\n# \u521b\u5efa DataFrame \u5bf9\u8c61\ndf = pd.DataFrame({\n    \"a\": [1, 2, 3],\n    \"b\": [4, 5, 6],\n    \"c\": [7, 8, 9]\n})\n\n# \u67e5\u770b DataFrame \u5bf9\u8c61\nprint(df)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\uff1a</p> Text Only<pre><code>   a  b  c\n0  1  4  7\n1  2  5  8\n2  3  6  9\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--11%20%E6%93%8D%E4%BD%9C%20Excel%20%E8%AF%A6%E8%A7%A3%20/#\u8bfb\u53d6-excel-\u6587\u4ef6","title":"\u8bfb\u53d6 Excel \u6587\u4ef6","text":"<p>\u8981\u8bfb\u53d6 Excel \u6587\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 pandas \u5e93\u7684 <code>read_excel()</code> \u51fd\u6570\u3002</p> <p>\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u8bfb\u53d6 Excel \u6587\u4ef6\uff1a</p> Text Only<pre><code># \u8bfb\u53d6 Excel \u6587\u4ef6\ndf = pd.read_excel(\"data.xlsx\")\n\n# \u67e5\u770b DataFrame \u5bf9\u8c61\nprint(df)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u4e0e\u4e0a\u9762\u7684\u4ee3\u7801\u76f8\u540c\u3002</p> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>read_excel()</code> \u51fd\u6570\u7684 <code>nrows</code> \u53c2\u6570\u6307\u5b9a\u8981\u8bfb\u53d6\u7684\u884c\u6570\uff0c\u4ee5\u53ca <code>usecols</code> \u53c2\u6570\u6307\u5b9a\u8981\u8bfb\u53d6\u7684\u5217\u3002</p> <p>\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u8bfb\u53d6 Excel \u6587\u4ef6\u7684\u524d\u4e24\u884c\u548c <code>a</code> \u5217\u548c <code>b</code> \u5217\u7684\u6570\u636e\uff1a</p> Text Only<pre><code># \u8bfb\u53d6\u524d\u4e24\u884c\ndf = pd.read_excel(\"data.xlsx\", nrows=2)\nprint(df)\n\n# \u8bfb\u53d6 a \u548c b \u5217\ndf = pd.read_excel(\"data.xlsx\", usecols=[\"a\", \"b\"])\nprint(df)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\uff1a</p> Text Only<pre><code>   a  b\n0  1  4\n1  2  5\n\n   a  b\n0  1  4\n1  2  5\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--11%20%E6%93%8D%E4%BD%9C%20Excel%20%E8%AF%A6%E8%A7%A3%20/#\u5199\u5165-excel-\u6587\u4ef6","title":"\u5199\u5165 Excel \u6587\u4ef6","text":"<p>\u8981\u5199\u5165 Excel \u6587\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 pandas \u5e93\u7684 <code>to_excel()</code> \u51fd\u6570\u3002</p> <p>\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u5199\u5165 Excel \u6587\u4ef6\uff1a</p> Text Only<pre><code># \u5199\u5165 Excel \u6587\u4ef6\ndf.to_excel(\"output.xlsx\")\n</code></pre> <p>\u8fd9\u5c06\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>output.xlsx</code> \u7684 Excel \u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b <code>df</code> \u5bf9\u8c61\u7684\u6570\u636e\u3002</p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--11%20%E6%93%8D%E4%BD%9C%20Excel%20%E8%AF%A6%E8%A7%A3%20/#\u7b5b\u9009\u6570\u636e","title":"\u7b5b\u9009\u6570\u636e","text":"<p>\u8981\u7b5b\u9009 Excel \u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>loc</code> \u6216 <code>query()</code> \u65b9\u6cd5\u3002</p> <p>\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u7b5b\u9009 <code>a</code> \u5217\u503c\u5c0f\u4e8e 10 \u7684\u6570\u636e\uff1a</p> Text Only<pre><code># \u7b5b\u9009 a \u5217\u503c\u5c0f\u4e8e 10 \u7684\u6570\u636e\ndf = df[df[\"a\"] &lt; 10]\n\nprint(df)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\uff1a</p> Text Only<pre><code>   a  b\n0  1  4\n1  2  5\n2  3  6\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--11%20%E6%93%8D%E4%BD%9C%20Excel%20%E8%AF%A6%E8%A7%A3%20/#\u6392\u5e8f\u6570\u636e","title":"\u6392\u5e8f\u6570\u636e","text":"<p>\u8981\u6392\u5e8f Excel \u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>sort_values()</code> \u65b9\u6cd5\u3002</p> <p>\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u6309 <code>a</code> \u5217\u5347\u5e8f\u6392\u5e8f\u6570\u636e\uff1a</p> Text Only<pre><code># \u6309 a \u5217\u5347\u5e8f\u6392\u5e8f\u6570\u636e\ndf = df.sort_values(\"a\")\n\nprint(df)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\uff1a</p> Text Only<pre><code>   a  b\n0  1  4\n1  2  5\n2  3  6\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--11%20%E6%93%8D%E4%BD%9C%20Excel%20%E8%AF%A6%E8%A7%A3%20/#\u8ba1\u7b97\u6570\u636e","title":"\u8ba1\u7b97\u6570\u636e","text":"<p>\u8981\u8ba1\u7b97 Excel \u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>apply()</code> \u65b9\u6cd5\u3002</p> <p>\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u8ba1\u7b97 <code>a</code> \u5217\u548c <code>b</code> \u5217\u7684\u548c\uff1a</p> <p>Python</p> Text Only<pre><code># \u8ba1\u7b97 a \u5217\u548c b \u5217\u7684\u548c\ndf[\"sum\"] = df[\"a\"] + df[\"b\"]\n\nprint(df)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\uff1a</p> Text Only<pre><code>   a  b  sum\n0  1  4    5\n1  2  5    7\n2  3  6    9\n</code></pre> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>Series.sum()</code> \u65b9\u6cd5\u76f4\u63a5\u8ba1\u7b97\u5217\u7684\u548c\uff1a</p> Text Only<pre><code># \u8ba1\u7b97 a \u5217\u7684\u548c\nsum_a = df[\"a\"].sum()\n\nprint(sum_a)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\uff1a</p> Text Only<pre><code>6\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--11%20%E6%93%8D%E4%BD%9C%20Excel%20%E8%AF%A6%E8%A7%A3%20/#\u5408\u5e76\u6570\u636e","title":"\u5408\u5e76\u6570\u636e","text":"<p>\u8981\u5408\u5e76 Excel \u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>concat()</code> \u65b9\u6cd5\u3002</p> <p>\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u5408\u5e76\u4e24\u4e2a Excel \u6587\u4ef6\uff1a</p> <p>Python</p> Text Only<pre><code>import pandas as pd\n\ndef export_to_excel(df, file_name, sheet_name):\n    df.to_excel(\n        file_name,\n        sheet_name=sheet_name,\n        index=False,\n        engine=\"openpyxl\"\n    )\n\n# \u521b\u5efa\u7b2c\u4e00\u4e2a\u6570\u636e\u6846\ndf1 = pd.DataFrame({\n    \"a1\": [1, 2, 3],\n    \"b1\": [4, 5, 6],\n    \"c1\": [7, 8, 9]\n})\n\n# \u521b\u5efa\u7b2c\u4e8c\u4e2a\u6570\u636e\u6846\ndf2 = pd.DataFrame({\n    \"a2\": [1, 2, 3],\n    \"b2\": [4, 5, 6],\n    \"c2\": [7, 8, 9]\n})\n\n# \u5bfc\u51fa\u7b2c\u4e00\u4e2a\u6570\u636e\u6846\u5230Excel\nexport_to_excel(df1, \"data1.xlsx\", \"sheet1\")\n\n# \u5bfc\u51fa\u7b2c\u4e8c\u4e2a\u6570\u636e\u6846\u5230Excel\nexport_to_excel(df2, \"data2.xlsx\", \"sheet2\")\n\n# \u8bfb\u53d6\u7b2c\u4e00\u4e2a Excel \u6587\u4ef6df1\nprint(df1)\n\nprint(\"\\n\")\n\n# \u8bfb\u53d6\u7b2c\u4e8c\u4e2a Excel \u6587\u4ef6df2\nprint(df2)\n\n\n#\u5408\u5e76df1\u548cdf2\uff0c \u5408\u5e76\u4e24\u4e2a Excel \u6587\u4ef6\nmerged_df = pd.concat([df1, df2], axis=1)\nprint(merged_df)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\uff1a</p> Text Only<pre><code># \u8bfb\u53d6\u7b2c\u4e00\u4e2a Excel \u6587\u4ef6df1\n    a1  b1  c1\n0   1   4   7\n1   2   5   8\n2   3   6   9\n\n\n\n# \u8bfb\u53d6\u7b2c\u4e8c\u4e2a Excel \u6587\u4ef6df2\n   a2  b2  c2\n0   1   4   7\n1   2   5   8\n2   3   6   9\n\n\n#\u5408\u5e76df1\u548cdf2\uff0c \u5408\u5e76\u4e24\u4e2a Excel \u6587\u4ef6\n\n    a1  b1  c1  a2  b2  c2\n0   1   4   7   1   4   7\n1   2   5   8   2   5   8\n2   3   6   9   3   6   9\n</code></pre> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>merge()</code> \u65b9\u6cd5\u5408\u5e76 Excel \u6570\u636e\uff0c\u8be5\u65b9\u6cd5\u5141\u8bb8\u6211\u4eec\u6307\u5b9a\u5408\u5e76\u7684\u6761\u4ef6\u3002</p> <p>\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u5408\u5e76\u4e24\u4e2a Excel \u6587\u4ef6\uff0c\u5e76\u6839\u636e <code>a</code> \u5217\u8fdb\u884c\u5408\u5e76\uff1a</p> Text Only<pre><code># \u8bfb\u53d6\u7b2c\u4e00\u4e2a Excel \u6587\u4ef6\nprint(df1)\nprint(\"\\n\")\n\n# \u8bfb\u53d6\u7b2c\u4e8c\u4e2a Excel \u6587\u4ef6\nprint(df2)\nprint(\"\\n\")\n\n# \u5408\u5e76\u4e24\u4e2a Excel \u6587\u4ef6\uff0c\u5e76\u6839\u636e a \u5217\u8fdb\u884c\u5408\u5e76\nmerged_df1 = pd.merge(df1['a1'],df2['a2'],left_index=True,right_index=True)\nprint(merged_df1)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\uff1a</p> Text Only<pre><code>#df1\n    a1  b1  c1\n0   1   4   7\n1   2   5   8\n2   3   6   9\n\n#df2\n\n   a2  b2  c2\n0   1   4   7\n1   2   5   8\n2   3   6   9\n\n\n#\u5408\u5e76\u540e\n   a1  a2\n0   1   1\n1   2   2\n2   3   3\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--11%20%E6%93%8D%E4%BD%9C%20Excel%20%E8%AF%A6%E8%A7%A3%20/#\u5220\u9664\u6570\u636e","title":"\u5220\u9664\u6570\u636e","text":"<p>\u8981\u5220\u9664 Excel \u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>drop()</code> \u65b9\u6cd5\u3002</p> <p>\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u5220\u9664 Excel \u6587\u4ef6\u4e2d\u7684\u4e00\u884c\uff1a</p> Text Only<pre><code>#\u8bfb\u53d6excel\u6587\u4ef6\uff08df1\u548cdf2\u5408\u5e76\u7684\u503c\uff09\nprint(merged_df)\nprint(\"\\n\")\n\n\n#\u5220\u9664\u7b2c\u4e00\u884c\nmerged_df = merged_df.drop(0)\nprint(merged_df)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\uff1a</p> Text Only<pre><code>#\u539f\u6570\u636e\n    a1  b1  c1  a2  b2  c2\n0   1   4   7   1   4   7\n1   2   5   8   2   5   8\n2   3   6   9   3   6   9\n\n#\u5220\u9664\u540e\n   a1  b1  c1  a2  b2  c2\n1   2   5   8   2   5   8\n2   3   6   9   3   6   9\n</code></pre> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>drop()</code> \u65b9\u6cd5\u5220\u9664 Excel \u6587\u4ef6\u4e2d\u7684\u4e00\u5217\uff1a</p> Text Only<pre><code>#\u8bfb\u53d6excel\u6587\u4ef6\uff08df1\u548cdf2\u5408\u5e76\u7684\u503c\uff09\nprint(merged_df)\nprint(\"\\n\")\n\n#\u5220\u9664a1\u5217\nmerged_df = merged_df.drop(\"a1\",axis=1)\nprint(merged_df)\n\n#\u540c\u65f6\u5220\u9664\u4e24\u5217\n#merged_df = merged_df.drop([\"b1\",\"b1\"],axis=1)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\uff1a</p> Text Only<pre><code>   a1  b1  c1  a2  b2  c2\n1   2   5   8   2   5   8\n2   3   6   9   3   6   9\n\n\n   b1  c1  a2  b2  c2\n1   5   8   2   5   8\n2   6   9   3   6   9\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--11%20%E6%93%8D%E4%BD%9C%20Excel%20%E8%AF%A6%E8%A7%A3%20/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86 Python \u64cd\u4f5c Excel \u7684\u8be6\u7ec6\u77e5\u8bc6\uff0c\u5305\u62ec\uff1a</p> <ul> <li>\u521b\u5efa DataFrame \u5bf9\u8c61</li> <li>\u8bfb\u53d6 Excel \u6587\u4ef6</li> <li>\u5199\u5165 Excel \u6587\u4ef6</li> <li>\u7b5b\u9009\u6570\u636e</li> <li>\u6392\u5e8f\u6570\u636e</li> <li>\u8ba1\u7b97\u6570\u636e</li> <li>\u5408\u5e76\u6570\u636e</li> <li>\u5220\u9664\u6570\u636e</li> </ul> <p>\u901a\u8fc7\u5b66\u4e60\u672c\u6559\u7a0b\uff0c\u60a8\u5c06\u80fd\u591f\u4f7f\u7528 Python \u8fdb\u884c\u5404\u79cd\u64cd\u4f5c\u3002</p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--11%20%E6%93%8D%E4%BD%9C%20Excel%20%E8%AF%A6%E8%A7%A3%20/#\u7ec3\u4e60\u9898","title":"\u7ec3\u4e60\u9898","text":"<p>\u7ec3\u4e60 1</p> <p>\u8bfb\u53d6 <code>data.xlsx</code> \u6587\u4ef6\uff0c\u5e76\u5c06 <code>a</code> \u5217\u548c <code>b</code> \u5217\u7684\u6570\u636e\u5408\u5e76\u5230\u4e00\u4e2a\u65b0\u5217\u4e2d\u3002</p> <p>\u7b54\u6848</p> <p>Python</p> Text Only<pre><code># \u8bfb\u53d6 Excel \u6587\u4ef6\ndf = pd.read_excel(\"data.xlsx\")\n\n# \u5c06 a \u5217\u548c b \u5217\u7684\u6570\u636e\u5408\u5e76\u5230\u4e00\u4e2a\u65b0\u5217\u4e2d\ndf[\"sum\"] = df[\"a\"] + df[\"b\"]\n\n# \u67e5\u770b DataFrame \u5bf9\u8c61\nprint(df)\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8f93\u51fa\u7ed3\u679c\uff1a</p> Text Only<pre><code>   a  b  c  sum\n0  1  4  7  11\n1  2  5  8  15\n2  3  6  9  18\n</code></pre> <p>\u7ec3\u4e60 2</p> <p>\u5c06 <code>data.xlsx</code> \u6587\u4ef6\u62c6\u5206\u4e3a\u4e24\u4e2a\u6587\u4ef6\uff0c\u4e00\u4e2a\u5305\u542b <code>a</code> \u5217\u548c <code>b</code> \u5217\u7684\u6570\u636e\uff0c\u53e6\u4e00\u4e2a\u5305\u542b <code>c</code> \u5217\u7684\u6570\u636e\u3002</p> <p>\u7b54\u6848</p> <p>Python</p> Text Only<pre><code># \u8bfb\u53d6 Excel \u6587\u4ef6\ndf = pd.read_excel(\"data.xlsx\")\n\n# \u5c06 Excel \u6587\u4ef6\u62c6\u5206\u4e3a\u4e24\u4e2a\u6587\u4ef6\ndf1 = df[[\"a\", \"b\"]]\ndf2 = df[[\"c\"]]\n\n# \u5c06\u4e24\u4e2a DataFrame \u5bf9\u8c61\u4fdd\u5b58\u5230 Excel \u6587\u4ef6\ndf1.to_excel(\"data1.xlsx\")\ndf2.to_excel(\"data2.xlsx\")\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u7ec3\u4e60 3</p> <p>\u8ba1\u7b97 <code>data.xlsx</code> \u6587\u4ef6\u4e2d\u6bcf\u4e2a\u5217\u7684\u5e73\u5747\u503c\u3002</p> <p>\u7b54\u6848</p> <p>Python</p> Text Only<pre><code># \u8bfb\u53d6 Excel \u6587\u4ef6\ndf = pd.read_excel(\"data.xlsx\")\n\n# \u8ba1\u7b97\u6bcf\u4e2a\u5217\u7684\u5e73\u5747\u503c\nfor col in df.columns:\n    print(col, df[col].mean())\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8f93\u51fa\u7ed3\u679c\uff1a</p> Text Only<pre><code>a  3\nb  5\nc  8\n</code></pre> <p>\u6269\u5c55</p> <p>\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86 Python \u64cd\u4f5c Excel \u7684\u5e38\u7528\u64cd\u4f5c\u3002\u60a8\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u8fdb\u884c\u6269\u5c55\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>\u4f7f\u7528 <code>applymap()</code> \u65b9\u6cd5\u5bf9 Excel \u6570\u636e\u8fdb\u884c\u6279\u91cf\u5904\u7406</li> <li>\u4f7f\u7528 <code>query()</code> \u65b9\u6cd5\u8fdb\u884c\u590d\u6742\u7684\u7b5b\u9009</li> <li>\u4f7f\u7528 <code>groupby()</code> \u65b9\u6cd5\u5bf9 Excel \u6570\u636e\u8fdb\u884c\u5206\u7ec4\u7edf\u8ba1</li> <li>\u4f7f\u7528 <code>pivot_table()</code> \u65b9\u6cd5\u521b\u5efa Excel \u6570\u636e\u900f\u89c6\u8868</li> </ul> <p>\u5e0c\u671b\u672c\u6559\u7a0b\u5bf9\u60a8\u6709\u6240\u5e2e\u52a9\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u989d\u5916\u7684\u8bf4\u660e\u548c\u63d0\u793a\uff1a</p> <ul> <li>\u5728\u8bfb\u53d6 Excel \u6587\u4ef6\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>sheet_name</code> \u53c2\u6570\u6307\u5b9a\u8981\u8bfb\u53d6\u7684\u5de5\u4f5c\u8868\u3002</li> <li>\u5728\u5199\u5165 Excel \u6587\u4ef6\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>index</code> \u53c2\u6570\u6307\u5b9a\u662f\u5426\u8981\u5199\u5165\u884c\u7d22\u5f15\u3002</li> <li>\u5728\u7b5b\u9009\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>loc</code> \u65b9\u6cd5\u6216 <code>query()</code> \u65b9\u6cd5\u3002<code>loc</code> \u65b9\u6cd5\u7528\u4e8e\u6839\u636e\u884c\u7d22\u5f15\u548c\u5217\u7d22\u5f15\u8fdb\u884c\u7b5b\u9009\uff0c<code>query()</code> \u65b9\u6cd5\u7528\u4e8e\u6839\u636e\u903b\u8f91\u8868\u8fbe\u5f0f\u8fdb\u884c\u7b5b\u9009\u3002</li> <li>\u5728\u6392\u5e8f\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>sort_values()</code> \u65b9\u6cd5\u3002<code>sort_values()</code> \u65b9\u6cd5\u53ef\u4ee5\u6839\u636e\u5355\u4e2a\u5217\u6216\u591a\u4e2a\u5217\u8fdb\u884c\u6392\u5e8f\u3002</li> <li>\u5728\u8ba1\u7b97\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>apply()</code> \u65b9\u6cd5\u6216 <code>Series.apply()</code> \u65b9\u6cd5\u3002<code>apply()</code> \u65b9\u6cd5\u53ef\u4ee5\u5bf9\u6574\u4e2a DataFrame \u5bf9\u8c61\u8fdb\u884c\u8ba1\u7b97\uff0c<code>Series.apply()</code> \u65b9\u6cd5\u53ef\u4ee5\u5bf9\u5355\u4e2a Series \u5bf9\u8c61\u8fdb\u884c\u8ba1\u7b97\u3002</li> <li>\u5728\u5408\u5e76\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>concat()</code> \u65b9\u6cd5\u6216 <code>merge()</code> \u65b9\u6cd5\u3002<code>concat()</code> \u65b9\u6cd5\u7528\u4e8e\u5408\u5e76\u5177\u6709\u76f8\u540c\u5217\u540d\u7684 Excel \u6587\u4ef6\uff0c<code>merge()</code> \u65b9\u6cd5\u7528\u4e8e\u5408\u5e76\u5177\u6709\u4e0d\u540c\u5217\u540d\u7684 Excel \u6587\u4ef6\u3002</li> <li>\u5728\u5220\u9664\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>drop()</code> \u65b9\u6cd5\u3002<code>drop()</code> \u65b9\u6cd5\u53ef\u4ee5\u5220\u9664\u884c\u6216\u5217\u3002</li> </ul> <p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u7ec3\u4e60\u9898\u7684\u6269\u5c55\uff1a</p> <p>\u7ec3\u4e60 1</p> <p>\u53ef\u4ee5\u4f7f\u7528 <code>apply()</code> \u65b9\u6cd5\u5bf9 <code>a</code> \u5217\u548c <code>b</code> \u5217\u7684\u6570\u636e\u8fdb\u884c\u5408\u5e76\uff0c\u4f8b\u5982\uff1a</p> <p>Python</p> Text Only<pre><code># \u8bfb\u53d6 Excel \u6587\u4ef6\ndf = pd.read_excel(\"data.xlsx\")\n\n# \u5c06 a \u5217\u548c b \u5217\u7684\u6570\u636e\u5408\u5e76\u5230\u4e00\u4e2a\u65b0\u5217\u4e2d\ndf[\"sum\"] = df.apply(lambda row: row[\"a\"] + row[\"b\"], axis=1)\n\n# \u67e5\u770b DataFrame \u5bf9\u8c61\nprint(df)\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u7ec3\u4e60 2</p> <p>\u53ef\u4ee5\u4f7f\u7528 <code>DataFrame.split()</code> \u65b9\u6cd5\u5c06 Excel \u6587\u4ef6\u62c6\u5206\u4e3a\u591a\u4e2a\u6587\u4ef6\uff0c\u4f8b\u5982\uff1a</p> <p>Python</p> Text Only<pre><code># \u8bfb\u53d6 Excel \u6587\u4ef6\ndf = pd.read_excel(\"data.xlsx\")\n\n# \u5c06 Excel \u6587\u4ef6\u62c6\u5206\u4e3a\u4e24\u4e2a\u6587\u4ef6\ndf1, df2 = df.split([\"a\", \"b\"], axis=1)\n\n# \u5c06\u4e24\u4e2a DataFrame \u5bf9\u8c61\u4fdd\u5b58\u5230 Excel \u6587\u4ef6\ndf1.to_excel(\"data1.xlsx\")\ndf2.to_excel(\"data2.xlsx\")\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u7ec3\u4e60 3</p> <p>\u53ef\u4ee5\u4f7f\u7528 <code>DataFrame.describe()</code> \u65b9\u6cd5\u8ba1\u7b97 Excel \u6587\u4ef6\u4e2d\u6bcf\u4e2a\u5217\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u4f8b\u5982\uff1a</p> <p>Python</p> Text Only<pre><code># \u8bfb\u53d6 Excel \u6587\u4ef6\ndf = pd.read_excel(\"data.xlsx\")\n\n# \u8ba1\u7b97\u6bcf\u4e2a\u5217\u7684\u7edf\u8ba1\u4fe1\u606f\nprint(df.describe())\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u5e0c\u671b\u8fd9\u4e9b\u8bf4\u660e\u548c\u63d0\u793a\u5bf9\u60a8\u6709\u6240\u5e2e\u52a9\u3002</p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%93%8D%E7%BA%B5mysql%E6%95%B0%E6%8D%AE%E5%BA%93/","title":"\u300apython\u6bcf\u5929\u4e00\u5c0f\u6bb5\u300b  12 \u64cd\u7eb5mysql\u6570\u636e\u5e93","text":""},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%93%8D%E7%BA%B5mysql%E6%95%B0%E6%8D%AE%E5%BA%93/#python\u6bcf\u5929\u4e00\u5c0f\u6bb5-12-\u64cd\u7eb5mysql","title":"\u300apython\u6bcf\u5929\u4e00\u5c0f\u6bb5\u300b\u2013 \uff0812\uff09 \u64cd\u7eb5mysql","text":""},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%93%8D%E7%BA%B5mysql%E6%95%B0%E6%8D%AE%E5%BA%93/#\u7b80\u4ecb","title":"\u7b80\u4ecb","text":"<p>Python \u662f\u76ee\u524d\u6700\u6d41\u884c\u7684\u7f16\u7a0b\u8bed\u8a00\u4e4b\u4e00\uff0c\u5176\u7b80\u5355\u6613\u5b66\u3001\u53ef\u8bfb\u6027\u5f3a\u3001\u53ef\u79fb\u690d\u6027\u597d\u7b49\u7279\u70b9\uff0c\u4f7f\u5f97\u5176\u5728\u6570\u636e\u5206\u6790\u3001Web \u5f00\u53d1\u3001\u81ea\u52a8\u5316\u7b49\u9886\u57df\u5f97\u5230\u4e86\u5e7f\u6cdb\u5e94\u7528\u3002\u5728\u6570\u636e\u5e93\u9886\u57df\uff0cPython \u4e5f\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u5e93\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u8fdb\u884c\u6570\u636e\u5e93\u64cd\u4f5c\u3002</p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%93%8D%E7%BA%B5mysql%E6%95%B0%E6%8D%AE%E5%BA%93/#\u5b89\u88c5-pymysql","title":"\u5b89\u88c5 pymysql","text":"<p>\u8981\u4f7f\u7528 Python \u64cd\u4f5c MySQL\uff0c\u9700\u8981\u5148\u5b89\u88c5 pymysql \u5e93\u3002\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a</p> Text Only<pre><code>pip install pymysql\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%93%8D%E7%BA%B5mysql%E6%95%B0%E6%8D%AE%E5%BA%93/#\u8fde\u63a5-mysql","title":"\u8fde\u63a5 MySQL","text":"<p>\u4f7f\u7528 pymysql \u8fde\u63a5 MySQL\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>connect()</code> \u65b9\u6cd5\u3002\u8be5\u65b9\u6cd5\u6709\u4ee5\u4e0b\u53c2\u6570\uff1a</p> <ul> <li><code>host</code>\uff1aMySQL \u670d\u52a1\u5668\u7684 IP \u5730\u5740\u6216\u4e3b\u673a\u540d</li> <li><code>port</code>\uff1aMySQL \u670d\u52a1\u5668\u7684\u7aef\u53e3\u53f7</li> <li><code>user</code>\uff1aMySQL \u7528\u6237\u540d</li> <li><code>password</code>\uff1aMySQL \u5bc6\u7801</li> <li><code>db</code>\uff1a\u8981\u8fde\u63a5\u7684\u6570\u636e\u5e93\u540d\u79f0</li> <li><code>charset</code>\uff1a\u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6</li> </ul> <p>\u4f8b\u5982\uff0c\u8fde\u63a5\u5230 MySQL \u670d\u52a1\u5668 <code>192.168.31.223</code>\uff0c\u7aef\u53e3\u53f7 <code>3306</code>\uff0c\u7528\u6237\u540d <code>root</code>\uff0c\u5bc6\u7801 <code>123456</code>\uff0c\u8fde\u63a5\u5230\u6570\u636e\u5e93 <code>atguigudb</code>\uff0c\u4f7f\u7528 UTF-8 \u5b57\u7b26\u96c6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a</p> Text Only<pre><code>import pymysql\n\ndb = pymysql.connect(\n    host='192.168.31.223',\n    port=3306,\n    user='root',\n    password='123456',\n    db='atguigudb',\n    charset='utf8'\n)\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%93%8D%E7%BA%B5mysql%E6%95%B0%E6%8D%AE%E5%BA%93/#\u6267\u884c-sql-\u8bed\u53e5","title":"\u6267\u884c SQL \u8bed\u53e5","text":"<p>\u8fde\u63a5\u5230 MySQL \u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>cursor()</code> \u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u6e38\u6807\u5bf9\u8c61\u3002\u4f7f\u7528\u6e38\u6807\u5bf9\u8c61\u53ef\u4ee5\u6267\u884c SQL \u8bed\u53e5\u3002</p> <p>\u4f8b\u5982\uff0c\u6267\u884c\u67e5\u8be2 SQL \u8bed\u53e5 <code>select version()</code>\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a</p> Text Only<pre><code>cursor = db.cursor()\ncursor.execute(\"select version()\")\n</code></pre> <p>\u6267\u884c\u63d2\u5165 SQL \u8bed\u53e5 <code>INSERT INTO jobs(job_id,job_title,min_salary,max_salary) VALUES ('JOSH_ID_21','Operition',10000,15000)</code>\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a</p> Text Only<pre><code>insert_query = \"INSERT INTO jobs(job_id,job_title,min_salary,max_salary) VALUES ('JOSH_ID_21','Operition',10000,15000)\"\ncursor.execute(insert_query)\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%93%8D%E7%BA%B5mysql%E6%95%B0%E6%8D%AE%E5%BA%93/#\u83b7\u53d6\u7ed3\u679c","title":"\u83b7\u53d6\u7ed3\u679c","text":"<p>\u6267\u884c\u67e5\u8be2 SQL \u8bed\u53e5\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>fetchall()</code> \u65b9\u6cd5\u83b7\u53d6\u6240\u6709\u7ed3\u679c\u3002</p> <p>\u4f8b\u5982\uff0c\u6267\u884c\u67e5\u8be2 SQL \u8bed\u53e5 <code>select * from jobs</code>\uff0c\u83b7\u53d6\u6240\u6709\u7ed3\u679c\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a</p> Text Only<pre><code>cursor.execute(\"select * from jobs\")\nresult = cursor.fetchall()\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%93%8D%E7%BA%B5mysql%E6%95%B0%E6%8D%AE%E5%BA%93/#\u63d0\u4ea4\u4e8b\u52a1","title":"\u63d0\u4ea4\u4e8b\u52a1","text":"<p>\u9664\u4e86\u67e5\u8be2\uff0c\u5176\u4ed6\u4fee\u6539\u64cd\u4f5c\u9700\u8981\u4f7f\u7528 <code>commit()</code> \u65b9\u6cd5\u63d0\u4ea4\u4e8b\u52a1\u3002</p> <p>\u4f8b\u5982\uff0c\u6267\u884c\u63d2\u5165 SQL \u8bed\u53e5 <code>INSERT INTO jobs(job_id,job_title,min_salary,max_salary) VALUES ('JOSH_ID_21','Operition',10000,15000)</code>\uff0c\u9700\u8981\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a</p> Text Only<pre><code>insert_query = \"INSERT INTO jobs(job_id,job_title,min_salary,max_salary) VALUES ('JOSH_ID_21','Operition',10000,15000)\"\ncursor.execute(insert_query)\ndb.commit()\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%93%8D%E7%BA%B5mysql%E6%95%B0%E6%8D%AE%E5%BA%93/#\u5173\u95ed\u8fde\u63a5","title":"\u5173\u95ed\u8fde\u63a5","text":"<p>\u4f7f\u7528\u5b8c\u6bd5\u540e\uff0c\u9700\u8981\u5173\u95ed\u8fde\u63a5\u3002\u4f7f\u7528 <code>close()</code> \u65b9\u6cd5\u5173\u95ed\u8fde\u63a5\u3002</p> <p>\u4f8b\u5982\uff0c\u5173\u95ed\u8fde\u63a5 <code>db</code>\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a</p> Text Only<pre><code>db.close()\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%93%8D%E7%BA%B5mysql%E6%95%B0%E6%8D%AE%E5%BA%93/#\u4ee3\u7801\u6269\u5c55","title":"\u4ee3\u7801\u6269\u5c55","text":"<p>\u4e0a\u8ff0\u4ee3\u7801\u5df2\u7ecf\u57fa\u672c\u6db5\u76d6\u4e86 Python \u64cd\u4f5c MySQL \u7684\u57fa\u672c\u64cd\u4f5c\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u53ef\u4ee5\u8fdb\u884c\u7684\u6269\u5c55\uff1a</p> <ul> <li>\u5f02\u5e38\u5904\u7406</li> </ul> <p>\u5728\u6267\u884c SQL \u8bed\u53e5\u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u5f02\u5e38\uff0c\u4f8b\u5982\u8fde\u63a5\u9519\u8bef\u3001\u8bed\u6cd5\u9519\u8bef\u3001\u6570\u636e\u5e93\u9519\u8bef\u7b49\u3002\u9700\u8981\u5bf9\u8fd9\u4e9b\u5f02\u5e38\u8fdb\u884c\u5904\u7406\uff0c\u9632\u6b62\u7a0b\u5e8f\u5d29\u6e83\u3002</p> <p>\u4f8b\u5982\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u8fdb\u884c\u5f02\u5e38\u5904\u7406\uff1a</p> <p>Python</p> Text Only<pre><code>try:\n    cursor.execute(\"select version()\")\nexcept Exception as e:\n    print(\"\u53d1\u751f\u5f02\u5e38\uff1a\", e)\n</code></pre> <p>\u5982\u679c\u53d1\u751f\u5f02\u5e38\uff0c\u7a0b\u5e8f\u5c06\u6253\u5370\u51fa\u5f02\u5e38\u4fe1\u606f\u3002</p> <ul> <li>\u53c2\u6570\u5316\u67e5\u8be2</li> </ul> <p>\u4f7f\u7528\u53c2\u6570\u5316\u67e5\u8be2\u53ef\u4ee5\u9632\u6b62 SQL \u6ce8\u5165\u653b\u51fb\u3002</p> <p>\u4f8b\u5982\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u8fdb\u884c\u53c2\u6570\u5316\u67e5\u8be2\uff1a</p> Text Only<pre><code>job_id = input(\"\u8bf7\u8f93\u5165\u804c\u4f4d ID\uff1a\")\n\nsql = \"select * from jobs where job_id = %s\"\ncursor.execute(sql, (job_id,))\n</code></pre> <p>\u5728\u6267\u884c SQL \u8bed\u53e5\u65f6\uff0c\u5c06 <code>job_id</code> \u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 <code>execute()</code> \u65b9\u6cd5\u3002\u8fd9\u6837\uff0c\u5373\u4f7f\u8f93\u5165\u7684 <code>job_id</code> \u5305\u542b\u6076\u610f\u4ee3\u7801\uff0c\u4e5f\u4e0d\u4f1a\u88ab\u6267\u884c\u3002</p> <ul> <li>\u4e8b\u52a1\u7ba1\u7406</li> </ul> <p>\u4e8b\u52a1\u662f\u4e00\u7cfb\u5217\u64cd\u4f5c\u7684\u96c6\u5408\uff0c\u8981\u4e48\u90fd\u6210\u529f\uff0c\u8981\u4e48\u90fd\u5931\u8d25\u3002</p> <p>\u4f8b\u5982\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u8fdb\u884c\u4e8b\u52a1\u7ba1\u7406\uff1a</p> Text Only<pre><code># \u5f00\u59cb\u4e8b\u52a1\ndb.begin()\n\n# \u6267\u884c\u4fee\u6539\u64cd\u4f5c\ncursor.execute(\"update jobs set min_salary = 11000 where job_id = 'JOSH_ID_11'\")\ncursor.execute(\"update jobs set max_salary = 12000 where job_id = 'JOSH_ID_11'\")\n\n# \u63d0\u4ea4\u4e8b\u52a1\ndb.commit()\n</code></pre> <p>\u5982\u679c\u5728\u6267\u884c\u4fee\u6539\u64cd\u4f5c\u65f6\u53d1\u751f\u5f02\u5e38\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>rollback()</code> \u65b9\u6cd5\u56de\u6eda\u4e8b\u52a1\uff0c\u8fd9\u6837\u53ef\u4ee5\u9632\u6b62\u6570\u636e\u7684\u4e22\u5931\u3002</p> <ul> <li>\u6570\u636e\u7c7b\u578b\u5904\u7406</li> </ul> <p>\u5728\u6267\u884c SQL \u8bed\u53e5\u65f6\uff0c\u9700\u8981\u6ce8\u610f\u6570\u636e\u7c7b\u578b\u7684\u8f6c\u6362\u3002</p> <p>\u4f8b\u5982\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u8fdb\u884c\u6570\u636e\u7c7b\u578b\u8f6c\u6362\uff1a</p> <p>Python</p> Text Only<pre><code># \u83b7\u53d6\u6570\u636e\u5e93\u7248\u672c\ncursor.execute(\"select version()\")\nversion = cursor.fetchone()[0]\n\n# \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6574\u6570\nint_version = int(version)\n\nprint(\"\u6570\u636e\u5e93\u7248\u672c\uff1a\", int_version)\n</code></pre> <p>\u7ed3\u679c\u96c6\u5904\u7406</p> <p>\u5728\u6267\u884c\u67e5\u8be2 SQL \u8bed\u53e5\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>fetchone()</code>\u3001<code>fetchmany()</code> \u548c <code>fetchall()</code> \u65b9\u6cd5\u83b7\u53d6\u7ed3\u679c\u96c6\u3002</p> <ul> <li><code>fetchone()</code> \u65b9\u6cd5\u83b7\u53d6\u5355\u6761\u7ed3\u679c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5143\u7ec4\u3002</li> <li><code>fetchmany()</code> \u65b9\u6cd5\u83b7\u53d6\u6307\u5b9a\u6570\u91cf\u7684\u7ed3\u679c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5143\u7ec4\u5217\u8868\u3002</li> <li><code>fetchall()</code> \u65b9\u6cd5\u83b7\u53d6\u6240\u6709\u7ed3\u679c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5143\u7ec4\u5217\u8868\u3002</li> </ul> <p>\u4f8b\u5982\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u83b7\u53d6\u6240\u6709\u804c\u4f4d\u4fe1\u606f\uff1a</p> Text Only<pre><code># \u83b7\u53d6\u6240\u6709\u804c\u4f4d\u4fe1\u606f\ncursor.execute(\"select * from jobs\")\nresult = cursor.fetchall()\n\n# \u904d\u5386\u7ed3\u679c\u96c6\nfor row in result:\n    print(row)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a</p> Text Only<pre><code>('JOSH_ID_1', 'CEO', 100000, 200000)\n('JOSH_ID_2', 'CTO', 80000, 150000)\n('JOSH_ID_3', 'CFO', 70000, 130000)\n...\n</code></pre> <p>\u5982\u679c\u53ea\u9700\u8981\u83b7\u53d6\u7b2c\u4e00\u6761\u7ed3\u679c\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a</p> Text Only<pre><code># \u83b7\u53d6\u7b2c\u4e00\u6761\u7ed3\u679c\nrow = cursor.fetchone()\n\nprint(row)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a</p> Text Only<pre><code>('JOSH_ID_1', 'CEO', 100000, 200000)\n</code></pre> <p>\u5982\u679c\u53ea\u9700\u8981\u83b7\u53d6\u524d 10 \u6761\u7ed3\u679c\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a</p> Text Only<pre><code># \u83b7\u53d6\u524d 10 \u6761\u7ed3\u679c\nresult = cursor.fetchmany(10)\n\n# \u904d\u5386\u7ed3\u679c\u96c6\nfor row in result:\n    print(row)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a</p> Text Only<pre><code>('JOSH_ID_1', 'CEO', 100000, 200000)\n('JOSH_ID_2', 'CTO', 80000, 150000)\n('JOSH_ID_3', 'CFO', 70000, 130000)\n...\n</code></pre> <p>\u5f02\u6b65\u64cd\u4f5c</p> <p>\u5728 Python 3.5 \u4e4b\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>asyncio</code> \u5e93\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u3002\u4f7f\u7528\u5f02\u6b65\u64cd\u4f5c\u53ef\u4ee5\u63d0\u9ad8\u7a0b\u5e8f\u7684\u5e76\u53d1\u6027\uff0c\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6027\u80fd\u3002</p> <p>\u8981\u4f7f\u7528 <code>asyncio</code> \u5e93\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\uff0c\u9700\u8981\u5148\u5bfc\u5165 <code>asyncio</code> \u5e93\u3002</p> Text Only<pre><code>import asyncio\n</code></pre> <p>\u7136\u540e\uff0c\u9700\u8981\u521b\u5efa\u4e00\u4e2a <code>asyncio.run()</code> \u534f\u7a0b\uff0c\u5728\u534f\u7a0b\u4e2d\u6267\u884c\u5f02\u6b65\u64cd\u4f5c\u3002</p> <p>\u4f8b\u5982\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u6267\u884c\u67e5\u8be2 SQL \u8bed\u53e5\uff1a</p> Text Only<pre><code>async def query_jobs():\n    cursor.execute(\"select * from jobs\")\n    result = cursor.fetchall()\n    return result\n\nasync def main():\n    result = await query_jobs()\n    for row in result:\n        print(row)\n\nasyncio.run(main())\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a</p> Text Only<pre><code>('JOSH_ID_1', 'CEO', 100000, 200000)\n('JOSH_ID_2', 'CTO', 80000, 150000)\n('JOSH_ID_3', 'CFO', 70000, 130000)\n...\n</code></pre> <p>\u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c<code>query_jobs()</code> \u534f\u7a0b\u8d1f\u8d23\u6267\u884c\u67e5\u8be2 SQL \u8bed\u53e5\uff0c<code>main()</code> \u534f\u7a0b\u8d1f\u8d23\u8c03\u7528 <code>query_jobs()</code> \u534f\u7a0b\u5e76\u83b7\u53d6\u7ed3\u679c\u3002</p> <p><code>query_jobs()</code> \u534f\u7a0b\u4f7f\u7528 <code>asyncio.run()</code> \u65b9\u6cd5\u6267\u884c\u67e5\u8be2 SQL \u8bed\u53e5\u3002<code>asyncio.run()</code> \u65b9\u6cd5\u4f1a\u963b\u585e\u5f53\u524d\u7ebf\u7a0b\uff0c\u76f4\u5230\u534f\u7a0b\u6267\u884c\u5b8c\u6bd5\u3002</p> <p><code>main()</code> \u534f\u7a0b\u4f7f\u7528 <code>await</code> \u5173\u952e\u5b57\u7b49\u5f85 <code>query_jobs()</code> \u534f\u7a0b\u6267\u884c\u5b8c\u6bd5\u3002</p> <p>\u5f02\u6b65\u64cd\u4f5c\u7684\u6848\u4f8b\u8fd8\u6709\u5f88\u591a\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>\u4f7f\u7528\u5f02\u6b65\u64cd\u4f5c\u53ef\u4ee5\u6279\u91cf\u6267\u884c\u67e5\u8be2 SQL \u8bed\u53e5\u3002</li> <li>\u4f7f\u7528\u5f02\u6b65\u64cd\u4f5c\u53ef\u4ee5\u6279\u91cf\u6267\u884c\u4fee\u6539 SQL \u8bed\u53e5\u3002</li> <li>\u4f7f\u7528\u5f02\u6b65\u64cd\u4f5c\u53ef\u4ee5\u6279\u91cf\u6267\u884c\u5220\u9664 SQL \u8bed\u53e5</li> </ul> <p>\u6848\u4f8b\uff1a\u8fde\u63a5 MySQL \u529f\u80fd</p> <p>\u6d4b\u8bd5\u4f7f\u7528 <code>assert</code> \u8bed\u53e5\u6765\u65ad\u8a00\u8fde\u63a5\u662f\u5426\u6210\u529f\u3002</p> Text Only<pre><code>def test_connect():\n    # \u521b\u5efa\u8fde\u63a5\n    db = pymysql.connect(\n        host='192.168.31.223',\n        port=3306,\n        user='root',\n        password='123456',\n        db='atguigudb',\n        charset='utf8'\n    )\n\n    # \u65ad\u8a00\u8fde\u63a5\u662f\u5426\u6210\u529f\n    assert db is not None\n\n    # \u5173\u95ed\u8fde\u63a5\n    db.close()\n</code></pre> <p>\u6848\u4f8b\uff1a\u6267\u884c\u589e\u5220\u6539\u67e5\u64cd\u4f5c</p> Text Only<pre><code>#pip install pymysql  \u63d0\u524d\u5bfc\u5165pymysql\nimport pymysql\n\n\n# \u8fde\u63a5 MySQL\n# \u53c2\u6570\u8bf4\u660e\uff1a\n# host\uff1aMySQL \u670d\u52a1\u5668\u7684 IP \u5730\u5740\u6216\u4e3b\u673a\u540d\n# port\uff1aMySQL \u670d\u52a1\u5668\u7684\u7aef\u53e3\u53f7\n# user\uff1aMySQL \u7528\u6237\u540d\n# password\uff1aMySQL \u5bc6\u7801\n# db\uff1a\u8981\u8fde\u63a5\u7684\u6570\u636e\u5e93\u540d\u79f0\n# charset\uff1a\u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\n\n\n#\u767b\u5f55\u6570\u636e\u5e93\u7684\u4fe1\u606f\ndb = pymysql.connect(\n    host='192.168.31.223',\n    port=3306,\n    user='\u8fde\u63a5\u6570\u636e\u5e93\u7684\u8d26\u53f7',\n    password='\u8fde\u63a5\u6570\u636e\u5e93\u7684\u5bc6\u7801',\n    db='mysql',\n    charset='utf8'\n)\n\n#\u6267\u884c\u57fa\u672c\u7684\u6570\u636e\u5e93\u547d\u4ee4\ncursor=db.cursor()\ncursor.execute(\"select version()\")\ncursor.execute(\"show databases\")\ncursor.execute(\"use atguigudb\")\ncursor.execute(\"show tables\")\n\n#\u67e5\u8be2\u6570\u636e\nselect_query = \"select * from jobs\"\ncursor.execute(select_query)\n\n#\u9664\u4e86\u67e5\u8be2\uff0c\u5176\u4ed6\u4fee\u6539\u64cd\u4f5c\u9700\u8981db.commit()\u63d0\u4ea4\u4e8b\u52a1\n#\u63d2\u5165\u6570\u636e\ninsert_query =  \"INSERT INTO jobs(job_id,job_title,min_salary,max_salary) VALUES ('JOSH_ID_21','Operition',10000,15000)\"\ncursor.execute(insert_query)\ndb.commit()     \n\n\n#\u4fee\u6539\u6570\u636e\nupdate_query = \"UPDATE jobs set min_salary=11000,max_salary=12000 WHERE job_id='JOSH_ID_11'\"\ncursor.execute(update_query)\ndb.commit()\n\n#\u5220\u9664\u6570\u636e\ndelete_query = \"DELETE FROM jobs WHERE job_id='JOSH_ID_10'\"\ncursor.execute(delete_query)\ndb.commit()\n\n\n\nresult = cursor.fetchall()\nfor row in result:\n    print(row)\n\n#\u83b7\u53d6mysql\u7248\u672c\ncursor.execute(\"select version()\")\ndata = cursor.fetchone()\nprint(\"\u6570\u636e\u5e93\u8fde\u63a5\u6b63\u5e38\uff0c\u6570\u636e\u5e93\u7248\u672c\u662f\uff1a%s\" %data[0])\n\ndb.close()\n</code></pre> Text Only<pre><code># \u8fde\u63a5 MySQL\n\ndef connect_mysql(host: str, port: int, user: str, password: str, db: str, charset: str) -&gt; pymysql.Connection:\n    \"\"\"\n    \u8fde\u63a5 MySQL\n\n    Args:\n        host: MySQL \u670d\u52a1\u5668\u7684 IP \u5730\u5740\u6216\u4e3b\u673a\u540d\n        port: MySQL \u670d\u52a1\u5668\u7684\u7aef\u53e3\u53f7\n        user: MySQL \u7528\u6237\u540d\n        password: MySQL \u5bc6\u7801\n        db: \u8981\u8fde\u63a5\u7684\u6570\u636e\u5e93\u540d\u79f0\n        charset: \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\n\n    Returns:\n        MySQL \u8fde\u63a5\u5bf9\u8c61\n    \"\"\"\n\n    conn = pymysql.connect(\n        host=host,\n        port=port,\n        user=user,\n        password=password,\n        db=db,\n        charset=charset,\n    )\n    return conn\n\n\n# \u6267\u884c\u57fa\u672c\u7684\u6570\u636e\u5e93\u547d\u4ee4\n\ndef execute_sql(conn: pymysql.Connection, sql: str) -&gt; None:\n    \"\"\"\n    \u6267\u884c SQL \u8bed\u53e5\n\n    Args:\n        conn: MySQL \u8fde\u63a5\u5bf9\u8c61\n        sql: SQL \u8bed\u53e5\n    \"\"\"\n\n    cursor = conn.cursor()\n    cursor.execute(sql)\n    conn.commit()\n    cursor.close()\n\n\n# \u67e5\u8be2\u6570\u636e\n\ndef query_data(conn: pymysql.Connection, sql: str) -&gt; list:\n    \"\"\"\n    \u67e5\u8be2\u6570\u636e\n\n    Args:\n        conn: MySQL \u8fde\u63a5\u5bf9\u8c61\n        sql: SQL \u8bed\u53e5\n\n    Returns:\n        \u67e5\u8be2\u7ed3\u679c\n    \"\"\"\n\n    cursor = conn.cursor()\n    cursor.execute(sql)\n    result = cursor.fetchall()\n    cursor.close()\n    return result\n\n\n# \u63d2\u5165\u6570\u636e\n\ndef insert_data(conn: pymysql.Connection, sql: str) -&gt; None:\n    \"\"\"\n    \u63d2\u5165\u6570\u636e\n\n    Args:\n        conn: MySQL \u8fde\u63a5\u5bf9\u8c61\n        sql: SQL \u8bed\u53e5\n    \"\"\"\n\n    execute_sql(conn, sql)\n\n\n# \u4fee\u6539\u6570\u636e\n\ndef update_data(conn: pymysql.Connection, sql: str) -&gt; None:\n    \"\"\"\n    \u4fee\u6539\u6570\u636e\n\n    Args:\n        conn: MySQL \u8fde\u63a5\u5bf9\u8c61\n        sql: SQL \u8bed\u53e5\n    \"\"\"\n\n    execute_sql(conn, sql)\n\n\n# \u5220\u9664\u6570\u636e\n\ndef delete_data(conn: pymysql.Connection, sql: str) -&gt; None:\n    \"\"\"\n    \u5220\u9664\u6570\u636e\n\n    Args:\n        conn: MySQL \u8fde\u63a5\u5bf9\u8c61\n        sql: SQL \u8bed\u53e5\n    \"\"\"\n\n    execute_sql(conn, sql)\n\n\n# \u83b7\u53d6 MySQL \u7248\u672c\n\ndef get_mysql_version(conn: pymysql.Connection) -&gt; str:\n    \"\"\"\n    \u83b7\u53d6 MySQL \u7248\u672c\n\n    Args:\n        conn: MySQL \u8fde\u63a5\u5bf9\u8c61\n\n    Returns:\n        MySQL \u7248\u672c\n    \"\"\"\n\n    sql = \"select version()\"\n    result = query_data(conn, sql)[0][0]\n    return result\n\n\n# \u4e3b\u51fd\u6570\n\ndef main():\n    conn = connect_mysql(host=\"192.168.31.223\", port=3306, user=\"root\", password=\"123456\", db=\"atguigudb\", charset=\"utf8\")\n\n    # \u6267\u884c\u57fa\u672c\u7684\u6570\u636e\u5e93\u547d\u4ee4\n    execute_sql(conn, \"select version()\")\n    execute_sql(conn, \"show databases\")\n    execute_sql(conn, \"use atguigudb\")\n    execute_sql(conn, \"show tables\")\n\n    # \u67e5\u8be2\u6570\u636e\n    result = query_data(conn, \"select * from jobs\")\n    for row in result:\n        print(row)\n\n    # \u63d2\u5165\u6570\u636e\n    insert_data(conn, \"INSERT INTO jobs(job_id,job_title,min_salary,max_salary\n</code></pre> Text Only<pre><code># \u4ee3\u7801\u683c\u5f0f\n\n# \u4f7f\u7528\u56db\u4e2a\u7a7a\u683c\u8fdb\u884c\u7f29\u8fdb\u3002\n# \u884c\u957f\u4e0d\u8981\u8d85\u8fc7 79 \u4e2a\u5b57\u7b26\u3002\n# \u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5\u3002\n# \u4f7f\u7528 `self` \u5173\u952e\u5b57\u6765\u5f15\u7528\u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\n\n# \u6ce8\u91ca\n\n# \u6ce8\u91ca\u5e94\u8be5\u89e3\u91ca\u4ee3\u7801\u7684\u529f\u80fd\u548c\u76ee\u7684\u3002\n# \u6ce8\u91ca\u5e94\u8be5\u7b80\u6d01\u660e\u4e86\uff0c\u6613\u4e8e\u7406\u89e3\u3002\n# \u6ce8\u91ca\u5e94\u8be5\u653e\u5728\u4ee3\u7801\u7684\u9002\u5f53\u4f4d\u7f6e\u3002\n\n# \u5355\u5143\u6d4b\u8bd5\n\n# \u5355\u5143\u6d4b\u8bd5\u5e94\u8be5\u8986\u76d6\u4ee3\u7801\u7684\u6240\u6709\u529f\u80fd\u3002\n# \u5355\u5143\u6d4b\u8bd5\u5e94\u8be5\u5c3d\u91cf\u7b80\u6d01\u3002\n# \u5355\u5143\u6d4b\u8bd5\u5e94\u8be5\u72ec\u7acb\u4e8e\u5176\u4ed6\u4ee3\u7801\u3002\n\n# \u4ee3\u7801\u6269\u5c55\n\n# \u4f7f\u7528 `try-except` \u8bed\u53e5\u6765\u5904\u7406\u5f02\u5e38\u3002\n# \u4f7f\u7528 `logging` \u6a21\u5757\u6765\u8bb0\u5f55\u65e5\u5fd7\u3002\n# \u4f7f\u7528 `paramiko` \u6a21\u5757\u6765\u5b9e\u73b0 SSH \u8fde\u63a5\u3002\n\n# \u5177\u4f53\u6848\u4f8b\u548c\u89e3\u91ca\n\n# \u4f7f\u7528 `try-except` \u8bed\u53e5\u6765\u5904\u7406\u5f02\u5e38\n\ndef execute_sql(conn: pymysql.Connection, sql: str) -&gt; None:\n    \"\"\"\n    \u6267\u884c SQL \u8bed\u53e5\n\n    Args:\n        conn: MySQL \u8fde\u63a5\u5bf9\u8c61\n        sql: SQL \u8bed\u53e5\n    \"\"\"\n\n    try:\n        cursor = conn.cursor()\n        cursor.execute(sql)\n        conn.commit()\n        cursor.close()\n    except Exception as e:\n        print(e)\n\n# \u4f7f\u7528 `logging` \u6a21\u5757\u6765\u8bb0\u5f55\u65e5\u5fd7\n\ndef main():\n    logger = logging.getLogger()\n    logger.setLevel(logging.INFO)\n\n    handler = logging.StreamHandler()\n    handler.setFormatter(logging.Formatter(\"%(asctime)s %(levelname)s: %(message)s\"))\n\n    logger.addHandler(handler)\n\n    conn = connect_mysql(host=\"192.168.31.223\", port=3306, user=\"root\", password=\"123456\", db=\"atguigudb\", charset=\"utf8\")\n\n    # \u6267\u884c\u57fa\u672c\u7684\u6570\u636e\u5e93\u547d\u4ee4\n    logger.info(\"\u6267\u884c\u57fa\u672c\u7684\u6570\u636e\u5e93\u547d\u4ee4\")\n    cursor = conn.cursor()\n    cursor.execute(\"select version()\")\n    cursor.execute(\"show databases\")\n    cursor.execute(\"use atguigudb\")\n    cursor.execute(\"show tables\")\n\n    # \u67e5\u8be2\u6570\u636e\n    logger.info(\"\u67e5\u8be2\u6570\u636e\")\n    result = cursor.fetchall()\n    for row in result:\n        print(row)\n\n    # \u63d2\u5165\u6570\u636e\n    logger.info(\"\u63d2\u5165\u6570\u636e\")\n    insert_query = \"INSERT INTO jobs(job_id,job_title,min_salary,max_salary) VALUES ('JOSH_ID_21','Operition',10000,15000)\"\n    cursor.execute(insert_query)\n    conn.commit()\n\n    # \u4fee\u6539\u6570\u636e\n    logger.info(\"\u4fee\u6539\u6570\u636e\")\n    update_query = \"UPDATE jobs set min_salary=11000,max_salary=12000 WHERE job_id='JOSH_ID_11'\"\n    cursor.execute(update_query)\n    conn.commit()\n\n    # \u5220\u9664\u6570\u636e\n    logger.info(\"\u5220\u9664\u6570\u636e\")\n    delete_query = \"DELETE FROM jobs WHERE job_id='JOSH_ID_10'\"\n    cursor.execute(delete_query)\n    conn.commit()\n\n    # \u83b7\u53d6 MySQL \u7248\u672c\n    logger.info(\"\u83b7\u53d6 MySQL \u7248\u672c\")\n    cursor.execute(\"select version()\")\n    data = cursor.fetchone()\n    print(\"\u6570\u636e\u5e93\u8fde\u63a5\u6b63\u5e38\uff0c\u6570\u636e\u5e93\u7248\u672c\u662f\uff1a%s\" % data[0])\n\n    conn.close()\n\n\n# \u4e3b\u51fd\u6570\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/","title":"\u300apython\u6bcf\u5929\u4e00\u5c0f\u6bb5\u300b  12 \u6570\u636e\u53ef\u89c6\u5316\u300a1\u300b","text":""},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#\u4e00\u6982\u5ff5","title":"\u4e00\u3001\u6982\u5ff5","text":"<p>Matplotlib\u662f\u4e00\u4e2a\u6d41\u884c\u7684Python\u6570\u636e\u53ef\u89c6\u5316\u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u7ed8\u56fe\u529f\u80fd\uff0c\u53ef\u4ee5\u521b\u5efa\u5404\u79cd\u7c7b\u578b\u7684\u56fe\u8868\uff0c\u5305\u62ec\u6298\u7ebf\u56fe\u3001\u6563\u70b9\u56fe\u3001\u67f1\u72b6\u56fe\u3001\u997c\u56fe\u7b49\u3002</p> <p>\u8981\u67e5\u770b\u4f7f\u7528matplotlib\u53ef\u5236\u4f5c\u7684\u5404\u79cd\u56fe\u8868\uff0c\u8bf7\u8bbf\u95eehttp://matplotlib.org/\u7684\u793a\u4f8b\u753b\u5eca</p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#1\u5b89\u88c5matplotlib","title":"\uff081\uff09\u5b89\u88c5matplotlib","text":"Text Only<pre><code>pip install matplotlib\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#2\u6570\u636e\u53ef\u89c6\u5316\u5b9e\u73b0\u6b65\u9aa4","title":"\uff082\uff09\u6570\u636e\u53ef\u89c6\u5316\u5b9e\u73b0\u6b65\u9aa4","text":"<p>\u4e0b\u9762\u662f\u5bf9Matplotlib\u7684\u8be6\u7ec6\u89e3\u91ca\u4ee5\u53ca\u5982\u4f55\u5b9e\u73b0\u6570\u636e\u53ef\u89c6\u5316\u7684\u4e00\u822c\u6b65\u9aa4\uff1a</p> <ol> <li>\u5bfc\u5165Matplotlib\u5e93\uff1a    \u5728Python\u811a\u672c\u4e2d\uff0c\u9996\u5148\u9700\u8981\u5bfc\u5165Matplotlib\u5e93\u3002\u901a\u5e38\u4f7f\u7528\u4ee5\u4e0b\u8bed\u53e5\u5bfc\u5165Matplotlib\u7684pyplot\u6a21\u5757\uff1a</li> </ol> Python<pre><code>import matplotlib.pyplot as plt\n</code></pre> <ol> <li>\u521b\u5efa\u56fe\u8868\uff1a    \u5728\u5f00\u59cb\u7ed8\u56fe\u4e4b\u524d\uff0c\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u56fe\u8868\u5bf9\u8c61\u3002\u53ef\u4ee5\u4f7f\u7528<code>plt.figure()</code>\u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u56fe\u8868\u3002</li> </ol> Python<pre><code>plt.figure()\n</code></pre> <ol> <li>\u7ed8\u5236\u56fe\u8868\uff1a    \u4f7f\u7528Matplotlib\u7684\u5404\u79cd\u7ed8\u56fe\u51fd\u6570\u6765\u7ed8\u5236\u6240\u9700\u7684\u56fe\u8868\u3002\u4f8b\u5982\uff0c\u4f7f\u7528<code>plt.plot()</code>\u51fd\u6570\u7ed8\u5236\u6298\u7ebf\u56fe\uff0c\u4f7f\u7528<code>plt.scatter()</code>\u51fd\u6570\u7ed8\u5236\u6563\u70b9\u56fe\uff0c\u4f7f\u7528<code>plt.bar()</code>\u51fd\u6570\u7ed8\u5236\u67f1\u72b6\u56fe\u7b49\u3002</li> </ol> Python<pre><code>x = [1, 2, 3, 4, 5]\ny = [10, 8, 6, 4, 2]\nplt.plot(x, y)\n</code></pre> <ol> <li>\u6dfb\u52a0\u6807\u7b7e\u548c\u6807\u9898\uff1a    \u53ef\u4ee5\u4f7f\u7528<code>plt.xlabel()</code>\u3001<code>plt.ylabel()</code>\u548c<code>plt.title()</code>\u51fd\u6570\u4e3a\u56fe\u8868\u6dfb\u52a0\u8f74\u6807\u7b7e\u548c\u6807\u9898\u3002</li> </ol> Python<pre><code>plt.xlabel('X\u8f74')\nplt.ylabel('Y\u8f74')\nplt.title('\u6298\u7ebf\u56fe')\n</code></pre> <ol> <li>\u81ea\u5b9a\u4e49\u56fe\u8868\u6837\u5f0f\uff1a    \u53ef\u4ee5\u4f7f\u7528\u5404\u79cdMatplotlib\u51fd\u6570\u6765\u81ea\u5b9a\u4e49\u56fe\u8868\u7684\u6837\u5f0f\uff0c\u5982\u8bbe\u7f6e\u7ebf\u6761\u989c\u8272\u3001\u7ebf\u578b\u3001\u6807\u8bb0\u6837\u5f0f\u3001\u56fe\u4f8b\u7b49\u3002</li> </ol> Python<pre><code>plt.plot(x, y, color='red', linestyle='--', marker='o', label='\u6570\u636e')\nplt.legend()\n</code></pre> <ol> <li>\u663e\u793a\u56fe\u8868\uff1a    \u4f7f\u7528<code>plt.show()</code>\u51fd\u6570\u663e\u793a\u56fe\u8868\u3002</li> </ol> Python<pre><code>plt.show()\n</code></pre> <p>\u4ee5\u4e0a\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u636e\u53ef\u89c6\u5316\u7684\u6d41\u7a0b\u3002\u5f53\u7136\uff0cMatplotlib\u8fd8\u63d0\u4f9b\u4e86\u8bb8\u591a\u5176\u4ed6\u529f\u80fd\uff0c\u5982\u5b50\u56fe\u3001\u7f51\u683c\u3001\u989c\u8272\u6620\u5c04\u7b49\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u4f7f\u7528\u548c\u5b9a\u5236\u3002</p> <p>\u9664\u4e86Matplotlib\uff0c\u8fd8\u6709\u5176\u4ed6\u4e00\u4e9b\u6570\u636e\u53ef\u89c6\u5316\u5de5\u5177\u53ef\u4ee5\u4f7f\u7528\uff0c\u5982Seaborn\u3001Plotly\u3001Bokeh\u7b49\u3002\u6bcf\u4e2a\u5de5\u5177\u90fd\u6709\u5176\u7279\u70b9\u548c\u9002\u7528\u573a\u666f\uff0c\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u5de5\u5177\u6765\u5b9e\u73b0\u6570\u636e\u53ef\u89c6\u5316\u3002</p> <p>python\u4ee3\u7801\uff1a</p> Text Only<pre><code>import matplotlib.pyplot as plt\n\nplt.figure()\nx = [1,2,3,4,5]\ny = [10,8,6,4,2]\nplt.plot(x,y)\n#plt.scatter(x,y)\n#plt.bar(x,y)\n\nplt.title(\"x,y table\",fontsize=24)\nplt.xlabel('x\u8f74')\nplt.ylabel('y\u8f74')\n\nplt.plot(x,y,color='red',linestyle='--',marker='o',label='\u6570\u636e')\nplt.legend()\n\nplt.show()\n</code></pre> <p>\u751f\u6210\u56fe\u8868\uff1a</p> <p></p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#\u4e8c\u7ed8\u5236\u7b80\u5355\u7684\u6298\u7ebf\u56fe","title":"\u4e8c\u3001\u7ed8\u5236\u7b80\u5355\u7684\u6298\u7ebf\u56fe","text":""},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#1\u7b80\u5355\u7684\u56fe\u8868","title":"\uff081\uff09\u7b80\u5355\u7684\u56fe\u8868","text":"<p>1\u3001\u9996\u5148\u5bfc\u5165\u4e86\u6a21\u5757pyplot\uff0c\u5e76\u7ed9\u5b83\u6307\u5b9a\u4e86\u522b\u540dplt\uff0c\u4ee5\u514d\u53cd\u590d\u8f93\u5165pyplot</p> <p>2\u3001\u521b\u5efa\u4e86\u4e00\u4e2a\u5217\u8868\uff0c\u5728\u5176\u4e2d\u5b58\u50a8\u4e86\u524d\u8ff0\u5e73\u65b9\u6570\uff0c\u518d\u5c06\u8fd9\u4e2a\u5217\u8868\u4f20\u9012\u7ed9\u51fd\u6570plot()\uff0c\u8fd9\u4e2a\u51fd\u6570\u5c1d\u8bd5\u6839\u636e\u8fd9\u4e9b\u6570\u5b57\u7ed8\u5236\u51fa\u6709\u610f\u4e49\u7684\u56fe\u5f62\u3002</p> <p>3\u3001plt.show()\u6253\u5f00matplotlib\u67e5\u770b\u5668\uff0c\u5e76\u663e\u793a\u7ed8\u5236\u7684\u56fe\u5f62</p> Text Only<pre><code>import matplotlib.pyplot as plt\n\nsquares = [1,4,9,16,25]\nplt.plot(squares)\nplt.show()\n</code></pre> <p>\u56fe\u8868\uff1a</p> <p></p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#2\u4fee\u6539\u6807\u7b7e\u6587\u5b57\u548c\u7ebf\u6761\u7c97\u7ec6","title":"\uff082\uff09\u4fee\u6539\u6807\u7b7e\u6587\u5b57\u548c\u7ebf\u6761\u7c97\u7ec6","text":"Text Only<pre><code>import matplotlib.pyplot as plt\n\n\nsquares = [1,4,9,16,25]\nplt.plot(squares,linewidth=5)\n\n#\u8bbe\u7f6e\u56fe\u6807\u6807\u9898\uff0c\u5e76\u7ed9\u5750\u6807\u8f74\u52a0\u4e0a\u6807\u7b7e\nplt.title(\"Square Numbers\", fontsize=24)\nplt.xlabel(\"Value\",fontsize=14)\nplt.ylabel(\"Square of Value\",fontsize=14)\n\n#\u8bbe\u7f6e\u523b\u5ea6\u6807\u8bb0\u7684\u5927\u5c0f\nplt.tick_params(axis='both',labelsize=14)\nplt.show()\n</code></pre> <p>\u56fe\u6807\uff1a</p> <p></p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#3\u6821\u6b63\u56fe\u5f62","title":"\uff083\uff09\u6821\u6b63\u56fe\u5f62","text":"Text Only<pre><code>import matplotlib.pyplot as plt\n\ninput_values = [1,2,3,4,5]\nsquares = [1,4,9,16,25]\nplt.plot(input_values,squares,linewidth=5)\n\n#\u8bbe\u7f6e\u56fe\u6807\u6807\u9898\uff0c\u5e76\u7ed9\u5750\u6807\u8f74\u52a0\u4e0a\u6807\u7b7e\nplt.title(\"Square Numbers\", fontsize=24)\nplt.xlabel(\"Value\",fontsize=14)\nplt.ylabel(\"Square of Value\",fontsize=14)\n\n#\u8bbe\u7f6e\u523b\u5ea6\u6807\u8bb0\u7684\u5927\u5c0f\nplt.tick_params(axis='both',labelsize=14)\nplt.show()\n</code></pre>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#4\u7ed8\u5236\u5355\u4e2a\u70b9","title":"\uff084\uff09\u7ed8\u5236\u5355\u4e2a\u70b9","text":"<p>\u4f7f\u7528scatter()\u7ed8\u5236\u6563\u70b9\u56fe\u5e76\u8bbe\u7f6e\u5176\u6837\u5f0f</p> Text Only<pre><code>import matplotlib.pyplot as plt\n\nplt.scatter(2,4)\nplt.show()\n</code></pre> <p></p> <p>\u6dfb\u52a0\u6807\u9898\uff0c\u7ed9\u8f74\u52a0\u6807\u7b7e</p> Text Only<pre><code>import matplotlib.pyplot as plt\n\nplt.scatter(2,4)\n\n\nplt.scatter(2,4,s=200)\n\nplt.title(\"Square Number\",fontsize=24)\nplt.xlabel(\"Value\",fontsize=14)\nplt.ylabel(\"Square of Value\" ,fontsize=14)\n\n#\u8bbe\u7f6e\u523b\u5ea6\u6807\u8bb0\u7684\u5927\u5c0f\nplt.tick_params(axis='both',which='major',labelsize=14)\n\n\n\n\nplt.show\n</code></pre> <p>\u56fe\u8868\uff1a</p> <p></p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#5\u7ed8\u5236\u4e00\u7cfb\u5217\u70b9","title":"\uff085\uff09\u7ed8\u5236\u4e00\u7cfb\u5217\u70b9","text":"<p>\u8981\u7ed8\u5236\u4e00\u7cfb\u5217\u7684\u70b9\uff0c\u53ef\u5411scatter()\u4f20\u9012\u4e24\u4e2a\u5206\u522b\u5305\u542bx\u503c\u548cy\u503c\u7684\u5217\u8868\uff1a</p> Text Only<pre><code>import matplotlib.pyplot as plt\n\nx_values = [1,2,3,4,5]\ny_values = [1,4,9,16,25]\n\nplt.scatter(x_values,y_values,s=100)\n\n#\u8bbe\u7f6e\u56fe\u6807\u6807\u9898\u53ca\u5750\u6807\u8f74\u6307\u5b9a\u6807\u7b7e\n\nplt.title(\"Square Number\",fontsize=24)\nplt.title(\"Value\",fontsize=14)\nplt.title(\"Square of Value\",fontsize=14)\n\n#\u8bbe\u7f6e\u523b\u5ea6\u6807\u8bb0\u5927\u5c0f\nplt.tick_params(axis='both',which='major',labelsize=14)\nplt.show()\n</code></pre> <p>\u56fe\u8868\uff1a</p> <p></p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#6\u81ea\u52a8\u8ba1\u7b97","title":"\uff086\uff09\u81ea\u52a8\u8ba1\u7b97","text":"<p>\u624b\u5de5\u8ba1\u7b97\u5217\u8868\u8981\u5305\u542b\u7684\u503c\u53ef\u80fd\u6548\u7387\u4f4e\u4e0b\uff0c\u9700\u8981\u7ed8\u5236\u7684\u70b9\u5f88\u591a\u65f6\u5c24\u5176\u5982\u6b64\u3002\u53ef\u4ee5\u4e0d\u5fc5\u624b\u5de5\u8ba1\u7b97 \u5305\u542b\u70b9\u5750\u6807\u7684\u5217\u8868\uff0c\u800c\u8ba9Python\u5faa\u73af\u6765\u66ff\u6211\u4eec\u5b8c\u6210\u8fd9\u79cd\u8ba1\u7b97\u3002\u4e0b\u9762\u662f\u7ed8\u52361000\u4e2a\u70b9\u7684\u4ee3\u7801\uff1a</p> Text Only<pre><code>import matplotlib.pyplot as plt\n\nx_values = list(range(1,1001))\ny_values = [x**2 for x in x_values]\n\nplt.scatter(x_values,y_values,s=40)\n\n#\u8bbe\u7f6e\u56fe\u6807\u5e76\u7ed9\u5750\u6807\u8f74\u52a0\u4e0a\u6807\u7b7e\nplt.title(\"Square Number\",fontsize=24)\nplt.title(\"Value\",fontsize=14)\nplt.title(\"Square of Value\",fontsize=14)\n\n#\u8bbe\u7f6e\u523b\u5ea6\u6807\u8bb0\u5927\u5c0f\nplt.tick_params(axis='both',which='major',labelsize=14)\n\n#\u8bbe\u7f6e\u6bcf\u4e2a\u5750\u6807\u8f74\u7684\u53d6\u503c\u8303\u56f4\nplt.axis([0,1100,0,1100000])\n\nplt.show()\n</code></pre> <p>\u56fe\u8868\uff1a</p> <p></p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#7\u5220\u9664\u6570\u636e\u70b9\u7684\u8f6e\u5ed3","title":"\uff087\uff09\u5220\u9664\u6570\u636e\u70b9\u7684\u8f6e\u5ed3","text":"<p>matplotlib\u5141\u8bb8\u4f60\u7ed9\u6563\u70b9\u56fe\u4e2d\u7684\u5404\u4e2a\u70b9\u6307\u5b9a\u989c\u8272\u3002\u9ed8\u8ba4\u4e3a\u84dd\u8272\u70b9\u548c\u9ed1\u8272\u8f6e\u5ed3\uff0c\u5728\u6563\u70b9\u56fe\u5305\u542b\u7684\u6570\u636e\u70b9\u4e0d\u591a\u65f6\u6548\u679c\u5f88\u597d\u3002\u4f46\u7ed8\u5236\u5f88\u591a\u70b9\u65f6\uff0c\u9ed1\u8272\u8f6e\u5ed3\u53ef\u80fd\u4f1a\u7c98\u8fde\u5728\u4e00\u8d77\u3002</p> <p>\u8981\u5220\u9664\u6570\u636e\u70b9\u7684\u8f6e\u5ed3\uff0c\u53ef\u5728\u8c03\u7528scatter()\u65f6\u4f20\u9012\u5b9e\u53c2\uff1a<code>edgecolor='none'</code></p> Text Only<pre><code>plt.scatter(x_values,y_values,edgecolor='none',s=40)\n</code></pre> <p></p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#8\u4fee\u6539\u989c\u8272","title":"\uff088\uff09\u4fee\u6539\u989c\u8272","text":"<p>\u4fee\u6539\u6570\u636e\u70b9\u7684\u989c\u8272\uff0c\u53ef\u5411scatter()\u4f20\u9012\u53c2\u6570c\uff0c\u5e76\u5c06\u5176\u8bbe\u7f6e\u4e3a\u8981\u4f7f\u7528\u7684\u989c\u8272\u7684\u540d\u79f0</p> Text Only<pre><code>plt.scatter(x_values,y_values,c='red',edgecolor='none',s=40)\n</code></pre> <p>\u56fe\u8868\uff1a</p> <p></p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#9\u81ea\u5b9a\u4e49\u989c\u8272","title":"\uff089\uff09\u81ea\u5b9a\u4e49\u989c\u8272","text":"<p>\u4f7f\u7528RGB\u989c\u8272\u6a21\u5f0f\u81ea\u5b9a\u4e49\u989c\u8272\u3002\u8981\u6307\u5b9a\u81ea\u5b9a\u4e49\u989c\u8272\uff0c\u53ef\u4f20\u9012\u53c2\u6570c\uff0c\u5e76\u5c06\u5176\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u5143\u7ec4\uff0c\u5176\u4e2d\u5305\u542b\u4e09\u4e2a0~1\u4e4b\u95f4\u7684\u5c0f\u6570\u503c\uff0c\u5b83\u4eec\u5206\u522b\u8868\u793a\u7ea2\u8272\u3001\u7eff\u8272\u548c\u84dd\u8272\u5206\u91cf\u3002</p> Text Only<pre><code>plt.scatter(x_values,y_values,c=(0,0,0.8),edgecolor='none',s=40)\n</code></pre> <p>\u56fe\u8868\uff1a</p> <p>\u521b\u5efa\u4e00\u4e2a\u7531\u6de1\u84dd\u8272\u70b9\u7ec4\u6210\u7684\u6563\u70b9\u56fe:</p> <p></p> <p>\u503c\u8d8a\u63a5\u8fd10\uff0c\u6307\u5b9a\u7684\u989c\u8272\u8d8a\u6df1\uff0c\u503c\u8d8a\u63a5\u8fd11\uff0c\u6307\u5b9a\u7684\u989c\u8272\u8d8a\u6d45</p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#10\u989c\u8272\u6620\u5c04","title":"\uff0810\uff09\u989c\u8272\u6620\u5c04","text":"<p>\u989c\u8272\u6620\u5c04\uff08colormap\uff09\u662f\u4e00\u7cfb\u5217\u989c\u8272\uff0c\u5b83\u4eec\u4ece\u8d77\u59cb\u989c\u8272\u6e10\u53d8\u5230\u7ed3\u675f\u989c\u8272\u3002\u5728\u53ef\u89c6\u5316\u4e2d\uff0c\u989c\u8272\u6620\u5c04\u7528\u4e8e\u7a81\u51fa\u6570\u636e\u7684\u89c4\u5f8b\uff0c\u4f8b\u5982\uff0c\u4f60\u53ef\u80fd\u7528\u8f83\u6d45\u7684\u989c\u8272\u6765\u663e\u793a\u8f83\u5c0f\u7684\u503c\uff0c\u5e76\u4f7f\u7528\u8f83\u6df1\u7684\u989c\u8272\u6765\u663e\u793a\u8f83\u5927\u7684\u503c\u3002</p> <p>\u6a21\u5757pyplot\u5185\u7f6e\u4e86\u4e00\u7ec4\u989c\u8272\u6620\u5c04\u3002\u8981\u4f7f\u7528\u8fd9\u4e9b\u989c\u8272\u6620\u5c04\uff0c\u4f60\u9700\u8981\u544a\u8bc9pyplot\u8be5\u5982\u4f55\u8bbe\u7f6e\u6570\u636e\u96c6\u4e2d\u6bcf\u4e2a\u70b9\u7684\u989c\u8272\u3002\u4e0b\u9762\u6f14\u793a\u4e86\u5982\u4f55\u6839\u636e\u6bcf\u4e2a\u70b9\u7684y\u503c\u6765\u8bbe\u7f6e\u5176\u989c\u8272\uff1a</p> Text Only<pre><code>plt.scatter(x_values,y_values,c=y_values,cmap=plt.cm.Blues,edgecolor='none',s=40)\n</code></pre> <p>\u56fe\u8868\uff1a</p> <p></p> <p>\u5c06\u53c2\u6570c\u8bbe\u7f6e\u6210\u4e86\u4e00\u4e2ay\u503c\u5217\u8868\uff0c\u5e76\u4f7f\u7528\u53c2\u6570cmap\u544a\u8bc9pyplot\u4f7f\u7528\u54ea\u4e2a\u989c\u8272\u6620\u5c04\uff0c\u4ee3\u7801\u5c06y\u503c\u8f83\u5c0f\u7684\u70b9\u663e\u793a\u4e3a\u6d45\u84dd\u8272\uff0c\u5e76\u5c06y\u503c\u8f83\u5927\u7684\u70b9\u663e\u793a\u4e3a\u6df1\u84dd\u8272\u3002</p> <p>\u8981\u4e86\u89e3pyplot\u4e2d\u6240\u6709\u7684\u989c\u8272\u6620\u5c04\uff0c\u8bf7\u8bbf\u95eehttp://matplotlib.org/\uff0c\u5355\u51fbExamples\uff0c\u5411\u4e0b\u6eda\u52a8\u5230Color Examples\uff0c\u518d\u5355\u51fbcolormaps_reference\u3002</p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#11\u81ea\u52a8\u4fdd\u5b58","title":"\uff0811\uff09\u81ea\u52a8\u4fdd\u5b58","text":"<p>\u8981\u8ba9\u7a0b\u5e8f\u81ea\u52a8\u5c06\u56fe\u8868\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\uff0c\u53ef\u5c06\u5bf9plt.show()\u7684\u8c03\u7528\u66ff\u6362\u4e3a\u5bf9plt.savefig()\u7684\u8c03\u7528</p> Text Only<pre><code>plt.savefig(\"squares.plot.png\",bbox_inches='tight')\n</code></pre> <p></p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#12\u7ed8\u5236\u524d-5-\u4e2a\u6574\u6570\u7684\u7acb\u65b9\u503c","title":"\uff0812\uff09\u7ed8\u5236\u524d 5 \u4e2a\u6574\u6570\u7684\u7acb\u65b9\u503c","text":"<p>\u4f7f\u7528 Python \u5b9e\u73b0\u7ed8\u5236\u524d 5 \u4e2a\u6574\u6570\u7684\u7acb\u65b9\u503c\uff1a</p> Text Only<pre><code>import matplotlib.pyplot as plt\n\n#\u7ed8\u5236\u524d5\u4e2a\u6574\u6570\u7684\u7acb\u65b9\u503c\nx = [1,2,3,4,5]\ny = [x[i] ** 3 for i in range(len(x))]\n\nplt.plot(x,y)\nplt.xlabel(\"x\")\nplt.ylabel(\"x^3\")\nplt.show()\n</code></pre> <p>\u56fe\u8868\uff1a</p> <p></p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--12%20%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E3%80%8A1%E3%80%8B/#13\u7ed8\u5236\u6574\u6570\u524d5000\u7684\u7acb\u65b9\u503c","title":"\uff0813\uff09\u7ed8\u5236\u6574\u6570\u524d5000\u7684\u7acb\u65b9\u503c","text":"<p>\u4f7f\u7528python\u5b9e\u73b0\u524d 5000 \u4e2a\u6574\u6570\u7684\u7acb\u65b9\u503c\u7684\u4ee3\u7801\uff1a</p> Text Only<pre><code>import matplotlib.pyplot as plt\n\n#\u7ed8\u5236\u524d5000\u4e2a\u6574\u6570\u7684\u7acb\u65b9\u503c\nx = range(1,5001)\ny = [x[i] ** 3 for i in range(len(x))]\n\nplt.plot(x,y)\nplt.xlabel(\"x\")\nplt.ylabel(\"x^3\")\nplt.show()\n</code></pre> <p>\u56fe\u8868\uff1a</p> <p></p>"},{"location":"python/note/%E3%80%8Apython%E6%AF%8F%E5%A4%A9%E4%B8%80%E5%B0%8F%E6%AE%B5%E3%80%8B--14%20%E7%BD%91%E7%BB%9C%E8%87%AA%E5%8A%A8%E5%8C%96%EF%BC%88%E6%80%9D%E7%A7%91%EF%BC%89/","title":"\u300apython\u6bcf\u5929\u4e00\u5c0f\u6bb5\u300b  14 \u7f51\u7edc\u81ea\u52a8\u5316\uff08\u601d\u79d1\uff09","text":"<p>\u53ef\u4ee5\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u57fa\u4e8e H3C \u6848\u4f8b\u7684\u601d\u79d1\u4ea4\u6362\u673a\u914d\u7f6e\u811a\u672c\uff1a</p> <p>Python</p> Text Only<pre><code># \u5bfc\u5165\u601d\u79d1\u4ea4\u6362\u673a\u6a21\u5757\nfrom cisco import Switch\n\n# \u5b9a\u4e49\u914d\u7f6e\u9009\u9879\nclass ConfigOptions:\n    def __init__(self):\n        self.ip_address = None\n        self.username = None\n        self.password = None\n        self.vlans = []\n        self.dhcp_pools = []\n\n# \u5b9a\u4e49\u914d\u7f6e\u51fd\u6570\ndef configure_switch(options):\n    # \u8fde\u63a5\u5230\u4ea4\u6362\u673a\n    switch = Switch(options.ip_address, options.username, options.password)\n\n    # \u914d\u7f6e\u57fa\u672c\u8bbe\u7f6e\n    switch.send_command(\"enable\")\n    switch.send_command(\"configure terminal\")\n    switch.send_command(\"hostname switch\")\n    switch.send_command(\"enable secret cisco\")\n    switch.send_command(\"line vty 0 15\")\n    switch.send_command(\"login local\")\n    switch.send_command(\"transport input ssh telnet\")\n\n    # \u542f\u7528 SSH \u548c Telnet \u670d\u52a1\u5668\n    switch.send_command(\"ip ssh server enable\")\n    switch.send_command(\"ip telnet server enable\")\n\n    # \u914d\u7f6e\u5168\u5c40\u8bbe\u7f6e\n    switch.send_command(\"spanning-tree mode rapid-pvst\")\n    switch.send_command(\"spanning-tree portfast default\")\n    switch.send_command(\"spanning-tree bpduguard enable\")\n\n    # \u914d\u7f6e VLAN\n    for vlan in options.vlans:\n        switch.send_command(\"vlan {} name {}\".format(vlan.id, vlan.description))\n        switch.send_command(\"interface vlan {}\".format(vlan.id))\n        switch.send_command(\"ip address {} {}\".format(vlan.ip_address, vlan.mask))\n\n    # \u914d\u7f6e DHCP\n    for dhcp_pool in options.dhcp_pools:\n        switch.send_command(\"ip dhcp pool {}\".format(dhcp_pool.name))\n        switch.send_command(\"network {}\".format(dhcp_pool.network))\n        switch.send_command(\"default-router {}\".format(dhcp_pool.gateway))\n        switch.send_command(\"dns-server {}\".format(dhcp_pool.dns))\n\n    # \u4fdd\u5b58\u914d\u7f6e\n    switch.send_command(\"end\")\n\n# \u4e3b\u51fd\u6570\ndef main():\n    # \u521b\u5efa\u914d\u7f6e\u9009\u9879\n    options = ConfigOptions()\n    options.ip_address = \"192.168.1.1\"\n    options.username = \"admin\"\n    options.password = \"admin\"\n    options.vlans.append(VLAN(5, \"\u7814\u53d1\", \"10.0.0.1\", \"255.255.255.0\"))\n    options.vlans.append(VLAN(100, \"\u8d22\u52a1\", \"192.168.100.1\", \"255.255.255.0\"))\n    options.dhcp_pools.append(DHCPPool(\"\u5185\u7f51AP\", \"10.0.2.1\", \"10.0.2.254\"))\n    options.dhcp_pools.append(DHCPPool(\"\u5916\u7f51AP\", \"10.0.4.1\", \"10.0.4.254\"))\n\n    # \u914d\u7f6e\u4ea4\u6362\u673a\n    configure_switch(options)\n\n# \u8c03\u7528\u4e3b\u51fd\u6570\nif __name__ == \"__main__\":\n    main()\n</code></pre> <p>\u8bf7\u8c28\u614e\u4f7f\u7528\u4ee3\u7801\u3002\u4e86\u89e3\u8be6\u60c5</p> <p>content_copy</p> <p>\u8be5\u811a\u672c\u4e0e H3C \u6848\u4f8b\u7684\u811a\u672c\u76f8\u6bd4\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u6539\u52a8\uff1a</p> <ul> <li>\u5bfc\u5165\u4e86 <code>cisco</code> \u6a21\u5757\u3002</li> <li>\u4fee\u6539\u4e86 <code>ConfigOptions</code> \u7c7b\u4e2d\u7684 <code>ip_address</code> \u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u4e3a <code>None</code>\u3002</li> <li>\u4fee\u6539\u4e86 <code>configure_switch()</code> \u51fd\u6570\u4e2d\u7684 <code>switch.send_command()</code> \u65b9\u6cd5\u7684\u53c2\u6570\uff0c\u4f7f\u5176\u4e0e\u601d\u79d1\u4ea4\u6362\u673a\u7684\u547d\u4ee4\u683c\u5f0f\u4e00\u81f4\u3002</li> <li>\u4fee\u6539\u4e86 <code>VLAN</code> \u5bf9\u8c61\u4e2d\u7684 <code>description</code> \u5c5e\u6027\u7684\u7c7b\u578b\uff0c\u4f7f\u5176\u4e0e\u601d\u79d1\u4ea4\u6362\u673a\u7684\u547d\u4ee4\u683c\u5f0f\u4e00\u81f4\u3002</li> </ul> <p>\u8be5\u811a\u672c\u53ef\u4ee5\u914d\u7f6e\u601d\u79d1 Catalyst \u7cfb\u5217\u4ea4\u6362\u673a\uff0c\u4ee5\u53ca\u5176\u4ed6\u4f7f\u7528\u601d\u79d1 IOS \u64cd\u4f5c\u7cfb\u7edf</p>"},{"location":"routeswitch/","title":"Router &amp; Switch\u4ecb\u7ecd","text":"<p>\u5728\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u4e2d\uff0cRouter &amp; Switch \u6a21\u5757\u662f\u8bb0\u5f55\u6211\u5728\u7f51\u7edc\u7ba1\u7406\u4e0e\u8bbe\u5907\u914d\u7f6e\u65b9\u9762\u7684\u5b9e\u8df5\u7ecf\u9a8c\u7684\u5730\u65b9\u3002\u8def\u7531\u5668\u548c\u4ea4\u6362\u673a\u662f\u73b0\u4ee3\u7f51\u7edc\u57fa\u7840\u8bbe\u65bd\u7684\u6838\u5fc3\u8bbe\u5907\uff0c\u5206\u522b\u8d1f\u8d23\u7f51\u7edc\u6570\u636e\u7684\u8def\u7531\u4e0e\u4ea4\u6362\u3002\u8def\u7531\u5668\u901a\u8fc7\u4e0d\u540c\u7f51\u7edc\u4e4b\u95f4\u7684\u6570\u636e\u8f6c\u53d1\uff0c\u786e\u4fdd\u4fe1\u606f\u80fd\u591f\u6b63\u786e\u5230\u8fbe\u76ee\u6807\uff0c\u800c\u4ea4\u6362\u673a\u5219\u5728\u540c\u4e00\u7f51\u7edc\u5185\u9ad8\u6548\u5730\u4f20\u9012\u6570\u636e\uff0c\u786e\u4fdd\u8bbe\u5907\u4e4b\u95f4\u7684\u5feb\u901f\u901a\u4fe1\u3002\u65e0\u8bba\u662f\u5728\u5bb6\u5ead\u7f51\u7edc\u7684\u642d\u5efa\u4e2d\uff0c\u8fd8\u662f\u5728\u4f01\u4e1a\u7ea7\u7f51\u7edc\u7684\u914d\u7f6e\u4e2d\uff0cRouter \u548c Switch \u90fd\u5e2e\u52a9\u6211\u6784\u5efa\u4e86\u7a33\u5b9a\u3001\u9ad8\u6548\u7684\u7f51\u7edc\u73af\u5883\uff0c\u4f7f\u5f97\u6570\u636e\u4f20\u8f93\u53d8\u5f97\u66f4\u52a0\u53ef\u9760\u548c\u5b89\u5168\u3002</p>"},{"location":"routeswitch/Cisio/%E5%8D%95%E8%87%82%E8%B7%AF%E7%94%B1/","title":"\u5355\u81c2\u8def\u7531","text":"<p>R0</p> Text Only<pre><code>Router&gt;enable            \nRouter#configure terminal     \nRouter(config)#interface fastEthernet 0/0\n\nRouter(config-if)#no shutdown \n\n\nRouter(config-if)#exit\n\nRouter(config)#interface fastEthernet 0/0.1   \n\n\nRouter(config-subif)#encapsulation dot1Q 1    #\u628a\u6b64\u63a5\u53e3\u6539\u4e3avlan1\u7684\u7f51\u5173\uff08\u540e\u8fb9\u90a3\u4e2a1\u5c31\u662fvlan\u7684\u51e0\uff09\nRouter(config-subif)#ip  address 192.168.1.1 255.255.255.0    #\u914d\u7f6e\u7f51\u5173\nRouter(config-subif)#exit\n\nRouter(config)#interface f0/0.2\n\nRouter(config-subif)#encapsulation dot1Q 2\nRouter(config-subif)#ip address 192.168.2.1 255.255.255.0\n\nRouter(config-subif)#exit\n\n\nRouter(config)#ip dhcp pool vlan1\nRouter(dhcp-config)#network 192.168.1.0 255.255.255.0\nRouter(dhcp-config)#default-router 192.168.1.1\nRouter(dhcp-config)#dns-server 8.8.8.8\nRouter(dhcp-config)#exit\n\n\nRouter(config)#ip dhcp pool vlan2\nRouter(dhcp-config)#network 192.168.2.0 255.255.255.0\n\nRouter(dhcp-config)#default-router 192.168.2.1\n\nRouter(dhcp-config)#dns-server 8.8.8.8\nRouter(dhcp-config)#exit\n</code></pre> <p>\u5de6\u8fb9\u4ea4\u6362\u673a</p> Text Only<pre><code>Switch&gt;enable\nSwitch#config\n\nSwitch#configure terminal \n\nSwitch(config)#vlan 1\nSwitch(config-vlan)#exit\nSwitch(config)#vlan 2\nSwitch(config-vlan)#exit\nSwitch(config)#interface range f0/1-2\n\nSwitch(config-if-range)#switchport mode access\n\nSwitch(config-if-range)#switchport access vlan 1\n\nSwitch(config-if-range)#interface range f0/3-4\n\n\nSwitch(config-if-range)#switchport mode access \nSwitch(config-if-range)#switchport access vlan 2\n\n\n\nSwitch(config-if-range)#exit\nSwitch(config)#interface f0/5\nSwitch(config-if)#switchport mode trunk\nSwitch(config-if)#exit\nSwitch(config)#interface f0/6\n\nSwitch(config-if)#switchport mode trunk\nSwitch(config-if)#exit\n</code></pre> <p>\u53f3\u8fb9\u4ea4\u6362\u673a</p> Text Only<pre><code>Switch&gt;enable\nSwitch#config\n\nSwitch#configure terminal \n\nSwitch(config)#vlan 1\nSwitch(config-vlan)#exit\nSwitch(config)#vlan 2\nSwitch(config-vlan)#exit\nSwitch(config)#interface range f0/1-2\nSwitch(config-if-range)#switchport mode access\nSwitch(config-if-range)#switchport\nSwitch(config-if-range)#switchport access vlan 1\nSwitch(config-if-range)#exit\nSwitch(config)#interface range f0/3-4\nSwitch(config-if-range)#switchport mode access\nSwitch(config-if-range)#switchport access vlan 2\nSwitch(config-if-range)#exit\n</code></pre>"},{"location":"routeswitch/Cisio/%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/","title":"\u57fa\u7840\u547d\u4ee4","text":"Text Only<pre><code>show version\uff1a\u67e5\u770bIOS\u7248\u672c\u4fe1\u606f\u53ca\u8bbe\u5907\u6b63\u5e38\u8fd0\u884c\u65f6\u95f4\nshow clock  #\u67e5\u770b\u8bbe\u5907\u65f6\u949f\u4fe1\u606f\nshow running-config\uff1a\u67e5\u770b\u5f53\u524d\u8bbe\u5907\u914d\u7f6e\n</code></pre>"},{"location":"routeswitch/H3C/H3C%E9%85%8D%E7%BD%AE/","title":"H3C\u914d\u7f6e","text":"Python<pre><code># \u5bfc\u5165 H3C \u4ea4\u6362\u673a\u6a21\u5757\nfrom h3c import Switch\n\n# \u5b9a\u4e49\u914d\u7f6e\u9009\u9879\nclass ConfigOptions:\n    def __init__(self):\n        self.ip_address = None\n        self.username = None\n        self.password = None\n        self.vlans = []\n        self.dhcp_pools = []\n\n# \u5b9a\u4e49\u914d\u7f6e\u51fd\u6570\ndef configure_switch(options):\n    # \u8fde\u63a5\u5230\u4ea4\u6362\u673a\n    switch = Switch(options.ip_address, options.username, options.password)\n\n    # \u914d\u7f6e\u57fa\u672c\u8bbe\u7f6e\n    switch.send_command(\"system-view\")\n    switch.send_command(\"user-interface vty 0 63\")\n    switch.send_command(\"authentication-mode scheme\")\n    switch.send_command(\"user-role level-15\")\n    switch.send_command(\"local-user mengjia network admin\")\n\n    # \u542f\u7528 SSH \u548c Telnet \u670d\u52a1\u5668\n    switch.send_command(\"ssh server enable\")\n    switch.send_command(\"telnet server enable\")\n\n    # \u914d\u7f6e\u5168\u5c40\u8bbe\u7f6e\n    switch.send_command(\"lldp global enable\")\n    switch.send_command(\"loopback-detection global enable vlan 1 to 4094\")\n    switch.send_command(\"system-working-mode standard\")\n    switch.send_command(\"xbar load-balance\")\n    switch.send_command(\"password-recovery enable\")\n\n    # \u914d\u7f6e VLAN\n    for vlan in options.vlans:\n        switch.send_command(\"vlan {}\".format(vlan))\n        switch.send_command(\"description {}\".format(vlan.description))\n        switch.send_command(\"interface vlan {}\".format(vlan))\n        switch.send_command(\"ip address {} {}\".format(vlan.ip_address, vlan.mask))\n\n    # \u914d\u7f6e DHCP\n    for dhcp_pool in options.dhcp_pools:\n        switch.send_command(\"dhcp server ip-pool {}\".format(dhcp_pool.name))\n        switch.send_command(\"gateway-list {}\".format(dhcp_pool.gateway))\n        switch.send_command(\"network {}\".format(dhcp_pool.network))\n        switch.send_command(\"dns-list {}\".format(dhcp_pool.dns))\n\n    # \u4fdd\u5b58\u914d\u7f6e\n    switch.save_config()\n\n# \u4e3b\u51fd\u6570\ndef main():\n    # \u521b\u5efa\u914d\u7f6e\u9009\u9879\n    options = ConfigOptions()\n    options.ip_address = \"192.168.1.1\"\n    options.username = \"admin\"\n    options.password = \"admin\"\n    options.vlans.append(VLAN(5, \"\u7814\u53d1\", \"10.0.0.1\", \"255.255.255.0\"))\n    options.vlans.append(VLAN(100, \"\u8d22\u52a1\", \"192.168.100.1\", \"255.255.255.0\"))\n    options.dhcp_pools.append(DHCPPool(\"\u5185\u7f51AP\", \"10.0.2.1\", \"10.0.2.254\"))\n    options.dhcp_pools.append(DHCPPool(\"\u5916\u7f51AP\", \"10.0.4.1\", \"10.0.4.254\"))\n\n    # \u914d\u7f6e\u4ea4\u6362\u673a\n    configure_switch(options)\n\n# \u8c03\u7528\u4e3b\u51fd\u6570\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"routeswitch/H3C/Kiwi%20Syslog%20server/","title":"Kiwi Syslog server","text":"<p>Kiwi Syslog server \u4ea4\u6362\u673a\u914d\u7f6e Python<pre><code>system-view\ninfo-center enable\ninfo-center source default loghost level debugging\ninfo-center loghost 10.0.0.15 facility local0\nsave force\n</code></pre> \u53c2\u8003\uff1ahttps://blog.51cto.com/u_1737585/2549136</p>"},{"location":"routeswitch/H3C/Switch%20%E9%85%8D%E7%BD%AE%20ntp%20server/","title":"Switch \u914d\u7f6e ntp server","text":"<p>NTP\u6982\u8ff0\uff1a</p> <p>\u200b       NTP\u4e3aUDP\u534f\u8bae\uff0c\u7aef\u53e3\u4e3a123\uff0c\u65f6\u95f4\u914d\u7f6e\u6a21\u5f0f\u5206none\u548cntp\uff0cnone\u7f3a\u9677\u8bbe\u5907\u8fd0\u884c\u4e00\u6bb5\u65f6\u95f4\uff0c\u65f6\u95f4\u4f1a\u5bf9\u4e0d\u4e0a\uff0c\u800c\u914d\u7f6entp\u6a21\u5f0f\uff0c\u5c06\u914d\u7f6e\u4fdd\u5b58\u8bbe\u5907\uff0c\u5373\u4f7f\u65ad\u7535\u4e5f\u4e0d\u5f71\u54cd\u5f00\u673a\u65f6\u95f4\uff0c\u8ba9\u8bbe\u5907\u4e0e\u65f6\u95f4\u670d\u52a1\u5668\u8fdb\u884c\u81ea\u52a8\u540c\u6b65\u3002</p> <p>none\u914d\u7f6e\uff08\u7ecf\u5e38\u9700\u8981\u624b\u52a8\u4fee\u6539H3C\u4ea4\u6362\u673a\u7684\u65f6\u95f4\uff0c\u4e0d\u5efa\u8bae\u914d\u7f6e\uff09\uff1a</p> <p>clock protocol none           #\u65f6\u95f4\u534f\u8bae</p> <p>clock timezone beijing add 8      #\u9ed8\u8ba4\u91c7\u7528utc\u65f6\u533a\uff0c\u5317\u4eac\u65f6\u95f4\u4e3autc+8</p> <p>clock datetime 11:55:40 2022/05/25    #\u5b9e\u9645\u65f6\u95f4</p> <p>ntp server\u914d\u7f6e\uff0c\u4f7f\u7528\u6838\u5fc3\u4ea4\u6362\u673a\u4f5c\u4e3antp\u670d\u52a1\u5668\uff08192.168.100.1\uff09\uff0c\u9700\u8981\u670d\u52a1\u5668\u4ea4\u6362\u673a\u53ef\u4ee5\u8054\u7f51\u4e0e\u516c\u5171\u65f6\u95f4\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\uff0c\u800cntp server\u4e0e\u5ba2\u6237\u7aef\u5fc5\u987b\u8981ping\u901a\u3002</p> <p>\u963f\u91cc\u4e91\u516c\u5171\u65f6\u95f4\u670d\u52a1\u5668\u6709\u8fd9\u4e9b\uff1a</p> <p>120.25.108.11\u3001182.92.12.11\u3001203.107.6.88\u3001120.25.115.20</p> <p>NTP\u914d\u7f6e\uff1a</p> <p>ntp-service enable                #\u5f00\u542fNTP\u670d\u52a1</p> <p>clock protocol ntp                #\u4f7f\u7528Nt\u534f\u8bae</p> <p>clock timezone beijing add 8              #\u9ed8\u8ba4\u91c7\u7528utc\u65f6\u533a\uff0c\u5317\u4eac\u65f6\u95f4\u4e3autc+8</p> <p>ntp-service unicast-server 120.25.108.11  #\u914d\u7f6entp\u65f6\u95f4\u670d\u52a1\u5668</p> <p>display ntp-service status            #\u67e5\u770bntp\u72b6\u6001</p> <p>display ntp-service sessions          #\u67e5\u770bntp\u4f1a\u8bdd\u4fe1\u606f</p> <p>\u6ce8\u610f\uff1a</p> <p>\u53ef\u4ee5\u901a\u8fc7\u591a\u6b21\u6267\u884cntp-service unicast-peer\u547d\u4ee4\u6216ntp-service ipv6 unicast-peer\u547d\u4ee4\u4e3a\u8bbe\u5907\u6307\u5b9a\u591a\u4e2a\u88ab\u52a8\u5bf9\u7b49\u4f53\u3002</p> <p>ntp client\u53ea\u9700\u8981\u5c06unicast-server\u6307\u5411192.168.100.1\u5373\u53ef\u3002</p> <p>\u5185\u7f51\u5176\u5b83\u7684\u4ea4\u6362\u673a\u4f5c\u4e3antp-client\uff0c\u53c2\u8003\u5982\u4e0b\u914d\u7f6e:</p> <p>system-view</p> <p>clock timezone beijing add 8</p> <p>clock protocol ntp</p> <p>ntp-service enable</p> <p>ntp-service unicast-server 192.168.100.1</p> <p>save force</p> <p>\u200b               </p>"},{"location":"routeswitch/H3C/WLAN%20%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/","title":"WLAN \u57fa\u7840\u914d\u7f6e","text":"Text Only<pre><code>#\nwlan service-template 1\nssid MEIYANGqui\nvlan 400\nakm mode psk\npreshared-key pass-phrase simple MEIYANG666888\ncipher-suite ccmp\nsecurity-ie rsn\nservice-template enable\n#\nwlan service-template 2\nssid MEIYANG-ZB\nvlan 300\nakm mode psk\npreshared-key pass-phrase simple my666888\ncipher-suite ccmp\nsecurity-ie rsn\nservice-template enable\n#\nwlan auto-ap enable \nwlan auto-persistent enable \n#\nwlan ap-group default-group \nvlan 1 #\u81ea\u52a8\u751f\u6210\nap-model WAP722S-W2  #AP\u578b\u53f7\nradio 1 \nradio enable \nservice-template 1 \nservice-template 2 \nradi 2 \nradio enable \nservice-template 1 \nservice-template 2 \ngigabitethernet 1\n#\n</code></pre> <p>\u5220\u9664SSID</p> Text Only<pre><code>[H3C-AC]undo wlan service-template 4        #\u73b0\u6709\u7684ssid\u8c03\u6574\uff0c\u9700\u8981\u5220\u9664\uff0c\u65e0\u6cd5\u5220\u9664\u670d\u52a1\u6a21\u677f\uff0c\u88ab\u6620\u5c04\u5230\u4e86radio\nCan't remove the service template. It has been mapped to a radio.\n</code></pre> <p></p> Text Only<pre><code>wlan ap-group default-group            #\u8fdb\u5165wlan ap\u7684\u6a21\u677f\nap-model WAP722S-W2                #\u9009\u62e9\u5b9e\u9645ap\u578b\u53f7\n</code></pre> <p></p> Text Only<pre><code>radio 1                        #\u9009\u62e9\u7ed1\u5b9a\u7684radio\n</code></pre> <p>[H3C-AC-wlan-ap-group-default-group-ap-model-WAP722S-W2]radio 2</p> Text Only<pre><code>undo service-template 4                #\u53d6\u6d88\u7ed1\u5b9a\n</code></pre> <p>[H3C-AC-wlan-ap-group-default-group-ap-model-WAP722S-W2-radio-2]undo service-template 3</p> Text Only<pre><code>undo wlan service-template 4            #\u518d\u6b21\u5220\u9664\u5373\u53ef\n</code></pre> <p>[H3C-AC]undo wlan service-template 4</p>"},{"location":"routeswitch/H3C/arp/","title":"arp","text":"<p>Core_Sw ARP/6/DUPIFIP: Duplicate address 10.0.4.1 on interface Vlan-interface70, sourced from 4044-fd9f-46fd</p> <p>MAC Address      VLAN ID    State            Port/Nickname            Aging</p> <p>7460-faec-46b1   70         Learned          GE1/0/8                  Y</p> <p>[Core_Sw]mac-address blackhole 7460-faec-46b1 vlan 70  #\u6dfb\u52a0\u9ed1\u6d1emac\uff0c\u6240\u6709\u53d1\u9001\u6216\u63a5\u6536\u8be5mac\u7684\u6d41\u91cf\u5168\u90e8\u4e22\u5f03</p> <p>mac-address blackhole fe80-6510-dea1 vlan 70</p> <p>dhcp server forbidden-ip 10.0.4.181  #\u7981\u6b62\u5206\u914d\u7684ip</p> <p>\u5728\u67e5\u627e\u8fd9\u4e2a\u95ee\u9898\u7684\u65f6\u5019\uff0c\u53d1\u73b0\u8363\u8000\u624b\u673a\u8fde\u63a5WiFi\u65f6\uff0c\u4f7f\u7528\u7684\u662f\u968f\u673amac\u5730\u5740\uff0c\u4e0a\u7f51\u641c\u5bfb\u4e86\u4e0b\u76f8\u5173\u77e5\u8bc6\uff1a</p> <p>\u6709\u4eba\u5229\u7528WiFi\u63a2\u9488\u6536\u96c6\u7528\u6237\u4e2a\u4eba\u4fe1\u606f\u95ee\u9898\uff0c\u624b\u9ed8\u8ba4\u5f00\u542fMAC\u5730\u5740\u968f\u673a\u5316\u529f\u80fd\uff0c\u80fd\u6709\u6548\u7684\u9632\u8303WiFi\u63a2\u9488\uff0cMAC\u5730\u5740\u968f\u673a\u5316\u662f\u6307\u624b\u673aWiFi\u5f00\u542f\u540e\uff0c\u6bcf\u6b21\u5728\u626b\u63cf\u5468\u56f4WiFi\u70ed\u70b9\u65f6\u643a\u5e26\u7684MAC\u5730\u5740\u90fd\u662f\u968f\u673a\u751f\u6210\u7684\uff0c\u5c31\u7b97\u88abWiFi\u63a2\u9488\u83b7\u53d6\u4e5f\u65e0\u6cd5\u505a\u6b63\u786e\u7684\u5927\u6570\u636e\u5339\u914d\u3002WiFi\u63a2\u9488\u83b7\u53d6\u7684\u624b\u673aMAC\u5730\u5740\u5e76\u975e\u4f60\u624b\u673a\u7684\u771f\u5b9eMAC\u5730\u5740\uff0c\u8fd9\u6837WiFi\u63a2\u9488\u5c31\u65e0\u6cd5\u6536\u96c6\u7528\u6237\u7684\u9690\u79c1\u4fe1\u606f\u3002</p> <p>arp user-ip-conflict record enable  #\u542fARP\u8bb0\u5f55\u7ec8\u7aef\u7528\u6237\u95f4IP\u5730\u5740\u51b2\u7a81\u529f\u80fd</p> <p>disp arp user-ip-conflict record    #\u663e\u793aARP\u8bb0\u5f55\u7684\u7ec8\u7aef\u7528\u6237\u95f4IP\u5730\u5740\u51b2\u7a81\u8868\u9879\u4fe1\u606f</p> <p>arp check log enable #\u5f00\u542fARP\u65e5\u5fd7\u4fe1\u606f\u529f\u80fd</p> <p>arp ip-conflict log prompt #\u5f00\u542f\u6e90IP\u5730\u5740\u51b2\u7a81\u63d0\u793a\u529f\u80fd</p>"},{"location":"routeswitch/H3C/arp/#\u65e5\u5fd7\u4fe1\u606f","title":"\u65e5\u5fd7\u4fe1\u606f","text":"<p>disp mac-address 7460-faec-46b1   ##\u67e5\u627emac\u5730\u5740\u6765\u6e90\uff0c\u662f\u5728\u63a5\u53e38\u4e0b\uff0c\u67e5\u770blldp\u53d1\u73b0\u5bf9\u7aef\u662fac\u63a7\u5236\u5668\uff0cvlan id 70\u4e3a\u65e0\u7ebf\u7684\u7f51\u6bb5\uff1b</p>"},{"location":"routeswitch/H3C/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%AE%A1%E7%90%86/","title":"\u4ea4\u6362\u673a\u7ba1\u7406","text":"<p>dis process cpu  #\u67e5\u770b\u5404\u8fdb\u7a0b\u5bf9\u4e8ecpu\u7684\u4f7f\u7528\u7387</p> <p>dis process memory #\u67e5\u770b\u5404\u8fdb\u7a0b\u5bf9\u4e8e\u5185\u5b58\u7684\u4f7f\u7528\u7387</p>"},{"location":"routeswitch/H3C/%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/","title":"\u57fa\u7840\u547d\u4ee4","text":"<p>display current-configuration\u2014\u6536\u96c6\u7684\u662f\u5f53\u524d\u8bbe\u5907\u8fd0\u884c\u7684\u914d\u7f6e\u4fe1\u606f</p> <p>display ip policy-based-route setup  #\u663e\u793a\u5df2\u7ecf\u5e94\u7528\u7684\u7b56\u7565\u8def\u7531\u4fe1\u606f</p> <p>display device manuinfo #\u5373\u53ef\u67e5\u8be2\u5230\u4ea4\u6362\u673a\u7684\u51fa\u5382\u65e5\u671f\u4e0e\u5e8f\u5217\u53f7</p> <p>arp ip-conflict log prompt  #\u7528\u6765\u5f00\u542f\u6e90IP\u5730\u5740\u51b2\u7a81\u63d0\u793a\u529f\u80fd</p> <p>disp dhcp server free-ip #\u67e5\u770bdhcp\u5730\u5740\u6c60\u672a\u4f7f\u7528\u7684IP\u5730\u5740</p> <p>display current-configuration\u2014\u6536\u96c6\u7684\u662f\u5f53\u524d\u8bbe\u5907\u8fd0\u884c\u7684\u914d\u7f6e\u4fe1\u606f</p> <p>display diagnostic-information\u2014\u6536\u96c6\u7684\u662f\u8bbe\u5907\u8bca\u65ad\u4fe1\u606f\uff0c\u5305\u542b\u914d\u7f6e\u3001\u8def\u7531\u3001\u63a5\u53e3\u3001\u786c\u4ef6\u3001\u8f6f\u4ef6\u3001\u8bbe\u5907\u65e5\u5fd7\u3001\u8fd0\u884c\u72b6\u6001\u7b49\u4fe1\u606f\uff0c\u4e00\u822c\u7528\u4e8e\u8bbe\u5907\u6545\u969c\u65f6\u6536\u96c6\u7684\u3002</p> <p>display logbuffer\u2014\u6536\u96c6\u8bbe\u5907\u65e5\u5fd7\u4fe1\u606f</p> <p>display current-configuration | begin line ## \u67e5\u770b\u5f53\u524d\u751f\u6548\u7684\u914d\u7f6e\u4e2d\uff0c\u4ece\u5305\u542b\u201cline\u201d\u5b57\u7b26\u4e32\u7684\u884c\u5f00\u59cb\u5230\u6700\u540e\u4e00\u884c\u7684\u914d\u7f6e\u4fe1\u606f</p> <p>display current-configuration | include snmp ## \u67e5\u770bSNMP\u76f8\u5173\u914d\u7f6e\u3002</p> <p>display version   #\u67e5\u770b\u4ea4\u6362\u673a\u7248\u672c\uff0c\u4ece\u5b98\u7f51\u627e\u5230\u5bf9\u5e94\u578b\u53f7\u7684\u7248\u672c\u8f6f\u4ef6\u53ca\u8bf4\u660e\u4e66</p> <p>display logbuffer | include SHELL | include VTY  #\u663e\u793a\u65e5\u5fd7\u7f13\u51b2\u533a\u4e2d\u5305\u542bSHELL\u5b57\u7b26\u4e32\u4e14\u5305\u542bVTY\u5b57\u7b26\u4e32\u7684\u65e5\u5fd7\u3002</p> <p>display vlan 1 &gt; vlan.txt ## \u5c06display vlan 1\u547d\u4ee4\u7684\u663e\u793a\u4fe1\u606f\u4fdd\u5b58\u5230\u6307\u5b9a\u6587\u4ef6vlan.txt\u3002</p> <p>more vlan.txt ## \u67e5\u770bvlan.txt\u7684\u5185\u5bb9</p> <p>display current-configuration | by-linenum &gt; test.txt # \u6309\u884c\u53f7\u5c06\u5f53\u524d\u914d\u7f6e\u4fdd\u5b58\u5230\u6587\u4ef6test.txt\u3002</p> <p>display history-command # \u53ef\u5728\u4efb\u610f\u89c6\u56fe\u4e0b\u6267\u884c\u672c\u547d\u4ee4\uff0c\u67e5\u770b\u72ec\u4eab\u5386\u53f2\u547d\u4ee4\u7f13\u51b2\u533a\u3002</p> <p>display history-command all # \u53ef\u5728\u4efb\u610f\u89c6\u56fe\u4e0b\u6267\u884c\u672c\u547d\u4ee4\uff0c\u67e5\u770b\u5171\u4eab\u5386\u53f2\u547d\u4ee4\u7f13\u51b2\u533a\u3002</p> <p>disp interface link-info  #\u67e5\u770b\u63a5\u53e3\u6d41\u91cf\u767e\u5206\u6bd4</p> <p>DHCP server forbidden-ip 192.168.88.1 #\u540e\u9762\u7684IP\u53ef\u4ee5\u662f\u5355\u4e2a\uff0c\u4e5f\u53ef\u4ee5\u662f\uff1a\u6700\u5c0fIP-\u6700\u5927IP\u4e4b\u95f4\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u6bb5\u7981\u6b62\u81ea\u52a8DHCP\u3002</p> <p>display DHCP server free-ip #\u9a8c\u8bc1H3c\u4ea4\u6362\u673adhcp\u6392\u9664ip\u6bb5\u914d\u7f6e\u6570\u636e</p> <p>\u5feb\u6377\u952e</p> CTRL_L display ip routing-table\uff0c\u8868\u793a\u663e\u793aIPv4\u8def\u7531\u8868\u4fe1\u606f CTRL_G display current-configuration\uff0c\u8868\u793a\u663e\u793a\u5f53\u524d\u914d\u7f6e <p>PC\u8def\u7531\u8ffd\u8e2a\u7ecf\u8fc7H3C\u8bbe\u5907\u663e\u793a\u201c*\u201d\u95ee\u9898,H3C\u8bbe\u5907\u952e\u5165\u4ee5\u4e0b\u4e24\u6761\u547d\u4ee4\u5373\u53ef\uff1a</p> <p>ip ttl-expires enable</p> <p>ip unreachables enable</p>"},{"location":"routeswitch/H3C/%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4/","title":"\u57fa\u7840\u914d\u7f6e\u5feb\u6377\u547d\u4ee4","text":"Text Only<pre><code>system-view\n\n\u914d\u7f6e\u8fdc\u7a0bTelnet/SSH\u8d26\u53f7\n#\nuser-interface vty 0 63\nauthentication-mode scheme \nuser-role level-15\nlocal-user mengjia network admin\n\n\n#\nundo password-control aging enable\nundo password-control length enable\nundo password-control history enable\nundo password-control composition enable\nundo password-control complexity user-name check\nundo password-control change-password first-login enable \n#\nssh server enable\n\ntelnet server enable \nlocal-user meiyang class manage\npassword simple Meiyang123..\nservice-type telnet ssh terminal http https\nauthorization-attribute user-role network-admin\n#\nuser-interface vty 0 63\nauthentication-mode scheme\nuser-role level-15\n#\nlldp global enable\n#\nloopback-detection global enable vlan 1 to 4094 \n#\nsystem-working-mode standard\nxbar load-balance\npassword-recovery enable\n\nvlan 5\ndescription yanfa\nint vlan 5\nip add 10.0.0.1 255.255.255.0\nqu\n\nvlan 100\nint vlan 100\nip add 192.168.100.1 255.255.255.0\nqu\n\n#ip route-static 0.0.0.0 0 \u51fa\u53e3\u8def\u7531ip\n\nvlan 60\nint vlan 60\nip add 10.0.2.1 255.255.254.0\n\ndhcp enable\ndhcp server ip-pool neiwang-AP\ngateway-list 10.0.2.1\nnetwork 10.0.2.1 mask 255.255.254.0\ndns-list 192.168.1.1\n\nvlan 70\nint vlan 70\nip add 10.0.4.1 255.255.254.0\ndhcp server ip-pool waiwang-AP\ngateway-list 10.0.4.1\nnetwork 10.0.4.0 mask 255.255.254.0\ndns-list 192.168.1.1\n\n\n\nssh server enable\nip http enable\nip https enable\n</code></pre>"},{"location":"routeswitch/H3C/%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1/","title":"\u7b56\u7565\u8def\u7531","text":"<p>\u200b       \u5982\u5e0c\u671b\u5728\u76f8\u5e94VLAN\u91cc\u9762\uff0c\u591a\u589e\u4e00\u6761PBR\u7b56\u7565\uff0c\u4e00\u4e2avlan\u63a5\u53e3\u53ea\u80fd\u4e0b\u53d1\u4e00\u4e2aPBR\u7b56\u7565\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2aPBR\u3001\u591a\u4e2anode\u6765\u5b9e\u73b0\u73b0\u573a\u9700\u6c42\u3002</p> Text Only<pre><code>#\u7814\u53d1\nacl advanced 3000\nrule 10 permit ip source 10.0.0.190 0 destination 0.0.0.0 255.255.255.255  #\u6e90\u5730\u5740190\uff0c\u53bb\u5f800.0.0.0/0\u76ee\u6807\u5730\u5740\nrule 15 permit ip source 10.0.0.0 0.0.0.255 destination 47.242.186.39 0.0.0.0    #32\u4f4d\u7684\u53cd\u63a9\u7801\uff0c4\u4e2a0\uff0c0\u6807\u8bc6\u4e25\u683c\u5339\u914d\uff0c\u6807\u8bc6\u53ea\u5141\u8bb8/\u62d2\u7edd47.242.186.39\npolicy-based-route pbr1 permit node 2\n if-match acl 3000\n apply next-hop 192.168.112.1\ninter Vlan-interface 10\nip policy-based-route pbr1\n\n\n#\u53d1\u884c\nacl advanced 3005\nrule 5 permit ip source 10.0.10.0 0.0.0.255 destination 47.242.186.39 0.0.0.0\npolicy-based-route pbr2 permit node 4\nif-match acl 3005\napply next-hop 192.168.112.1\ninter Vlan-interface 20\nip policy-based-route pbr2\n\n\n#\u884c\u653f\nacl advanced 3010\nrule 5 permit ip source 192.168.0.0 0.0.0.255 destination 47.242.186.39 0.0.0.0\npolicy-based-route pbr3 permit node 6\nif-match acl 3010\napply next-hop 192.168.112.1\ninter Vlan-interface 30\nip policy-based-route pbr3\n\n\n#\u7f8e\u672f\u7f51\u6bb5\uff1a10.0.6.0/24\nacl advanced 3015\nrule 5 permit ip source 10.0.6.0 0.0.0.255 destination 47.242.186.39 0.0.0.0\npolicy-based-route pbr4 permit node 8\nif-match acl 3015\napply next-hop 192.168.112.1\nquit\ninter Vlan-interface 90\nip policy-based-route pbr4\n\n\n#\u8bbf\u5ba2ap Mechanist\u4f7f\u7528acl\u5339\u914d\u7b56\u7565\u7981\u6b62\u8bbf\u95ee\u5185\u7f51\nacl advanced 3100\n rule 0 deny ip source 10.0.4.0 0.0.1.255 destination 10.0.0.0 0.0.0.255\n rule 5 deny ip source 10.0.4.0 0.0.1.255 destination 10.0.8.0 0.0.0.255\n rule 10 deny ip source 10.0.4.0 0.0.1.255 destination 10.0.10.0 0.0.0.255\n rule 15 deny ip source 10.0.4.0 0.0.1.255 destination 10.0.6.0 0.0.0.255\n rule 20 deny ip source 10.0.4.0 0.0.1.255 destination 10.0.2.0 0.0.1.255\n rule 25 deny ip source 10.0.4.0 0.0.1.255 destination 172.16.0.0 0.0.0.255\n rule 30 deny ip source 10.0.4.0 0.0.1.255 destination 192.168.0.0 0.0.0.255\n rule 35 deny ip source 10.0.4.0 0.0.1.255 destination 192.168.100.0 0.0.0.255\n rule 40 deny ip source 10.0.4.0 0.0.1.255 destination 192.168.10.0 0.0.0.255\n rule 45 deny ip source 10.0.4.0 0.0.1.255 destination 10.0.1.0 0.0.0.255\n rule 50 deny ip source 10.0.4.0 0.0.1.255 destination 10.10.10.0 0.0.0.255\n rule 55 deny ip source 10.0.4.0 0.0.1.255 destination 10.0.9.0 0.0.0.255\n\n #\u67e5\u627evlan70\u4e3b\u673a\u6240\u5c5e\u63a5\u53e3\uff0c\u5e94\u7528\u7b56\u7565\ndisp arp vlan 70\n10.0.4.9        341c-f0dd-51b8 70            GE1/0/8\ninter g1/0/8\npacket-filter 3100 inbound \n</code></pre>"},{"location":"routeswitch/H3C/%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1/#pbr\u5e94\u7528\u573a\u666f2","title":"pbr\u5e94\u7528\u573a\u666f2","text":"<p>\u7f51\u7edc\u62d3\u6251</p> <p></p> <p>\u8bbe\u5907\u63cf\u8ff0</p> <p>\u200b       192.168.140.254 \u51fa\u53e3\u8def\u7531</p> <p>\u200b       192.168.140.1     \u6838\u5fc3\u4ea4\u6362\u673a</p> <p>\u200b       \u6838\u5fc3\u4ea4\u6362\u4e0b\u63a5\u63a5\u5165\u5c42\u4ea4\u6362\u673a\uff0c\u6df1\u4fe1\u670dAC\uff0c\u8fde\u63a5\u603b\u90e8\u4e13\u7ebf</p> <p>\u9700\u6c42</p> <p>\u200b       8\u697c\u8bbe\u8ba1\u4e2d\u5fc3\u7684\u6570\u636e\u5305\u4eceG0/4\u3001G0/5\u4e24\u4e2a\u63a5\u53e3\u53d1\u51fa\uff0c</p> <p>\u200b       PPPOE\u5e26\u5bbd\u4fe1\u606f\uff1a059291326647   \u3001874278     5G\u5957\u9910 1000Mbps\u5e26\u5bbd   349</p> <p>\u200b       PPPOE\u5e26\u5bbd\u4fe1\u606f\uff1a059291320930   \u3001745452      5G\u5957\u9910  500Mbps \u5e26\u5bbd   249</p> <p>\u200b       8\u697c\u8bbe\u8ba1\u4e2d\u5fc3\u7f51\u6bb5\uff1a192.168.141.241~192.168.141.247  6\u4e2aIP\u4f5c\u4e3aAP\u63a5\u5165\u70b9\u7684IP\uff0c\u4f7f\u7528\u7b56\u7565\u8def\u7531\u5c066\u4e2aIP\u4ece500M\u5bbd\u5e26\u7684\u63a5\u53e3\u901a\u4fe1\u3002</p> <p></p> <p>\u200b       \u8bbe\u7f6eacl\u5339\u914d6\u4e2aIP\uff0c\u5199\u53cd\u63a9\u7801\uff0c\u4f7f\u7528\u7b56\u7565\u8def\u7531\u5728\u547d\u4e2dacl\u65f6\uff0c\u4ecedialer 4\u53d1\u51fa\uff1a</p> Text Only<pre><code>acl  advcal 3010\nrule 5 permit ip source 192.168.141.241 0.0.0.7  \npolicy rou-  shejibu permit node 40\nif-match acl 3010\napplay output interface dialer 4\nacl adv  3011\nrule 5 permit ip source 192.168.141.0 0.0.0.255\npolicy rou - shejibu permit node 50\nif-match acl 3011\napplay output interface dialer 5\n</code></pre> <p>\u6570\u636e\u5305\u7684\u5339\u914d\u987a\u5e8f\uff1a\u7b56\u7565\u8def\u7531&gt;\u9759\u6001\u8def\u7531&gt;\u9ed8\u8ba4\u8def\u7531</p> <p>\u7b56\u7565\u8def\u7531\u7684\u540d\u79f0\u53ea\u80fd\u4e3a\u4e00\u4e2a\uff08H3C\uff09\uff0c\u4f7f\u7528node\u6570\u503c\u6765\u6807\u8bc6\uff0cnode\u503c\u5c0f\u4f18\u5148\u5339\u914d\uff0c\u5339\u914d\u540e\uff0c\u4e0d\u518d\u6267\u884c\u4e0b\u4e00\u6761\u3002</p>"},{"location":"routeswitch/H3C/meiyang/10.0.0.1/","title":"10.0.0.1","text":"Text Only<pre><code>version 7.1.070, Release 6318P01\n\nsysname Core-24F\n\nclock timezone beijing add 08:00:00\nclock protocol ntp\n\ntelnet server enable\n\nirf mac-address persistent timer\nirf auto-update enable\nundo irf link-delay\nirf member 1 priority 1\n\ndhcp enable\n\nlldp global enable\n\nloopback-detection global enable vlan 1 to 4094\n\npassword-recovery enable\n\nvlan 1\n\nvlan 10\n\nvlan 20\n\nvlan 30\n\nvlan 40\n\nvlan 50\n\nvlan 70\n\nvlan 80\n\nvlan 100\n\nvlan 200\n\nvlan 300\n\nvlan 400\n\ndhcp server ip-pool 10\ngateway-list 192.168.0.1\nnetwork 192.168.0.0 mask 255.255.255.0\ndns-list 218.85.152.99\n\ndhcp server ip-pool 20\ngateway-list 192.168.1.1\nnetwork 192.168.1.0 mask 255.255.255.0\ndns-list 218.85.152.99\n\ndhcp server ip-pool 30\ngateway-list 192.168.3.1\nnetwork 192.168.3.0 mask 255.255.255.0\ndns-list 218.85.152.99\n\ndhcp server ip-pool 40\ngateway-list 192.168.4.1\nnetwork 192.168.4.0 mask 255.255.255.0\ndns-list 218.85.152.99\n\ndhcp server ip-pool 50\ngateway-list 195.168.5.1\nnetwork 192.168.5.0 mask 255.255.255.0\ndns-list 218.85.152.99\n\ndhcp server ip-pool 70\ngateway-list 192.168.7.1\nnetwork 192.168.7.0 mask 255.255.255.0\ndns-list 218.85.152.99\n\ndhcp server ip-pool 80\ngateway-list 192.168.8.1\nnetwork 192.168.8.0 mask 255.255.255.0\ndns-list 218.85.152.99\n\ndhcp server ip-pool 300\ngateway-list 192.168.30.1\nnetwork 192.168.30.0 mask 255.255.254.0\ndns-list 218.85.152.99\n\ndhcp server ip-pool 400\ngateway-list 192.168.40.1\nnetwork 192.168.40.0 mask 255.255.254.0\ndns-list 218.85.152.99\n\ninterface NULL0\n\ninterface Vlan-interface1\ndhcp client identifier ascii 98f1812b11c0-VLAN0001\n\ninterface Vlan-interface10\nip address 192.168.0.1 255.255.255.0\n\ninterface Vlan-interface20\nip address 192.168.1.1 255.255.255.0\n\ninterface Vlan-interface30\nip address 192.168.3.1 255.255.255.0\n\ninterface Vlan-interface40\nip address 192.168.4.1 255.255.255.0\n\ninterface Vlan-interface50\nip address 192.168.5.1 255.255.255.0\n\ninterface Vlan-interface70\nip address 192.168.7.1 255.255.255.0\n\ninterface Vlan-interface80\nip address 192.168.8.1 255.255.255.0\n\ninterface Vlan-interface100\nip address 192.168.10.2 255.255.255.0\n\ninterface Vlan-interface200\nip address 10.0.0.1 255.255.255.0\n\ninterface Vlan-interface300\nip address 192.168.30.1 255.255.254.0\n\ninterface Vlan-interface400\nip address 192.168.40.1 255.255.254.0\n\ninterface GigabitEthernet1/0/1\nport link-mode bridge\nport access vlan 10\n\ninterface GigabitEthernet1/0/2\nport link-mode bridge\nport link-type trunk\nport trunk permit vlan all\n\ninterface GigabitEthernet1/0/3\nport link-mode bridge\nport access vlan 300\n\ninterface GigabitEthernet1/0/4\nport link-mode bridge\nport access vlan 10\n\ninterface GigabitEthernet1/0/5\nport link-mode bridge\nport link-type trunk\nport trunk permit vlan all\n\ninterface GigabitEthernet1/0/6\nport link-mode bridge\nport access vlan 10\n\ninterface GigabitEthernet1/0/7\nport link-mode bridge\nport access vlan 10\n\ninterface GigabitEthernet1/0/8\nport link-mode bridge\nport access vlan 10\n\ninterface GigabitEthernet1/0/9\nport link-mode bridge\nport access vlan 10\n\ninterface GigabitEthernet1/0/10\nport link-mode bridge\nport access vlan 40\n\ninterface GigabitEthernet1/0/11\nport link-mode bridge\nport access vlan 10\nstp edged-port\n\ninterface GigabitEthernet1/0/12\nport link-mode bridge\nport access vlan 10\nstp edged-port\n\ninterface GigabitEthernet1/0/13\nport link-mode bridge\nport access vlan 10\nstp edged-port\n\ninterface GigabitEthernet1/0/14\nport link-mode bridge\nport access vlan 10\nstp edged-port\n\ninterface GigabitEthernet1/0/15\nport link-mode bridge\nport access vlan 10\nstp edged-port\n\ninterface GigabitEthernet1/0/16\nport link-mode bridge\nport access vlan 10\nstp edged-port\n\ninterface GigabitEthernet1/0/17\nport link-mode bridge\nport access vlan 10\n\ninterface GigabitEthernet1/0/18\nport link-mode bridge\n\ninterface GigabitEthernet1/0/19\nport link-mode bridge\nport link-type trunk\nport trunk permit vlan all\n\ninterface GigabitEthernet1/0/20\nport link-mode bridge\nport access vlan 10\n\ninterface GigabitEthernet1/0/21\nport link-mode bridge\nport access vlan 10\n\ninterface GigabitEthernet1/0/22\nport link-mode bridge\nport access vlan 400\n\ninterface GigabitEthernet1/0/23\nport link-mode bridge\nport link-type trunk\nport trunk permit vlan all\n\ninterface GigabitEthernet1/0/24\nport link-mode bridge\nport access vlan 100\n\ninterface GigabitEthernet1/0/25\nport link-mode bridge\nport link-type trunk\nport trunk permit vlan all\n\ninterface GigabitEthernet1/0/26\nport link-mode bridge\n\ninterface GigabitEthernet1/0/27\nport link-mode bridge\n\ninterface GigabitEthernet1/0/28\nport link-mode bridge\n\nscheduler logfile size 16\n\nline class aux\nuser-role network-admin\n\nline class vty\nuser-role network-operator\n\nline aux 0\nuser-role network-admin\n\nline vty 0 4\nauthentication-mode scheme\nuser-role network-operator\n\nline vty 5 63\nuser-role network-operator\n\nip route-static 0.0.0.0 0 192.168.10.1\n\nssh server enable\n\nntp-service enable\nntp-service unicast-server 120.25.108.11\nntp-service unicast-server h3crd-wlan1.chinacloudapp.cn priority\nntp-service unicast-server pool.ntp.org\nntp-service unicast-server time.windows.com\nntp-service unicast-server time.nist.gov\n\nacl advanced 3000\n\nradius scheme system\nuser-name-format without-domain\n\ndomain system\n\ndomain default enable system\n\nrole name level-0\ndescription Predefined level-0 role\n\nrole name level-1\ndescription Predefined level-1 role\n\nrole name level-2\ndescription Predefined level-2 role\n\nrole name level-3\ndescription Predefined level-3 role\n\nrole name level-4\ndescription Predefined level-4 role\n\nrole name level-5\ndescription Predefined level-5 role\n\nrole name level-6\ndescription Predefined level-6 role\n\nrole name level-7\ndescription Predefined level-7 role\n\nrole name level-8\ndescription Predefined level-8 role\n\nrole name level-9\ndescription Predefined level-9 role\n\nrole name level-10\ndescription Predefined level-10 role\n\nrole name level-11\ndescription Predefined level-11 role\n\nrole name level-12\ndescription Predefined level-12 role\n\nrole name level-13\ndescription Predefined level-13 role\n\nrole name level-14\ndescription Predefined level-14 role\n\nuser-group system\n\nlocal-user meiyang class manage\npassword hash $h$6$Kna9IvjHWL0mgRjH$gKpW3ggxq5K6jadpRcRzRJj/JROdGwXsH/f1gu/mGpwYO2Y6IbJXUyXh59hF8Ly2XB0hp6o5T0FDxdAnQOrVIA==\nservice-type telnet http ssh\nauthorization-attribute user-role level-3\nauthorization-attribute user-role level-15\nauthorization-attribute user-role network-admin\nauthorization-attribute user-role network-operator\n\nip http enable\n\ncloud-management server domain oasis.h3c.com\n\nreturn\n</code></pre>"},{"location":"routeswitch/H3C/meiyang/10.0.0.2/","title":"10.0.0.2","text":"Text Only<pre><code>version 7.1.070, Release 6318P01\n\nsysname Core-22F\n\nclock timezone beijing add 08:00:00\nclock protocol ntp\n\ntelnet server enable\n\nirf mac-address persistent timer\nirf auto-update enable\nundo irf link-delay\nirf member 1 priority 1\n\ndhcp enable\n\nlldp global enable\n\nloopback-detection global enable vlan 1 to 4094\n\npassword-recovery enable\n\nvlan 1\n\nvlan 10\ndescription PC\n\nvlan 30\ndescription 1\n\nvlan 40\ndescription \u5bb8\u30e5gongwei\n\nvlan 50\ndescription jiankong\n\nvlan 60\n\nvlan 70\n\nvlan 100\n\nvlan 200\n\nvlan 300\n\nvlan 400\n\ninterface NULL0\n\ninterface Vlan-interface200\nip address 10.0.0.2 255.255.255.0\n\ninterface GigabitEthernet1/0/1\nport access vlan 70\n\ninterface GigabitEthernet1/0/2\nport access vlan 70\n\ninterface GigabitEthernet1/0/3\nport access vlan 70\n\ninterface GigabitEthernet1/0/4\nport access vlan 70\n\ninterface GigabitEthernet1/0/5\nport access vlan 400\n\ninterface GigabitEthernet1/0/6\n\ninterface GigabitEthernet1/0/7\n\ninterface GigabitEthernet1/0/8\n\ninterface GigabitEthernet1/0/9\nport access vlan 300\n\ninterface GigabitEthernet1/0/10\n\ninterface GigabitEthernet1/0/11\n\ninterface GigabitEthernet1/0/12\n\ninterface GigabitEthernet1/0/13\n\ninterface GigabitEthernet1/0/14\n\ninterface GigabitEthernet1/0/15\n\ninterface GigabitEthernet1/0/16\n\ninterface GigabitEthernet1/0/17\n\ninterface GigabitEthernet1/0/18\n\ninterface GigabitEthernet1/0/19\n\ninterface GigabitEthernet1/0/20\n\ninterface GigabitEthernet1/0/21\n\ninterface GigabitEthernet1/0/22\n\ninterface GigabitEthernet1/0/23\n\ninterface GigabitEthernet1/0/24\nport link-type trunk\nport trunk permit vlan all\n\ninterface GigabitEthernet1/0/25\n\ninterface GigabitEthernet1/0/26\n\ninterface GigabitEthernet1/0/27\n\ninterface GigabitEthernet1/0/28\n\nscheduler logfile size 16\n\nline class aux\nuser-role network-admin\n\nline class vty\nuser-role network-operator\n\nline aux 0\nuser-role network-admin\n\nline vty 0 63\nauthentication-mode scheme\nuser-role network-operator\n\nip route-static 0.0.0.0 0 10.0.0.1\n\nssh server enable\n\nntp-service enable\nntp-service unicast-server 10.0.0.1\n\nradius scheme system\nuser-name-format without-domain\n\ndomain system\n\ndomain default enable system\n\nrole name level-0\ndescription Predefined level-0 role\n\nrole name level-1\ndescription Predefined level-1 role\n\nrole name level-2\ndescription Predefined level-2 role\n\nrole name level-3\ndescription Predefined level-3 role\n\nrole name level-4\ndescription Predefined level-4 role\n\nrole name level-5\ndescription Predefined level-5 role\n\nrole name level-6\ndescription Predefined level-6 role\n\nrole name level-7\ndescription Predefined level-7 role\n\nrole name level-8\ndescription Predefined level-8 role\n\nrole name level-9\ndescription Predefined level-9 role\n\nrole name level-10\ndescription Predefined level-10 role\n\nrole name level-11\ndescription Predefined level-11 role\n\nrole name level-12\ndescription Predefined level-12 role\n\nrole name level-13\ndescription Predefined level-13 role\n\nrole name level-14\ndescription Predefined level-14 role\n\nuser-group system\n\nlocal-user meiyang class manage\npassword hash $h$6$SdqRX8j4nadoPP/u$t49VAL51sWv/8Q/8CBX8cTDEjAIwzwS6Ea9HbovYail+V6nc68KC51EiWu/z37FfrzMc+6M1mzxtN5MLZBdoaw==\nservice-type telnet http ssh\nauthorization-attribute user-role level-15\nauthorization-attribute user-role network-operator\n\nip http enable\nip https enable\n\ncloud-management server domain oasis.h3c.com\n\nreturn\n</code></pre>"},{"location":"routeswitch/H3C/meiyang/10.0.0.254/","title":"10.0.0.254","text":"Text Only<pre><code>version 7.1.064, Release 5432P01\n\nsysname AC\n\nclock timezone beijing add 08:00:00\nclock protocol ntp\n\nwlan global-configuration\n\nwlan band-navigation enable\n\ntelnet server enable\n\nport-security enable\n\ndialer-group 1 rule ip permit\n\nip redirects enable\nip unreachables enable\nip ttl-expires enable\n\nundo nat alg all\n\ndhcp enable\n\nlldp global enable\n\nmodule-proxy work-mode bridge\n\npassword-recovery enable\n\nvlan 1\n\nvlan 200\n\nvlan 300\n\nvlan 400\n\nwlan service-template 1\nssid MEIYANG\nvlan 400\nakm mode psk\npreshared-key pass-phrase cipher $c$3$bH4o7U+BRicnFmVuHVPl5kRGwxyvgLNGRq+WuiX9yYQ=\ncipher-suite ccmp\nsecurity-ie rsn\nservice-template enable\n\nwlan service-template 2\nssid MEIYANG-ZB\nvlan 300\nakm mode psk\npreshared-key pass-phrase cipher $c$3$HoHfPE90qlQ4JneXz+ioQzfcwnmL7NFPJlwB\ncipher-suite ccmp\nsecurity-ie rsn\nservice-template enable\n\ninterface NULL0\n\ninterface Vlan-interface1\n\ninterface Vlan-interface200\nip address 10.0.0.254 255.255.255.0\n\ninterface Vlan-interface300\nip address 192.168.30.2 255.255.254.0\n\ninterface Vlan-interface400\nip address 192.168.40.2 255.255.254.0\n\ninterface GigabitEthernet1/0/1\nport link-mode bridge\nport link-type trunk\nport trunk permit vlan all\n\ninterface GigabitEthernet1/0/2\nport link-mode bridge\n\ninterface GigabitEthernet1/0/3\nport link-mode bridge\n\ninterface GigabitEthernet1/0/4\nport link-mode bridge\n\ninterface GigabitEthernet1/0/5\nport link-mode bridge\n\nscheduler logfile size 16\n\nline class console\nuser-role network-admin\n\nline class usb\nuser-role network-admin\n\nline class vty\nuser-role network-operator\n\nline con 0\nauthentication-mode scheme\nuser-role network-admin\n\nline vty 0 31\nauthentication-mode scheme\nuser-role network-admin\nuser-role network-operator\n\nip route-static 0.0.0.0 0 10.0.0.1\n\nundo info-center logfile enable\n\nssh server enable\n\nnqa server enable\n\nntp-service enable\nntp-service unicast-server pool.ntp.org\nntp-service unicast-server 10.0.0.1\n\ndomain cloud\nauthentication portal none\nauthorization portal none\naccounting portal none\n\ndomain extend-auth\nauthentication portal none\nauthorization portal none\naccounting portal none\n\ndomain system\n\ndomain default enable system\n\nrole name level-0\ndescription Predefined level-0 role\n\nrole name level-1\ndescription Predefined level-1 role\n\nrole name level-2\ndescription Predefined level-2 role\n\nrole name level-3\ndescription Predefined level-3 role\n\nrole name level-4\ndescription Predefined level-4 role\n\nrole name level-5\ndescription Predefined level-5 role\n\nrole name level-6\ndescription Predefined level-6 role\n\nrole name level-7\ndescription Predefined level-7 role\n\nrole name level-8\ndescription Predefined level-8 role\n\nrole name level-9\ndescription Predefined level-9 role\n\nrole name level-10\ndescription Predefined level-10 role\n\nrole name level-11\ndescription Predefined level-11 role\n\nrole name level-12\ndescription Predefined level-12 role\n\nrole name level-13\ndescription Predefined level-13 role\n\nrole name level-14\ndescription Predefined level-14 role\n\nuser-group system\n\nlocal-user admin class manage\npassword hash $h$6$qLXIlVf/9F2p5pC7$sf1/Yr3o/zDbHlgn5wqXyxyQn244Oyh7f2uOViE1I7csv0LLV99eTwuuX1xit73RqUc1vE+07zGt1f6KE+n/UQ==\nservice-type ssh telnet terminal http https\nauthorization-attribute user-role network-admin\n\nlocal-user meiyang class manage\npassword hash $h$6$g+HudL+7/A6IUHIA$lbuux6N7iP1rBKCTf6ax2vg9sT3JL15nRqPtZmjQd/TTJhMMuKhuAC0O0ige3LLudhIrtFoIcIjcUNmulaC/Og==\nservice-type telnet\nauthorization-attribute user-role network-admin\nauthorization-attribute user-role network-operator\n\nsession statistics enable\n\nportal free-rule 2 destination ip any udp 53\nportal free-rule 3 destination ip any tcp 53\nportal free-rule 4 destination short.weixin.qq.com\nportal free-rule 5 destination mp.weixin.qq.com\nportal free-rule 6 destination long.weixin.qq.com\nportal free-rule 7 destination dns.weixin.qq.com\nportal free-rule 8 destination minorshort.weixin.qq.com\nportal free-rule 9 destination extshort.weixin.qq.com\nportal free-rule 10 destination szshort.weixin.qq.com\nportal free-rule 11 destination szlong.weixin.qq.com\nportal free-rule 12 destination szextshort.weixin.qq.com\nportal free-rule 13 destination wx.qlogo.cn\nportal free-rule 14 destination wifi.weixin.qq.com\n\nip http enable\nip https enable\n\nsmartmc tm username admin password cipher $c$3$MpM2j0OL9/1bRcrNkQ76VK78ZRvn4x/d enable\n\nwlan rrm calibration-power interval 30\n\nwlan auto-ap enable\nwlan auto-persistent enable\n\nwlan ap-group default-group\nvlan 1\nap-model WAP722E\nradio 1\nradio enable\nservice-template 1\nservice-template 2\nradio 2\nradio enable\nservice-template 1\nservice-template 2\ngigabitethernet 1\ngigabitethernet 2\nap-model WAP722S-W2\nradio 1\nradio enable\nservice-template 1\nservice-template 2\nradio 2\nradio enable\nservice-template 1\nservice-template 2\ngigabitethernet 1\n\nwlan ap 74d6-cbf9-31a0 model WAP722S-W2\nserial-id 219801A1GW820BE000CX\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 74d6-cbfa-4320 model WAP722S-W2\nserial-id 219801A1GW820BE002NH\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 74d6-cbfa-5c00 model WAP722S-W2\nserial-id 219801A1GW820BE002VX\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 74d6-cbfa-5d80 model WAP722S-W2\nserial-id 219801A1GW820BE002W9\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 74d6-cbfa-5da0 model WAP722S-W2\nserial-id 219801A1GW820BE002WB\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 74d6-cbfa-60a0 model WAP722S-W2\nserial-id 219801A1GW820BE002X3\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 74d6-cbfa-63c0 model WAP722S-W2\nserial-id 219801A1GW820BE002XX\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 74d6-cbfa-67e0 model WAP722S-W2\nserial-id 219801A1GW820BE002YZ\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 74d6-cbfa-6a60 model WAP722S-W2\nserial-id 219801A1GW820BE002ZM\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 74d6-cbfa-b240 model WAP722S-W2\nserial-id 219801A1GW820BE003L5\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 74d6-cbfa-db20 model WAP722S-W2\nserial-id 219801A1GW820BE003XQ\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 74d6-cbfa-e460 model WAP722S-W2\nserial-id 219801A1GW820BE00403\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 74d6-cbfa-e4a0 model WAP722S-W2\nserial-id 219801A1GW820BE00405\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 74d6-cbfa-e4e0 model WAP722S-W2\nserial-id 219801A1GW820BE00407\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 943b-b032-6520 model WAP722E\nserial-id 219801A0Q39201G001TW\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\ngigabitethernet 2\n\nwlan ap 943b-b032-59a0 model WAP722E\nserial-id 219801A0Q39201G001QX\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\ngigabitethernet 2\n\nwlan ap 943b-b032-5a00 model WAP722E\nserial-id 219801A0Q39201G001R0\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\ngigabitethernet 2\n\nwlan ap 943b-b032-5e40 model WAP722E\nserial-id 219801A0Q39201G001S3\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\ngigabitethernet 2\n\nwlan ap 943b-b032-7ce0 model WAP722E\nserial-id 219801A0Q39201G00210\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\ngigabitethernet 2\n\nwlan ap 9c54-c2f9-af80 model WAP722S-W2\nserial-id 219801A1GW8218E001FL\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 9c54-c2fa-dc20 model WAP722S-W2\nserial-id 219801A1GW8218E003Y5\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 9c54-c2fa-e140 model WAP722S-W2\nserial-id 219801A1GW8218E003ZH\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 9c54-c2fa-e220 model WAP722S-W2\nserial-id 219801A1GW8218E003ZQ\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 9c54-c2fa-e340 model WAP722S-W2\nserial-id 219801A1GW8218E00400\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 9c54-c2fa-e360 model WAP722S-W2\nserial-id 219801A1GW8218E00401\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 9c54-c2fa-e820 model WAP722S-W2\nserial-id 219801A1GW8218E00418\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 9c54-c2fa-e2a0 model WAP722S-W2\nserial-id 219801A1GW8218E003ZV\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap 9c54-c2fa-f0e0 model WAP722S-W2\nserial-id 219801A1GW8218E0043J\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap b845-f459-4200 model WAP722S-W2\nserial-id 219801A1GW8218E00DX7\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap b845-f459-e580 model WAP722S-W2\nserial-id 219801A1GW8218E00G8F\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap b845-f4e0-6d00 model WAP722S-W2\nserial-id 219801A1GW8219E00002\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap b845-f4e0-a3e0 model WAP722S-W2\nserial-id 219801A1GW8219E000G7\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap b845-f4e0-a8c0 model WAP722S-W2\nserial-id 219801A1GW8219E000HH\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap b845-f4e0-ad00 model WAP722S-W2\nserial-id 219801A1GW8219E000JL\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap b845-f4e0-d960 model WAP722S-W2\nserial-id 219801A1GW8219E000X1\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\nwlan ap b845-f4e1-2060 model WAP722S-W2\nserial-id 219801A1GW8219E001HC\nvlan 1\nradio 1\nradio 2\ngigabitethernet 1\n\ncloud-management server domain oasis.h3c.com\n\nreturn\n</code></pre>"},{"location":"routeswitch/H3C/meiyang/10.0.0.4/","title":"10.0.0.4","text":"Text Only<pre><code>version 7.1.070, Release 6318P01\n\nsysname Core_6F\n\nclock timezone beijing add 08:00:00\nclock protocol ntp\n\ntelnet server enable\n\nirf mac-address persistent timer\nirf auto-update enable\nundo irf link-delay\nirf member 1 priority 1\n\nlldp global enable\n\npassword-recovery enable\n\nvlan 1\n\nvlan 10\n\nvlan 20\n\nvlan 30\n\nvlan 80\n\nvlan 200\n\nvlan 300\n\nvlan 400\n\ninterface NULL0\n\ninterface Vlan-interface1\n\ninterface Vlan-interface200\nip address 10.0.0.4 255.255.255.0\n\ninterface GigabitEthernet1/0/1\nport access vlan 20\n\ninterface GigabitEthernet1/0/2\nport access vlan 20\nstp edged-port\n\ninterface GigabitEthernet1/0/3\nport access vlan 30\n\ninterface GigabitEthernet1/0/4\nport access vlan 30\n\ninterface GigabitEthernet1/0/5\nport access vlan 400\n\ninterface GigabitEthernet1/0/6\n\ninterface GigabitEthernet1/0/7\nport access vlan 80\n\ninterface GigabitEthernet1/0/8\n\ninterface GigabitEthernet1/0/9\nport access vlan 10\n\ninterface GigabitEthernet1/0/10\nport access vlan 10\n\ninterface GigabitEthernet1/0/11\n\ninterface GigabitEthernet1/0/12\n\ninterface GigabitEthernet1/0/13\n\ninterface GigabitEthernet1/0/14\n\ninterface GigabitEthernet1/0/15\n\ninterface GigabitEthernet1/0/16\n\ninterface GigabitEthernet1/0/17\n\ninterface GigabitEthernet1/0/18\n\ninterface GigabitEthernet1/0/19\n\ninterface GigabitEthernet1/0/20\n\ninterface GigabitEthernet1/0/21\n\ninterface GigabitEthernet1/0/22\n\ninterface GigabitEthernet1/0/23\n\ninterface GigabitEthernet1/0/24\nport link-type trunk\nport trunk permit vlan all\n\ninterface GigabitEthernet1/0/25\nport link-type trunk\nport trunk permit vlan all\n\ninterface GigabitEthernet1/0/26\n\ninterface GigabitEthernet1/0/27\n\ninterface GigabitEthernet1/0/28\n\nscheduler logfile size 16\n\nline class aux\nuser-role network-admin\n\nline class vty\nuser-role network-operator\n\nline aux 0\nauthentication-mode scheme\nuser-role network-admin\n\nline vty 0 4\nauthentication-mode scheme\nuser-role network-admin\nuser-role network-operator\n\nline vty 5 63\nuser-role network-operator\n\nip route-static 0.0.0.0 0 10.0.0.1\n\nssh server enable\n\nntp-service enable\nntp-service unicast-server 10.0.0.1\n\nradius scheme system\nuser-name-format without-domain\n\ndomain system\n\ndomain default enable system\n\nrole name level-0\ndescription Predefined level-0 role\n\nrole name level-1\ndescription Predefined level-1 role\n\nrole name level-2\ndescription Predefined level-2 role\n\nrole name level-3\ndescription Predefined level-3 role\n\nrole name level-4\ndescription Predefined level-4 role\n\nrole name level-5\ndescription Predefined level-5 role\n\nrole name level-6\ndescription Predefined level-6 role\n\nrole name level-7\ndescription Predefined level-7 role\n\nrole name level-8\ndescription Predefined level-8 role\n\nrole name level-9\ndescription Predefined level-9 role\n\nrole name level-10\ndescription Predefined level-10 role\n\nrole name level-11\ndescription Predefined level-11 role\n\nrole name level-12\ndescription Predefined level-12 role\n\nrole name level-13\ndescription Predefined level-13 role\n\nrole name level-14\ndescription Predefined level-14 role\n\nuser-group system\n\nlocal-user admin class manage\npassword hash $h$6$CZW3qWQeqNFS/qNE$n8oCb5+LJ2f0KMzl3Lm4kLdcbhPq7MjphdpQh3O0FDnCQSQyOuAa/OB/WWlEtrpd5Z3QywUlwdtv15qtxRcBtw==\nservice-type telnet http ssh\nauthorization-attribute user-role network-admin\nauthorization-attribute user-role network-operator\n\nlocal-user meiyang class manage\npassword hash $h$6$hwn/IO+2VCTig3gM$NysOJ8mr6BYUputHMBCw67w078pti34f+TK2rtvUwURIRlYdStlBg1oXonUwTr9CmGPO2QaOAf7GMVUM6jcw0Q==\nservice-type telnet http https ssh terminal\nauthorization-attribute user-role network-admin\nauthorization-attribute user-role network-operator\n\nip http enable\n\ncloud-management server domain oasis.h3c.com\n\nreturn\n</code></pre>"},{"location":"routeswitch/H3C/meiyang/%E7%BB%84%E7%BD%91%E4%BF%A1%E6%81%AF/","title":"\u7ec4\u7f51\u4fe1\u606f","text":"<p>\u7f51\u7edc\u62d3\u6251</p> <p></p> <p>\u8bbe\u5907\u540d\u79f0                 \u7ba1\u7406\u5730\u5740              \u8d26\u53f7                    \u5bc6\u7801</p> <p>\u8def\u7531\u5668                    192.168.10.1        admin                  Meiyang123..</p> <p>24F\u6838\u5fc3\u4ea4\u6362\u673a        10.0.0.1                meiyang               Meiyang123..</p> <p>22F\u6838\u5fc3\u4ea4\u6362\u673a        10.0.0.2                meiyang              Meiyang123..</p> <p>6F\u4e09\u5c42\u4ea4\u6362\u673a           10.0.0.4               meiyang              Meiyang123..</p> <p>AC                          10.0.0.254            meiyang              Meiyang123..</p> <p>VLAN ID              \u533a\u57df                          \u7f51\u6bb5</p> <p>VLAN 10           24F\u5de5\u4f4d                 192.168.0.0/24</p> <p>VLAN20             6F\u5de5\u4f4d                  192.168.1.0/24</p> <p>VLAN30            6F\u76f4\u64ad\u95f4                192.168.3.0/24</p> <p>VLAN80            6F\u76d1\u63a7                   192.168.8.0/24</p> <p>VLAN 40          24F\u76f4\u64ad\u95f4              192.168.4.0/24</p> <p>VLAN 70          22F\u5de5\u4f4d                 192.168.7.0/24</p> <p>VLAN 100        \u6838\u5fc3\u4ea4\u6362\u673a             192.168.10.0/24</p> <p>VLAN 200          \u7ba1\u7406vlan              10.0.0.1 \u300110.0.0.2</p> <p>VLAN 300         MEIYANG-ZB        192.168.30.0/24</p> <p>VLAN 400          MEIYANG             192.168.40.0/23</p> <p>6F\u6838\u5fc3\uff1a\uff08\u9700\u6c42\uff1a2\u4e2a\u63a5\u5165\u5de5\u4f4d\uff0c1\u4e2a\u63a5\u5165AP\uff0c1\u4e2a\u63a5\u5165\u76d1\u63a7\uff0c1\u4e2a\u63a5\u5165\u76f4\u64ad\u95f4\uff09</p> <p>\u7ba1\u7406IP\uff1a10.0.0.4/24   ip rou-static 0.0.0.0 0 10.0.0.2</p> <p>G1/0/25  Trunk   \u5bf9\u63a5\u697c\u4e0a\u6838\u5fc3</p> <p>G1/0/1   VLAN20  6\u697c\u5de5\u4f4d</p> <p>G1/0/2   VLAN20  6\u697c\u5de5\u4f4d</p> <p>G1/0/3   VLAN30  6\u697c\u76f4\u64ad\u95f4</p> <p>G1/0/5    AP</p>"},{"location":"routeswitch/Openwrt/openwrt%E4%BF%AE%E6%94%B9web%E7%AB%AF%E5%8F%A3/","title":"openwrt\u4fee\u6539web\u7aef\u53e3","text":"<p>\u5982\u4f55\u4fee\u6539openwrt\u8def\u7531\u5668\u7684web\u8bbf\u95ee\u7aef\u53e3\u53f7\uff1f</p> <p>\u5728OpenWrt\u8def\u7531\u5668\u4e0a\uff0c\u5982\u4f55\u4fee\u6539Web\u8bbf\u95ee\u7aef\u53e3\u53f7\uff0c\u901a\u5e38\u6d89\u53ca\u5230\u4fee\u6539HTTP\u670d\u52a1\u5668\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cOpenWrt\u4f7f\u7528\u7684HTTP\u670d\u52a1\u5668\u662fuHTTPd\u3002</p> <p>\u4ee5\u4e0b\u662f\u4fee\u6539Web\u8bbf\u95ee\u7aef\u53e3\u53f7\u7684\u6b65\u9aa4\uff1a</p>"},{"location":"routeswitch/Openwrt/openwrt%E4%BF%AE%E6%94%B9web%E7%AB%AF%E5%8F%A3/#\u4e00\u901a\u8fc7ssh\u767b\u5f55\u8def\u7531\u5668","title":"\u4e00\u3001\u901a\u8fc7SSH\u767b\u5f55\u8def\u7531\u5668","text":"<p>\u200b       \u4f7f\u7528SSH\u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u8def\u7531\u5668\u3002\u5982\u679c\u4f60\u7684\u8def\u7531\u5668\u4e0a\u6ca1\u6709\u5b89\u88c5SSH\u670d\u52a1\u5668\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u901a\u8fc7Web\u754c\u9762\u6216\u5176\u4ed6\u65b9\u5f0f\u542f\u7528SSH\u3002</p> <p>\u200b       \u6216\u8005windows\u7684cmd\u8fdb\u884c\u8fde\u63a5\uff1a </p>"},{"location":"routeswitch/Openwrt/openwrt%E4%BF%AE%E6%94%B9web%E7%AB%AF%E5%8F%A3/#\u4e8c\u7f16\u8f91uhttpd\u914d\u7f6e\u6587\u4ef6","title":"\u4e8c\u3001\u7f16\u8f91uHTTPd\u914d\u7f6e\u6587\u4ef6","text":"<p>\u6267\u884c\u547d\u4ee4vi /etc/config/uhttpd\u4ee5\u7f16\u8f91uHTTPd\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528vi\u6587\u672c\u7f16\u8f91\u5668\uff1a</p> <p>Python<pre><code>root@BleachWrt:~# vi /etc/config/uhttpd\n\n\u627e\u5230\u5e76\u4fee\u6539\u7aef\u53e3\u53f7\uff1a\u5728\u6253\u5f00\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u627e\u5230\u7c7b\u4f3c\u4ee5\u4e0b\u884c\u7684\u914d\u7f6e\uff08\u9ed8\u8ba4\u7aef\u53e3\u53f7\u4e3a80\uff09\uff1a\nconfig uhttpd 'main'\n        list listen_http '0.0.0.0:80'\n        list listen_http '[::]:80'\n        list listen_https '0.0.0.0:443'\n        list listen_https '[::]:443'\n        option redirect_https '0'\n        option home '/www'\n        option rfc1918_filter '1'\n        option max_connections '100'\n        option cert '/etc/uhttpd.crt'\n        option key '/etc/uhttpd.key'\n        option cgi_prefix '/cgi-bin'\n        list lua_prefix '/cgi-bin/luci=/usr/lib/lua/luci/sgi/uhttpd.lua'\n        option network_timeout '30'\n        option http_keepalive '20'\n        option tcp_keepalive '1'\n        option ubus_prefix '/ubus'\n        option script_timeout '3600'\n        list index_page 'cgi-bin/luci'\n        option max_requests '50'\n\n\n\u4fee\u6539list list listen_http\u884c\u4e2d\u7684\u7aef\u53e3\u53f7\u4e3a\u4f60\u60f3\u8981\u7684\u65b0\u7aef\u53e3\u53f7\u3002\u4f8b\u5982\uff0c\u5c06\u7aef\u53e3\u53f7\u4fee\u6539\u4e3a8080\uff1a\nconfig uhttpd 'main'\n        list listen_http '0.0.0.0:80'\n\n\n\u4fee\u6539\u540e\uff1a\nconfig uhttpd 'main'\n        list listen_http '0.0.0.0:8080'\n        list listen_http '[::]:8080'\n</code></pre> \u5982\u679c\u4f7f\u7528vi\u7f16\u8f91\u5668\uff0c\u6309\u4e0besc\uff0c\u7136\u540e\u8f93\u5165:wq\uff0c\u5e76\u6309Enter\u4fdd\u5b58\u5e76\u9000\u51fa\uff1a</p>"},{"location":"routeswitch/Openwrt/openwrt%E4%BF%AE%E6%94%B9web%E7%AB%AF%E5%8F%A3/#\u4e09\u91cd\u65b0\u542f\u52a8uhttpd\u670d\u52a1","title":"\u4e09\u3001\u91cd\u65b0\u542f\u52a8uHTTPd\u670d\u52a1","text":"<p>\u4e3a\u4e86\u4f7f\u66f4\u6539\u751f\u6548\uff0c\u9700\u8981\u91cd\u65b0\u542f\u52a8uHTTPd\u670d\u52a1\u3002\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <p>Python<pre><code>/etc/init.d/uhttpd restart \n</code></pre> \u6216\u8005\u4f7f\u7528service\u547d\u4ee4\uff1a Python<pre><code>service uhttpd restart \n</code></pre> \u5982\u679c\u4f60\u4f7f\u7528\u4e86\u9632\u706b\u5899\uff0c\u4f60\u53ef\u80fd\u8fd8\u9700\u8981\u66f4\u65b0\u9632\u706b\u5899\u89c4\u5219\u4ee5\u5141\u8bb8\u65b0\u7684\u7aef\u53e3\u4e0a\u7684\u6d41\u91cf\u3002</p>"},{"location":"routeswitch/Openwrt/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91openwrt/","title":"\u6e90\u7801\u7f16\u8bd1openwrt","text":""},{"location":"routeswitch/Openwrt/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91openwrt/#openwrt\u8f6f\u8def\u7531\u5b89\u88c5\u914d\u7f6e","title":"Openwrt\u8f6f\u8def\u7531\u5b89\u88c5\u914d\u7f6e","text":""},{"location":"routeswitch/Openwrt/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91openwrt/#1openwrt\u8f6f\u8def\u7531\u8bbe\u5907\u4fe1\u606f","title":"1\u3001Openwrt\u8f6f\u8def\u7531\u8bbe\u5907\u4fe1\u606f","text":"<p>&lt;1&gt;\u767b\u5f55\u4fe1\u606f\uff1a</p> <p>IP\uff1a10.4.1.1</p> <p>\u8d26\u53f7\uff1aroot</p> <p>\u5bc6\u7801\uff1amjMJ@2020</p> <p>&lt;2&gt;\u8bbe\u5907\u914d\u7f6e\uff1a</p> <p>\u4e3b\u673a\u540d    Openwrt</p> <p>\u578b\u53f7  ASUSTeK COMPUTER INC. Z9PA-U8 Series</p> <p>CPU \u578b\u53f7 Intel(R) Xeon(R) CPU E5-2620 v2 @ 2.10GHz</p> <p>CPU \u89c4\u683c \u6838\u5fc3: 6 / \u7ebf\u7a0b: 12</p> <p>CPU \u4e3b\u9891 1217.85MHz</p> <p>\u56fa\u4ef6\u7248\u672c  Openwrt Koolshare mod V2.36 r14941-67f6fa0a30</p> <p>\u5185\u6838\u7248\u672c  5.4.52</p> <p>\u5185\u5b58      32GB</p> <p>&lt;3&gt;\u63a5\u53e3\u4e92\u8054</p> <p>LAN&lt;\u2013&gt; ROS-eth8\uff08ros-eth8\u8bbe\u7f6eIP\uff1a10.4.1.10/24\uff0c\u914d\u7f6e\u4e0a\u7f51\u3001fenliu6\uff09</p> <p>WAN&lt;-&gt;PPPOE</p>"},{"location":"routeswitch/Openwrt/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91openwrt/#2openwrt\u5b89\u88c5","title":"2\u3001Openwrt\u5b89\u88c5","text":"<p>&lt;1&gt;\u5b89\u88c5\u5e76\u6253\u5f00balenaEtcher</p> <p></p> <p>\u9009\u62e9openwrt\u7248\u672c\uff1a</p> <p></p> <p>&lt;2&gt;\u9009\u62e9\u5b89\u88c5\u786c\u76d8\uff08u\u76d8\u5b89\u88c5\u542f\u52a8\u6216\u786c\u76d8\u5199\u5165\uff1awindows\u4e3b\u673a\u4f7f\u7528\u5916\u63a5\u786c\u76d8\u76d2\u8fde\u63a5\uff0c\u5220\u9664\u539f\u6709\u5168\u90e8\u5206\u533a\uff0c\u65e0\u9700\u91cd\u65b0\u5206\u533a\uff0c\u76f4\u63a5\u5199\u5165\uff09\uff0cFlash\u76f4\u81f3\u5b8c\u6210\u5373\u53ef\u3002</p> <p></p> <p>PS\uff1a&lt;1&gt;\u88c5\u8f7d\u5230\u4e3b\u673a\uff0c\u9009\u62e9\u4ece\u8be5\u78c1\u76d8\u542f\u52a8\u5373\u53ef\uff1b    </p> <p>\u200b       &lt;2&gt;\u5982\u5f39\u51fa\u662f\u5426\u5c06\u78c1\u76d8\u683c\u5f0f\u5316\uff0c\u53d6\u6d88\u5c31\u597d\u3002</p>"},{"location":"routeswitch/Openwrt/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91openwrt/#3\u914d\u7f6e\u767b\u5f55","title":"3\u3001\u914d\u7f6e\u767b\u5f55","text":"Text Only<pre><code>Vi /etc/config/network  #\u66f4\u6539\u7f51\u5361\u914d\u7f6e\nLAN\nEth0\nIP\uff1a10.4.1.1\nnetmask\uff1a255.255.255.0\ndns\uff1a114.114.114.114\nWAN\uff1a\n                    Eth1\n                    Proto\uff1apppoe\n                    Username\uff1a\u62e8\u53f7\u8d26\u53f7\n                    Password\uff1a\u62e8\u53f7\u5bc6\u7801\n\nifup            #\netho \u66f4\u65b0\u7f51\u7edc\u914d\u7f6e\uff08\u5b57\u6bcdo\uff09\n</code></pre>"},{"location":"routeswitch/Openwrt/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91openwrt/#4\u767b\u5f55","title":"4\u3001\u767b\u5f55","text":"<p>&lt;1&gt;\u901a\u8fc7web\u767b\u5f55\uff1a\u7f51\u9875\u8bbf\u95ee10.4.1.1</p> <p>&lt;2&gt;\u901a\u8fc7ssh\u767b\u5f55\uff1a\u7cfb\u7edf-\u7ba1\u7406\u6743-SSH\u8bbf\u95ee\uff0c\u63a5\u53e3\uff1aLan\uff0c\u7aef\u53e3\uff1a22\uff0c\u4fdd\u5b58\u5e94\u7528\uff1b</p>"},{"location":"routeswitch/Openwrt/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91openwrt/#5\u5b89\u88c5shadowsocks\u5f71\u68ad","title":"5\u3001\u5b89\u88c5Shadowsocks(\u5f71\u68ad)","text":"<p>PS\uff1a\u524d\u63d0\u786e\u4fdd10.4.1.1\u53ef\u6b63\u5e38\u4e0a\u7f51</p> <p>\u5148\u5b89\u88c5 shadowsocks-libev UDP-Relay \u529f\u80fd\u7684\u4f9d\u8d56\u5305 iptables-mod-tproxy</p> Text Only<pre><code>opkg update\n</code></pre> Text Only<pre><code>opkg install iptables-mod-tproxy \n</code></pre> <p>\u7531\u4e8e OpenWrt \u5185\u5efa\u7684 wget \u4e0d\u652f\u6301 TLS\uff0c\u65e0\u6cd5\u4e0b\u8f7d HTTPS \u7f51\u7ad9\u4e0a\u7684\u8f6f\u4ef6\u5305\uff0c\u56e0\u6b64\u8fd8\u8981\u5b89\u88c5\u597d\u6574\u7248\u7684 wget \u548c CA \u8bc1\u4e66\u8f6f\u4ef6\uff0c\u524d\u8005\u8d1f\u8d23\u4e0b\u8f7d\u94fe\u63a5\uff0c\u540e\u8005\u63d0\u4f9b HTTPS \u8fde\u63a5\u6240\u9700\u7684\u6839\u8bc1\u4e66\uff1a</p> Text Only<pre><code>opkg install wget ca-certificates\n</code></pre> <p>\u5b89\u88c5 Shadowsocks\uff1a</p> <p>\u200b    wget http://openwrt-dist.sourceforge.net/packages/openwrt-dist.pub</p> <p>\u200b    opkg-key add openwrt-dist.pub</p> <p>\u6dfb\u52a0\u8f6f\u4ef6\u6e90\u5230\u914d\u7f6e\u6587\u4ef6\uff0c\u6ce8\u610f\u52a1\u5fc5\u5c06 x86_64 \u66ff\u6362\u4e3a\u4f60\u81ea\u5df1\u786c\u4ef6\u7684 CPU \u67b6\u6784\u540d</p> Text Only<pre><code>opkg print-architecture  #\u7528\u8be5\u547d\u4ee4\u67e5\u8be2CPU \u67b6\u6784\u540d\n</code></pre> <p>\u67b6\u6784\u5982\u4e0b\uff1a</p> Text Only<pre><code>arch x86_64 10   #X86_64\u4e3a\u7cfb\u7edf\u67b6\u6784\nvi /etc/opkg/customfeeds.conf  #\u5c06\u8f6f\u4ef6\u6e90\u6dfb\u52a0\u81f3\u914d\u7f6e\u6587\u4ef6\nsrc/gz openwrt_dist http://openwrt-dist.sourceforge.net/packages/base/x86_64\nsrc/gz openwrt_dist_luci http://openwrt-dist.sourceforge.net/packages/luci\n</code></pre> <p>\u5b89\u88c5shadowsocks-libev\u3001luci-app-shadowsocks\uff1a</p> Text Only<pre><code>opkg update\nopkg install shadowsocks-libev\nopkg install luci-app-shadowsocks\n</code></pre> <p>\u5b89\u88c5\u5982\u4e0b\u8f6f\u4ef6\u5305\uff1a</p> Text Only<pre><code>opkg install shadowsocks-libev-ss-local shadowsocks-libev-ss-redir shadowsocks-libev-ss-rules shadowsocks-libev-ss-tunnel\n</code></pre> <p>\u5982\u679c\u9700\u8981 Luci Web \u754c\u9762\u8fd8\u8981\u5b89\u88c5\uff1a</p> Text Only<pre><code>opkg install luci-app-shadowsocks-libev\n</code></pre>"},{"location":"routeswitch/Openwrt/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91openwrt/#6\u5b89\u88c5chinadns","title":"6\u3001\u5b89\u88c5ChinaDNS","text":"<p>\u7528\u8f6f\u4ef6\u6e90\u5b89\u88c5 \u5982\u679c\u5148\u524d\u5b89\u88c5</p> <p>shadowsocks-libev \u65f6\u5df2\u6dfb\u52a0\u4e86 openwrt-dist \u6e90 \uff0c\u53ef\u76f4\u63a5\u547d\u4ee4\u884c\u5b89\u88c5 ChinaDNS</p> Text Only<pre><code>opkg install ChinaDNS\nopkg install luci-app-chinadns\n</code></pre> <p>\u5b89\u88c5\u5b8c\u6210\u540e\u7acb\u5373\u66f4\u65b0</p> <p>ChinaDNS \u7684\u56fd\u5185 IP \u8def\u7531\u8868 /etc/chinadns_chnroute.txt</p> <p>ipip.net\uff1a</p> Text Only<pre><code>wget https://raw.githubusercontent.com/17mon/china_ip_list/master/china_ip_list.txt\n</code></pre> <p>\u4f7f\u7528</p> <p>crontab -e \u547d\u4ee4\u7f16\u8f91 cron \u4efb\u52a1\u8ba1\u5212\uff0c\u6bcf\u6708\uff081 \u53f7\u51cc\u6668 3 \u70b9\uff09\u66f4\u65b0</p> <p>chinadns_chnroute.txt\uff0c\u7f16\u8f91\u5185\u5bb9\u5982\u4e0b\uff1a</p> Text Only<pre><code>#For ipip.net\n0 3 1 * *    wget https://raw.githubusercontent.com/17mon/china_ip_list/master/china_ip_list.txt\n</code></pre> <p>\u7f16\u8f91\u5b8c\u6210\u540e\u542f\u7528 cron \u7a0b\u5e8f\uff1a</p> Text Only<pre><code>/etc/init.d/cron start\n/etc/init.d/cron enable\n</code></pre> <p>\u9a8c\u8bc1</p> <p>crontab \u4efb\u52a1\u662f\u5426\u6b63\u786e\u6267\u884c\uff1a</p> Text Only<pre><code>logread | grep crond\n</code></pre>"},{"location":"routeswitch/Openwrt/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91openwrt/#7\u914d\u7f6e\u4e0a\u7f51","title":"7\u3001\u914d\u7f6e\u4e0a\u7f51","text":"<p>&lt;1&gt;\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\uff0c\u8f93\u5165shadowsocks\u670d\u52a1\u5668\u4fe1\u606f</p> Text Only<pre><code>    vi /etc/config/shadowsocks\nconfig\nservers\n  option\nalias '8.210.121.126'\n  option\ngroup 'Default'\n  option\ntype 'ss'\n  option\nfast_open '0'\n  option\nno_delay '0'\n  option\nserver '8.210.121.126'\n  option\nserver_port '11888'\n  option\ntimeout '60'\n  option\npassword 'jeff.123'\n  option encrypt_method 'aes-256-gcm'\n</code></pre> <ul> <li>\u7f51\u7edc\uff0d&gt; DHCP/DNS\uff0c\u57fa\u672c\u8bbe\u7f6e\u91cc\u5c06\u672c\u5730\u670d\u52a1\u5668\u66f4\u6539\u4e3a\uff1a127.0.0.1#5353\uff0cHOSTS\u548c\u89e3\u6790\u6587\u4ef6\u91cc\u52fe\u9009\u201c\u5ffd\u7565\u89e3\u6790\u6587\u4ef6\u201d\u548c\u201c\u5ffd\u7565HOSTS\u6587\u4ef6\u201d</li> <li>\u670d\u52a1\uff0d&gt; ChinaDNS\u91ccChinaDNS\u4e0a\u6e38\u670d\u52a1\u5668\u66f4\u6539\u4e3a\uff1a114.114.114.114,127.0.0.1:5300     </li> <li>\u670d\u52a1-\u5f71\u68ad-\u900f\u660e\u4ee3\u7406-\u9009\u62e9&lt;\u4e3b\u670d\u52a1\u5668&gt;\uff0cUPD\u670d\u52a1\u505c\u7528</li> </ul>"},{"location":"routeswitch/ROS/1%20MikroTik%E8%B7%AF%E7%94%B1%E5%99%A8%E9%87%8D%E7%BD%AE%E5%AF%86%E7%A0%81/","title":"MikroTik\u8def\u7531\u5668\u91cd\u7f6e\u5bc6\u7801","text":"<p>\u91cd\u7f6e MikroTik \u8def\u7531\u5668\u7684 3 \u79cd\u65b9\u6cd5</p> <ol> <li>\u4ece\u8def\u7531\u5668\u4e0a\u62d4\u4e0b\u7535\u6e90\u7ebf\u4ee5\u5173\u95edMikroTik \u8bbe\u5907\u7684\u7535\u6e90\u3002</li> <li>\u6309\u4f4fReset\u91cd\u7f6e\u6309\u94ae\u800c\u4e0d\u677e\u5f00\u3002 </li> <li>\u63d2\u5165\u7535\u6e90\u7ebf\uff0c\u7247\u523b\u4e4b\u540e\uff0c\u5e94\u8be5\u4f1a\u770b\u5230 pwr\u6307\u793a\u706f\u95ea\u70c1\u3002</li> <li>\u677e\u5f00\u91cd\u7f6e\u6309\u94ae\u4ee5\u6e05\u9664\u914d\u7f6e\u3002</li> <li>\u7ed9\u8def\u7531\u5668\u51e0\u5206\u949f\u65f6\u95f4\u6765\u6e05\u9664\u548c\u91cd\u7f6e\u51fa\u5382\u8bbe\u7f6e\u3002</li> <li>MikroTik \u51fa\u5382\u65f6\u90fd\u9884\u5148\u914d\u7f6e\u4e86 ether1 \u7aef\u53e3\u4e0a\u7684 IP \u5730\u5740 192.168.88.1/24\u3002\u9ed8\u8ba4\u7528\u6237\u540d\u4e3aadmin\uff0c\u5bc6\u7801\u4e3a\u65e0\u5bc6\u7801\uff08\u65e0\u9700\u8f93\u5165\u5bc6\u7801\uff09</li> <li>\u4f7f\u7528winbix\u8fde\u8fde\u63a5</li> </ol> <p></p>"},{"location":"routeswitch/ROS/Mikrotik%E8%B7%AF%E7%94%B1%E5%99%A8%E5%91%BD%E4%BB%A4/","title":"Mikrotik\u8def\u7531\u5668\u547d\u4ee4","text":"<p>..          \u56de\u5230\u4e0a\u4e00\u7ea7</p> <p>interface print     \u67e5\u770b\u7aef\u53e3\u72b6\u6001</p> <p>ip address print    \u67e5\u770b\u63a5\u53e3ip\u5730\u5740</p> <p>ip address print    \u67e5\u770blicese</p> <p>ip address print    \u67e5\u770b\u8def\u7531\u8868</p> <p>/log print      \u67e5\u770b\u65e5\u5fd7</p> <p></p>"},{"location":"routeswitch/ROS/Mikrotik%E8%B7%AF%E7%94%B1%E5%99%A8%E5%91%BD%E4%BB%A4/#\u7cfb\u7edf\u5907\u4efd","title":"\u7cfb\u7edf\u5907\u4efd","text":"<p>system backup  &gt;save name=test     #\u5c06\u5f53\u524d\u914d\u7f6e\u4fdd\u5b58\u5230test</p> <p>file print  #\u67e5\u770b\u4fdd\u5b58\u7684\u6587\u4ef6</p> <p>system backup &gt; load name=test  #\u5bfc\u5165\u5907\u4efd\u6587\u4ef6test</p>"},{"location":"routeswitch/ROS/Mikrotik%E8%B7%AF%E7%94%B1%E5%99%A8%E5%91%BD%E4%BB%A4/#\u7cfb\u7edf\u590d\u4f4d","title":"\u7cfb\u7edf\u590d\u4f4d","text":"<p>/system&gt; reset-configuration #\u6e05\u9664\u6389\u8def\u7531\u5668\u7684\u6240\u6709\u914d\u7f6e\uff0c\u5305\u62ec\u767b\u9646\u7684\u8d26\u53f7\u548c\u5bc6\u7801\uff08\u6062\u590d\u4e3a\u201cadmin\u201c\u548c\u7a7a\u5bc6\u7801\uff09IP \u5730\u5740\u548c\u5176\u4ed6\u914d\u7f6e\u5c06\u4f1a\u88ab\u62b9\u53bb\uff0c\u5728reset \u6307\u4ee4\u6267\u884c\u540e\u8def\u7531\u5668\u5c06\u4f1a\u91cd\u542f\u3002RouterOS v3.x \u540e\u7248\u672c\uff0c\u5728\u590d\u4f4d\u540e\u9ed8\u8ba4\u7684ether1 \u63a5\u53e3IP \u5730\u5740\u5c06\u8bbe\u7f6e\u4e3a192.168.88.1/24</p>"},{"location":"routeswitch/ROS/Mikrotik%E8%B7%AF%E7%94%B1%E5%99%A8%E5%91%BD%E4%BB%A4/#\u7cfb\u7edf\u91cd\u542f\u4e0e\u5173\u673a","title":"\u7cfb\u7edf\u91cd\u542f\u4e0e\u5173\u673a","text":"<p>system reboot</p> <p>system shutdown</p> <p>\u67e5\u770b\u4fee\u6539Ros\u540d\u79f0</p> <p>system identity print   #\u67e5\u770bros\u540d\u79f0</p> <p>system identity set name=Gateway    #\u4fee\u6539ros\u540d\u79f0</p>"},{"location":"routeswitch/ROS/PPTP%20VPN/","title":"PPTP VPN","text":"<p>https://www.osyunwei.com/archives/8459.html</p> <p>https://jingyan.baidu.com/article/f7ff0bfc1465242e26bb131c.html</p>"},{"location":"routeswitch/ROS/Queues/","title":"Queues","text":"<p>:for rosjb from=1 to=254 do={/queue simple add name=(\u201cPC\u201d.$rosjb) target=(\u201c10.0.10.\u201d . $rosjb) dst=ether7 limit-at=6M/6M max-limit=6M/6M priority=8/8}</p> <p>:for ros from=1 to=254 do={/queue simple add name=(\u201cNC\u201d.$ros) target=(\u201c10.0.0.\u201d . $ros) dst=ether7 limit-at=4M/4M max-limit=4M/4M priority=8/8}</p> <p>:for cos from=1 to=254 do={/queue simple add name=(\u201cCOC\u201d.$cos) target=(\u201c192.168.0.\u201d . $cos) dst=ether7 limit-at=4M/4M max-limit=4M/4M priority=8/8}</p> <p>:for aos from=1 to=254 do={/queue simple add name=(\u201cBC\u201d.$aos) target=(\u201c10.0.2.\u201d . $aos) dst=ether7 limit-at=4M/4M max-limit=4M/4M priority=8/8}</p> <p>:for bos from=1 to=254 do={/queue simple add name=(\u201cCC\u201d.$bos) target=(\u201c10.0.3.\u201d . $bos) dst=ether7 limit-at=4M/4M max-limit=4M/4M priority=8/8}</p> <p>:for dos from=1 to=254 do={/queue simple add name=(\u201cdoC\u201d.$dos) target=(\u201c10.0.6.\u201d . $dos) dst=ether7 limit-at=4M/4M max-limit=4M/4M priority=8/8}</p>"},{"location":"routeswitch/ROS/dns%E8%AE%BE%E7%BD%AE/","title":"dns\u8bbe\u7f6e","text":""},{"location":"routeswitch/ROS/ros%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84/","title":"ros\u7aef\u53e3\u6620\u5c04","text":"<p>\u6253\u5f00winbox\u5ba2\u6237\u7aef\u767b\u9646\u4e4b\u540e\uff0c\u627e\u5230\u201cip\u201d\u2013\u201dfirewall\u201d\u9632\u706b\u5899\u8bbe\u7f6e\uff0c\u5982\u4e0b\u56fe</p> <p></p> <p>\u627e\u5230\u9632\u706b\u5899\u89c4\u5219\uff0cnat\u91cc\u9762\u70b9\u51fb\u201c+\u201d\u6dfb\u52a0\u89c4\u5219\u5982\u4e0b\u56fe</p> <p></p> <p>\u8bbe\u7f6e\u7aef\u53e3\u6620\u5c04</p> <p>\u5728\u4e00\u822c\u201cgeneral\u201d\u83dc\u5355\u4e2d\uff0c\u5982\u4e0b\u56fe\u8bbe\u7f6e\u3002 Chain\u9009\u62e9 dstnat \uff0c\u534f\u8baeprotocl\u9ed8\u8ba4\u5373\u53ef\u3002 DST port\u662f\u76ee\u6807\u7aef\u53e3\u5c31\u662f\u9700\u8981\u6620\u5c04\u7684\u7aef\u53e3\u5916\u7f51\u7aef\u53e3\u8bbf\u95ee\u7684\uff0c\u63a5\u7740\u662f\u5165\u53e3\u9009\u62e9\u4e0a\u7f51\u7684\u516c\u7f51\u63a5\u53e3</p> <p></p> <p>\u7136\u540e\u5728\u6267\u884c\u52a8\u4f5caction\u9009\u9879\u8bbe\u7f6e\uff0c\u9009\u62e9dst-nat</p> <p>\u9009\u597d\u4e4b\u540e\uff0c\u51fa\u73b0\u7684\u5730\u5740to address\u91cc\u9762\u4e5f\u5c31\u662f\u9700\u8981\u6620\u5c04\u7684\u670d\u52a1\u5668\u7684IP\u5730\u5740\uff0c</p> <p>\u7136\u540e\u662f\u7aef\u53e3\u53f7\uff08\u4e00\u822c\u6765\u8bf4\u90fd\u662f\u5185\u7f5111\u5bf9\u5e94\uff0c\u5982\u679c\u4e0d\u4e00\u81f4\u6ce8\u610f\u8fd9\u91cc\u662f\u5185\u7f51\u7684\u7aef\u53e3\uff09</p> <p></p> <p>\u8bbe\u7f6e\u597d\u4e4b\u540e\uff0c\u70b9\u51fb\u5e94\u7528apply\uff0c\u7136\u540e\u5728nat\u91cc\u9762\u5c31\u80fd\u770b\u5230\u521a\u521a\u8bbe\u7f6e\u7684\u9879\u76ee\u4e86\u3002</p>"},{"location":"routeswitch/ROS/%E4%BC%AA%E8%A3%85%E7%9A%84%E5%A4%9A%E7%A7%8D%E6%96%B9%E5%BC%8F/","title":"\u4f2a\u88c5\u7684\u591a\u79cd\u65b9\u5f0f","text":"<p>\u8bbe\u7f6e\u53ea\u6709\u67d0\u4e2aIP\u4e0a\u7f51</p> <p>IP-&gt;Firewall-&gt;NAT-&gt; + &gt;</p> <p></p> <p>\u8bbe\u7f6e\u67d0\u4e2a\u7f51\u6bb5\u4e0a\u7f51</p> <p></p> <p>\u52a8\u4f5c\uff1a\u4f2a\u88c5</p> <p></p> <p>\u8bbe\u7f6e\u4ece\u67d0\u4e2a\u51fa\u53e3\u8fdb\u884c\u4f2a\u88c5\uff0c\u662f\u4e00\u79cd\u6548\u7387\u66f4\u9ad8\u7684\u4f2a\u88c5\uff08\u9002\u7528\u516c\u7f51IP\uff09</p> <p></p> <p>\u6e90\u5730\u5740\u4f2a\u88c5\uff0c\u8bbe\u7f6e\u51fa\u53e3\u7684IP\u5730\u5740</p> <p></p>"},{"location":"routeswitch/ROS/%E4%BF%AE%E6%94%B9%E7%B3%BB%E7%BB%9F%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E3%80%81%E9%99%90%E5%88%B6IP%E7%99%BB%E5%BD%95/","title":"\u4fee\u6539\u7cfb\u7edf\u767b\u5f55\u7528\u6237\u5bc6\u7801\u3001\u9650\u5236IP\u767b\u5f55","text":"<p>System\u4e0b\u7684Users</p> <p></p> <p>\u901a\u8fc7+ \u6dfb\u52a0\u65b0\u7528\u6237\uff0c\u6216\u70b9\u51fb\u7f16\u8f91\u5df2\u5b58\u5728\u7528\u6237\uff0cAllowed Address\u6dfb\u52a0\u5141\u8bb8\u767b\u5f55\u7684IP</p> <p></p> <p>\u70b9\u51fb\u3010password\u3011\u4fee\u6539\u7528\u6237\u767b\u5f55\u5bc6\u7801</p> <p></p>"},{"location":"routeswitch/ROS/%E5%85%B3%E4%BA%8EMikrotik%E8%B7%AF%E7%94%B1%E5%99%A8%E5%AE%89%E5%85%A8%E9%98%B2%E8%8C%83%E8%AE%BE%E7%BD%AE/","title":"\u5173\u4e8eMikrotik\u8def\u7531\u5668\u5b89\u5168\u9632\u8303\u8bbe\u7f6e","text":""},{"location":"routeswitch/ROS/%E5%85%B3%E4%BA%8EMikrotik%E8%B7%AF%E7%94%B1%E5%99%A8%E5%AE%89%E5%85%A8%E9%98%B2%E8%8C%83%E8%AE%BE%E7%BD%AE/#\u4e00mikrotik\u8def\u7531\u5668\u5b89\u5168\u8bbe\u7f6e","title":"\u4e00\u3001Mikrotik\u8def\u7531\u5668\u5b89\u5168\u8bbe\u7f6e","text":"<p>1\u3001\u7981\u6b62\u5916\u7f51ping \u63a2\u6d4b\uff08\u5df2\u5f00\u542f\uff09</p> <p>2\u3001\u53ea\u4fdd\u7559\u5b89\u5168\u670d\u52a1\uff0c\u5173\u95ed\u4e0d\u5fc5\u8981\u7aef\u53e3</p> <p>3\u3001\u4fee\u6539\u7ba1\u7406\u5458\u9ed8\u8ba4\u767b\u5f55\u8d26\u53f7\uff0c\u5e76\u8bbe\u7f6e\u9ad8\u5f3a\u5ea6\u7684\u5bc6\u7801\uff0c\u8bbe\u7f6e\u767b\u5f55\u5141\u8bb8\u7684\u7f51\u6bb5\uff0c\u7981\u6b62\u4f7f\u7528mac\u5730\u5740\u767b\u5f55winbox</p>"},{"location":"routeswitch/ROS/%E5%85%B3%E4%BA%8EMikrotik%E8%B7%AF%E7%94%B1%E5%99%A8%E5%AE%89%E5%85%A8%E9%98%B2%E8%8C%83%E8%AE%BE%E7%BD%AE/#\u4e8c\u670d\u52a1\u7aef\u53e3","title":"\u4e8c\u3001\u670d\u52a1\u7aef\u53e3","text":"<p>\u901a\u8fc7nmap\u626b\u63cf\u7684\u7aef\u53e3\uff0c\u5176\u4e2dopen\u4e3a\u5f00\u653e\u670d\u52a1\uff0c\u5bf9\u5df2\u4f7f\u7528\u53ca\u5df2\u5173\u95ed\u670d\u52a1\u8fdb\u884c\u767b\u8bb0</p> <p>PORT STATE SERVICE VERSION</p> <p>25/tcp filtered http smtp</p> <p>53/tcp open  domain Mikrotik Routeros named or openDns Updater    #dns\u7aef\u53e3\uff0c\u4e0a\u7f51\u5fc5\u8981\u4f7f\u7528</p> <p>80/tcp filtered</p> <p>135/tcp filtered msrpc</p> <p>137/tcp filtered netbios-ns</p> <p>138/tcp filtered netbios-dgm</p> <p>139/tcp filtered netbios-ssn</p> <p>443/tcp filtered https</p> <p>445/tcp filtered microsoft-ds</p> <p>593/tcp filtered http-rpc-epmap</p> <p>1723/tcp  open pptp                         #\u5df2\u5173\u95edpptp\uff0c/interface pptp-server server set enabled=no</p> <p>2000/tcp  open  bandwidth-test krotik               #\u5e26\u5bbd\u6d4b\u8bd5\u7528\u4e8e\u6d4b\u8bd5MikroTik\u8def\u7531\u5668\u7684\u541e\u5410\u91cf\uff0c/tool bandwidth-server set enabled=no\uff08\u6d4b\u8bd5\u65f6\u5f00\u542f\u5373\u53ef\uff09</p> <p>4343/tcp open ss1/unical1?                      #TCP \u7aef\u53e3 4343 \u4f7f\u7528\u4f20\u8f93\u63a7\u5236\u534f\u8bae</p> <p>4433/tcp open ssl/unknown                   #\u6df1\u4fe1\u670dSSL VPN\u7aef\u53e3</p> <p>4444/tcp filtered krb524                    </p> <p>6690/tcp open unknown                       #NAS\u4e4b\u95f4\u8d44\u6e90\u540c\u6b65</p> <p>8080/tcp filtered http-proxy                    </p> <p>8291/tcp open http unknown                  #winbox\u901a\u4fe1\u534f\u8bae\u7aef\u53e3\uff0c\u9650\u5236\u5185\u7f51\u8fd0\u7ef4IP\u53ef\u4ee5\u8bbf\u95ee</p> <p>12466/tcp open nginx                        #NAS\u7684Nginx\u670d\u52a1\uff0c\u5df2\u5173\u95ed\u8be5\u7aef\u53e3</p> <p>\u5176\u5b83\u5b89\u5168\u8bbe\u7f6e</p> <p>/interface pptp-server server set enabled=no            \u5173\u95edpptp vpn\u670d\u52a1</p> <p>/interface sstp-server server set enabled=no            \u5173\u95edsstp vpn\u670d\u52a1</p> <p>/ip service disable telnet,ftp,www,api,api-ssl          \u7981\u7528Telnet\uff0cFTP\uff0cWWW\uff0cAPI\uff0cAPI-SSL</p> <p>/tool mac-server mac-winbox set allowed-interface-list=none \u7981\u7528\u901a\u8fc7mac\u5730\u5740\u4f7f\u7528winbox\u670d\u52a1</p> <p>/ip proxy set enabled=no                    \u5173\u95ed Proxy</p> <p>/ip socks set enabled=no                    \u5173\u95edSocks\u4ee3\u7406</p> <p>\u7aef\u53e3\u6d4b\u8bd5\uff1a</p> <p></p> <p>/ip service print       #\u67e5\u770b\u6240\u6709\u670d\u52a1</p> <p>/ip service disable telnet,ftp,www,api,api-ssl          \u7981\u7528Telnet\uff0cFTP\uff0cWWW\uff0cAPI\uff0cAPI-SSL</p> <p></p> <p>\u7981\u6b62SSH\u767b\u5f55</p> <p>/ ip firewall filter</p> <p>add chain=input protocol=tcp dst-port=21-22src-address-list=!allow-addressescomment=\u201dSSH &amp;FTP\u201ddisabled=no</p> <p>action=drop</p> <p>\u8fd9\u91cc\u89e3\u91ca\u4e0b:\u901a\u8fc7\u8fd0\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u4e4b\u540e\uff0c\u53ea\u6709\u5728 allow-addresses \u5217\u8868\u91cc\u7684IP \u624d\u5141\u8bb8 SSH\u767b\u5f55\u7684\uff0c\u5176\u4ed6\u7684\u4e00\u6982\u88ab\u7981\u6b62\u3002</p> <p>https://www.sklinux.com/posts/secrity/mikrotik%E8%B7%AF%E7%94%B1%E5%AE%89%E5%85%A8%E9%98%B2%E8%8C%83%E8%AE%BE%E7%BD%AE/</p> <p>https://wiki.mikrotik.com/wiki/Manual:Securing_Your_Router</p>"},{"location":"routeswitch/ROS/%E5%9B%BA%E5%AE%9AIP-%E7%BB%84%E7%BD%91%E5%AE%9E%E9%AA%8C/","title":"\u56fa\u5b9aIP-\u7ec4\u7f51\u5b9e\u9a8c","text":""},{"location":"routeswitch/ROS/%E5%9B%BA%E5%AE%9AIP-%E7%BB%84%E7%BD%91%E5%AE%9E%E9%AA%8C/#\u5b9e\u9a8c\u62d3\u6251","title":"\u5b9e\u9a8c\u62d3\u6251","text":"<p>Interface-&gt;\u4fee\u6539ether1 ether2 \u7684\u540d\u79f0\uff0c\u533a\u5206\u5185\u5916\u7f51</p> <p></p> <p>\u6253\u5f00 IP -&gt; Adresses  \uff0c\u589e\u52a0\u5730\u5740\u53ca\u63a5\u53e3</p> <p></p> <p></p> <p>\u589e\u52a0IP pool\u5730\u5740\u6c60\uff0cIP -&gt;  Pool</p> <p></p> <p>\u5efa\u7acbDHCP Server\uff08\u670d\u52a1\u7aef\uff09\u7ed9\u4f60\u7684\u7535\u8111\u8ddf\u5176\u5b83\u5ba2\u6237\u673a\u8fdb\u884c\u81ea\u52a8\u5206\u914dIP\u5730\u5740\u3002</p> <p></p> <p>\u4f2a\u88c5</p> <p></p> <p></p> <p>\u535a\u5ba2\uff1ahttps://blog.csdn.net/awfiihmmmm/article/details/106029920</p>"},{"location":"routeswitch/ROS/%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AEPPPOE%E6%8B%A8%E5%8F%B7/","title":"\u5982\u4f55\u914d\u7f6ePPPOE\u62e8\u53f7","text":"<p>\u5728interface\u63a5\u53e3\u9009\u9879\u4e2d\uff0c\u5c06\u4e24\u4e2a\u63a5\u53e3\u5b9a\u4e49lan\u3001wan\uff0c\u7528\u4ee5\u533a\u5206\u5185\u5916\u7f51</p> <p></p> <p>\u70b9\u51fb+\u53f7\uff0c\u6dfb\u52a0\u4e00\u4e2aPPPoe Client</p> <p></p> <p></p> <p>\u8bbe\u7f6e\u6700\u5927\u4f20\u8f93\u5355\u5143\uff0c\u63a5\u53e3\u9009\u62e9wan\u53e3</p> <p></p> <p>\u8fd0\u8425\u5546\u7ed9\u7684\u5bbd\u5e26\u62e8\u53f7\u8d26\u6237\u5bc6\u7801\uff0c\u662f\u5426\u9700\u8981ISP\u7684DNS\uff0c\u6dfb\u52a0\u9ed8\u8ba4\u8def\u7531</p> <p></p>"},{"location":"routeswitch/ROS/%E5%BB%BA%E7%AB%8B%20PPTP%20VPN%E6%8B%A8%E5%8F%B7/","title":"\u5efa\u7acb PPTP VPN\u62e8\u53f7","text":"<p>\u63a5\u53e3\u89c6\u56fe\u4e0b\u627e\u5230pptp\u5ba2\u6237\u7aef</p> <p></p> <p>\u8bbe\u5b9a\u540d\u79f0\uff08\u968f\u610f\uff09</p> <p></p> <p>pap \u4e0echap\u53ef\u4ee5\u53d6\u6d88\u52fe\u9009</p> <p></p> <p>\u65b0\u589e\u4e00\u6761</p> <p></p>"},{"location":"routeswitch/ROS/%E5%BB%BA%E7%AB%8BPPTP%20VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%8A%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E8%BF%9E%E6%8E%A5VPN/","title":"\u5efa\u7acbPPTP VPN\u670d\u52a1\u5668\u53ca\u521b\u5efa\u7528\u6237\u8fde\u63a5VPN","text":""},{"location":"routeswitch/ROS/%E5%BB%BA%E7%AB%8BPPTP%20VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%8A%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E8%BF%9E%E6%8E%A5VPN/#\u7b2c\u4e00\u6b65\u5148\u5efa\u7acbip\u5730\u5740\u6c60","title":"\u7b2c\u4e00\u6b65\u3001\u5148\u5efa\u7acbIP\u5730\u5740\u6c60","text":"<p>\u5730\u5740\u6c60\u540d\u79f0\u53ca\u5730\u5740\u8303\u56f4</p> <p></p>"},{"location":"routeswitch/ROS/%E5%BB%BA%E7%AB%8BPPTP%20VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%8A%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E8%BF%9E%E6%8E%A5VPN/#\u7b2c\u4e8c\u6b65\u5728ppp\u89c6\u56fe\u4e0b\u5efa\u7acb\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6","title":"\u7b2c\u4e8c\u6b65\u3001\u5728PPP\u89c6\u56fe\u4e0b\u5efa\u7acb\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6","text":"<p>\u9650\u901f</p> <p></p>"},{"location":"routeswitch/ROS/%E5%BB%BA%E7%AB%8BPPTP%20VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%8A%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E8%BF%9E%E6%8E%A5VPN/#\u7b2c\u4e09\u6b65\u542f\u7528ppp-server","title":"\u7b2c\u4e09\u6b65\u3001\u542f\u7528PPP server","text":""},{"location":"routeswitch/ROS/%E5%BB%BA%E7%AB%8BPPTP%20VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%8A%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E8%BF%9E%E6%8E%A5VPN/#\u7b2c\u56db\u6b65\u5efa\u7acb\u5b8c\u6210\u521b\u5efapptp\u8d26\u53f7","title":"\u7b2c\u56db\u6b65\u3001\u5efa\u7acb\u5b8c\u6210\uff0c\u521b\u5efaPPTP\u8d26\u53f7","text":"<p>\u901a\u8fc7\u6b64\u8d26\u53f7\u62e8\u53f7</p> <p></p>"},{"location":"routeswitch/ROS/%E5%BB%BA%E7%AB%8BPPTP%20VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%8A%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E8%BF%9E%E6%8E%A5VPN/#\u7b2c\u4e94\u8fde\u63a5vpn","title":"\u7b2c\u4e94\u3001\u8fde\u63a5VPN","text":"<p>\u8f93\u5165\u540d\u79f0\u968f\u610f\uff0c\u516c\u7f51IP \uff0c\u534f\u8baePPTP\uff0c\u7528\u6237\u540d\u5bc6\u7801</p> <p></p> <p>\u5982\u679c\u8981\u4f7fVPN\u80fd\u4e0a\u7f51\uff0c\u9700\u8981\u5c06VPN\u7684\u5730\u5740\u6bb5\u52a0\u5165\u4f2a\u88c5\u3002</p>"},{"location":"routeswitch/ROS/%E6%A0%87%E8%AE%B0%28Mangle%29/","title":"\u6807\u8bb0(Mangle)","text":"<p>1\u3001\u6d41\u91cf\u6807\u8bb0\u4e3b\u8981\u7528\u4e8e\u76f4\u89c2\u7684\u770b\u5230\u6574\u4f53\u7684\u6d41\u91cf\u60c5\u51b5\uff0c\u65b9\u4fbf\u505a\u9650\u901f\u3002</p>"},{"location":"routeswitch/ROS/%E6%A0%87%E8%AE%B0%28Mangle%29/#\u6807\u8bb0-\u5728ip-filrewall-mangle---\u6dfb\u52a0","title":"\u6807\u8bb0  \u5728IP-Filrewall-Mangle-  +  \u6dfb\u52a0","text":""},{"location":"routeswitch/ROS/%E6%A0%87%E8%AE%B0%28Mangle%29/#\u6807\u8bb0\u4e0b\u8f7d\u6d41\u91cf","title":"\u6807\u8bb0\u4e0b\u8f7d\u6d41\u91cf","text":"<p>Prerouting\u8868\u793a\u8def\u7531\u4e4b\u524d\uff0c\u9009\u62e9\uff1aprerouting\uff0c\u63a5\u53e3\uff1a\u5165\u53e3\uff08lan\uff09</p> <p></p> <p>Action\uff08\u52a8\u4f5c\uff09\uff1amark packt</p> <p>passthrough\u8868\u793a\uff1a\u6807\u8bb0\u4e4b\u540e\u662f\u5426\u653e\u884c\uff0c\u52fe\u9009\u8868\u793a\u653e\u884c</p> <p>new packet mark(\u65b0\u6570\u636e\u5305\u6807\u8bb0)\uff1adown-pack</p> <p></p> <p>Comment\uff08\u5907\u6ce8\uff09\uff1a\u4e0b\u8f7d\u6d41\u91cf</p> <p></p> <p>\u6dfb\u52a0\u5b8c\u6210</p> <p></p>"},{"location":"routeswitch/ROS/%E6%A0%87%E8%AE%B0%28Mangle%29/#\u6807\u8bb0\u4e0a\u4f20\u6d41\u91cf","title":"\u6807\u8bb0\u4e0a\u4f20\u6d41\u91cf","text":"<p>prerouting\u540d\u79f0\u4e0e\u4e0b\u8f7d\u76f8\u540c\u4f1a\u62a5\u9519</p> <p></p> <p>\u9009\u62e9forward</p> <p></p> <p>\u4e0a\u4f20\u6d41\u91cf\uff0c\u6dfb\u52a0\u5907\u6ce8</p> <p></p> <p>\u5b8c\u6210</p> <p></p>"},{"location":"routeswitch/ROS/%E6%A0%87%E8%AE%B0%28Mangle%29/#\u6807\u8bb0\u4e00\u4e2a80\u7aef\u53e3\u7684\u6d41\u91cf","title":"\u6807\u8bb0\u4e00\u4e2a80\u7aef\u53e3\u7684\u6d41\u91cf","text":"<p>\u534f\u8baeTCP\uff0c\u76ee\u6807\u7aef\u53e380</p> <p></p> <p>mark connection(\u5148\u6807\u8bb0\u94fe\u63a5)</p> <p></p> <p>\u94fe\u63a5\u6807\u8bb0\u5b8c\uff0c\u518d\u6807\u8bb0\u5305\uff0c\u4f7f\u7528+ \u65b0\u5efa\uff0c\u9009\u62e9web conn</p> <p></p> <p>mark peaket\uff0c\u53d6\u540dweb-paek</p> <p>\u53d6\u6d88\u52fe\u9009passthough\u4ee3\u8868\u6d41\u91cf\u4e0d\u5f80\u4e0b\u4f20\u9012</p> <p></p> <p>\u521b\u5efa\u5b8c\u6210</p> <p></p> <p>\u6253\u5f00\u7f51\u9875\uff0c</p> <p>\u770b\u662f\u5426\u6709\u6d41\u91cf\u663e\u793a\u3002</p>"},{"location":"routeswitch/ROS/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE/","title":"\u7cfb\u7edf\u8bbe\u7f6e","text":""},{"location":"routeswitch/ROS/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE/#\u7cfb\u7edf\u5907\u4efd","title":"\u7cfb\u7edf\u5907\u4efd","text":"<p>system backup  &gt;save name=test     #\u5c06\u5f53\u524d\u914d\u7f6e\u4fdd\u5b58\u5230test</p> <p>file print  #\u67e5\u770b\u4fdd\u5b58\u7684\u6587\u4ef6</p> <p>system backup &gt; load name=test  #\u5bfc\u5165\u5907\u4efd\u6587\u4ef6test</p> <p>winbox\u4e0b\u914d\u7f6e\u76f4\u63a5\u5728\u83dc\u5355files\u83dc\u5355\u4e0b\uff0c\u901a\u8fc7backup\u548crestore\u64cd\u4f5c</p> <p></p>"},{"location":"routeswitch/ROS/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE/#\u7cfb\u7edf\u590d\u4f4d","title":"\u7cfb\u7edf\u590d\u4f4d","text":"<p>/system&gt; reset-configuration #\u6e05\u9664\u6389\u8def\u7531\u5668\u7684\u6240\u6709\u914d\u7f6e\uff0c\u5305\u62ec\u767b\u9646\u7684\u8d26\u53f7\u548c\u5bc6\u7801\uff08\u6062\u590d\u4e3a\u201cadmin\u201c\u548c\u7a7a\u5bc6\u7801\uff09IP \u5730\u5740\u548c\u5176\u4ed6\u914d\u7f6e\u5c06\u4f1a\u88ab\u62b9\u53bb\uff0c\u5728reset \u6307\u4ee4\u6267\u884c\u540e\u8def\u7531\u5668\u5c06\u4f1a\u91cd\u542f\u3002RouterOS v3.x \u540e\u7248\u672c\uff0c\u5728\u590d\u4f4d\u540e\u9ed8\u8ba4\u7684ether1 \u63a5\u53e3IP \u5730\u5740\u5c06\u8bbe\u7f6e\u4e3a192.168.88.1/24</p>"},{"location":"routeswitch/ROS/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE/#\u7cfb\u7edf\u91cd\u542f\u4e0e\u5173\u673a","title":"\u7cfb\u7edf\u91cd\u542f\u4e0e\u5173\u673a","text":"<p>system reboot</p> <p>system shutdown</p>"},{"location":"routeswitch/ROS/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE/#\u67e5\u770b\u4fee\u6539ros\u540d\u79f0","title":"\u67e5\u770b\u4fee\u6539Ros\u540d\u79f0","text":"<p>system identity print   #\u67e5\u770bros\u540d\u79f0</p> <p>system identity set name=Gateway    #\u4fee\u6539ros\u540d\u79f0</p> <p>\u6216winbox\u4e2dsystem\u7684identity\u4fee\u6539\u540d\u79f0</p> <p></p>"},{"location":"routeswitch/ROS/%E8%BD%AF%E8%B7%AF%E7%94%B1ROS%E4%B8%8EH3C%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%BB%84%E7%BD%91%E9%85%8D%E7%BD%AE/","title":"\u8f6f\u8def\u7531ROS\u4e0eH3C\u4e09\u5c42\u4ea4\u6362\u673a\u7ec4\u7f51\u914d\u7f6e","text":""},{"location":"routeswitch/ROS/%E8%BD%AF%E8%B7%AF%E7%94%B1ROS%E4%B8%8EH3C%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%BB%84%E7%BD%91%E9%85%8D%E7%BD%AE/#\u7f51\u7edc\u62d3\u6251\u56fe","title":"\u7f51\u7edc\u62d3\u6251\u56fe","text":""},{"location":"routeswitch/ROS/%E8%BD%AF%E8%B7%AF%E7%94%B1ROS%E4%B8%8EH3C%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%BB%84%E7%BD%91%E9%85%8D%E7%BD%AE/#ros\u7684\u914d\u7f6e","title":"ROS\u7684\u914d\u7f6e","text":""},{"location":"routeswitch/ROS/%E8%BD%AF%E8%B7%AF%E7%94%B1ROS%E4%B8%8EH3C%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%BB%84%E7%BD%91%E9%85%8D%E7%BD%AE/#\u7b2c\u4e00\u6b65\u5b9a\u4e49ros\u7684wan\u53e3\u53calan\u53e3","title":"\u7b2c\u4e00\u6b65\uff1a\u5b9a\u4e49Ros\u7684WAN\u53e3\u53caLAN\u53e3","text":"<p>\u5c06ether1\u5b9a\u4e49\u4e3aWAN\u53e3\uff0c\u8fde\u63a5\u5149\u732b</p> <p></p> <p>ether2\u5b9a\u4e49\u4e3aLAN\u53e3\uff0c\u8fde\u63a5\u4e09\u5c42\u4ea4\u6362\u673a</p> <p></p>"},{"location":"routeswitch/ROS/%E8%BD%AF%E8%B7%AF%E7%94%B1ROS%E4%B8%8EH3C%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%BB%84%E7%BD%91%E9%85%8D%E7%BD%AE/#\u7b2c\u4e8c\u6b65-\u5728ros\u4e0a\u6dfb\u52a0pppoe-client","title":"\u7b2c\u4e8c\u6b65 \uff1a\u5728Ros\u4e0a\u6dfb\u52a0PPPOE Client","text":"<p>\u5728Interface\u63a5\u53e3\u89c6\u56fe\u4e0b\uff0c\u9009\u62e9\u201d + \u201d \u6dfb\u52a0\u4e00\u4e2aPPPOE Client </p> <p></p> <p>\u5728General\u7a97\u53e3\uff0c\u4fee\u6539name\u53caInterface\u4e24\u9879</p> <p>name \uff1aPPPOE\u7684\u540d\u79f0\uff08\u53ef\u81ea\u5b9a\u4e49\uff09</p> <p>Interface \uff1a\u9009\u62e9WAN\u53e3\uff08WAN\u53e3\uff09</p> <p></p> <p>\u5728Dial Out\u7a97\u53e3\u4e0b\uff0c\u8f93\u5165user \u53ca password</p> <p>User\uff1aPPPOE\u8d26\u53f7</p> <p>Password\uff1aPPPOE\u5bc6\u7801</p> <p>\u9ed8\u8ba4\u52fe\u9009User peer DNS\uff08DNS\u670d\u52a1\u5668\uff09  \u53ca Add Default Route\uff08\u9ed8\u8ba4\u8def\u7531\uff09\uff09\uff0c\u52fe\u9009\u540e\uff0c\u65e0\u9700\u624b\u52a8\u6dfb\u52a0DNS\u53ca\u9759\u6001\u8def\u7531\uff0c\u5373\u53ef\u8bbf\u95eeInternet\u3002</p> <p></p> <p>\u5728IP\u89c6\u56fe\u7684Addresses\u7a97\u53e3\uff0c\u5355\u51fb \u201d + \u201d \u6dfb\u52a0 ether2-LAN\u7684\u63a5\u53e3\u5730\u5740\uff1a192.168.10.1/24</p> <p></p>"},{"location":"routeswitch/ROS/%E8%BD%AF%E8%B7%AF%E7%94%B1ROS%E4%B8%8EH3C%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%BB%84%E7%BD%91%E9%85%8D%E7%BD%AE/#\u7b2c\u4e09\u6b65-\u4f2a\u88c5nat","title":"\u7b2c\u4e09\u6b65\uff1a \u4f2a\u88c5\uff08NAT\uff09","text":"<p>\u5728IP\u63a5\u53e3\u89c6\u56fe\u4e0b\uff0c\u6253\u5f00Firewall\u7a97\u53e3\u7684NAT\uff0c\u9009\u62e9\u201d + \u201c \u6dfb\u52a0</p> <p>\u5206\u522b\u9700\u8981\u4e3a\u6bcf\u4e2a\u7f51\u6bb5\u90fd\u8bbe\u7f6e\u4e00\u6761NAT</p> <p></p> <p>\u4e3a192.168.200.0/24\u7f51\u6bb5\u6dfb\u52a0\u4e00\u6761\u4f2a\u88c5</p> <p></p> <p>masquerade \u4f2a\u88c5</p> <p></p>"},{"location":"routeswitch/ROS/%E8%BD%AF%E8%B7%AF%E7%94%B1ROS%E4%B8%8EH3C%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%BB%84%E7%BD%91%E9%85%8D%E7%BD%AE/#\u7b2c\u56db\u6b65--\u6dfb\u52a0\u56de\u7a0b\u8def\u7531","title":"\u7b2c\u56db\u6b65 \uff1a \u6dfb\u52a0\u56de\u7a0b\u8def\u7531","text":"<p>\u5728IP-Routes\u89c6\u56fe\u4e0b\uff0c</p> <p>DST address(\u76ee\u6807\u7f51\u6bb5)\uff1a192.168.100.0/24</p> <p>Gatway\uff08LAN\u53e3\u53caLAN\u53e3IP\uff09\uff0c\u76f8\u5f53\u4e8e\u4e0b\u4e00\u8df3\u5730\u5740\u3002\uff1aLAN</p> <p>\u9700\u8981\u5206\u522b\u4e3a\u6bcf\u4e2a\u7f51\u6bb5\u6dfb\u52a0\u56de\u7a0b\u8def\u7531\uff08\u5426\u5219\u6d41\u91cf\u65e0\u6cd5\u5230\u8fbe\u8be5VLAN\uff0c\u4f1a\u5bfc\u81f4\u51fa\u53bb\u7684\u5305\u56de\u4e0d\u6765\u54e6\uff09</p> <p></p>"},{"location":"routeswitch/ROS/%E8%BD%AF%E8%B7%AF%E7%94%B1ROS%E4%B8%8EH3C%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%BB%84%E7%BD%91%E9%85%8D%E7%BD%AE/#h3c\u4e09\u5c42\u4ea4\u6362\u673a\u914d\u7f6e","title":"H3C\u4e09\u5c42\u4ea4\u6362\u673a\u914d\u7f6e","text":"<p>\u7b2c\u4e00\u6b65\uff1a\u521b\u5efa3\u4e2aVLAN 10 100 200\uff0c\u8bbe\u7f6evlan\u865a\u63a5\u53e3\u7684IP\uff08\u7f51\u5173\uff09</p> Text Only<pre><code>VLAN 100                      #\u521b\u5efaVLAN\ninterface vlan-interface 10   #vlan\u865a\u63a5\u53e310\nip address 192.168.10.1/24    #\u914d\u7f6e\u63a5\u53e3IP\n</code></pre> <p>\u7b2c\u4e8c\u6b65\uff1a\u5c06\u63a5\u53e3\u52a0\u5165VLAN\uff0c\u8bbe\u7f6e\u4e3aAccess\u53e3</p> Text Only<pre><code>inter g1/0/20               #\u8fdb\u5165\u63a5\u53e320\nport link-type access       #\u63a5\u53e3\u7c7b\u578b\u8bbe\u7f6e\u4e3aaccess\nport access vlan 100        #\u63a5\u53e3\u52a0\u5165VLAN100\n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u914d\u7f6e\u4e00\u6761\u9ed8\u8ba4\u8def\u7531\uff08\u5c06\u6240\u4ee5\u6d41\u91cf\u4ea4\u7ed9\u4e0b\u4e00\u8df3\u5730\u5740192.168.10.1\uff09</p> Text Only<pre><code>ip route-static 0.0.0.0 0 192.168.10.1  #\u9759\u6001\u8def\u7531\n</code></pre> <p>\u4ea4\u6362\u673a\u914d\u7f6e\u5982\u4e0b\uff1a</p> Text Only<pre><code>#\n version 5.20, Release 2222P10\n#\n sysname H3C\n#\n irf mac-address persistent timer\n irf auto-update enable\n undo irf link-delay\n#\n domain default enable system\n#\n web idle-timeout 30\n#\n password-recovery enable\n#\nvlan 1\n#\nvlan 10\n#\nvlan 100\n#\nvlan 200\n#\ndomain system   \n access-limit disable\n state active   \n idle-cut disable\n self-service-url disable\n#               \ndhcp server ip-pool 10\n network 192.168.10.0 mask 255.255.255.0\n gateway-list 192.168.10.1\n#               \nuser-group system\n group-attribute allow-guest\n#               \nlocal-user abc  \n password cipher $c$3$3O3TRePwLP0yAqW37DGX1h4rfkdIGQ==\n authorization-attribute level 3\n service-type ftp\nlocal-user admin\n password cipher $c$3$Zn/sUTHSf0+ria4SnwGKiPjLfdwXUt7C\n authorization-attribute level 3\n service-type web\nlocal-user root \n password cipher $c$3$4eOQFNifn3uQrpYkYQovG6LThLqFT2Rcc0VD\n service-type telnet\n service-type web\n#               \nvlan-group n1   \n#               \ninterface NULL0 \n#               \ninterface Vlan-interface1\n ip address 172.16.1.1 255.255.255.0\n undo dhcp select server global-pool\n#               \ninterface Vlan-interface10\n ip address 192.168.10.2 255.255.255.0\n#               \ninterface Vlan-interface100\n ip address 192.168.100.1 255.255.255.0\n#               \ninterface Vlan-interface200\n ip address 192.168.200.1 255.255.255.0\n#               \ninterface GigabitEthernet1/0/1\n#               \ninterface GigabitEthernet1/0/2\n#               \ninterface GigabitEthernet1/0/3\n#               \ninterface GigabitEthernet1/0/4\n#               \ninterface GigabitEthernet1/0/5\n#               \ninterface GigabitEthernet1/0/6\n#               \ninterface GigabitEthernet1/0/7\n#               \ninterface GigabitEthernet1/0/8\n#               \ninterface GigabitEthernet1/0/9\n#               \ninterface GigabitEthernet1/0/10\n#               \ninterface GigabitEthernet1/0/11\n port access vlan 200\n#               \ninterface GigabitEthernet1/0/12\n port access vlan 100\n#               \ninterface GigabitEthernet1/0/13\n#               \ninterface GigabitEthernet1/0/14\n#               \ninterface GigabitEthernet1/0/15\n#               \ninterface GigabitEthernet1/0/16\n#               \ninterface GigabitEthernet1/0/17\n#               \ninterface GigabitEthernet1/0/18\n#               \ninterface GigabitEthernet1/0/19\n#               \ninterface GigabitEthernet1/0/20\n port access vlan 10\n#               \ninterface GigabitEthernet1/0/21\n#               \ninterface GigabitEthernet1/0/22\n#               \ninterface GigabitEthernet1/0/23\n#               \ninterface GigabitEthernet1/0/24\n port link-type trunk\n port trunk permit vlan all\n#               \ninterface GigabitEthernet1/0/25\n shutdown       \n#               \ninterface GigabitEthernet1/0/26\n shutdown       \n#               \ninterface GigabitEthernet1/0/27\n shutdown       \n#               \ninterface GigabitEthernet1/0/28\n shutdown       \n#               \nrip 1           \n network 192.168.101.0\n network 192.168.102.0\n network 192.168.103.0\n network 10.0.0.0\n#               \n ip route-static 0.0.0.0 0.0.0.0 10.0.8.1\n ip route-static 0.0.0.0 0.0.0.0 192.168.10.1\n#               \n dhcp enable    \n#               \n ftp server enable\n#               \n load xml-configuration\n#               \nuser-interface aux 0\n authentication-mode password\n set authentication password cipher $c$3$KcMReVoIeZfuRWS6GZQmpte0jZycfXExsQ==\nuser-interface vty 0 15\n#               \nreturn   \n</code></pre> <p>\u6700\u7ec8\uff0c\u6d4b\u8bd5\u6bcf\u4e2a\u7f51\u6bb5\u4e92\u901a\u7684\u95ee\u9898\uff0c\u5168\u90e8\u4e92\u901a</p>"},{"location":"routeswitch/ROS/%E9%99%8C%E7%94%9FiP%E6%AC%B2%E7%99%BB%E5%85%A5ROS%EF%BC%8C%E9%99%90%E5%88%B6%E5%9C%A830%E7%A7%92%E5%85%A7%E8%BF%9E%E7%BB%AD%E7%99%BB%E5%85%A55%E6%AC%A1/","title":"\u964c\u751fiP\u6b32\u767b\u5165ROS\uff0c\u9650\u5236\u572830\u79d2\u5167\u8fde\u7eed\u767b\u51655\u6b21","text":"<p>\u964c\u751fiP\u6b32\u767b\u5165ROS\uff0c\u572830\u79d2\u5167\u8fde\u7eed\u767b\u51655\u6b21\uff08\u4e0d\u7ba1\u662f\u5426\u767b\u5165\u6210\u529f\u8207\u5426\uff09\uff0c</p> <p>\u4e8e\u7b2c\u516d\u6b21\u767b\u5165,\u5bf9\u65b9\u7684IP\u5c31\u88ab\u62c9\u9ed1\u7121\u6cd5\u518d\u5617\u8a66( Address-list \u88cf\u9762\u62c9\u9ed11\u5929).</p> Text Only<pre><code>/ip firewall filter\nadd action=drop chain=input comment=\"\\A2b\\A2c\\A2d\\A2e\\A2f\\A2g\\A2h 1 \\A2h\\A2g\\A2f\\A2e\\A2d\\A2c\\A2b\" disabled=no dst-port=21,22,23,8291 protocol=tcp src-address-list=login_error_ip\nadd action=add-src-to-address-list address-list=login_error_ip address-list-timeout=1d chain=input comment=\"\\A2b\\A2c\\A2d\\A2e\\A2f\\A2g\\A2h 2 \\A2h\\A2g\\A2f\\A2e\\A2d\\A2c\\A2b\" connection-state=new disabled=no dst-port=21,22,23,8291 protocol=tcp \nsrc-address-list=ros_service_login5\nadd action=add-src-to-address-list address-list=ros_service_login5 address-list-timeout=1d30s chain=input comment=\"\\A2b\\A2c\\A2d\\A2e\\A2f\\A2g\\A2h 3 \\A2h\\A2g\\A2f\\A2e\\A2d\\A2c\\A2b\" connection-state=new disabled=no dst-port=21,22,23,8291 \\\nprotocol=tcp src-address-list=ros_service_login4\nadd action=add-src-to-address-list address-list=ros_service_login4 address-list-timeout=30s chain=input comment=\"\\A2b\\A2c\\A2d\\A2e\\A2f\\A2g\\A2h 4 \\A2h\\A2g\\A2f\\A2e\\A2d\\A2c\\A2b\" connection-state=new disabled=no dst-port=21,22,23,8291 protocol=\\\ntcp src-address-list=ros_service_login3\nadd action=add-src-to-address-list address-list=ros_service_login3 address-list-timeout=30s chain=input comment=\"\\A2b\\A2c\\A2d\\A2e\\A2f\\A2g\\A2h 5 \\A2h\\A2g\\A2f\\A2e\\A2d\\A2c\\A2b\" connection-state=new disabled=no dst-port=21,22,23,8291 protocol=\\\ntcp src-address-list=ros_service_login2\nadd action=add-src-to-address-list address-list=ros_service_login2 address-list-timeout=30s\n</code></pre> <p>\u5b9e\u9645\u906d\u9047\u767b\u5f55\uff1a</p> <p></p>"},{"location":"routeswitch/ROS/%E9%9D%99%E6%80%81ARP%E7%BB%91%E5%AE%9A/","title":"\u9759\u6001ARP\u7ed1\u5b9a","text":"<p>\u5728arp\u5217\u8868\u4e2d\uff0cIP\u524d\u9762\u663e\u793aD\u6807\u8bc6\u4e3a\u52a8\u6001\uff0c\u672a\u505aIP+MAC\u7ed1\u5b9a</p> <p></p> <p>\u4f7f\u7528 Make Static \u5b9e\u73b0IP+MAC\u7ed1\u5b9a</p> <p></p> <p>Remove\u5220\u9664\u89e3\u9664\u7ed1\u5b9a</p> <p>\u5feb\u6377\u64cd\u4f5c\uff0c\u5168\u9009ARP make static</p> <p>\u8fd8\u53ef\u4ee5\u8bbe\u7f6e\u8def\u7531\u5668\u53ea\u5bf9\u9759\u6001ARP\u4f5c\u56de\u5e94</p> <p>\u8bbe\u7f6eLAN\u4ec5\u56de\u5e94\u9759\u6001ARP\u7684\u8bf7\u6c42\uff08reply-only\uff09</p> <p></p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/1%20ensp%E4%BA%91%E8%BF%9E%E6%8E%A5pc/","title":"ensp\u4e91\u8fde\u63a5pc","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/1%20ensp%E4%BA%91%E8%BF%9E%E6%8E%A5pc/#\u6dfb\u52a0\u4e91\u4e0e\u4ea4\u6362\u673a","title":"&lt;1&gt;\u6dfb\u52a0\u201c\u4e91\u201d\u4e0e\u201d\u4ea4\u6362\u673a\u201c","text":"<p>\uff081\uff09\u62d3\u6251\uff1a</p> <p></p> <p>\uff082\uff09\u4e91\u914d\u7f6e</p> <p>\u8fde\u7ebf\uff1a\u4f7f\u7528Auto\u7ebf</p> <p></p> <p>\u6dfb\u52a0\u987a\u5e8f\uff1a</p> <p>1&gt;&gt;\u7ed1\u5b9a\u4fe1\u606f\u2013\u9009\u62e9udp\u7f51\u5361\uff0c\u589e\u52a0</p> <p>2&gt;&gt;\u7ed1\u5b9a\u4fe1\u606f\u2013\u9009\u62e9virtualBox \u7f51\u5361\uff0c\u589e\u52a0</p> <p>3&gt;&gt;\u7aef\u53e3\u6620\u5c04\u8bbe\u7f6e\u2013\u51651 \u51fa2</p> <p>4&gt;&gt;\u7aef\u53e3\u6620\u5c04\u8bbe\u7f6e\u2013\u51652 \u51fa1</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/1%20ensp%E4%BA%91%E8%BF%9E%E6%8E%A5pc/#\u4e91\u6ca1\u6709virtualbox\u7f51\u5361\u89e3\u51b3\u529e\u6cd5","title":"\u4e91\u6ca1\u6709virtualbox\u7f51\u5361\uff0c\u89e3\u51b3\u529e\u6cd5","text":"<p>&lt;1&gt;\u5982\u679c\u4e91\u65e0\u6cd5\u83b7\u53d6virtualbox\u7f51\u5361\uff0c\u8bf7\u5378\u8f7d\u91cd\u88c5winpcap</p> <p></p> <p>&lt;2&gt;\u5982\u5378\u8f7d\u91cd\u88c5winpacp\u62a5\u9519</p> <p></p> <p>\u89e3\u51b3\u65b9\u5f0f\uff1a</p> <p></p> <p></p> <p></p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/2%20ensp%E4%B8%8Ewin%E4%B8%BB%E6%9C%BA%E8%BF%9B%E8%A1%8Cssh%E8%BF%9E%E6%8E%A5/","title":"ensp\u4e0ewin\u4e3b\u673a\u8fdb\u884cssh\u8fde\u63a5","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/2%20ensp%E4%B8%8Ewin%E4%B8%BB%E6%9C%BA%E8%BF%9B%E8%A1%8Cssh%E8%BF%9E%E6%8E%A5/#\u4e91-\u8fde\u63a5\u5b8c\u6210\u8fdb\u884c\u914d\u7f6e","title":"&lt;1&gt;\u4e91-\u8fde\u63a5\u5b8c\u6210\uff0c\u8fdb\u884c\u914d\u7f6e","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/2%20ensp%E4%B8%8Ewin%E4%B8%BB%E6%9C%BA%E8%BF%9B%E8%A1%8Cssh%E8%BF%9E%E6%8E%A5/#\u4ea4\u6362\u673aip\u914d\u7f6e","title":"&lt;2&gt;\u4ea4\u6362\u673aIP\u914d\u7f6e","text":"Text Only<pre><code>vlan 10\ninter g0/0/1\nport link-type access\nport default vlan 10\nquit\ninter vlanif 10\nip add 192.168.56.2\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/2%20ensp%E4%B8%8Ewin%E4%B8%BB%E6%9C%BA%E8%BF%9B%E8%A1%8Cssh%E8%BF%9E%E6%8E%A5/#\u4e24\u7aef\u4e92\u901a\u6d4b\u8bd5","title":"&lt;3&gt;\u4e24\u7aef\u4e92\u901a\u6d4b\u8bd5","text":"<p>\u914d\u7f6e\u5b8c\u6210\uff0cping\u4e3b\u673a192.168.56.1\u6d4b\u8bd5</p> <p></p> <p>&lt;4&gt;\u914d\u7f6eSSH\u8fdb\u884c\u767b\u5f55</p> Text Only<pre><code>u t m \nsystem-view\n\n\n#\u521b\u5efa\u672c\u5730\u94a5\u5319\u5bf9\nrsa local-key-pair create    \n\n#\u8fdb\u5165aaa\naaa\n\n#\u521b\u5efa\u7528\u6237admin\uff0c\u8bbe\u7f6e\u5bc6\u7801\nlocal-user admin password cipher 123456\n\n#\u914d\u7f6e\u7528\u6237\u767b\u5f55\u7c7b\u578b\u4e3assh\nlocal-user admin service-type ssh\n\nquit\n\n#\u521b\u5efa\u767b\u5f55\u63a5\u53e3\u5e76\u8fdb\u5165\nuser-interface vty 0 4\n\n#\u8bbe\u7f6e\u8eab\u4efd\u9a8c\u8bc1\u6a21\u5f0f\u4e3aaaa\u8ba4\u8bc1\nauthentication-mode aaa\n\n#\u914d\u7f6e\u7528\u6237\u7ea7\u522b\u4e3a\u6700\u9ad8\u7ea7\nuser privilege level 15\n\n#\u5141\u8bb8ssh\u534f\u8bae\u8bbf\u95ee\nprotocol inbound ssh\nquit\n\n#\u5f00\u542fssh\u670d\u52a1\nstelnet server enable\n\n#\u6307\u5b9a\u8ba4\u8bc1\u6a21\u5f0f\u4e3apassword\nssh user admin authentication-type password\n\n#\u8bbe\u7f6essh\u7528\u6237\u670d\u52a1\u7c7b\u578b\nssh user admin service-type stelnet\n\n#\u4f7f\u80fd\u5ba2\u6237\u7aef\u9996\u6b21\u767b\u5f55\nssh client first-time enable \n\n#\u4fee\u6539ssh\u767b\u5f55\u7aef\u53e3\nssh server port 2222\n</code></pre> <p>\u767b\u5f55\u754c\u9762\uff1a</p> <p></p> <p>\u914d\u7f6e\uff1a</p> Text Only<pre><code>\u4e00\u3001\u6ce8\u610f\u4e8b\u9879\uff1a\n1\u3001\u9996\u6b21\u4f7f\u7528console\u767b\u9646\uff0c\u9ed8\u8ba4\u7528\u6237\u540d\uff1aadmin\u5bc6\u7801\uff1aadmin@huawei.com\uff0c\u9996\u6b21\u767b\u9646\u8981\u6c42\u4fee\u6539\u5bc6\u7801\u3002\n2\u3001\u9664\u4e86console\u53e3\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528miniUSB\u63a5\u53e3\u6765\u767b\u9646\u8bbe\u5907\uff0c\u901f\u73879600\uff0c\u6d41\u63a7\u5168\u65e0\uff0c\u4e0d\u6821\u9a8c\uff0c\u505c\u6b62\u4f4d1\uff0c\u6570\u636e\u4f4d8\uff0c\u7f3a\u7701\u7528\u6237\u540d\u4e0e\u5bc6\u7801\uff08\u4e0econsole\u4e00\u81f4\uff09\u3002\n3\u3001\u8fde\u63a5eth\u7ba1\u7406\u63a5\u53e3\uff0c\u7f3a\u7701web\u767b\u9646IP 192.168.1.253\uff08pc\u4e0e\u4ea4\u6362\u673a\u5904\u4e8e\u540c\u4e00\u7f51\u6bb5\uff09\u3002\n\n\u4e8c\u3001\u57fa\u672c\u914d\u7f6e\n[HUAWEI] sysname Switch #\u8bbe\u7f6e\u8bbe\u5907\u540d\u79f0\u3002\n\n[HUAWEI] clock timezone Beijing add 08:00:00 #\u914d\u7f6e\u8bbe\u5907\u6240\u5728\u5730\u533a\u53ca\u5176\u5bf9\u5e94\u7684\u65f6\u533a\u3002\n\n&lt;HUAWEI&gt; clock datetime 08:00:00 2018-12-01  #\u8bbe\u7f6e\u5f53\u524d\u65f6\u95f4\u548c\u65e5\u671f\u3002\n\u914d\u7f6e\u8bbe\u5907\u7ba1\u7406IP\u5730\u5740\uff0c\u6267\u884c\u547d\u4ee4ip route-static\uff0c\u914d\u7f6e\u8bbe\u5907\u7f3a\u7701\u7f51\u5173\u3002\u5bf9\u4e8e\u6709\u7ba1\u7406\u7f51\u53e3\u7684\u8bbe\u5907\uff0c\u5728\u7ba1\u7406\u7f51\u53e3\u4e0b\u914d\u7f6e\u7ba1\u7406IP\u5730\u5740\u3002\n[HUAWEI] interface MEth 0/0/1\n[HUAWEI-MEth0/0/1] ip address 10.10.10.2 255.255.255.0    //\u8bbe\u5907\u7ba1\u7406IP \n[HUAWEI] ip route-static 0.0.0.0 0 10.10.10.1    //\u8bbe\u5907\u7f3a\u7701\u7f51\u5173 \n\n\u5bf9\u4e8e\u6ca1\u6709\u7ba1\u7406\u7f51\u53e3\u7684\u8bbe\u5907\uff0c\u5728Vlanif\u63a5\u53e3\u4e0b\u914d\u7f6e\u7ba1\u7406IP\u5730\u5740\u3002\n&lt;HUAWEI&gt; system-view\n[HUAWEI] interface Vlanif 10\n[HUAWEI-Vlanif10] ip address 10.10.10.2 255.255.255.0    //\u8bbe\u5907\u7ba1\u7406IP \n[HUAWEI-Vlanif10] quit \n[HUAWEI] ip route-static 0.0.0.0 0 10.10.10.1    //\u8bbe\u5907\u7f3a\u7701\u7f51\u5173 \n\u6267\u884c\u547d\u4ee4ssh user\uff0c\u914d\u7f6eSSH\u7528\u6237\u76f8\u5173\u53c2\u6570\uff1b\u6267\u884c\u547d\u4ee4local-user\uff0c\u914d\u7f6e\u672c\u5730\u7528\u6237\u76f8\u5173\u53c2\u6570\uff0c\u5b9e\u73b0\u901a\u8fc7SSH\u534f\u8bae\u767b\u5f55\u8bbe\u5907\u3002\n\n&lt;HUAWEI&gt; system-view\n[HUAWEI] user-interface vty 0 4\n[HUAWEI-ui-vty0-4] authentication-mode aaa    //\u914d\u7f6eVTY\u7528\u6237\u8ba4\u8bc1\u65b9\u5f0f\u4e3aAAA\u8ba4\u8bc1\n[HUAWEI-ui-vty0-4] protocol inbound ssh    //VTY\u7528\u6237\u754c\u9762\u6240\u652f\u6301\u7684\u534f\u8bae\u7f3a\u7701\u4e3aSSH\u534f\u8bae\u3002\n[HUAWEI-ui-vty0-4] quit\n[HUAWEI] aaa\n[HUAWEI-aaa] local-user admin password irreversible-cipher admin@123    //\u521b\u5efa\u4e0eSSH\u7528\u6237\u540c\u540d\u7684\u672c\u5730\u7528\u6237\u548c\u5bf9\u5e94\u7684\u767b\u5f55\u5bc6\u7801\n[HUAWEI-aaa] local-user admin service-type ssh terminal    //\u914d\u7f6e\u672c\u5730\u7528\u6237\u7684\u670d\u52a1\u65b9\u5f0f\n[HUAWEI-aaa] local-user admin privilege level 15    //\u914d\u7f6e\u672c\u5730\u7528\u6237\u7ea7\u522b\n[HUAWEI-aaa] quit\n[HUAWEI] ssh user admin    //\u521b\u5efaSSH\u7528\u6237\n[HUAWEI] ssh user admin authentication-type password    //\u914d\u7f6eSSH\u7528\u6237\u7684\u8ba4\u8bc1\u65b9\u5f0f\u4e3apassword\n[HUAWEI] ssh user admin service-type stelnet    //\u914d\u7f6eSSH\u7528\u6237\u7684\u670d\u52a1\u65b9\u5f0f\n[HUAWEI] stelnet server enable    //\u4f7f\u80fd\u8bbe\u5907\u7684STelnet\u670d\u52a1\u5668\u529f\u80fd\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/3%20%E5%8D%8E%E4%B8%BAS5700%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7/","title":"\u534e\u4e3aS5700\u4ea4\u6362\u673a\u56fa\u4ef6\u5347\u7ea7","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/3%20%E5%8D%8E%E4%B8%BAS5700%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7/#\u4e0b\u8f7d\u5b89\u88c5\u5305","title":"&lt;1&gt;\u4e0b\u8f7d\u5b89\u88c5\u5305","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/3%20%E5%8D%8E%E4%B8%BAS5700%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7/#\u901a\u8fc7web\u7aef\u5347\u7ea7\u9009\u62e9\u4e0b\u8f7d\u7684\u6587\u4ef6\u4e0a\u4f20","title":"&lt;2&gt;\u901a\u8fc7web\u7aef\u5347\u7ea7\uff0c\u9009\u62e9\u4e0b\u8f7d\u7684\u6587\u4ef6\u4e0a\u4f20","text":"<p>\u4e0a\u4f20\u540e\uff0c\u6267\u884c\u547d\u4ee4dir\uff0c\u67e5\u770b\u6587\u4ef6\u662f\u5426\u5b58\u5728</p> <p></p> <p>\u67e5\u770b\u4e0b\u6b21\u7684\u542f\u52a8\u9879\uff1adisp startup</p> <p>\u9009\u62e9\u4e0b\u6b21\u542f\u52a8\u7684\u6587\u4ef6\u4e3a\u4e0a\u4f20\u7684\u6587\u4ef6</p> <p>disp systemctl-software  xxx\u6587\u4ef6\u4fe1\u606f</p> <p>#\u67e5\u770b\u4e0b\u6b21\u542f\u52a8\u9879</p> <p>disp startup</p> <p>#\u91cd\u542f\u4ea4\u6362\u673a</p> <p>reboot</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/4%20%E6%97%A0%E7%BA%BF%E7%BB%84%E7%BD%91%E9%85%8D%E7%BD%AE/","title":"\u65e0\u7ebf\u7ec4\u7f51\u914d\u7f6e","text":"<p>\u200b       \u5b9e\u9645\u8bbe\u5907\u4e2d\uff0cAC\u7684\u9ed8\u8ba4\u7ba1\u7406\u5730\u5740\u4e3a\uff1a169.254.1.1         \u9ed8\u8ba4\u8d26\u53f7\uff1aadmin    \u9ed8\u8ba4\u5bc6\u7801\uff1aadmin@huawei.com</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/4%20%E6%97%A0%E7%BA%BF%E7%BB%84%E7%BD%91%E9%85%8D%E7%BD%AE/#\u4e00ensp\u6a21\u62df\u5668\u767b\u5f55ac-web\u7ba1\u7406\u53ca\u6865\u63a5\u771f\u5b9e\u7f51\u7edc","title":"\u4e00\u3001eNsp\u6a21\u62df\u5668\u767b\u5f55AC web\u7ba1\u7406\u53ca\u6865\u63a5\u771f\u5b9e\u7f51\u7edc","text":"<p>1\u3001\u6dfb\u52a0\u73af\u56de\u53e3\uff0c\u5e76\u914d\u7f6eip 192.168.20.55/24\uff0c\u6a21\u62df\u5668\u9ed8\u8ba4\u6ca1\u6709\u7ba1\u7406\u5730\u5740\uff0c\u624b\u52a8\u914d\u7f6e\u3002\uff08\u5173\u4e8e\u6dfb\u52a0\u73af\u56de\u53e3\u5728ensp\u4e91\u672a\u53d1\u73b0\u8be5\u7f51\u5361\uff0c\u5173\u95edeNsp\u6a21\u62df\u5668\uff0c\u53cc\u51fbensp\u6587\u4ef6\u5939\u7684\u201cTerminateRunning\u201d\uff0c\u91cd\u542f\u4e3b\u673a\u3002\uff09</p> <p>2\u3001\u542f\u52a8AC\uff0c\u914d\u7f6eVLAN1 \u53ca IP\u5730\u5740</p> <p>system-view</p> <p>[AC6005]disp ip interface brief #\u67e5\u770b\u9ed8\u8ba4vlan\u53ca\u5730\u5740\uff0c\u9ed8\u8ba4\u6ca1\u6709</p> <p>[AC6005]inter g0/0/1</p> <p>[AC6005]vlan 1</p> <p>[AC6005]inter Vlanif 1</p> <p>[AC6005-Vlanif1]ip address 192.168.20.1 24</p> <p>[AC6005-Vlanif1]quit</p> <p>3\u3001\u6dfb\u52a0Cloud\uff0c\u914d\u7f6eudp\u3001\u73af\u56de\u7f51\u5361\u3002</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/4%20%E6%97%A0%E7%BA%BF%E7%BB%84%E7%BD%91%E9%85%8D%E7%BD%AE/#\u4e8cac\u914d\u7f6e\u547d\u4ee4","title":"\u4e8c\u3001AC\u914d\u7f6e\u547d\u4ee4","text":"<p>1\u3001\u521b\u5efaAP\u7ec4</p> <p>[AC6005]wlan #\u8fdb\u5165WLAN\u89c6\u56fe</p> <p>[AC6005-wlan-view]ap-group name ap01 #\u521b\u5efaAP\u7ec4\u5e76\u8fdb\u5165AP\u7ec4\u89c6\u56fe</p> <p>display ap-group all #\u67e5\u770bap\u7ec4\u4fe1\u606f\uff08state\u4e3anor\uff0c\u8868\u793aap\u6b63\u5e38\u4e0a\u7ebf\uff09</p> <p>2\u3001\u914d\u7f6eAP\u4e0a\u7ebf</p> <p>\u521b\u5efaAP\u7ec4\uff0c\u7528\u4e8e\u5c06\u76f8\u540c\u914d\u7f6e\u7684AP\u90fd\u52a0\u5165\u540c\u4e00AP\u7ec4\u4e2d\u3002</p> <p>[AC] wlan</p> <p>[AC-wlan-view] ap-group name ap-group1</p> <p>[AC-wlan-ap-group-ap-group1] quit</p> <p>#\u521b\u5efa\u57df\u7ba1\u7406\u6a21\u677f\uff0c\u5728\u57df\u7ba1\u7406\u6a21\u677f\u4e0b\u914d\u7f6eAC\u7684\u56fd\u5bb6\u7801\u5e76\u5728AP\u7ec4\u4e0b\u5f15\u7528\u57df\u7ba1\u7406\u6a21\u677f\u3002</p> <p>[AC-wlan-view] regulatory-domain-profile name domain1</p> <p>[AC-wlan-regulate-domain-domain1] country-code cn</p> <p>[AC-wlan-regulate-domain-domain1] quit</p> <p>[AC-wlan-view] ap-group name ap-group1</p> <p>[AC-wlan-ap-group-ap-group1] regulatory-domain-profile domain1</p> <p>[AC-wlan-ap-group-ap-group1] quit</p> <p>[AC-wlan-view] quit</p> <p>\u914d\u7f6eAC\u7684\u6e90\u63a5\u53e3\u3002</p> <p>[AC] capwap source interface vlanif 100</p> <p>[AC6005-wlan-view]undo ap ap-mac 00e0-fc9f-3d42   #\u5220\u9664ap(AP\u72b6\u6001\u4e3aidle\u5982\u4f55\u5904\u7406)</p> <p>[AC6005-wlan-view]display arp #\u67e5\u770bap-mac</p> <p>display station ssid wlan-net #\u67e5\u770b\u7528\u6237\u5df2\u63a5\u5165\u65e0\u7ebf\u7f51\u7edc</p> <p>https://support.huawei.com/enterprise/zh/doc/EDOC1100156651/c19eab12</p> <p>https://support.huawei.com/enterprise/zh/doc/EDOC1100156651/33c1498 #\u65c1\u6302\u4e09\u5c42\u7ec4\u7f51</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/5%20%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81/","title":"\u5fd8\u8bb0\u5bc6\u7801","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/5%20%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81/#\u4e00\u534e\u4e3a\u4ea4\u6362\u673aconsole\u5bc6\u7801\u91cd\u7f6e","title":"\u4e00\u3001\u534e\u4e3a\u4ea4\u6362\u673aConsole\u5bc6\u7801\u91cd\u7f6e","text":"<p>1\u3001\u901a\u8fc7Console\u53e3\u8fde\u63a5\u4ea4\u6362\u673a\uff0c\u5e76\u91cd\u542f\u4ea4\u6362\u673a\u3002</p> <p>2\u3001\u5f53\u754c\u9762\u51fa\u73b0\u4ee5\u4e0b\u6253\u5370\u4fe1\u606f\u65f6\uff0c\u53ca\u65f6\u6309\u4e0b\u5feb\u6377\u952e\u201cCtrl+B\u201d\u5e76\u8f93\u5165BootROM/BootLoad\u5bc6\u7801\uff0c\u8fdb\u5165BootROM/BootLoad\u4e3b\u83dc\u5355</p> <p>3\u3001\u5bc6\u7801\uff1a Admin@huawei.com A\u5fc5\u987b\u5927\u5199\u3002</p> <p>4\u3001\u9009\u77407 Clear password for console user \uff08\u9009\u62e9\u6e05\u9664console\u7528\u6237\u5bc6\u7801\u6a21\u5f0f\uff09\u3002</p> <p>5\u3001\u9009\u62e91 Boot with default mode\uff08\u952e\u51651\u542f\u52a8\u9ed8\u8ba4\u6a21\u5f0f\uff09\uff0c\u8fdb\u5165\u540e\u66f4\u6539Console \u53catelnet\u5bc6\u7801\u3002</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/5%20%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81/#\u4e8c\u8bbe\u5907\u521d\u59cb\u5316","title":"\u4e8c\u3001\u8bbe\u5907\u521d\u59cb\u5316","text":"<p>1\u3001\u767b\u5f55\u534e\u4e3a\u4ea4\u6362\u673a</p> <p>2\u3001\u8f93\u5165\uff1areset saved-configuration \u63a5\u7740\u95ee\u4f60\u662f\u5426\u521d\u59cb\u5316 \u9009\u62e9\u201cY\u201d</p> <p>3\u3001\u521d\u59cb\u5316\u4e4b\u540e\uff0c\u9700\u8981\u91cd\u542f\u4ea4\u6362\u673a\u624d\u80fd\u751f\u6548 \u201creboot\u201d</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/5%20%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81/#\u4e09\u9ed8\u8ba4\u7528\u6237\u540d\u548c\u5bc6\u7801","title":"\u4e09\u3001\u9ed8\u8ba4\u7528\u6237\u540d\u548c\u5bc6\u7801","text":"<p>\u534e\u4e3a\u4ea4\u6362\u673a\u7684\u9ed8\u8ba4\u7528\u6237\u540d\u662fadmin\uff0c\u5bc6\u7801\u662fadmin@huawei.com</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%206500%20SSL/","title":"USG 6500 SSL","text":"<p>\u4e00\u3001SSL VPN\u670d\u52a1\u5668\u5efa\u7acb\u53ca\u914d\u7f6e \u7f51\u5173\u540d\u79f0\uff0c\u72ec\u5360\u578b\uff0c TLS1.2\u9700\u8981\u4e0e\u516c\u5171\u914d\u7f6e\u4e00\u81f4 \u4e8c\u3001\u7528\u6237\u5efa\u7acb \u76d1\u6d4bSSL\u7528\u6237 </p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E4%BA%91%E6%97%A0%E6%B3%95%E8%8E%B7%E5%8F%96virtualbox%E7%BD%91%E5%8D%A1%EF%BC%8C%E8%AF%B7%E5%8D%B8%E8%BD%BD%E9%87%8D%E8%A3%85winpcap/","title":"\u4e91\u65e0\u6cd5\u83b7\u53d6virtualbox\u7f51\u5361\uff0c\u8bf7\u5378\u8f7d\u91cd\u88c5winpcap","text":"<p>&lt;1&gt;\u5982\u679c\u4e91\u65e0\u6cd5\u83b7\u53d6virtualbox\u7f51\u5361\uff0c\u8bf7\u5378\u8f7d\u91cd\u88c5winpcap</p> <p></p> <p>&lt;2&gt;\u5982\u5378\u8f7d\u91cd\u88c5winpacp\u62a5\u9519</p> <p></p> <p>\u89e3\u51b3\u65b9\u5f0f\uff1a</p> <p></p> <p></p> <p></p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%8D%8E%E4%B8%BAUSG%206500%20IPsec/","title":"\u534e\u4e3aUSG 6500 IPsec","text":"<p>IPsec VPN\u670d\u52a1\u5668\u914d\u7f6e \u53a6\u95e8-\u6df1\u5733 \u53a6\u95e8-\u6210\u90fd \u5b89\u5168\u534f\u8bae \u914d\u7f6e\u6210\u529f\u540e </p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%8D%8E%E4%B8%BA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"\u534e\u4e3a\u5e38\u7528\u547d\u4ee4","text":"<p>display lldp neighbor brief       #\u67e5\u770bLLDP\u90bb\u5c45\u7684\u6982\u8981\u4fe1\u606f\u3002</p> <p>display device                  #\u6267\u884cdisplay device\u547d\u4ee4\uff0c\u67e5\u770b\u8bbe\u5907\u7684\u5177\u4f53\u5f62\u6001</p> <p>display trunkmembership eth-trunk 10        #\u67e5\u770bEth-Trunk\u63a5\u53e3\u7684\u6210\u5458\u53e3\u4fe1\u606f</p> <p>disp dhcp server group sundhcp          #\u67e5\u770bdhcp \u4e2d\u7ee7server\u7ec4\u670d\u52a1\u5668IP\u4fe1\u606f</p> <p>disp acl 2001 | include rule 3              #\u67e5\u770bacl 2001\u5305\u542brule 3</p> <p>disp acl 2001 | exclude 3                   #\u67e5\u770bacl 2001\u6392\u9664rule3</p> <p>disp acl resource slot 2/6</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%8D%8E%E4%B8%BA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#\u4e00\u57fa\u672c\u547d\u4ee4","title":"\u4e00\u3001\u57fa\u672c\u547d\u4ee4","text":"<p>?  #\u67e5\u770b\u53ef\u6267\u884c\u7684\u547d\u4ee4</p> <p>tab #\u547d\u4ee4\u8865\u5168</p> <p>system-view #\u8fdb\u5165\u7cfb\u7edf\u89c6\u56fe</p> <p>sysname Huawei1 #\u66f4\u6539\u8bbe\u5907\u540d</p> <p>interface Vlanif 1 #\u8fdb\u63a5\u53e3\u89c6\u56fe\uff0c\u6307\u660e\u914d\u7f6e\u7684\u63a5\u53e3</p> <p>ip address 192.168.1.1 24  #\u6dfb\u52a0IP\u53ca\u63a9\u7801</p> <p>quit   #\u9000\u51fa</p> <p>save #\u4fdd\u5b58\u914d\u7f6e\u5230\u5185\u5b58\uff08y\u786e\u8ba4\uff09</p> <p>dir  #\u5217\u51fa\u5185\u5b58\u4e2d\u7684\u6587\u4ef6</p> <p>undo ip address #\u5220\u9664\u63a5\u53e3\u4e0b\u7684\u5730\u5740</p> <p>undo ip address 192.168.1.1 24  #\u5220\u9664\u7279\u5b9a\u5730\u5740</p> <p>undo shutdown  #\u542f\u7528\u63a5\u53e3</p> <p>shutdown #\u5173\u95ed\u7aef\u53e3</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%8D%8E%E4%B8%BA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#11-display","title":"1.1 display","text":"<p>display curr #\u67e5\u770b\u5f53\u524d\u914d\u7f6e</p> <p>display saved-configuration #\u67e5\u770b\u4fdd\u5b58\u7684\u914d\u7f6e</p> <p>display interface brief  #\u663e\u793a\u63a5\u53e3\u6458\u8981\u4fe1\u606f</p> <p>display ip interface brief #\u67e5\u770b\u63a5\u53e3\u7684ip\u5730\u5740\u76f8\u5173\u4fe1\u606f</p> <p>display this #\u663e\u793a\u8be5\u89c6\u56fe\u4e0b\u914d\u7f6e</p> <p>display local-user #\u663e\u793a\u521b\u5efa\u7684\u7528\u6237</p> <p>display users #\u67e5\u770b\u54ea\u4e9b\u7528\u6237\u8fde\u63a5\u5230\u8bbe\u5907</p> <p>display startup #\u67e5\u770b\u4e0b\u4e00\u6b21\u542f\u52a8\u52a0\u8f7d\u7684\u914d\u7f6e\u6587\u4ef6</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%8D%8E%E4%B8%BA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#\u4e8c\u914d\u7f6econsole\u767b\u5f55\u4f7f\u7528\u5bc6\u7801","title":"\u4e8c\u3001\u914d\u7f6econsole\u767b\u5f55\uff08\u4f7f\u7528\u5bc6\u7801\uff09","text":"<p>user-interface console 0 #console\u53e3\u53ea\u67091\u4e2a\uff0c\u7f16\u53f7\u4e3a0</p> <p>authentication-mode password #\u53ea\u4f7f\u7528\u5bc6\u7801\u9a8c\u8bc1\uff08aaa\u9700\u8981\u7528\u6237\u540d\u53ca\u5bc6\u7801\uff09</p> <p>Please configure the login password (maximum length 16):huawei #\u6307\u5b9a\u5bc6\u7801huawei</p> <p>set authentication password cipher huawei #\u91cd\u8bbe\u5bc6\u7801</p> <p>idle-timeout 5 20 #\u4f1a\u8bdd\u7a7a\u95f2\u65f6\u95f4\u4e3a5\u520620\u79d2</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%8D%8E%E4%B8%BA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#\u914d\u7f6econsole\u767b\u5f55\u7528\u6237\u540d\u53ca\u5bc6\u7801","title":"\u914d\u7f6econsole\u767b\u5f55\uff08\u7528\u6237\u540d\u53ca\u5bc6\u7801\uff09","text":"<p>aaa</p> <p>local-user josh4 password cipher 123456 privilege  level 3 idle-timeout 5 20 #\u7528\u6237\u3001\u5bc6\u7801\u3001\u7ea7\u522b\u3001\u8d85\u65f6</p> <p>local-user josh4 service-type terminal  #\u767b\u5f55\u7c7b\u578b\u4e3aconsole</p> <p>quit</p> <p>user-interface console 0</p> <p>authentication-mode aaa #\u66f4\u6539\u8eab\u4efd\u9a8c\u8bc1\u6a21\u5f0f\u4e3aaaa</p> <p>quit</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%8D%8E%E4%B8%BA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#\u4e09\u914d\u7f6etelnet\u767b\u5f55","title":"\u4e09\u3001\u914d\u7f6etelnet\u767b\u5f55","text":"<p>telnet server enable #\u5f00\u542ftelnet\u670d\u52a1</p> <p>user-interface vty 0 4 #\u652f\u6301\u7684\u63a5\u53e3\u6570\u91cf0-4</p> <p>authentication-mode aaa #\u914d\u7f6e\u8eab\u4efd\u9a8c\u8bc1\u6a21\u5f0f</p> <p>user privilege level 15 #\u8bbe\u7f6evty\u7684\u9ed8\u8ba4\u7528\u6237\u7ea7\u522b</p> <p>aaa</p> <p>local-user josh password cipher 123456 privilege level 3 #\u6dfb\u52a0\u7528\u6237\u3001\u8bbe\u7f6e\u5bc6\u7801\u3001\u914d\u7f6e\u7528\u6237\u7ea7\u522b\u4e3a3\uff08\u7ba1\u7406\u5458\u7ea7\u522b\u4e3a3\uff0c\u5982\u679c\u53ea\u9700\u8981\u67e5\u770b\u914d\u7f6e\u53ef\u4ee5\u90090-2\uff09</p> <p>local-user josh service-type telnet #\u914d\u7f6e\u670d\u52a1\uff08ssh\u3001http\uff09</p> <p>idle-timeout 3 20  #\u8bbe\u7f6e\u4f1a\u8bdd\u7a7a\u95f2\u65f6\u95f43\u520620</p> <p>display local-user #\u663e\u793a\u521b\u5efa\u7684\u7528\u6237</p> <p>display users #\u67e5\u770b\u54ea\u4e9b\u7528\u6237\u8fde\u63a5\u5230\u8bbe\u5907</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%8D%8E%E4%B8%BA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#\u56db\u914d\u7f6e\u6587\u4ef6vrpcfgzip\u7ba1\u7406","title":"\u56db\u3001\u914d\u7f6e\u6587\u4ef6\uff08vrpcfg.zip\uff09\u7ba1\u7406","text":"<p>dir #\u5217\u51faflash\u6839\u76ee\u5f55\u5168\u90e8\u6587\u4ef6</p> <p>save backup.zip #save\u540e+\u6587\u4ef6\u540d\uff0c\u53ef\u5c06\u914d\u7f6e\u4fdd\u5b58\u5728\u6307\u5b9a\u6587\u4ef6</p> <p>autosave interval on #\u542f\u7528\u5468\u671f\u6027\u4fdd\u5b58\u529f\u80fd\uff08\u9ed8\u8ba4\u662f1440\u5206\uff09</p> <p>autosave interval 120 #\u95f4\u9694120\u5206\u4fdd\u5b58\u4e00\u6b21</p> <p>autosave interval off #\u5173\u95ed\u81ea\u52a8\u4fdd\u5b58</p> <p>autosave time on #\u542f\u52a8\u5b9a\u65f6\u4fdd\u5b58\uff08\u9ed8\u8ba4\u6bcf\u59298\u70b9\uff09</p> <p>autosave time 12:00:00 #\u66f4\u6539\u5b9a\u65f6\u4fdd\u5b58\u65f6\u95f412:00\uff1a00</p> <p>\u8bbe\u7f6e\u4e0b\u6b21\u542f\u52a8\u914d\u7f6e\u6587\u4ef6\uff0c\u518d\u4fdd\u5b58\u5f53\u524d\u914d\u7f6e\uff0c\u9ed8\u8ba4\u4f1a\u5c06\u5f53\u524d\u914d\u7f6e\u4fdd\u5b58\u5728\u4e0b\u6b21\u542f\u52a8\u7684\u6587\u4ef6\u4e2d\uff0c\u4ece\u800c\u8986\u76d6\u539f\u6709\u4e0b\u6b21\u542f\u52a8\u914d\u7f6e\u6587\u4ef6\u3002\u5f53\u7136\u5468\u671f\u6027\u53ca\u5b9a\u671f\u914d\u7f6e\u4e5f\u662f\u5982\u6b64\u3002</p> <p>startup saved-configuration backup.zip #\u8bbe\u7f6e\u4e0b\u4e00\u6b21\u542f\u52a8\u52a0\u8f7d\u7684\u914d\u7f6e\u6587\u4ef6</p> <p>display startup #\u67e5\u770b\u4e0b\u4e00\u6b21\u542f\u52a8\u52a0\u8f7d\u7684\u914d\u7f6e\u6587\u4ef6</p> <p>Next startup saved-configuration file:     flash:/backup.zip</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%8D%8E%E4%B8%BA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#\u6587\u4ef6\u7ba1\u7406","title":"\u6587\u4ef6\u7ba1\u7406","text":"<p>mkdir /backup  #\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939</p> <p>copy vrpcfg.zip flash:/backup/vrpcfg.zip #\u590d\u5236\u6587\u4ef6</p> <p>dir flash:/backup/ #\u67e5\u770b\u62f7\u8d1d\u5230backup\u76ee\u5f55\u7684\u6587\u4ef6</p> <p>delete back.zip #\u5220\u9664\u6587\u4ef6</p> <p>dir /all #\u663e\u793a\u6240\u6709\u6587\u4ef6\uff0c\u5305\u62ec\u56de\u6536\u7ad9\u7684\u6587\u4ef6\uff08back.zip\u4e3a\u56de\u6536\u7ad9\u6587\u4ef6\uff09</p> <p>reset recycle-bin #\u6e05\u7a7a\u56de\u6536\u7ad9</p> <p>undelete backup.zip #\u56de\u6536\u56de\u6536\u7ad9\u7684\u6587\u4ef6</p> <p>move backup.zip flash:/backup/backup.zip #\u79fb\u52a8\u6587\u4ef6</p> <p>cd backup/ #\u8fdb\u5165backup\u76ee\u5f55</p> <p>pwd #\u663e\u793a\u76ee\u5f55</p> <p>dir  #\u67e5\u770b\u5f53\u524d\u76ee\u5f55</p> <p>move backup.zip  backup2.zip #\u540c\u4e00\u4e2a\u76ee\u5f55\u4e0b\uff0cmove\u662f\u91cd\u547d\u540d\u8be5\u6587\u4ef6</p> <p>0  -rw-            881  May 30 2022 14:24:17   backup2.zip</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%8D%8E%E4%B8%BA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#\u4e94\u7528ftp-\u5bfc\u51fa\u914d\u7f6e","title":"\u4e94\u3001\u7528ftp \u5bfc\u51fa\u914d\u7f6e","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%8D%8E%E4%B8%BA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#win10\u4f5c\u4e3aftp\u670d\u52a1\u5668","title":"win10\u4f5c\u4e3aftp\u670d\u52a1\u5668","text":"<p>1\u3001\u63a7\u5236\u9762\u677f-\u300b\u542f\u7528windows\u529f\u80fd-\u300bInternet Information Services-\u300bFTP\u670d\u52a1\u5668\uff08\u5168\u9009\uff09-\u786e\u5b9a</p> <p>2\u3001iis-\u7f51\u7ad9-\u6dfb\u52a0ftp\u7ad9\u70b9-\u65e0ssl-\u8eab\u4efd\u9a8c\u8bc1\uff1a\u57fa\u672c-\u5b8c\u6210</p> <p>3\u3001\u521b\u5efa\u4e00\u4e2a\u672c\u5730\u7528\u6237:ftpuser</p> <p>4\u3001ftp\u6388\u6743\u89c4\u5219-\u6dfb\u52a0\u6307\u5b9a\u7528\u6237\uff1aftpuser</p> <p>5\u3001ftp\u5b58\u653e\u7684\u6587\u4ef6\u5939\u8d4b\u6743\u7ed9ftpuser\u5b8c\u5168\u63a7\u5236\u6743\u9650</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%8D%8E%E4%B8%BA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#\u4f7f\u7528\u4ea4\u6362\u673a\u4f5c\u4e3aftp\u670d\u52a1\u5668","title":"\u4f7f\u7528\u4ea4\u6362\u673a\u4f5c\u4e3aftp\u670d\u52a1\u5668","text":"<p>local-user josh password cipher 123456 #\u8d26\u53f7\u5bc6\u7801</p> <p>local-user josh privilege level 15 #\u8c03\u9ad8\u6743\u9650</p> <p>local-user josh service-type ftp #\u914d\u7f6e\u670d\u52a1\u7c7b\u578b</p> <p>local-user josh ftp-directory flash: #\u914d\u7f6e\u5b58\u50a8\u5730\u5740</p> <p>ftp server enable</p> <p>user-interface vty 0 4</p> <p>ftp 192.168.20.55 #\u8fde\u63a5ftp</p> <p>put vrpcfg.zip vrpcfg.zip #\u5c06\u914d\u7f6e\u4e0a\u4f20\u5230tftp\uff08put\u4e0eget\u540e\u662f\u6e90\u6587\u4ef6 \u3001\u76ee\u6807\u6587\u4ef6\uff09</p> <p>get backup.zip backup.zip.back  #\u4ecetftp\u4e0b\u8f7d\u914d\u7f6e\u6587\u4ef6</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%A0%86%E5%8F%A0%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/","title":"\u5806\u53e0\u6280\u672f\u539f\u7406","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%A0%86%E5%8F%A0%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/#\u5806\u53e0\u6982\u5ff5","title":"\u5806\u53e0\u6982\u5ff5","text":"<p>\u4f18\u5148\u7ea7\uff1a</p> <p></p> <p>\u603b\u7ed3\uff1a</p> <p>\u5806\u53e0\u6210\u5458\u67093\u79cd\u89d2\u8272</p> <p>\u4e3b\uff1a\u6709\u4e14\u53ea\u6709\u4e00\u4e2a</p> <p>\u5907\uff1a\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\uff08\u63a5\u66ff\u4e3b\u7684\u5de5\u4f5c\uff09</p> <p>\u4ece\uff1a\u53ef\u4ee5\u6709\u591a\u4e2a\uff08\u63a5\u66ff\u5907\u7684\u5de5\u4f5c\uff09</p> <p>\u5982\u4f55\u51b3\u5b9a\u4e3b\u5907\u4ece\uff1f\u901a\u5e38\u60c5\u51b5\u53ef\u4ee5\u4f7f\u7528\u4f18\u5148\u7ea7\uff0c\u9ed8\u8ba4100</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%A0%86%E5%8F%A0%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/#\u5806\u53e0id\u5806\u53e0\u6210\u5458\u7684\u7f16\u53f7","title":"\u5806\u53e0ID\uff08\u5806\u53e0\u6210\u5458\u7684\u7f16\u53f7\uff09","text":"<p>\u603b\u7ed3\uff1a</p> <p></p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%A0%86%E5%8F%A0%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/#\u5806\u53e0\u65b9\u5f0f","title":"\u5806\u53e0\u65b9\u5f0f","text":"<p>\u603b\u7ed3\uff1a</p> <p></p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%A0%86%E5%8F%A0%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/#\u5806\u53e0\u94fe\u63a5\u62d3\u6251","title":"\u5806\u53e0\u94fe\u63a5\u62d3\u6251","text":"<p>\u603b\u7ed3\uff1a</p> <p></p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%A0%86%E5%8F%A0%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/#\u5806\u53e0\u903b\u8f91\u63a5\u53e3","title":"\u5806\u53e0\u903b\u8f91\u63a5\u53e3","text":"<p>\u603b\u7ed3\uff1a</p> <p></p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/%E5%A0%86%E5%8F%A0%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/#\u5806\u53e0\u7684\u4f18\u52bf","title":"\u5806\u53e0\u7684\u4f18\u52bf","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/1%E3%80%81%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/","title":"\u57fa\u672c\u914d\u7f6e","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/1%E3%80%81%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/#\u4e00\u57fa\u672c\u547d\u4ee4","title":"\u4e00\u3001\u57fa\u672c\u547d\u4ee4","text":"Text Only<pre><code>?  #\u67e5\u770b\u53ef\u6267\u884c\u7684\u547d\u4ee4\ntab #\u547d\u4ee4\u8865\u5168\nsystem-view #\u8fdb\u5165\u7cfb\u7edf\u89c6\u56fe\nsysname Huawei1 #\u66f4\u6539\u8bbe\u5907\u540d\ninterface Vlanif 1 #\u8fdb\u63a5\u53e3\u89c6\u56fe\uff0c\u6307\u660e\u914d\u7f6e\u7684\u63a5\u53e3\nip address 192.168.1.1 24  #\u6dfb\u52a0IP\u53ca\u63a9\u7801\nquit   #\u9000\u51fa\nsave #\u4fdd\u5b58\u914d\u7f6e\u5230\u5185\u5b58\uff08y\u786e\u8ba4\uff09\ndir  #\u5217\u51fa\u5185\u5b58\u4e2d\u7684\u6587\u4ef6\n\nundo ip address #\u5220\u9664\u63a5\u53e3\u4e0b\u7684\u5730\u5740\nundo ip address 192.168.1.1 24  #\u5220\u9664\u7279\u5b9a\u5730\u5740\nundo shutdown  #\u542f\u7528\u63a5\u53e3\nshutdown #\u5173\u95ed\u7aef\u53e3\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/1%E3%80%81%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/#11-display","title":"1.1 display","text":"Text Only<pre><code>display curr #\u67e5\u770b\u5f53\u524d\u914d\u7f6e\ndisplay saved-configuration #\u67e5\u770b\u4fdd\u5b58\u7684\u914d\u7f6e\ndisplay interface brief  #\u663e\u793a\u63a5\u53e3\u6458\u8981\u4fe1\u606f\ndisplay ip interface brief #\u67e5\u770b\u63a5\u53e3\u7684ip\u5730\u5740\u76f8\u5173\u4fe1\u606f\ndisplay this #\u663e\u793a\u8be5\u89c6\u56fe\u4e0b\u914d\u7f6e\ndisplay local-user #\u663e\u793a\u521b\u5efa\u7684\u7528\u6237\ndisplay users #\u67e5\u770b\u54ea\u4e9b\u7528\u6237\u8fde\u63a5\u5230\u8bbe\u5907\ndisplay startup #\u67e5\u770b\u4e0b\u4e00\u6b21\u542f\u52a8\u52a0\u8f7d\u7684\u914d\u7f6e\u6587\u4ef6\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/1%E3%80%81%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/#\u4e8c\u914d\u7f6econsole\u767b\u5f55\u4f7f\u7528\u5bc6\u7801","title":"\u4e8c\u3001\u914d\u7f6econsole\u767b\u5f55\uff08\u4f7f\u7528\u5bc6\u7801\uff09","text":"Text Only<pre><code>user-interface console 0 #console\u53e3\u53ea\u67091\u4e2a\uff0c\u7f16\u53f7\u4e3a0\nauthentication-mode password #\u53ea\u4f7f\u7528\u5bc6\u7801\u9a8c\u8bc1\uff08aaa\u9700\u8981\u7528\u6237\u540d\u53ca\u5bc6\u7801\uff09\nPlease configure the login password (maximum length 16):huawei #\u6307\u5b9a\u5bc6\u7801huawei \nset authentication password cipher huawei #\u91cd\u8bbe\u5bc6\u7801\nidle-timeout 5 20 #\u4f1a\u8bdd\u7a7a\u95f2\u65f6\u95f4\u4e3a5\u520620\u79d2\n</code></pre> <p>\u914d\u7f6econsole\u767b\u5f55\uff08\u7528\u6237\u540d\u53ca\u5bc6\u7801\uff09</p> Text Only<pre><code>aaa\nlocal-user josh4 password cipher 123456 privilege  level 3 idle-timeout 5 20 #\u7528\u6237\u3001\u5bc6\u7801\u3001\u7ea7\u522b\u3001\u8d85\u65f6\nlocal-user josh4 service-type terminal  #\u767b\u5f55\u7c7b\u578b\u4e3aconsole\nquit\nuser-interface console 0\nauthentication-mode aaa #\u66f4\u6539\u8eab\u4efd\u9a8c\u8bc1\u6a21\u5f0f\u4e3aaaa\nquit\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/1%E3%80%81%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/#\u4e09\u914d\u7f6etelnet\u767b\u5f55","title":"\u4e09\u3001\u914d\u7f6etelnet\u767b\u5f55","text":"Text Only<pre><code>telnet server enable #\u5f00\u542ftelnet\u670d\u52a1\nuser-interface vty 0 4 #\u652f\u6301\u7684\u63a5\u53e3\u6570\u91cf0-4\nauthentication-mode aaa #\u914d\u7f6e\u8eab\u4efd\u9a8c\u8bc1\u6a21\u5f0f\nuser privilege level 15 #\u8bbe\u7f6evty\u7684\u9ed8\u8ba4\u7528\u6237\u7ea7\u522b\n\naaa\nlocal-user josh password cipher 123456 privilege level 3 #\u6dfb\u52a0\u7528\u6237\u3001\u8bbe\u7f6e\u5bc6\u7801\u3001\u914d\u7f6e\u7528\u6237\u7ea7\u522b\u4e3a3\uff08\u7ba1\u7406\u5458\u7ea7\u522b\u4e3a3\uff0c\u5982\u679c\u53ea\u9700\u8981\u67e5\u770b\u914d\u7f6e\u53ef\u4ee5\u90090-2\uff09\nlocal-user josh service-type telnet #\u914d\u7f6e\u670d\u52a1\uff08ssh\u3001http\uff09\nidle-timeout 3 20  #\u8bbe\u7f6e\u4f1a\u8bdd\u7a7a\u95f2\u65f6\u95f43\u520620\n\ndisplay local-user #\u663e\u793a\u521b\u5efa\u7684\u7528\u6237\ndisplay users #\u67e5\u770b\u54ea\u4e9b\u7528\u6237\u8fde\u63a5\u5230\u8bbe\u5907\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/1%E3%80%81%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/#\u56db\u914d\u7f6e\u6587\u4ef6vrpcfgzip\u7ba1\u7406","title":"\u56db\u3001\u914d\u7f6e\u6587\u4ef6\uff08vrpcfg.zip\uff09\u7ba1\u7406","text":"Text Only<pre><code>dir #\u5217\u51faflash\u6839\u76ee\u5f55\u5168\u90e8\u6587\u4ef6\nsave backup.zip #save\u540e+\u6587\u4ef6\u540d\uff0c\u53ef\u5c06\u914d\u7f6e\u4fdd\u5b58\u5728\u6307\u5b9a\u6587\u4ef6\nautosave interval on #\u542f\u7528\u5468\u671f\u6027\u4fdd\u5b58\u529f\u80fd\uff08\u9ed8\u8ba4\u662f1440\u5206\uff09\nautosave interval 120 #\u95f4\u9694120\u5206\u4fdd\u5b58\u4e00\u6b21\nautosave interval off #\u5173\u95ed\u81ea\u52a8\u4fdd\u5b58\nautosave time on #\u542f\u52a8\u5b9a\u65f6\u4fdd\u5b58\uff08\u9ed8\u8ba4\u6bcf\u59298\u70b9\uff09\nautosave time 12:00:00 #\u66f4\u6539\u5b9a\u65f6\u4fdd\u5b58\u65f6\u95f412:00\uff1a00\n</code></pre> <p>\u8bbe\u7f6e\u4e0b\u6b21\u542f\u52a8\u914d\u7f6e\u6587\u4ef6\uff0c\u518d\u4fdd\u5b58\u5f53\u524d\u914d\u7f6e\uff0c\u9ed8\u8ba4\u4f1a\u5c06\u5f53\u524d\u914d\u7f6e\u4fdd\u5b58\u5728\u4e0b\u6b21\u542f\u52a8\u7684\u6587\u4ef6\u4e2d\uff0c\u4ece\u800c\u8986\u76d6\u539f\u6709\u4e0b\u6b21\u542f\u52a8\u914d\u7f6e\u6587\u4ef6\u3002\u5f53\u7136\u5468\u671f\u6027\u53ca\u5b9a\u671f\u914d\u7f6e\u4e5f\u662f\u5982\u6b64\u3002</p> Text Only<pre><code>startup saved-configuration backup.zip #\u8bbe\u7f6e\u4e0b\u4e00\u6b21\u542f\u52a8\u52a0\u8f7d\u7684\u914d\u7f6e\u6587\u4ef6\ndisplay startup #\u67e5\u770b\u4e0b\u4e00\u6b21\u542f\u52a8\u52a0\u8f7d\u7684\u914d\u7f6e\u6587\u4ef6\nNext startup saved-configuration file:     flash:/backup.zip\n</code></pre> <p>\u6587\u4ef6\u7ba1\u7406</p> Text Only<pre><code>mkdir /backup  #\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\ncopy vrpcfg.zip flash:/backup/vrpcfg.zip #\u590d\u5236\u6587\u4ef6\ndir flash:/backup/ #\u67e5\u770b\u62f7\u8d1d\u5230backup\u76ee\u5f55\u7684\u6587\u4ef6\ndelete back.zip #\u5220\u9664\u6587\u4ef6\ndir /all #\u663e\u793a\u6240\u6709\u6587\u4ef6\uff0c\u5305\u62ec\u56de\u6536\u7ad9\u7684\u6587\u4ef6\uff08back.zip\u4e3a\u56de\u6536\u7ad9\u6587\u4ef6\uff09\n</code></pre> <p></p> Text Only<pre><code>reset recycle-bin #\u6e05\u7a7a\u56de\u6536\u7ad9\nundelete backup.zip #\u56de\u6536\u56de\u6536\u7ad9\u7684\u6587\u4ef6\nmove backup.zip flash:/backup/backup.zip #\u79fb\u52a8\u6587\u4ef6\ncd backup/ #\u8fdb\u5165backup\u76ee\u5f55\npwd #\u663e\u793a\u76ee\u5f55\ndir  #\u67e5\u770b\u5f53\u524d\u76ee\u5f55\nmove backup.zip  backup2.zip #\u540c\u4e00\u4e2a\u76ee\u5f55\u4e0b\uff0cmove\u662f\u91cd\u547d\u540d\u8be5\u6587\u4ef6\n0  -rw-            881  May 30 2022 14:24:17   backup2.zip\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/1%E3%80%81%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/#\u4e94\u7528ftp-\u5bfc\u51fa\u914d\u7f6e","title":"\u4e94\u3001\u7528ftp \u5bfc\u51fa\u914d\u7f6e","text":"<p>win10\u4f5c\u4e3aftp\u670d\u52a1\u5668\uff1a</p> <p>1\u3001\u63a7\u5236\u9762\u677f-\u300b\u542f\u7528windows\u529f\u80fd-\u300bInternet Information Services-\u300bFTP\u670d\u52a1\u5668\uff08\u5168\u9009\uff09-\u786e\u5b9a</p> <p>2\u3001iis-\u7f51\u7ad9-\u6dfb\u52a0ftp\u7ad9\u70b9-\u65e0ssl-\u8eab\u4efd\u9a8c\u8bc1\uff1a\u57fa\u672c-\u5b8c\u6210</p> <p>3\u3001\u521b\u5efa\u4e00\u4e2a\u672c\u5730\u7528\u6237:ftpuser</p> <p>4\u3001ftp\u6388\u6743\u89c4\u5219-\u6dfb\u52a0\u6307\u5b9a\u7528\u6237\uff1aftpuser</p> <p>5\u3001ftp\u5b58\u653e\u7684\u6587\u4ef6\u5939\u8d4b\u6743\u7ed9ftpuser\u5b8c\u5168\u63a7\u5236\u6743\u9650</p> <p>\u4f7f\u7528\u4ea4\u6362\u673a\u4f5c\u4e3aftp\u670d\u52a1\u5668</p> Text Only<pre><code>local-user josh password cipher 123456 #\u8d26\u53f7\u5bc6\u7801\nlocal-user josh privilege level 15 #\u8c03\u9ad8\u6743\u9650\nlocal-user josh service-type ftp #\u914d\u7f6e\u670d\u52a1\u7c7b\u578b\nlocal-user josh ftp-directory flash: #\u914d\u7f6e\u5b58\u50a8\u5730\u5740\nftp server enable\nuser-interface vty 0 4\n\nftp 192.168.20.55 #\u8fde\u63a5ftp\nput vrpcfg.zip vrpcfg.zip #\u5c06\u914d\u7f6e\u4e0a\u4f20\u5230tftp\uff08put\u4e0eget\u540e\u662f\u6e90\u6587\u4ef6 \u3001\u76ee\u6807\u6587\u4ef6\uff09\nget backup.zip backup.zip.back  #\u4ecetftp\u4e0b\u8f7d\u914d\u7f6e\u6587\u4ef6\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/2%E3%80%81%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/","title":"\u57fa\u672c\u914d\u7f6e","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/2%E3%80%81%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/#\u4e00\u6ce8\u610f\u4e8b\u9879","title":"\u4e00\u3001\u6ce8\u610f\u4e8b\u9879","text":"<p>1\u3001\u9996\u6b21\u4f7f\u7528console\u767b\u9646\uff0c\u9ed8\u8ba4\u7528\u6237\u540d\uff1aadmin\u5bc6\u7801\uff1aadmin@huawei.com\uff0c\u9996\u6b21\u767b\u9646\u8981\u6c42\u4fee\u6539\u5bc6\u7801\u3002</p> <p>2\u3001\u9664\u4e86console\u53e3\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528miniUSB\u63a5\u53e3\u6765\u767b\u9646\u8bbe\u5907\uff0c\u901f\u73879600\uff0c\u6d41\u63a7\u5168\u65e0\uff0c\u4e0d\u6821\u9a8c\uff0c\u505c\u6b62\u4f4d1\uff0c\u6570\u636e\u4f4d8\uff0c\u7f3a\u7701\u7528\u6237\u540d\u4e0e\u5bc6\u7801\uff08\u4e0econsole\u4e00\u81f4\uff09\u3002</p> <p>3\u3001\u8fde\u63a5eth\u7ba1\u7406\u63a5\u53e3\uff0c\u7f3a\u7701web\u767b\u9646IP 192.168.1.253\uff08pc\u4e0e\u4ea4\u6362\u673a\u5904\u4e8e\u540c\u4e00\u7f51\u6bb5\uff09\u3002</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/2%E3%80%81%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/#\u4e8c\u57fa\u672c\u914d\u7f6e","title":"\u4e8c\u3001\u57fa\u672c\u914d\u7f6e","text":"<p>[HUAWEI] sysname Switch #\u8bbe\u7f6e\u8bbe\u5907\u540d\u79f0\u3002</p> <p>[HUAWEI] clock timezone Beijing add 08:00:00 #\u914d\u7f6e\u8bbe\u5907\u6240\u5728\u5730\u533a\u53ca\u5176\u5bf9\u5e94\u7684\u65f6\u533a\u3002</p> <p>clock datetime 08:00:00 2018-12-01  #\u8bbe\u7f6e\u5f53\u524d\u65f6\u95f4\u548c\u65e5\u671f\u3002</p> <p>\u914d\u7f6e\u8bbe\u5907\u7ba1\u7406IP\u5730\u5740\uff0c\u6267\u884c\u547d\u4ee4ip route-static\uff0c\u914d\u7f6e\u8bbe\u5907\u7f3a\u7701\u7f51\u5173\u3002\u5bf9\u4e8e\u6709\u7ba1\u7406\u7f51\u53e3\u7684\u8bbe\u5907\uff0c\u5728\u7ba1\u7406\u7f51\u53e3\u4e0b\u914d\u7f6e\u7ba1\u7406IP\u5730\u5740\u3002</p> <p>[HUAWEI] interface MEth 0/0/1</p> <p>[HUAWEI-MEth0/0/1] ip address 10.10.10.2 255.255.255.0    //\u8bbe\u5907\u7ba1\u7406IP</p> <p>[HUAWEI] ip route-static 0.0.0.0 0 10.10.10.1    //\u8bbe\u5907\u7f3a\u7701\u7f51\u5173 </p> <p>\u5bf9\u4e8e\u6ca1\u6709\u7ba1\u7406\u7f51\u53e3\u7684\u8bbe\u5907\uff0c\u5728Vlanif\u63a5\u53e3\u4e0b\u914d\u7f6e\u7ba1\u7406IP\u5730\u5740\u3002</p> <p> system-view <p>[HUAWEI] interface Vlanif 10</p> <p>[HUAWEI-Vlanif10] ip address 10.10.10.2 255.255.255.0    //\u8bbe\u5907\u7ba1\u7406IP</p> <p>[HUAWEI-Vlanif10] quit</p> <p>[HUAWEI] ip route-static 0.0.0.0 0 10.10.10.1    //\u8bbe\u5907\u7f3a\u7701\u7f51\u5173 </p> <p>\u6267\u884c\u547d\u4ee4ssh user\uff0c\u914d\u7f6eSSH\u7528\u6237\u76f8\u5173\u53c2\u6570\uff1b\u6267\u884c\u547d\u4ee4local-user\uff0c\u914d\u7f6e\u672c\u5730\u7528\u6237\u76f8\u5173\u53c2\u6570\uff0c\u5b9e\u73b0\u901a\u8fc7SSH\u534f\u8bae\u767b\u5f55\u8bbe\u5907\u3002</p> <p> system-view <p>[HUAWEI] user-interface vty 0 4</p> <p>[HUAWEI-ui-vty0-4] authentication-mode aaa    //\u914d\u7f6eVTY\u7528\u6237\u8ba4\u8bc1\u65b9\u5f0f\u4e3aAAA\u8ba4\u8bc1</p> <p>[HUAWEI-ui-vty0-4] protocol inbound ssh    //VTY\u7528\u6237\u754c\u9762\u6240\u652f\u6301\u7684\u534f\u8bae\u7f3a\u7701\u4e3aSSH\u534f\u8bae\u3002</p> <p>[HUAWEI-ui-vty0-4] quit</p> <p>[HUAWEI] aaa</p> <p>[HUAWEI-aaa] local-user admin password irreversible-cipher admin@123    //\u521b\u5efa\u4e0eSSH\u7528\u6237\u540c\u540d\u7684\u672c\u5730\u7528\u6237\u548c\u5bf9\u5e94\u7684\u767b\u5f55\u5bc6\u7801</p> <p>[HUAWEI-aaa] local-user admin service-type ssh terminal    //\u914d\u7f6e\u672c\u5730\u7528\u6237\u7684\u670d\u52a1\u65b9\u5f0f</p> <p>[HUAWEI-aaa] local-user admin privilege level 15    //\u914d\u7f6e\u672c\u5730\u7528\u6237\u7ea7\u522b</p> <p>[HUAWEI-aaa] quit</p> <p>[HUAWEI] ssh user admin    //\u521b\u5efaSSH\u7528\u6237</p> <p>[HUAWEI] ssh user admin authentication-type password    //\u914d\u7f6eSSH\u7528\u6237\u7684\u8ba4\u8bc1\u65b9\u5f0f\u4e3apassword</p> <p>[HUAWEI] ssh user admin service-type stelnet    //\u914d\u7f6eSSH\u7528\u6237\u7684\u670d\u52a1\u65b9\u5f0f</p> <p>[HUAWEI] stelnet server enable    //\u4f7f\u80fd\u8bbe\u5907\u7684STelnet\u670d\u52a1\u5668\u529f\u80fd</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/4%E3%80%81%E4%B8%8B%E4%B8%80%E4%BB%A3%E9%98%B2%E7%81%AB%E5%A2%99/","title":"\u4e0b\u4e00\u4ee3\u9632\u706b\u5899","text":"<p>1\u3001\u8bbe\u5907\u767b\u5f55\u65b9\u5f0f\uff1a</p> <p>\uff081\uff09\u7535\u8111-\u7f51\u7ebf\u63a5MGMT\u62160\u53f7\u53e3\uff08\u6709MGMT\u7684\u4e3a\u7ba1\u7406\u53e3\uff0c\u6ca1\u6709\u5199\u76840\u53f7\u53e3\u4e3a\u7ba1\u7406\u53e3\uff09\uff0c\u7528192.168.0.1\u767b\u5f55\uff0c\u9ed8\u8ba4\u8d26\u53f7admin \u5bc6\u7801Admin@123\u3002\uff08\u7535\u8111\u914d\u7f6e\u540c\u7f51\u6bb5\u5373\u53ef\uff09</p> <p>\uff082\uff09Console\u7ebf\u767b\u5f55\uff0c\u9ed8\u8ba4\u8d26\u53f7\u5bc6\u7801\u4e0eweb\u4e00\u81f4\u3002</p> <p>\uff083\uff09\u65e0\u8bba\u662fweb \u6216 console \u7b2c\u4e00\u6b21\u767b\u5f55\u90fd\u9700\u8981\u4fee\u6539\u5bc6\u7801\u3002</p> <p>\uff084\uff09\u6a21\u62df\u5668\u662f\u5fc5\u987b\u8fdb\u5165\u547d\u4ee4\u884c\u5f00\u542f\u7ba1\u7406\u529f\u80fd\u624d\u80fd\u8fdbweb\uff0cconsole\u6539\u4e86\u4ee5\u540e\u5c31\u65e0\u9700\u6539\u4e86\u3002</p> <p>eNsp\u5bfc\u5165USG600\u955c\u50cf\u5305\uff0c\u5e76\u914d\u7f6e\u73af\u56de\u7f51\u5361\u767b\u5f55web\u3002</p> <p>http://t.zoukankan.com/lzkalislw-p-14707342.html</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/5%E3%80%81AC6003%20%26%20AP4050DN/","title":"AC6003 &amp; AP4050DN","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/5%E3%80%81AC6003%20%26%20AP4050DN/#shidian-network","title":"SHIDIAN-NETWORK","text":"<p>\u7f51\u7edc\u62d3\u6251\uff1a</p> <p></p> <p>\u7ec4\u7f51\u8bbe\u5907\uff08\u56fa\u4ef6\u7248\u672cversion 5.170\uff09\uff1a</p> <p>\u9632\u706b\u5899\u2013USG6306-AC \u201310.10.0.1:8443  admin/Shidian@123</p> <p>\u6838\u5fc3\u2013S5720-36C-EI-AC  \u201310.10.1.1 admin/admin@123</p> <p>\u65e0\u7ebfAC\u2013AC6003-8-8AP  \u201310.10.1.4  admin/Etrue@123</p> <p>AP-POE\u2013S5720S-12TP-PWR-LI-AC  \u201310.10.1.5  admin/admin@123</p> <p>\u5185\u7f51VLAN\u5212\u5206</p> <p>vlan 1   10.0.0.253    #AC\u5206\u914d\u7ed9AP\u7684\u7f51\u6bb5</p> <p>vlan 10  10.10.1.1/24  #\u7ba1\u7406\u7f51\u6bb5</p> <p>vlan 20  10.10.2.1/24  #\u6709\u7ebf\u5de5\u4f4d</p> <p>vlan 30  10.10.3.1/24  #\u76d1\u63a7</p> <p>vlan 40  10.10.4.1/24  #Shidian_office-WiFi</p> <p>vlan 50  10.10.5.1/24  #Shidian_mobile-wifi</p> <p>vlan 60  10.10.6.1/24  #Shidian_guest-wifi</p> <p>vlan 70  10.10.7.1/24  #SHIDIAN_01-wifi</p> <p>vlan 100  10.10.0.2/24 \uff08\u9632\u706b\u5899-\u6838\u5fc3IP\uff09</p> <p>USG\u9632\u62a4\u5899\u63a5\u53e3\u914d\u7f6e </p> <p>WiFi\u8c03\u4f18\u7684\u601d\u8def</p> <p>1\u3001\u5065\u5eb7\u68c0\u67e5\u5ea6\u8fd8\u672a\u68c0\u6d4b\uff1f</p> <p>2\u3001AP\u4e4b\u95f4\u8ddd\u79bb\u591a\u5c11\u7c73\uff1f\u95f4\u8ddd15-20\u7c73\u4e3a\u6b63\u5e38\u3002</p> <p>3\u3001\u65e0\u7ebf\u7b56\u7565\u662f\u5426\u90fd\u57fa\u4e8edefault\u7b56\u7565\u914d\u7f6e\uff1f</p> <p>\u65e0\u7ebf\u8c03\u4f18\uff1a</p> <p>1\u3001\u624b\u673a\u4e0b\u8f7d\u201dWiFi\u9b54\u76d2\u201c\uff0c\u770b\u5e72\u6270\uff0c2.4G 1 6 11</p> <p>WiFi\u9b54\u76d2APP\u4f7f\u7528\u6f2b\u6e38\u6d4b\u8bd5\uff0c\u67e5\u770b\u6f2b\u6e38\u662f\u7ecf\u5e38\u57282.4G\u8fd8\u662f5G\uff0c</p> <p>\u8c03\u4f18\u7b2c\u4e00\u70b9\uff1aV200R800\uff0c\u7248\u672c\u8fc7\u4f4e\uff08\u53ef\u80fd\u6027\u6781\u5c0f\uff09\uff0cAP\u53caAC\u90fd\u5347\u7ea7\u7248\u672c\uff0c\u914d\u7f6e\u8f83\u4e71\uff0c\u6062\u590d\u51fa\u5382\u91cd\u65b0\u914d\u7f6e\u3002\u5347\u7ea7\u6ce8\u610f\u4e8b\u9879\uff1a\u5148\u5347\u7ea7AP\uff0c\u5728AC\u4e2d\u4e0b\u53d1\u4efb\u52a1\uff0c\u8fdb\u884c\u5347\u7ea7\uff0c\u518d\u5347\u7ea7AC\uff0c\u8fd9\u6837AP\u80fd\u81ea\u52a8\u4e0a\u7ebf\uff0c\u8282\u7ea6\u65f6\u95f4\u3002</p> <p>\u8c03\u4f18\u7b2c\u4e8c\u70b9\uff1acalibrate sensitivity high\uff0c\u7075\u654f\u5ea6\u8c03\u6210\u4e86\u6700\u9ad8\uff0c\u6297\u5e72\u6270\u80fd\u529b\u53d8\u5dee\uff0c\u4f1a\u81ea\u52a8\u89e6\u53d1\u8c03\u4f18\uff0c\u8c03\u4f18\u8fc7\u7a0b\u4f1a\u4f7f\u4fe1\u9053\u3001\u4fe1\u53f7\u529f\u7387\u8fdb\u884c\u8c03\u6574\uff0c\u8fd9\u6837\u4f1a\u5bfc\u81f4\u5ba2\u6237\u7aef\u51fa\u73b0\u6389\u7ebf\u6216\u8fde\u4e0d\u4e0a\u3001\u7f51\u7edc\u6162\uff1b\u4fee\u6539calibrate enable auto interval 1440 start-time 00:00:00 #\u8bbe\u7f6e\u975e\u81ea\u52a8\u8c03\u4f18\uff0c\u4fee\u6539\u8c03\u4f18\u65f6\u95f4\u4e3a\u51cc\u66685-6\u70b9\u90fd\u884c\u3002</p> <p>\u4fee\u6539\u4ee5\u4e0b\uff1a\u5c06\u7075\u654f\u5ea6\u8c03\u6574\u4e3a\u4e2d\u7b49</p> <p>colibrate policy no-wifi</p> <p>colibrate policy noise-floor</p> <p>calibrate sensitivity high</p> <p>\u8c03\u4f18\u7b2c\u4e09\u70b9\uff1a5G\u901f\u5ea6\u6162\uff0c\u6f2b\u6e38\u6548\u679c\u5f88\u5dee\uff0c\u90fd\u662f\u56e0\u4e3aAP\u4e4b\u95f4\u7684\u5e72\u6270\uff0c\u8be5dca-channel 5g bandwidth 80m\u5bfc\u81f4\uff0c\u9891\u5bbd80M\u76f8\u5f53\u4e8e1\u4e2aAP\u8981\u5360\u75284\u4e2a\u4fe1\u9053\uff0c\u800c5G\u4e00\u5171\u53ea\u670913\u4e2a\u4fe1\u9053\u3002\u4e09\u53f0AP\u5c31\u5c06\u4fe1\u9053\u5360\u5b8c\u4e86\uff0c\u5269\u4e0b\u7684\u65e0\u8bba\u5982\u4f55\u8c03\u4f18\uff0c\u90fd\u662f\u7531\u5e72\u6270\u7684\u3002\u8c03\u4f18\u65b9\u5f0f\u662f\u5c0680m\u6539\u621040\u201cdca-channel 5g bandwidth 40m\u201d\uff0c40M\u53ea\u5360\u75282\u4e2a\u4fe1\u9053\uff0c\u5e72\u6270\u4f1a\u5c11\u5f88\u591a\uff0c\u800c\u8ddd\u79bb\u8fdc\u7684\u4f7f\u7528\u76f8\u540c\u4fe1\u9053\uff0c\u4e5f\u4e0d\u4f1a\u4ea7\u751f\u5e72\u6270\u3002\uff08\u4f01\u4e1a\u7f51\u4e2d\u4e0d\u8ffd\u6c42\u6700\u9ad8\u901f\u7387\uff0c\u800c\u4ee5\u7a33\u5b9a\u4e3a\u7b2c\u4e00\u524d\u63d0\uff09</p> <p>\u8c03\u4f18\u7b2c\u56db\u70b9\uff1a\u914d\u7f6e\u4e2d\u57285G\u7ec4\u4e2d\u52a0\u4e86\u201dchannel 80mhz 52\u201d\uff0c\u8be5\u547d\u4ee4\u91ca\u4e49\uff1a\u8d7080Mhz\uff08\u9891\u5bbd\uff09 \u4fe1\u9053\u4e3a52\uff0c\u4e0e\u4e0a\u9762\u768480m\u9891\u5bbd\u4e5f\u662f\u51b2\u7a81\u7684\uff0cAP\u4e0a\u7ebf\u65f6\uff0c\u6240\u6709AP\u90fd\u572880m\uff0c52\u4fe1\u9053\uff0c\u4f1a\u9020\u6210\u51b2\u7a81\uff0cAP\u51b2\u7a81\u81ea\u52a8\u8c03\u4f18\uff0c\u8fd9\u4e2a\u914d\u7f6e\u53c8\u6062\u590d52\u4fe1\u9053 80m\uff0c\u5bfc\u81f4\u6b7b\u5faa\u73af\uff0c\u4e00\u76f4\u9700\u8981\u8c03\u4f18\u3002</p> <p>\u8c03\u4f18\u7684\u7b2c\u4e94\u70b9\uff1a\u9759\u6001\u7684\u8d1f\u8f7d\u5747\u8861\uff08sta-load-balance static-group name default\uff09\uff0c\u5728\u5e38\u89c1\u7f51\u7edc\u4e2d\uff0cAP\u7684\u95f4\u8ddd15-20\u65f6\uff0c\u4e0d\u9700\u8981\u9759\u6001\u8d1f\u8f7d\u5747\u8861\uff0c\u53ea\u6709\u5728\u9ad8\u5bc6\u573a\u666f\uff08\u00be/5\u7c73\uff09\u7528\u8d1f\u8f7d\u5747\u8861\u4f1a\u6548\u679c\u597d\u3002\u8d1f\u8f7d\u5747\u8861\u4f1a\u5bfc\u81f4\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\uff0c\u5728\u4e24\u53f0AP\u95f4\u6765\u56de\u5207\u6362\u3002\u672c\u8eab\u4e0d\u9700\u8981\u6f2b\u6e38\u60c5\u51b5\u4e0b\uff0c\u6765\u56de\u5207\u6362\uff0c\u5bfc\u81f4\u5ba2\u6237\u7aef\u6389\u7ebf\u4e25\u91cd\u3002</p> <p>\u8c03\u4f18\u7b2c\u516d\u70b9\uff1a\u5c06\u4f4e\u901f\u7387\u529f\u80fd\u53bb\u6389\uff0cAP\u5373\u4f7f\u652f\u6301\u57fa\u7840\u901f\u7387\uff081\u30012\u30017\u30019\uff09\u90fd\u53bb\u6389\uff0c\u8ba9AP\u5728\u9ad8\u901f\u7387\u5de5\u4f5c\u3002</p> <p>\u5c065G\u81ea\u52a8\u8c03\u4f18\u529f\u7387\u5173\u95ed\uff0c\u8ba9\u5176\u5de5\u4f5c\u4e0e\u6700\u5927\u529f\u7387\uff0c\u8ba95G\u4fe1\u53f7\u6bd42.4G\u4fe1\u53f7\u5f3a\u3002</p> <p>\u8c03\u4f18\u5b8c\u6210\uff0c\u5728\u8fdb\u884c\u6f2b\u6e38\u6d4b\u8bd5\uff0c\u662f\u5426\u4e22\u5305\u3002</p> <p>\u672c\u6b21\u8c03\u6574</p> <p>1\u3001\u7f51\u7edc\u62d3\u6251\u7ed8\u5236\uff0c\u6839\u636e\u73b0\u6709\u8bbe\u5907lldp\u7aef\u53e3\u8fde\u63a5\u65b9\u5f0f\u7ed8\u5236\u3002</p> <p>2\u3001\u65b0\u5efaWLAN\u6a21\u677f\uff0cAP-Group\uff0cSSID\u9a8c\u8bc1\u65b9\u5f0f\u5747\u4fee\u6539\u4e3aWPA/WPA2-PSK\uff0c\u914d\u7f6eAP\u52a0\u5165AP-Group\uff08SHIDIAN_01\uff09\uff0c\u914d\u7f6eService VLAN-ID\u3002</p> <p>2\u3001\u5c06AP\u76f4\u8fde\u7684POE\u4ea4\u6362\u673a\u914d\u7f6e\u7aef\u53e3\u9694\u79bb\uff0c\u56e0\u4e3a\u4e1a\u52a1\u6570\u636e\u4e3a\u76f4\u63a5\u8f6c\u53d1\uff0c\u4f1a\u5bfc\u81f4VLAN\u5185\u5f62\u6210\u5927\u91cf\u5e7f\u64ad\u62a5\u6587\uff0c\u5bfc\u81f4\u7f51\u7edc\u963b\u585e\uff0c\u5f71\u54cd\u4f53\u9a8c\u3002</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/5%E3%80%81AC6003%20%26%20AP4050DN/#\u914d\u7f6ewlan\u65c1\u6302\u4e09\u5c42\u7ec4\u7f51\u76f4\u63a5\u8f6c\u53d1","title":"\u914d\u7f6e\uff08WLAN\uff09\u65c1\u6302\u4e09\u5c42\u7ec4\u7f51\u76f4\u63a5\u8f6c\u53d1","text":"<p>#\u521b\u5efaAP\u7ec4\uff0c\u7528\u4e8e\u5c06\u76f8\u540c\u914d\u7f6e\u7684AP\u90fd\u52a0\u5165\u540c\u4e00AP\u7ec4\u4e2d\u3002</p> <p>[AC] wlan</p> <p>[AC-wlan-view] ap-group name ap-group1</p> <p>[AC-wlan-ap-group-ap-group1] quit</p> <p># \u521b\u5efa\u57df\u7ba1\u7406\u6a21\u677f\uff0c\u5728\u57df\u7ba1\u7406\u6a21\u677f\u4e0b\u914d\u7f6eAC\u7684\u56fd\u5bb6\u7801\u5e76\u5728AP\u7ec4\u4e0b\u5f15\u7528\u57df\u7ba1\u7406\u6a21\u677f\u3002</p> <p>[AC-wlan-view] regulatory-domain-profile name default</p> <p>[AC-wlan-regulate-domain-default] country-code cn</p> <p>[AC-wlan-regulate-domain-default] quit</p> <p>[AC-wlan-view] ap-group name ap-group1</p> <p>[AC-wlan-ap-group-ap-group1] regulatory-domain-profile  default</p> <p>Warning: Modifying the country code will clear channel, power and antenna gain configurations of the radio and reset the AP. Continue?[Y/N]:y </p> <p>[AC-wlan-ap-group-ap-group1] quit</p> <p>[AC-wlan-view] quit</p> <p># \u914d\u7f6eAC\u7684\u6e90\u63a5\u53e3\u3002vlan1  10.0.0.253/24</p> <p>[AC] capwap source interface vlanif 1 </p> <p>ap auth-mode\u547d\u4ee4\u7f3a\u7701\u60c5\u51b5\u4e0b\u4e3aMAC\u8ba4\u8bc1\uff0c\u5982\u679c\u4e4b\u524d\u6ca1\u6709\u4fee\u6539\u5176\u7f3a\u7701\u914d\u7f6e\uff0c\u53ef\u4ee5\u4e0d\u7528\u6267\u884cap auth-mode mac-auth\u3002</p> <p>[AC] wlan</p> <p>[AC-wlan-view] ap auth-mode mac-auth</p> <p>[AC-wlan-view]ap-id 8 ap-mac 60de-4476-e360 ap-sn xxxxxxxxxxx</p> <p>[AC-wlan-ap-0] ap-name area_1</p> <p>[AC-wlan-ap-0] ap-group ap-group1</p> <p># \u5c06AP\u4e0a\u7535\u540e\uff0c\u5f53\u6267\u884c\u547d\u4ee4display ap all\u67e5\u770b\u5230AP\u7684\u201cState\u201d\u5b57\u6bb5\u4e3a\u201cnor\u201d\u65f6\uff0c\u8868\u793aAP\u6b63\u5e38\u4e0a\u7ebf\u3002</p> <p>\u914d\u7f6eWLAN\u4e1a\u52a1\u53c2\u6570</p> <p># \u521b\u5efa\u540d\u4e3a\u201cwlan-net\u201d\u7684\u5b89\u5168\u6a21\u677f\uff0c\u5e76\u914d\u7f6e\u5b89\u5168\u7b56\u7565\u3002</p> <p>[AC-wlan-view] security-profile name wlan-net</p> <p>[AC-wlan-sec-prof-wlan-net] security wpa-wpa2 psk pass-phrase a1234567 aes</p> <p>[AC-wlan-sec-prof-wlan-net] quit</p> <p># \u521b\u5efa\u540d\u4e3a\u201cwlan-net\u201d\u7684SSID\u6a21\u677f\uff0c\u5e76\u914d\u7f6eSSID\u540d\u79f0\u4e3a\u201cwlan-net\u201d\u3002</p> <p>[AC-wlan-view] ssid-profile name wlan-net</p> <p>[AC-wlan-ssid-prof-wlan-net] ssid wlan-net</p> <p>[AC-wlan-ssid-prof-wlan-net] quit</p> <p># \u521b\u5efa\u540d\u4e3a\u201cwlan-net\u201d\u7684VAP\u6a21\u677f\uff0c\u914d\u7f6e\u4e1a\u52a1\u6570\u636e\u8f6c\u53d1\u6a21\u5f0f\u3001\u4e1a\u52a1VLAN\uff0c\u5e76\u4e14\u5f15\u7528\u5b89\u5168\u6a21\u677f\u548cSSID\u6a21\u677f\u3002</p> <p>[AC-wlan-view] vap-profile name wlan-net</p> <p>[AC-wlan-vap-prof-wlan-net] forward-mode direct-forward</p> <p>[AC-wlan-vap-prof-wlan-net] service-vlan vlan-pool sta-pool</p> <p>[AC-wlan-vap-prof-wlan-net] security-profile wlan-net</p> <p>[AC-wlan-vap-prof-wlan-net] ssid-profile wlan-net</p> <p>[AC-wlan-vap-prof-wlan-net] quit</p> <p># \u914d\u7f6eAP\u7ec4\u5f15\u7528VAP\u6a21\u677f\uff0cAP\u4e0a\u5c04\u98910\u548c\u5c04\u98911\u90fd\u4f7f\u7528VAP\u6a21\u677f\u201cwlan-net\u201d\u7684\u914d\u7f6e\u3002</p> <p>[AC-wlan-view] ap-group name ap-group1</p> <p>[AC-wlan-ap-group-ap-group1] vap-profile wlan-net wlan 1 radio 0</p> <p>[AC-wlan-ap-group-ap-group1] vap-profile wlan-net wlan 1 radio 1</p> <p>[AC-wlan-ap-group-ap-group1] quit</p> <p># \u5173\u95edAP\u5c04\u98910\u7684\u4fe1\u9053\u548c\u529f\u7387\u81ea\u52a8\u8c03\u4f18\u529f\u80fd\uff0c\u5e76\u914d\u7f6eAP\u5c04\u98910\u7684\u4fe1\u9053\u548c\u529f\u7387\u3002</p> <p>[AC-wlan-view] ap-id 0</p> <p>[AC-wlan-ap-0] radio 0</p> <p>[AC-wlan-radio-0/0] calibrate auto-channel-select disable</p> <p>[AC-wlan-radio-0/0] calibrate auto-txpower-select disable</p> <p>[AC-wlan-radio-0/0] channel 20mhz 6</p> <p>Warning: This action may cause service interruption. Continue?[Y/N]y</p> <p>[AC-wlan-radio-0/0] eirp 127[AC-wlan-radio-0/0] quit</p> <p># \u5173\u95edAP\u5c04\u98911\u7684\u4fe1\u9053\u548c\u529f\u7387\u81ea\u52a8\u8c03\u4f18\u529f\u80fd\uff0c\u5e76\u914d\u7f6eAP\u5c04\u98911\u7684\u4fe1\u9053\u548c\u529f\u7387\u3002</p> <p>[AC-wlan-ap-0] radio 1</p> <p>[AC-wlan-radio-0/1] calibrate auto-channel-select disable</p> <p>[AC-wlan-radio-0/1] calibrate auto-txpower-select disable</p> <p>[AC-wlan-radio-0/1] channel 20mhz 149</p> <p>Warning: This action may cause service interruption. Continue?[Y/N]y </p> <p>[AC-wlan-radio-0/1] eirp 127</p> <p>[AC-wlan-radio-0/1] quit</p> <p>[AC-wlan-ap-0] quit</p> <p>\u9a8c\u8bc1\u914d\u7f6e\u7ed3\u679c</p> <p>WLAN\u4e1a\u52a1\u914d\u7f6e\u4f1a\u81ea\u52a8\u4e0b\u53d1\u7ed9AP\uff0c\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u901a\u8fc7\u6267\u884c\u547d\u4ee4display vap ssid wlan-net\u67e5\u770b\u5982\u4e0b\u4fe1\u606f\uff0c\u5f53\u201cStatus\u201d\u9879\u663e\u793a\u4e3a\u201cON\u201d\u65f6\uff0c\u8868\u793aAP\u5bf9\u5e94\u7684\u5c04\u9891\u4e0a\u7684VAP\u5df2\u521b\u5efa\u6210\u529f\u3002</p> <p></p> <p>STA\u641c\u7d22\u5230\u540d\u4e3a\u201cwlan-net\u201d\u7684\u65e0\u7ebf\u7f51\u7edc\uff0c\u8f93\u5165\u5bc6\u7801\u201ca1234567\u201d\u5e76\u6b63\u5e38\u5173\u8054\u540e\uff0c\u5728AC\u4e0a\u6267\u884cdisplay station ssid wlan-net\u547d\u4ee4\uff0c\u53ef\u4ee5\u67e5\u770b\u5230\u7528\u6237\u5df2\u7ecf\u63a5\u5165\u5230\u65e0\u7ebf\u7f51\u7edc\u201cwlan-net\u201d\u4e2d\u3002</p> <p></p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%BF%98%E8%AE%B0console%E5%AF%86%E7%A0%81/","title":"\u4ea4\u6362\u673a\u5fd8\u8bb0console\u5bc6\u7801","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%BF%98%E8%AE%B0console%E5%AF%86%E7%A0%81/#\u4e00\u534e\u4e3a\u4ea4\u6362\u673aconsole\u5bc6\u7801\u91cd\u7f6e","title":"\u4e00\u3001\u534e\u4e3a\u4ea4\u6362\u673aConsole\u5bc6\u7801\u91cd\u7f6e","text":"<p>1\u3001\u901a\u8fc7Console\u53e3\u8fde\u63a5\u4ea4\u6362\u673a\uff0c\u5e76\u91cd\u542f\u4ea4\u6362\u673a\u3002</p> <p>2\u3001\u5f53\u754c\u9762\u51fa\u73b0\u4ee5\u4e0b\u6253\u5370\u4fe1\u606f\u65f6\uff0c\u53ca\u65f6\u6309\u4e0b\u5feb\u6377\u952e\u201cCtrl+B\u201d\u5e76\u8f93\u5165BootROM/BootLoad\u5bc6\u7801\uff0c\u8fdb\u5165BootROM/BootLoad\u4e3b\u83dc\u5355</p> <p>3\u3001\u5bc6\u7801\uff1a Admin@huawei.com A\u5fc5\u987b\u5927\u5199\u3002</p> <p>4\u3001\u9009\u77407 Clear password for console user \uff08\u9009\u62e9\u6e05\u9664console\u7528\u6237\u5bc6\u7801\u6a21\u5f0f\uff09\u3002</p> <p>5\u3001\u9009\u62e91 Boot with default mode\uff08\u952e\u51651\u542f\u52a8\u9ed8\u8ba4\u6a21\u5f0f\uff09\uff0c\u8fdb\u5165\u540e\u66f4\u6539Console \u53catelnet\u5bc6\u7801\u3002</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%BF%98%E8%AE%B0console%E5%AF%86%E7%A0%81/#\u4e8c\u8bbe\u5907\u521d\u59cb\u5316","title":"\u4e8c\u3001\u8bbe\u5907\u521d\u59cb\u5316","text":"<p>1\u3001\u767b\u5f55\u534e\u4e3a\u4ea4\u6362\u673a</p> <p>2\u3001\u8f93\u5165\uff1areset saved-configuration \u63a5\u7740\u95ee\u4f60\u662f\u5426\u521d\u59cb\u5316 \u9009\u62e9\u201cY\u201d</p> <p>3\u3001\u521d\u59cb\u5316\u4e4b\u540e\uff0c\u9700\u8981\u91cd\u542f\u4ea4\u6362\u673a\u624d\u80fd\u751f\u6548 \u201creboot\u201d</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/HW%20Basic%20Configuration/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%BF%98%E8%AE%B0console%E5%AF%86%E7%A0%81/#\u4e09\u9ed8\u8ba4\u7528\u6237\u540d\u548c\u5bc6\u7801","title":"\u4e09\u3001\u9ed8\u8ba4\u7528\u6237\u540d\u548c\u5bc6\u7801","text":"<p>\u534e\u4e3a\u4ea4\u6362\u673a\u7684\u9ed8\u8ba4\u7528\u6237\u540d\u662fadmin\uff0c\u5bc6\u7801\u662fadmin@huawei.com</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E4%B8%8B%E4%B8%80%E4%BB%A3%E9%98%B2%E7%81%AB%E5%A2%99%E9%85%8D%E7%BD%AE/%E8%AE%BE%E5%A4%87%E7%99%BB%E5%BD%95/","title":"\u8bbe\u5907\u767b\u5f55","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E4%B8%8B%E4%B8%80%E4%BB%A3%E9%98%B2%E7%81%AB%E5%A2%99%E9%85%8D%E7%BD%AE/%E8%AE%BE%E5%A4%87%E7%99%BB%E5%BD%95/#\u4e00\u8bbe\u5907\u767b\u5f55","title":"\u4e00\u3001\u8bbe\u5907\u767b\u5f55","text":"<p>MGMT\u63a5\u53e3\u6216\u80050\u53e3\uff0c\u7528192.168.0.1\u767b\u5f55\uff0c\u9ed8\u8ba4\u8d26\u53f7\u662fadmin\uff0c\u5bc6\u7801Admin@123\uff0cconsole\u767b\u5f55\u8d26\u53f7\u5bc6\u7801\u4e00\u81f4\uff0c\u7b2c\u4e00\u6b21\u767b\u5f55\u9700\u8981\u4fee\u6539\u5bc6\u7801\u3002</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/IPSec%20VPN%E9%85%8D%E7%BD%AE/","title":"IPSec VPN\u914d\u7f6e","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/IPSec%20VPN%E9%85%8D%E7%BD%AE/#ipsec-vpn\u670d\u52a1\u5668\u914d\u7f6e","title":"IPsec VPN\u670d\u52a1\u5668\u914d\u7f6e","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/IPSec%20VPN%E9%85%8D%E7%BD%AE/#\u53a6\u95e8-\u6df1\u5733","title":"\u53a6\u95e8-\u6df1\u5733","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/IPSec%20VPN%E9%85%8D%E7%BD%AE/#\u53a6\u95e8-\u6210\u90fd","title":"\u53a6\u95e8-\u6210\u90fd","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/IPSec%20VPN%E9%85%8D%E7%BD%AE/#\u5b89\u5168\u534f\u8bae","title":"\u5b89\u5168\u534f\u8bae","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/USG%E9%80%9F%E5%BA%A6%E6%B5%8B%E8%AF%95/","title":"USG\u901f\u5ea6\u6d4b\u8bd5","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/USG%E9%80%9F%E5%BA%A6%E6%B5%8B%E8%AF%95/#ssl-vpn\u6d4b\u8bd5","title":"SSL VPN\u6d4b\u8bd5","text":"<p>Windows \u4e0a\u4f20\u901f\u5ea6</p> <p></p> <p>Windows \u4e0b\u8f7d\u901f\u5ea6</p> <p></p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/USG%E9%98%B2%E7%81%AB%E5%A2%99%E6%B5%8B%E8%AF%95/","title":"USG\u9632\u706b\u5899\u6d4b\u8bd5","text":"<p>\u5185\u7f51\u767b\u5f55\u5730\u5740\uff1ahttps://10.0.10.9:8443/login.html?lang=zh_CN</p> <p>\u5916\u7f51\u767b\u5f55\u5730\u5740\uff1ahttps://110.80.44.42:8443/login.html?lang=zh_CN</p> <p>\u8d26\u53f7\uff1aadmin</p> <p>\u5bc6\u7801\uff1amjMJ@2020</p> <p>mac</p> <p>\u95ee\u9898\uff1a\u65e0\u6cd5\u7ffb\u5899\u7684\u5730\u5740\u7edf\u8ba1\u6dfb\u52a0\uff08\u5f85\u6dfb\u52a0\uff09</p> <p>\u5b89\u5168\u7b56\u7565\uff1aDeny_to_GJ</p> <p>\u95ee\u9898\uff1aDNS\u52a0\u901f\u8bbf\u95ee\u6dfb\u52a0\u4e00\u6761\u667a\u80fd\u9009\u8def\uff08\u5f85\u89c2\u5bdf\uff09</p> <p>\u6240\u6709\u6d41\u91cf\u7684DNS\u4ea4\u7ed9 1/0/4  \u56fd\u9645\u8def\u7531</p> <p></p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E4%BA%8C%E3%80%81SSL%20VPN%E9%85%8D%E7%BD%AE/","title":"SSL VPN\u914d\u7f6e","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E4%BA%8C%E3%80%81SSL%20VPN%E9%85%8D%E7%BD%AE/#\u4e00ssl-vpn\u670d\u52a1\u5668\u5efa\u7acb\u53ca\u914d\u7f6e","title":"\u4e00\u3001SSL VPN\u670d\u52a1\u5668\u5efa\u7acb\u53ca\u914d\u7f6e","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E4%BA%8C%E3%80%81SSL%20VPN%E9%85%8D%E7%BD%AE/#\u7f51\u5173\u540d\u79f0\u72ec\u5360\u578b","title":"\u7f51\u5173\u540d\u79f0\uff0c\u72ec\u5360\u578b\uff0c","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E4%BA%8C%E3%80%81SSL%20VPN%E9%85%8D%E7%BD%AE/#tls12\u9700\u8981\u4e0e\u516c\u5171\u914d\u7f6e\u4e00\u81f4","title":"TLS1.2\u9700\u8981\u4e0e\u516c\u5171\u914d\u7f6e\u4e00\u81f4","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E4%BA%8C%E3%80%81SSL%20VPN%E9%85%8D%E7%BD%AE/#\u4e8c\u7528\u6237\u5efa\u7acb","title":"\u4e8c\u3001\u7528\u6237\u5efa\u7acb","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E4%BA%8C%E3%80%81SSL%20VPN%E9%85%8D%E7%BD%AE/#\u76d1\u6d4bssl\u7528\u6237","title":"\u76d1\u6d4bSSL\u7528\u6237","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E9%98%B2%E7%81%AB%E5%A2%99%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE/","title":"\u9632\u706b\u5899\u529f\u80fd\u622a\u56fe","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E9%98%B2%E7%81%AB%E5%A2%99%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE/#\u9762\u677f","title":"\u9762\u677f","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E9%98%B2%E7%81%AB%E5%A2%99%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE/#\u76d1\u63a7","title":"\u76d1\u63a7","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E9%98%B2%E7%81%AB%E5%A2%99%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE/#\u5b89\u5168\u6001\u52bf\u611f\u77e5-\u65e5\u5fd7-\u4f1a\u8bdd\u8868","title":"\u5b89\u5168\u6001\u52bf\u611f\u77e5-\u65e5\u5fd7-\u4f1a\u8bdd\u8868","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E9%98%B2%E7%81%AB%E5%A2%99%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE/#\u4f1a\u8bdd\u8868-\u663e\u793a\u5ba2\u6237\u7aef\u7684\u5e94\u7528\u53ca\u6e90\u76ee\u5730\u5740","title":"\u4f1a\u8bdd\u8868-\u663e\u793a\u5ba2\u6237\u7aef\u7684\u5e94\u7528\u53ca\u6e90\u76ee\u5730\u5740","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E9%98%B2%E7%81%AB%E5%A2%99%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE/#\u7b56\u7565","title":"\u7b56\u7565","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E9%98%B2%E7%81%AB%E5%A2%99%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE/#\u5b89\u5168\u7b56\u7565","title":"\u5b89\u5168\u7b56\u7565","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E9%98%B2%E7%81%AB%E5%A2%99%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE/#nat\u7b56\u7565","title":"NAT\u7b56\u7565","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E9%98%B2%E7%81%AB%E5%A2%99%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE/#\u4fee\u6539\u5e26\u5bbd\u7b56\u7565","title":"\u4fee\u6539\u5e26\u5bbd\u7b56\u7565","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E9%98%B2%E7%81%AB%E5%A2%99%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE/#\u653b\u51fb\u9632\u8303-ip\u9650\u901f-\u767d\u9ed1\u540d\u5355-ip-mac\u7ed1\u5b9a","title":"\u653b\u51fb\u9632\u8303-IP\u9650\u901f-\u767d\u3001\u9ed1\u540d\u5355-IP-MAC\u7ed1\u5b9a","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E9%98%B2%E7%81%AB%E5%A2%99%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE/#\u7f51\u7edc","title":"\u7f51\u7edc","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E9%98%B2%E7%81%AB%E5%A2%99%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE/#\u7b56\u7565\u8def\u7531","title":"\u7b56\u7565\u8def\u7531","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/USG%E9%98%B2%E7%81%AB%E5%A2%996550%E6%B5%8B%E8%AF%95/%E9%98%B2%E7%81%AB%E5%A2%99%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE/#\u9759\u6001\u8def\u7531","title":"\u9759\u6001\u8def\u7531","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/luyuan/%E5%8D%8E%E4%B8%BA%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%85%8D%E7%BD%AE/","title":"\u534e\u4e3a\u4ea4\u6362\u673a\u914d\u7f6e","text":"Text Only<pre><code>&lt;HUAWEI&gt;disp current-configuration\n!Software Version V200R010C00SPC600\n\nsysname HUAWEI\n\nvlan batch 20 30 88 98 to 100 110\n\nauthentication-profile name default_authen_profile\nauthentication-profile name dot1x_authen_profile\nauthentication-profile name mac_authen_profile\nauthentication-profile name portal_authen_profile\nauthentication-profile name dot1xmac_authen_profile\nauthentication-profile name multi_authen_profile\n\ntelnet server enable\n\ndhcp enable\n\nradius-server template default\n\nfree-rule-template name default_free_rule\n\nportal-access-profile name portal_access_profile\n\nvlan 88\ndescription ap\nvlan 99\ndescription wifi_user\n\naaa\nauthentication-scheme default\nauthentication-scheme radius\nauthentication-mode radius\nauthorization-scheme default\naccounting-scheme default\nlocal-aaa-user password policy administrator\npassword expire 0\ndomain default\nauthentication-scheme radius\nradius-server default\ndomain default_admin\nauthentication-scheme default\nlocal-user admin password irreversible-cipher $1a$-/^h;bKAt8$E+i/UVVvx.folXV;S{-Qn3Q\\U&gt;Ee9TK%v&gt;3Eh&gt;EG$\nlocal-user admin privilege level 15\nlocal-user admin service-type terminal http\nlocal-user lianwx password irreversible-cipher $1a$eWr%%8[&lt;IO$(@]kTujw]Vcnv`&gt;y#sH\")Y/WY[|Yg0&amp;@_sOr/7'E$\nlocal-user lianwx privilege level 15\nlocal-user lianwx service-type telnet ssh\n\ninterface Vlanif1\nip address 192.168.10.1 255.255.255.0\n\ninterface Vlanif20\nip address 192.168.20.1 255.255.255.0\n\ninterface Vlanif30\nip address 192.168.30.1 255.255.255.0\ndhcp select interface\ndhcp server dns-list 218.85.152.99 218.85.157.99\n\ninterface Vlanif98\nip address 192.168.98.1 255.255.255.0\ndhcp select interface\ndhcp server dns-list 218.85.152.99\n\ninterface Vlanif100\nip address 192.168.110.2 255.255.255.0\n\ninterface GigabitEthernet0/0/1\ndescription To_RG-NBR1600G_Lan1\nport default vlan 100\n\ninterface GigabitEthernet0/0/2\ndescription To_RG-RAC64_G1\nport link-type trunk\nport trunk allow-pass vlan 20 30 88 99 to 100 200\n\ninterface GigabitEthernet0/0/3\nport link-type access\nport default vlan 98\nstp edged-port enable\n\ninterface GigabitEthernet0/0/4\nport link-type access\nport default vlan 98\nstp edged-port enable\n\ninterface GigabitEthernet0/0/5\nport link-type access\nport default vlan 98\nstp edged-port enable\n\ninterface GigabitEthernet0/0/6\nport link-type access\nport default vlan 98\nstp edged-port enable\n\ninterface GigabitEthernet0/0/7\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/8\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/9\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/10\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/11\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/12\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/13\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/14\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/15\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/16\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/17\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/18\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/19\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/20\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/21\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/22\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/23\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/24\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/25\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/26\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/27\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/28\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/29\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/30\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/31\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/32\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/33\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/34\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/35\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/36\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/37\n\ninterface GigabitEthernet0/0/38\n\ninterface GigabitEthernet0/0/39\n\ninterface GigabitEthernet0/0/40\n\ninterface GigabitEthernet0/0/41\n\ninterface GigabitEthernet0/0/42\n\ninterface GigabitEthernet0/0/43\n\ninterface GigabitEthernet0/0/44\n\ninterface GigabitEthernet0/0/45\n\ninterface GigabitEthernet0/0/46\n\ninterface GigabitEthernet0/0/47\n\ninterface GigabitEthernet0/0/48\n\ninterface GigabitEthernet0/0/49\n\ninterface GigabitEthernet0/0/50\n\ninterface GigabitEthernet0/0/51\n\ninterface GigabitEthernet0/0/52\n\ninterface NULL0\n\nip route-static 0.0.0.0 0.0.0.0 192.168.110.1\nip route-static 1.1.1.1 255.255.255.255 192.168.200.254\nip route-static 192.168.88.0 255.255.255.0 192.168.200.254\nip route-static 192.168.98.0 255.255.254.0 192.168.200.254\n\nstelnet server enable\nssh user lianwx\nssh user lianwx authentication-type all\nssh user lianwx service-type all\n\nuser-interface con 0\nauthentication-mode none\nuser-interface vty 0 4\nauthentication-mode aaa\nuser privilege level 15\nuser-interface vty 16 20\n\ndot1x-access-profile name dot1x_access_profile\n\nmac-access-profile name mac_access_profile\n\nreturn\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/luyuan/%E8%A7%84%E5%88%92/","title":"\u89c4\u5212","text":"<p>\u4ea4\u6362\u673a\u63a5\u53e3</p> <p>g0/0/1    \u63a5\u8def\u7531\u5668</p> <p>g0/0/2    \u63a5\u9510\u6377ac</p> <p>g0/0/3 -g0/0/6  \u63a5\u76d1\u63a7</p> <p>g0/0/7- g0/0/24  \u63a5ap</p> <p>\u7f51\u6bb5\u5212\u5206</p> <p>vlan100       192.168.110.2</p> <p>vlan20      ap\u7f51\u5173\uff0c\u521b\u5efaap\u5730\u5740\u6c60     192.168.20.0/24</p> <p>vlan30      \u5ba2\u6237\u7aef\u7f51\u5173\uff0csta\u5730\u5740\u6c60     192.168.30.0/24     \u914d\u7f6edhcp</p> <p>vlan98      \u76d1\u63a7\u7f51\u6bb5</p> <p>3\u3001ap</p> <p>\u9510\u6377ac \u65c1\u6302</p> <p>AC\u5bc6\u7801\uff1aa1234567</p> <p>vlan20        wifi2     192.168.20.0/24     DHCP</p> <p>vlan30        wifi2     192.168.30.0/24     DHCP</p> <p>2\u3001\u6dfb\u52a0\u76d1\u63a7\u7f51\u6bb5   vlan 98        \u7f51\u6bb5192.168.98.0/24       \u5212\u52064\u4e2a\u63a5\u53e3</p> <p>\u914d\u7f6e\u8fdc\u7a0b\u7528\u6237ssh\uff1a</p> <p>lianwx</p> <p>lianwx2022</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/shidian/10.0.0.1/","title":"10.0.0.1","text":"Text Only<pre><code>&lt;USG6300&gt;disp current-configuration\n2022-06-02 00:08:15.070 +08:00\n!Software Version V500R001C60SPC300\n\nsysname USG6300\n\nl2tp domain suffix-separator @\n\nvlan batch 123\n\nauthentication-profile name portal_authen_default\n\nipsec sha2 compatible enable\n\nundo factory-configuration prohibit\n\nundo telnet server enable\nundo telnet ipv6 server enable\n\nclock timezone Beijing add 08:00:00\n\nfirewall detect ftp\n\nfirewall defend action discard\n\nlog type traffic enable\nlog type syslog enable\nlog type policy enable\n\nundo dataflow enable\n\nundo sa force-detection enable\n\nlldp enable\n\nisp name \"china mobile\" set filename china-mobile.csv\nisp name \"china unicom\" set filename china-unicom.csv\nisp name \"china telecom\" set filename china-telecom.csv\nisp name \"china educationnet\" set filename china-educationnet.csv\n\nuser-manage web-authentication security port 8887\npassword-policy\nlevel high\nuser-manage single-sign-on ad\nuser-manage single-sign-on tsm\nuser-manage single-sign-on radius\nuser-manage auto-sync online-user\npage-setting\nuser-manage security version tlsv1.1 tlsv1.2\n\nfirewall ids authentication type  aes256\n\nundo firewall statistics system enable\n\nweb-manager security version tlsv1.1 tlsv1.2\nweb-manager enable\nweb-manager security enable\nundo web-manager config-guide enable\n\nfirewall dataplane to manageplane application-apperceive default-action drop\n\ndns resolve\ndns server 218.85.152.99\ndns server 218.85.157.99\ndns server 8.8.8.8\ndns server unnumbered interface Dialer2\ndns server unnumbered interface Dialer3\ndns server unnumbered interface Dialer4\ndns server unnumbered interface GigabitEthernet1/0/0\ndns proxy enable\n\ndhcp enable\n\nupdate schedule ips-sdb daily 02:24\nupdate schedule av-sdb daily 02:24\nupdate schedule sa-sdb daily 02:24\nupdate schedule ip-reputation daily 02:24\nupdate schedule cnc daily 02:24\nupdate schedule file-reputation daily 02:24\n\nset disk-scan parameter attach on\nset disk-scan parameter cycle 15\nset disk-scan parameter iostat 80\nset disk-scan parameter speed 10\nset disk-scan parameter switch on\nset disk-scan parameter parallel 50\ndisk-usage alarm threshold 95\n\nip vpn-instance default\nipv4-family\n\nip-link check enable\nip-link name office\ndestination www.baidu.com interface Dialer3 mode icmp\nip-link name mobileguest\ndestination www.baidu.com interface Dialer4 mode icmp\nip-link name ge1/0/0\ndestination www.baidu.com interface Dialer2 mode icmp\nip-link name ge1/0/3\ndestination www.baidu.com interface Dialer3 mode icmp\nip-link name pbr1\ndestination www.baidu.com interface Dialer4 mode icmp\n\nhealthcheck enable\nhealthcheck name isp1\ndestination 10.10.1.1 interface GigabitEthernet1/0/0  protocol tcp-simple destination-port 10001\ndestination 10.10.1.4 interface GigabitEthernet1/0/0  protocol tcp-simple destination-port 10002\nhealthcheck name isp2\ndestination 10.10.1.5 interface GigabitEthernet1/0/1  protocol tcp-simple destination-port 10003\ndestination 10.10.3.11 interface GigabitEthernet1/0/1  protocol tcp-simple destination-port 10004\n\nip address-set Lan-\u00bb\u00a5j type object\naddress 0 10.10.0.0 mask 21\n\nip address-set Lan-Office type object\naddress 0 10.10.2.0 mask 24\n\nip address-set Wifi-mobile type object\naddress 0 10.10.5.0 mask 24\n\nip address-set Wifi-Guest type object\naddress 0 10.10.6.0 mask 24\n\nip address-set \u041e\u05c6 type object\naddress 0 00e0-4c6f-78e6\n\nip address-set Lan-Jiankong type object\naddress 0 10.10.3.0 mask 24\n\nip address-set wifi-office type object\naddress 0 10.10.4.0 mask 24\n\nip address-set Wifi-SHIDIAN_01 type object\naddress 0 10.10.7.0 mask 24\n\nip address-set Privilege type group\naddress 0 982c-bc1d-f1d7\naddress 1 38f9-d328-e513\n\nip address-set Video type group\naddress 0 2c6e-8547-f310\naddress 1 f48e-38ef-e078\naddress 2 a44e-31dd-90f5\naddress 3 d8cb-8a9b-270a\naddress 4 48bf-6be5-fac4\naddress 5 1831-bfb9-053a\naddress 6 507b-9d97-a1e5\n\nip address-set Blacklist type group\n\nip address-set Whitelist type group\naddress 0 38f9-d328-e513\naddress 1 2816-a848-e0b4\naddress 2 083e-8ee0-3e1c\naddress 3 2477-03b0-5c39\naddress 4 3441-5d9f-f970\naddress 5 3441-5d9f-f971\n\nip address-set \u00bc\u1018lan type group\naddress 0 10.10.3.0 mask 255.255.255.0\n\nip address-set \u02d3\u01b5\u00bb\u24e9 type group\naddress 0 805e-c060-2cfd\naddress 1 805e-c060-2a83\n\nip address-set \u02d3\u01b5\u0629 type group\naddress 0 10.10.2.192 mask 10.10.2.225\naddress 1 10.10.4.168 mask 10.10.4.168\naddress 2 range 10.10.2.210 10.10.2.215\n\ntime-range worktime\nperiod-range 08:00:00 to 18:00:00 working-day\n\nike proposal default\nencryption-algorithm aes-256 aes-192 aes-128\ndh group14\nauthentication-algorithm sha2-512 sha2-384 sha2-256\nauthentication-method pre-share\nintegrity-algorithm hmac-sha2-256\nprf hmac-sha2-256\n\nweb-auth-server default\nport 50100\n\nportal-access-profile name default\n\naaa\nauthentication-scheme default\nauthentication-scheme admin_local\nauthentication-scheme admin_radius_local\nauthentication-scheme admin_hwtacacs_local\nauthentication-scheme admin_ad_local\nauthentication-scheme admin_ldap_local\nauthentication-scheme admin_radius\nauthentication-scheme admin_hwtacacs\nauthentication-scheme admin_ad\nauthentication-scheme admin_ldap\nauthorization-scheme default\naccounting-scheme default\ndomain default\nservice-type ssl-vpn\ninternet-access mode password\nreference user current-domain\nmanager-user audit-admin\npassword cipher @%@%k(W&gt;PoqDTBYh=P$7jui(3d7[7r$r9h18;Z&amp;,3EY%oYB)d7^3@%@%\nservice-type web terminal\nlevel 15\nmanager-user api-admin\npassword cipher @%@%U#R[(IK{ZTEf.n#+F-6(N{Vdt'meTJ'0=9;'[.V8(*Q6{VgN@%@%\nservice-type api\nlevel 15\nmanager-user admin\npassword cipher @%@%erB!R#WWs;NCcpVCUoaBJ-k877^O+o%n\\MHYvPR@ZhUA-k;J@%@%\nservice-type web terminal ssh\nlevel 15\nauthentication-scheme admin_local\nlock-authentication failed-count 5\nlock-authentication timeout 5\nrole system-admin\nrole device-admin\nrole device-admin(monitor)\nrole audit-admin\nbind manager-user audit-admin role audit-admin\nbind manager-user admin role system-admin\n\ninterface Dialer0\nlink-protocol ppp\nppp chap user 059297552008\nppp chap password cipher %$%$WUSQ#wNJQ*h,XpD604LH0f&amp;0%$%$\nppp pap local-user 059297552008 password cipher %$%$8tLLE`H@TNDqs&lt;JLk,_#hM+:%$%$\nppp ipcp dns admit-any\nip address ppp-negotiate\nundo service-manage enable\nbandwidth ingress 500000\nbandwidth egress 100000\n\ninterface Dialer1\nlink-protocol ppp\nppp chap user 059297552008\nppp chap password cipher %$%$$[0uN,AWX$J343AuD]B-'[#X%$%$\nppp pap local-user 059297552008 password cipher %$%$1`yb#q;8SOvp5&amp;1/[RF-68(k%$%$\nppp ipcp dns admit-any\nip address ppp-negotiate\nundo service-manage enable\nbandwidth ingress 20000\nbandwidth egress 20000\n\ninterface Dialer2\nlink-protocol ppp\nppp chap user 0592917756262\nppp chap password cipher %$%$7z&gt;[3uqgGQL8Q|0pIvEZV@UQ%$%$\nppp pap local-user 0592917756262 password cipher %$%$;{V;6q\\p|+I~Z.KHKe2/J@S&amp;%$%$\nppp ipcp dns admit-any\nip address ppp-negotiate\ndialer user 0592917756262\ndialer bundle 1\nundo service-manage enable\nbandwidth ingress 500000 threshold 90\nbandwidth egress 100000 threshold 90\n\ninterface Dialer3\nlink-protocol ppp\nppp chap user 0592917755745\nppp chap password cipher %$%$#.(\"*xo^528DPK\"w/!)3:ZP-%$%$\nppp pap local-user 0592917755745 password cipher %$%$wER#Sb{CJO0c!+(_-0k2r$eR%$%$\nppp ipcp dns admit-any\nip address ppp-negotiate\ndialer user 0592917755745\ndialer bundle 2\nundo service-manage enable\nbandwidth ingress 1000000 threshold 90\nbandwidth egress 30000 threshold 90\n\ninterface Dialer4\nlink-protocol ppp\nppp chap user 0592917715952\nppp chap password cipher %$%$IB37#v|Z=(NQ4(0y\\1[-'BV-%$%$\nppp pap local-user 0592917715952 password cipher %$%$xWtdB]\\PeO^9{s&amp;k}~@&lt;JUKd%$%$\nppp ipcp dns admit-any\nip address ppp-negotiate\ndialer user 0592917715952\ndialer bundle 3\nundo service-manage enable\nbandwidth ingress 1000000 threshold 90\nbandwidth egress 30000 threshold 90\n\nl2tp-group default-lns\n\ninterface GigabitEthernet0/0/0\nundo shutdown\nip binding vpn-instance default\nip address 192.168.0.1 255.255.255.0\nservice-manage http permit\nservice-manage https permit\nservice-manage ping permit\n\ninterface GigabitEthernet1/0/0\npppoe-client dial-bundle-number 1 ipv4\nundo shutdown\nhealthcheck isp1\ngateway 222.76.253.201\nundo service-manage enable\nbandwidth ingress 50000 threshold 90\nbandwidth egress 50000 threshold 90\n\ninterface GigabitEthernet1/0/1\npppoe-client dial-bundle-number 3 ipv4\nundo shutdown\nhealthcheck isp2\ngateway 218.6.77.57\nundo service-manage enable\nbandwidth ingress 50000 threshold 90\nbandwidth egress 50000 threshold 90\n\ninterface GigabitEthernet1/0/2\nundo shutdown\nip address 10.10.0.1 255.255.255.0\nservice-manage https permit\nservice-manage ping permit\nservice-manage ssh permit\nservice-manage snmp permit\n\ninterface GigabitEthernet1/0/3\npppoe-client dial-bundle-number 2 ipv4\nundo shutdown\nundo service-manage enable\n\ninterface GigabitEthernet1/0/4\nundo shutdown\n\ninterface GigabitEthernet1/0/5\nundo shutdown\n\ninterface Virtual-if0\n\ninterface Cellular0/0/0\nshutdown\ndialer enable-circular\nip address negotiate\n\ninterface NULL0\n\nfirewall zone local\nset priority 100\n\nfirewall zone trust\nset priority 85\nadd interface GigabitEthernet0/0/0\nadd interface Dialer1\nadd interface GigabitEthernet1/0/2\n\nfirewall zone untrust\nset priority 5\nadd interface Dialer0\nadd interface GigabitEthernet1/0/0\nadd interface GigabitEthernet1/0/1\nadd interface Dialer2\nadd interface GigabitEthernet1/0/3\nadd interface Dialer3\nadd interface Dialer4\n\nfirewall zone dmz\nset priority 50\n\napi\n\narp ip-conflict-detect enable\n\nip route-static 0.0.0.0 0.0.0.0 Dialer2\nip route-static 0.0.0.0 0.0.0.0 Dialer4\nip route-static 0.0.0.0 0.0.0.0 Dialer3\nip route-static 10.10.1.0 255.255.255.0 10.10.0.2\nip route-static 10.10.2.0 255.255.255.0 10.10.0.2\nip route-static 10.10.3.0 255.255.255.0 10.10.0.2\nip route-static 10.10.4.0 255.255.255.0 10.10.0.2\nip route-static 10.10.5.0 255.255.255.0 10.10.0.2\nip route-static 10.10.6.0 255.255.255.0 10.10.0.2\nip route-static 10.10.7.0 255.255.255.0 10.10.0.2\n\nsnmp-agent\nsnmp-agent local-engineid 800007DB03B4432653B2F3\nsnmp-agent community read cipher %^%#^:J#Mg^%31MV8Y8x{'UV&gt;}.z&amp;+,#sH4dq6&lt;rv=j'ny0Y!$KX6\"E(NT2zf-TZp$s/irA,Y+rY5D^A2)&gt;%^%#snmp-agent sys-info version v2c v3snmp-agent group v3 v3group privacy read-view v3view write-view v3view notify-view v3viewsnmp-agent target-host trap address udp-domain 10.10.4.86 params securityname 123 v3 privacysnmp-agent mib-view included v3view isosnmp-agent usm-user v3 sdireadsnmp-agent usm-user v3 sdiread group v3groupsnmp-agent usm-user v3 sdiread authentication-mode sha cipher %^%#0!R)77mqh'G$\"&amp;!l6-x\"7JGjNQ|jE&gt;|1XC#z(AZ&amp;%^%#snmp-agent usm-user v3 sdiread privacy-mode aes128 cipher %^%#!.17&lt;La1V.o];#/A(_Zvv&amp;nSpw~&gt;.k{O6%&lt;DVVF%^%#\nsnmp-agent trap enable\n\nundo ssh server compatible-ssh1x enable\nstelnet ipv4 server enable\nstelnet ipv6 server enable\nssh authentication-type default password\nssh user admin\nssh user admin authentication-type password\nssh user admin service-type all\nssh user admin sftp-directory hda1:\nssh client first-time enable\n\nfirewall mac-binding enable\n\nv-gateway public ssl version tlsv11 tlsv12\nv-gateway public ssl ciphersuit custom aes256-sha non-des-cbc3-sha aes128-sha\nv-gateway xm interface GigabitEthernet1/0/0 port 6688 private\nv-gateway xm alias xm\n\n\nsnmp-server arp-sync enable\nsnmp-server target-host arp-sync address 10.10.1.1 community %$%$!Sy=-=o9Q5dv4HE6Y5#M*!Y%$%$ v2c\n\nuser-interface con 0\nauthentication-mode aaa\nuser-interface vty 0 4\nauthentication-mode aaa\nprotocol inbound ssh\nuser-interface vty 16 20\n\npki realm default\nundo crl auto-update enable\n\nsa\n\nlocation\n\ninterface-group 0 isp \"china telecom\"\nadd interface Dialer2\nadd interface Dialer4\nadd interface Dialer3\n\nmulti-interface\nmode proportion-of-bandwidth\nadd interface-group isp \"china telecom\"\n\n#BEGINxm**1***#\nv-gateway xm\nbasic\nssl version tlsv12\nssl timeout 5\nssl lifecycle 1440\nssl ciphersuit custom aes256-sha non-des-cbc3-sha aes128-sha\nservice\nnetwork-extension enable\nnetwork-extension keep-alive enable\nnetwork-extension keep-alive interval 120\nnetwork-extension netpool 172.16.172.2 172.16.172.20 255.255.255.0\nnetpool 172.16.172.2 default\nnetwork-extension mode split\nsecurity\npolicy-default-action permit vt-src-ip\ncertification cert-anonymous cert-field user-filter subject cn group-filter subject cn\ncertification cert-anonymous filter-policy permit-all\ncertification cert-challenge cert-field user-filter subject cn\ncertification user-cert-filter key-usage any\nundo public-user enable\nhostchecker\ncachecleaner\nrole\nrole default\nrole default condition all\nrole default network-extension enable\n#END#\n\nlog custom-report policy 1\ncustom-report term daily\ncustom-report language chinese\ncustom-report type a01 a02 a03 a04 a05\ncustom-report time from 0:0:0 to 23:59:59\n\nright-manager server-group\n\nagile-network\n\ndevice-classification\ndevice-group pc\ndevice-group mobile-terminal\ndevice-group undefined-group\n\nuser-manage server-sync tsm\n\nsecurity-policy\ndefault action permit\n\nauth-policy\n\ntraffic-policy\n\npolicy-based-route\nrule name wifi-office\ndescription \u05ea\u00b7\u00a2\u00b3\udac1\ude30\nsource-zone trust\nsource-address address-set wifi-office\nsource-address address-set Wifi-SHIDIAN_01\ntrack ip-link ge1/0/0\naction pbr egress-interface Dialer2\nrule name monile-guest\ndescription \u05ea\u00b7\u00a2\u00b3\udac1\ude31\nsource-zone trust\nsource-address address-set Wifi-mobile\nsource-address address-set Wifi-Guest\ntrack ip-link mobileguest\naction pbr egress-interface Dialer4\nrule name lan\ndescription \u05ea\u00b7\u00a2\u00b3\udac1\ude33\nsource-zone trust\nsource-address address-set Lan-Office\nsource-address address-set Lan-Jiankong\ntrack ip-link ge1/0/3\naction pbr egress-interface Dialer3\n\nnat-policy\nrule name untrust_trust\nsource-zone trust\ndestination-zone untrust\naction nat easy-ip\n\nproxy-policy\n\nquota-policy\n\npcp-policy\n\ndns-transparent-policy\ndefault action tpdns\ndns server bind interface GigabitEthernet1/0/1 preferred 223.5.5.5 alternate 114.114.114.114\ndns server bind interface GigabitEthernet1/0/0 preferred 223.5.5.5 alternate 114.114.114.114\nmode proportion-of-bandwidth\nadd interface GigabitEthernet1/0/0\nadd interface GigabitEthernet1/0/1\nadd interface-group isp \"china telecom\"\n\nrightm-policy\n\nsms\n\nreturn\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/shidian/10.10.1.1/","title":"10.10.1.1","text":"Text Only<pre><code>[Core]disp current-configuration\n!Software Version V200R010C00SPC600\n\nsysname Core\n\nvlan batch 10 20 30 40 50 60 70 to 100 200\n\nauthentication-profile name default_authen_profile\nauthentication-profile name dot1x_authen_profile\nauthentication-profile name mac_authen_profile\nauthentication-profile name portal_authen_profile\nauthentication-profile name dot1xmac_authen_profile\nauthentication-profile name multi_authen_profile\n\ntelnet server enable\n\nlldp enable\n\nclock timezone bj add 08:00:00\n\ndhcp enable\n\ndiffserv domain default\n\nradius-server template default\n\nfree-rule-template name default_free_rule\n\nportal-access-profile name portal_access_profile\n\ndrop-profile default\n\nip pool vlan50\ngateway-list 10.10.5.1\nnetwork 10.10.5.0 mask 255.255.255.0\nexcluded-ip-address 10.10.5.230 10.10.5.254\nlease day 0 hour 10 minute 0\ndns-list 10.10.0.1 223.5.5.5 114.114.114.114\nconflict auto-recycle interval day 0 hour 0 minute 5\n\nip pool vlan20\ngateway-list 10.10.2.1\nnetwork 10.10.2.0 mask 255.255.255.0\nexcluded-ip-address 10.10.2.230 10.10.2.254\nlease day 0 hour 10 minute 0\ndns-list 10.10.0.1 223.5.5.5 114.114.114.114\nconflict auto-recycle interval day 0 hour 0 minute 5\n\nip pool vlan40\ngateway-list 10.10.4.1\nnetwork 10.10.4.0 mask 255.255.255.0\nexcluded-ip-address 10.10.4.230 10.10.4.254\nlease day 0 hour 10 minute 0\ndns-list 10.10.0.1 223.5.5.5 114.114.114.114\nconflict auto-recycle interval day 0 hour 0 minute 5\n\nip pool vlan60\ngateway-list 10.10.6.1\nnetwork 10.10.6.0 mask 255.255.255.0\nexcluded-ip-address 10.10.6.240 10.10.6.245\nlease day 0 hour 10 minute 0\ndns-list 10.10.0.1 218.85.152.99 218.85.157.99\nconflict auto-recycle interval day 0 hour 0 minute 5\n\nip pool vlan30\ngateway-list 10.10.3.1\nnetwork 10.10.3.0 mask 255.255.255.0\nexcluded-ip-address 10.10.3.230 10.10.3.254\nlease day 0 hour 10 minute 0\ndns-list 10.10.0.1 223.5.5.5 114.114.114.114\nconflict auto-recycle interval day 0 hour 0 minute 5\n\nip pool vlan70\ngateway-list 10.10.7.1\nnetwork 10.10.7.0 mask 255.255.255.0\nexcluded-ip-address 10.10.7.2\ndns-list 218.85.152.99\n\nip pool vlan530\n\naaa\nauthentication-scheme default\nauthentication-scheme radius\nauthentication-mode radius\nauthorization-scheme default\naccounting-scheme default\nlocal-aaa-user password policy administrator\npassword expire 0\ndomain default\nauthentication-scheme radius\nradius-server default\ndomain default_admin\nauthentication-scheme default\nlocal-user admin password irreversible-cipher $1a${PcbMuqNFM$|UEi@d\"KGW03wPA;9S)1wd4+)t@t($EfmO]A![/$\nlocal-user admin privilege level 15\nlocal-user admin service-type terminal ssh http\n\ninterface Vlanif10\nip address 10.10.1.1 255.255.255.0\n\ninterface Vlanif20\nip address 10.10.2.1 255.255.255.0\ndhcp select global\n\ninterface Vlanif30\nip address 10.10.3.1 255.255.255.0\ndhcp select global\n\ninterface Vlanif40\nip address 10.10.4.1 255.255.255.0\ndhcp select global\n\ninterface Vlanif50\nip address 10.10.5.1 255.255.255.0\ndhcp select global\n\ninterface Vlanif60\nip address 10.10.6.1 255.255.255.0\ndhcp select global\n\ninterface Vlanif70\nip address 10.10.7.1 255.255.255.0\ndhcp select global\n\ninterface Vlanif100\nip address 10.10.0.2 255.255.255.0\n\ninterface Vlanif710\n\ninterface MEth0/0/1\n\ninterface GigabitEthernet0/0/1\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/2\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/3\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/4\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/5\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/6\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/7\nport link-type access\nport default vlan 20\n\ninterface GigabitEthernet0/0/8\n\ninterface GigabitEthernet0/0/9\n\ninterface GigabitEthernet0/0/10\n\ninterface GigabitEthernet0/0/11\n\ninterface GigabitEthernet0/0/12\n\ninterface GigabitEthernet0/0/13\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/14\n\ninterface GigabitEthernet0/0/15\n\ninterface GigabitEthernet0/0/16\n\ninterface GigabitEthernet0/0/17\n\ninterface GigabitEthernet0/0/18\n\ninterface GigabitEthernet0/0/19\n\ninterface GigabitEthernet0/0/20\nport link-type access\nport default vlan 10\n\ninterface GigabitEthernet0/0/21\n\ninterface GigabitEthernet0/0/22\n\ninterface GigabitEthernet0/0/23\nport link-type access\nport default vlan 30\n\ninterface GigabitEthernet0/0/24\nport link-type access\nport default vlan 30\n\ninterface GigabitEthernet0/0/25\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/26\n\ninterface GigabitEthernet0/0/27\n\ninterface GigabitEthernet0/0/28\nport link-type trunk\nport trunk pvid vlan 100\nport trunk allow-pass vlan 2 to 4094\n\ninterface XGigabitEthernet0/0/1\n\ninterface XGigabitEthernet0/0/2\n\ninterface XGigabitEthernet0/0/3\n\ninterface XGigabitEthernet0/0/4\n\ninterface NULL0\n\nip route-static 0.0.0.0 0.0.0.0 10.10.0.1\n\nsnmp-agent\nsnmp-agent local-engineid 800007DB03488EEF9E8CA0\nsnmp-agent community read cipher %^%#O4=HRr&amp;D]NU&amp;*1'$AP6U[1}j:\\ge]&amp;u1p(Em&lt;Zp@Lj:4,L/a5Q%6fq45f=XDiKiHU0Vyc)q,12+qp{rC%^%#\nsnmp-agent sys-info version v2c\nundo snmp-agent sys-info version v3\n\nstelnet server enable\nssh authentication-type default password\nssh user admin\nssh user admin authentication-type password\nssh user admin service-type stelnet\n\nuser-interface con 0\nauthentication-mode aaa\nuser-interface vty 0 4\nauthentication-mode aaa\nuser privilege level 15\nuser-interface vty 16 20\n\ndot1x-access-profile name dot1x_access_profile\n\nmac-access-profile name mac_access_profile\n\nreturn\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/shidian/10.10.1.4/","title":"10.10.1.4","text":"Text Only<pre><code>[AC]disp current-configuration\n\ndefence engine enable\nsysname AC\n\nsa\n\nhttp secure-server ssl-policy default_policy\nhttp server enable\n\nssl renegotiation-rate 1\n\nupdate schedule ips-sdb daily 22:00\nupdate schedule av-sdb daily 22:00\nupdate schedule sa-sdb daily 22:00\nupdate schedule cnc daily 22:00\nupdate schedule apsa-sdb daily 22:00\n\nvlan batch 2 to 4094\n\nauthentication-profile name default_authen_profile\nauthentication-profile name dot1x_authen_profile\nauthentication-profile name mac_authen_profile\nauthentication-profile name portal_authen_profile\nauthentication-profile name macportal_authen_profile\n\nlldp enable\n\nvlan pool 500\nvlan 500\n\ndhcp enable\n\ndiffserv domain default\n\nradius-server template default\n\npki realm default\nrsa local-key-pair default\nenrollment self-signed\n\nssl policy default_policy type server\npki-realm default\nversion tls1.0 tls1.1 tls1.2\nciphersuite rsa_aes_128_cbc_sha rsa_aes_128_sha256 rsa_aes_256_sha256\n\nike proposal default\nencryption-algorithm aes-256\ndh group14\nauthentication-algorithm sha2-256\nauthentication-method pre-share\nintegrity-algorithm hmac-sha2-256\nprf hmac-sha2-256\n\nfree-rule-template name default_free_rule\n\nportal-access-profile name portal_access_profile\n\naaa\nauthentication-scheme default\nauthentication-scheme radius\nauthentication-mode radius\nauthorization-scheme default\naccounting-scheme default\ndomain default\nauthentication-scheme default\ndomain default_admin\nauthentication-scheme default\nlocal-user admin password irreversible-cipher $1a$@_1)$&gt;$O3$abwE77WVb90~+{0}Lh*U_8QRS}}agTX1H4Xf=uV@$\nlocal-user admin privilege level 15\nlocal-user admin service-type terminal ssh http\n\ninterface Vlanif1\nip address 10.0.0.253 255.255.255.0\ndhcp select interface\n\ninterface Vlanif10\nip address 10.10.1.4 255.255.255.0\n\ninterface Vlanif70\nip address 10.10.7.2 255.255.255.0\n\ninterface GigabitEthernet0/0/1\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/2\n\ninterface GigabitEthernet0/0/3\n\ninterface GigabitEthernet0/0/4\n\ninterface GigabitEthernet0/0/5\n\ninterface GigabitEthernet0/0/6\n\ninterface GigabitEthernet0/0/7\n\ninterface GigabitEthernet0/0/8\n\ninterface NULL0\n\ninfo-center timestamp log format-date\n\nundo snmp-agent\n\nstelnet server enable\nundo telnet ipv6 server enable\nssh server secure-algorithms cipher aes256_ctr aes128_ctr\nssh server secure-algorithms hmac sha2_256\nssh server key-exchange dh_group14_sha1\nssh client secure-algorithms cipher aes256_ctr aes128_ctr\nssh client secure-algorithms hmac sha2_256\nssh client key-exchange dh_group14_sha1\n\nip route-static 0.0.0.0 0.0.0.0 10.10.1.1\n\ncapwap source interface vlanif1\n\nuser-interface con 0\nauthentication-mode password\nset authentication password cipher %^%##sBg)Q&amp;JxC6~HY8*7fQ=UCV(X0U`+$ibws~;Q\\E$j0PLMM1/7#mvo6L58k-P%^%#\nuser-interface vty 0\nauthentication-mode aaa\nscreen-length 25\nprotocol inbound all\nuser-interface vty 1 4\nauthentication-mode aaa\nprotocol inbound all\nuser-interface vty 16 20\nprotocol inbound all\n\nwlan\ncalibrate enable auto interval 1440 start-time 03:00:00\ntraffic-profile name default\nrate-limit client up 1024000000\nrate-limit client down 1024000000\nuser-isolate l2\ntraffic-profile name Shidian\nrate-limit client up 1024000000\nrate-limit client down 1024000000\nuser-isolate l2\nsecurity-profile name LS\nsecurity wpa2 psk pass-phrase %^%#WTj#8:u2i'RrIZG3a./20k3@&amp;2M65/~KMFr9i_S%^%# aessecurity-profile name defaultsecurity-profile name Shidiansecurity wpa-wpa2 psk pass-phrase %^%#}~Qr'yb\"j2GE}&lt;bgDAY5/6f&amp;CV#h:uAJ503aX+Y%^%# aes-tkip  security-profile name SHIDIAN_01            security wpa-wpa2 psk pass-phrase %^%#9&amp;IQ/xQ5wLvb\"mW&gt;^zMBVkR6!&lt;{)0/~0=a@\"02%^%# aessecurity-profile name default-wdssecurity wpa2 psk pass-phrase %^%#qNfI(V#y8:b/W|/(mY81#Z\\D8~!8Y#IO1RwV);+%^%# aes\nsecurity-profile name default-mesh\nsecurity wpa2 psk pass-phrase %^%#o[7\"I\"t]\\4xd-e7_BV:3&amp;kdR~nCGO!El4DSuB&gt;~E%^%# aes\nsecurity-profile name Shidian_guest\nsecurity wpa-wpa2 psk pass-phrase %^%#\"gAgY7kW\\2:DE*'Y\"{|6YS3-85k=&lt;B}ch&lt;H7S(E%^%# aes-tkipsecurity-profile name Shidian_mobilesecurity wpa-wpa2 psk pass-phrase %^%#BlF##l@yuD&amp;=Q%&amp;m!zzUcJ-!!+rSF;q*[JWSbG0X%^%# aes-tkipsecurity-profile name Shidian_officesecurity wpa-wpa2 psk pass-phrase %^%#6V\"&amp;6t#ORK5p+GXR2H.:G=@MKV#TGDKx$-VD&amp;[*%^%# aes-tkip\nssid-profile name default\nssid-profile name Shidian\nssid Shidian\nbeacon-2g-rate 5.5\nbeacon-5g-rate 12\nssid-profile name SHIDIAN_01\nssid SHIDIAN_01\nssid-profile name Shidian_guest\nssid Shidian_guest\nbeacon-2g-rate 5.5\nbeacon-5g-rate 12\nssid-profile name Shidian_mobile\nssid Shidian_mobile\nbeacon-2g-rate 5.5\nbeacon-5g-rate 12\nssid-profile name Shidian_office\nssid Shidian_office\nlegacy-station disable\nbeacon-2g-rate 5.5\nbeacon-5g-rate 12\nvap-profile name default\nvap-profile name Shidian\nssid-profile Shidian\nsecurity-profile Shidian\ntraffic-profile Shidian\nvap-profile name SHIDIAN_01\nservice-vlan vlan-id 70\nssid-profile SHIDIAN_01\nsecurity-profile SHIDIAN_01\nvap-profile name Shidian_guest\nservice-vlan vlan-id 60\nssid-profile Shidian_guest\nsecurity-profile Shidian_guest\nvap-profile name Shidian_mobile\nservice-vlan vlan-id 50\nssid-profile Shidian_mobile\nsecurity-profile Shidian_mobile\nvap-profile name Shidian_office\nservice-vlan vlan-id 40\nssid-profile Shidian_office\nsecurity-profile Shidian_office\nwds-profile name default\nmesh-handover-profile name default\nmesh-profile name default\nregulatory-domain-profile name default\ndca-channel 2.4g channel-set 2,7,12\nregulatory-domain-profile name SHIDIAN\nair-scan-profile name default\nrrm-profile name default\nband-steer balance gap-threshold 25\nsmart-roam enable\nband-steer balance start-threshold 15\nsta-load-balance dynamic enable\nsta-load-balance dynamic sta-number start-threshold 15\nsta-load-balance dynamic sta-number gap-threshold 25\nradio-2g-profile name default\ndot11bg basic-rate 54\ndot11bg supported-rate 54\nsmart-antenna enable\nradio-5g-profile name default\ndot11a supported-rate 54\ndot11a basic-rate 54\nsmart-antenna enable\nwids-profile name default\nwireless-access-specification\nap-system-profile name default\nport-link-profile name default\nwired-port-profile name default\nserial-profile name preset-enjoyor-toeap\nap-group name default\nradio 0\nvap-profile default wlan 4\nradio 1\nvap-profile default wlan 4\nradio 2\nvap-profile default wlan 4\nap-group name SHIDIAN_01\nregulatory-domain-profile SHIDIAN\nradio 0\nvap-profile SHIDIAN_01 wlan 1\nvap-profile Shidian_mobile wlan 2\nvap-profile Shidian_office wlan 3\nvap-profile Shidian_guest wlan 4\nradio 1\nvap-profile SHIDIAN_01 wlan 1\nvap-profile Shidian_mobile wlan 2\nvap-profile Shidian_office wlan 3\nvap-profile Shidian_guest wlan 4\nradio 2\nvap-profile Shidian_mobile wlan 1\nvap-profile Shidian_guest wlan 2\nap-id 0 type-id 78 ap-mac 5c54-6d3d-30c0 ap-sn 21500831153GHB007540\nap-name area_1\nap-group SHIDIAN_01\nap-id 1 type-id 78 ap-mac f86e-ee80-42e0 ap-sn 21500831153GHB003713\nap-name area_2\nap-group SHIDIAN_01\nap-id 2 type-id 78 ap-mac f86e-ee80-1360 ap-sn 21500831153GHB003350\nap-name area_3\nap-group SHIDIAN_01\nap-id 3 type-id 78 ap-mac a4be-2bec-ba60 ap-sn 21500831153GJ7000178\nap-group SHIDIAN_01\nap-id 4 type-id 78 ap-mac a4be-2bed-c0a0 ap-sn 21500831153GJ7002786\nap-group SHIDIAN_01\nap-id 5 type-id 78 ap-mac a4be-2bed-bd80 ap-sn 21500831153GJ7002756\nap-group SHIDIAN_01\nap-id 6 type-id 78 ap-mac f86e-ee80-4800 ap-sn 21500831153GHB003757\nap-group SHIDIAN_01\nprovision-ap\n\ndevice-profile profile-name @default_device_profile\ndevice-type default_type_phone\nenable\nrule 0 user-agent sub-match Android\nrule 1 user-agent sub-match iPhone\nrule 2 user-agent sub-match iPad\nif-match rule 0 or rule 1 or rule 2\n\ndot1x-access-profile name dot1x_access_profile\n\nmac-access-profile name mac_access_profile\n\nundo ntp-service enable\n\nreturn\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/shidian/10.10.1.5/","title":"10.10.1.5","text":"Text Only<pre><code>&lt;AP_POE&gt;disp current-configuration\n!Software Version V200R010C00SPC600\n\nsysname AP_POE\n\nvlan batch 2 to 4094\n\nauthentication-profile name default_authen_profile\nauthentication-profile name dot1x_authen_profile\nauthentication-profile name mac_authen_profile\nauthentication-profile name portal_authen_profile\nauthentication-profile name dot1xmac_authen_profile\nauthentication-profile name multi_authen_profile\n\ntelnet server enable\n\nlldp enable\n\nradius-server template default\n\nfree-rule-template name default_free_rule\n\nportal-access-profile name portal_access_profile\n\naaa\nauthentication-scheme default\nauthentication-scheme radius\nauthentication-mode radius\nauthorization-scheme default\naccounting-scheme default\nlocal-aaa-user password policy administrator\npassword expire 0\ndomain default\nauthentication-scheme radius\nradius-server default\ndomain default_admin\nauthentication-scheme default\nlocal-user admin password irreversible-cipher $1a$)}%/ILHD}B$`NG[(cIppNJK-}S[sZU.8+qc/}K]@&amp;-vb93:#KAR$\nlocal-user admin privilege level 15\nlocal-user admin service-type terminal ssh http\n\ninterface Vlanif10\nip address 10.10.1.5 255.255.255.0\n\ninterface GigabitEthernet0/0/1\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/2\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/3\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/4\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/5\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/6\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/7\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/8\n\ninterface GigabitEthernet0/0/9\n\ninterface GigabitEthernet0/0/10\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/11\n\ninterface GigabitEthernet0/0/12\n\ninterface NULL0\n\nip route-static 0.0.0.0 0.0.0.0 10.10.1.1\n\nstelnet server enable\nssh user admin\nssh user admin authentication-type password\nssh user admin service-type stelnet\n\nuser-interface con 0\nauthentication-mode aaa\nuser-interface vty 0 4\nauthentication-mode aaa\nprotocol inbound all\nuser-interface vty 16 20\n\ndot1x-access-profile name dot1x_access_profile\n\nmac-access-profile name mac_access_profile\n\nreturn\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/shidian/AC%E5%8D%87%E7%BA%A7/","title":"AC\u5347\u7ea7","text":"Text Only<pre><code>&lt;AC&gt;disp version\n\nHuawei Versatile Routing Platform Software\nVRP (R) software, Version 5.170 (AC6003 V200R007C20SPC300)\nCopyright (C) 2011-2017 HUAWEI TECH CO., LTD\nHuawei AC6003-8 Router uptime is 5 weeks, 0 day, 22 hours, 32 minutes\nMPU 0(Master) : uptime is 5 weeks, 0 day, 22 hours, 32 minutes\nSDRAM Memory Size    : 2048    M bytes\nFlash Memory Size    : 16      M bytes\nSD Card  Memory Size : 1923    M bytes\nMPU version information :\n1.PCB      Version  : H85D2H08M000 VER.A.\n2.MAB      Version  : 0\n3.Board    Type     : AC6003-8\n4.CPLD0    Version  : 0\n5.BootROM  Version  : 466\n\n&lt;AC&gt;disp ap version all\nCompatible version : V200R007\nID   Name           Group      Type            Version            state\n0    area_1         SHIDIAN_01 AP4050DN-S      V200R007C20SPCd00  normal\n1    area_2         SHIDIAN_01 AP4050DN-S      V200R007C20SPC200  normal\n2    area_3         SHIDIAN_01 AP4050DN-S      V200R007C20SPC200  normal\n3    a4be-2bec-ba60 SHIDIAN_01 AP4050DN-S      V200R007C20SPC500  normal\n4    a4be-2bed-c0a0 SHIDIAN_01 AP4050DN-S      V200R007C20SPC500  normal\n5    a4be-2bed-bd80 SHIDIAN_01 AP4050DN-S      V200R007C20SPC500  normal\n6    f86e-ee80-4800 SHIDIAN_01 AP4050DN-S      V200R007C20SPC200  normal\n--------------------------------------------------------------------------------\nTotal: 7\n</code></pre>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/shidian/%E7%BB%84%E7%BD%91%E4%BF%A1%E6%81%AF/","title":"\u7ec4\u7f51\u4fe1\u606f","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/shidian/%E7%BB%84%E7%BD%91%E4%BF%A1%E6%81%AF/#\u7f51\u7edc\u62d3\u6251","title":"\u7f51\u7edc\u62d3\u6251","text":""},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/shidian/%E7%BB%84%E7%BD%91%E4%BF%A1%E6%81%AF/#\u7ec4\u7f51\u8bbe\u5907\u56fa\u4ef6\u7248\u672cversion-5170","title":"\u7ec4\u7f51\u8bbe\u5907\uff08\u56fa\u4ef6\u7248\u672cversion 5.170\uff09\uff1a","text":"<p>\u9632\u706b\u5899\u2013USG6306-AC \u201310.10.0.1:8443  admin/Shidian@123</p> <p>\u6838\u5fc3\u2013S5720-36C-EI-AC  \u201310.10.1.1 admin/admin@123</p> <p>\u65e0\u7ebfAC\u2013AC6003-8-8AP  \u201310.10.1.4  admin/Etrue@123</p> <p>AP-POE\u2013S5720S-12TP-PWR-LI-AC  \u201310.10.1.5  admin/admin@123</p>"},{"location":"routeswitch/%E5%8D%8E%E4%B8%BA/shidian/%E7%BB%84%E7%BD%91%E4%BF%A1%E6%81%AF/#\u5185\u7f51vlan\u5212\u5206","title":"\u5185\u7f51VLAN\u5212\u5206","text":"<p>vlan 1   10.0.0.253    #AC\u5206\u914d\u7ed9AP\u7684\u7f51\u6bb5</p> <p>vlan 10  10.10.1.1/24  #\u7ba1\u7406\u7f51\u6bb5</p> <p>vlan 20  10.10.2.1/24  #\u6709\u7ebf\u5de5\u4f4d</p> <p>vlan 30  10.10.3.1/24  #\u76d1\u63a7</p> <p>vlan 40  10.10.4.1/24  #Shidian_office-WiFi</p> <p>vlan 50  10.10.5.1/24  #Shidian_mobile-wifi</p> <p>vlan 60  10.10.6.1/24  #Shidian_guest-wifi</p> <p>vlan 70  10.10.7.1/24  #SHIDIAN_01-wifi</p> <p>vlan 100  10.10.0.2/24 \uff08\u9632\u706b\u5899-\u6838\u5fc3IP\uff09</p>"},{"location":"routeswitch/%E5%B1%B1%E7%9F%B3%E7%BD%91%E7%A7%91/1%20hillstone%E5%AE%98%E7%BD%91%E8%B4%A6%E5%8F%B7/","title":"hillstone\u5b98\u7f51\u8d26\u53f7","text":"<p>\u8d26\u53f7\uff1ajoshzhong</p> <p>\u5bc6\u7801\uff1amjMJ@2023</p>"},{"location":"routeswitch/%E5%B1%B1%E7%9F%B3%E7%BD%91%E7%A7%91/%E5%B1%B1%E7%9F%B3%E7%BD%91%E7%A7%91%20IPsec/","title":"\u5c71\u77f3\u7f51\u79d1 IPsec","text":""},{"location":"routeswitch/%E6%B7%B1%E4%BF%A1%E6%9C%8D/ac%E4%BF%AE%E6%94%B9%E7%AE%A1%E7%90%86%E5%91%98%E5%AF%86%E7%A0%81%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4/","title":"ac\u4fee\u6539\u7ba1\u7406\u5458\u5bc6\u7801\u8fc7\u671f\u65f6\u95f4","text":"<p>\u7cfb\u7edf\u7ba1\u7406-\u7cfb\u7edf\u914d\u7f6e-\u7ba1\u7406\u5458\u8d26\u53f7-\u8bbe\u7f6e-\u5bc6\u7801\u5b89\u5168\u7b56\u7565</p> <p></p> <p>\u5bc6\u7801\u5b89\u5168\u7b56\u7565\uff1a\u8bbe\u7f6e\u6700\u957f\u5929\u6570</p> <p></p>"},{"location":"routeswitch/%E6%B7%B1%E4%BF%A1%E6%9C%8D/%E6%B7%B1%E4%BF%A1%E6%9C%8D%20IPsec/","title":"\u6df1\u4fe1\u670d IPsec","text":"<p>\u6210\u90fd\u8bbe\u5907\uff1a H3C GR3200 \u8def\u7531\u5668\u5730\u5740\uff1a192.168.3.1\uff0c\u5185\u7f51\u7f51\u6bb5\uff1a192.168.3.0/24 \u53a6\u95e8\u8bbe\u5907\uff1a sangfor vpn sangfor vpn\u65c1\u6302\u6838\u5fc3\u4ea4\u6362\u673a\uff0c\u8bbe\u5907IP\uff1a10.0.0.43 \u53a6\u95e8\u51fa\u53e3\u4e3a\u56fa\u5b9aIP\u5730\u5740\uff1a110.80.44.42 \u6df1\u5733\u3001\u6210\u90fd\u4e3a\u62e8\u53f7\uff0c\u51fa\u53e3\u4e3a\u52a8\u6001IP\uff0csangfor\u4f7f\u7528\u91ce\u86ee\u6a21\u5f0f\u914d\u7f6e\u3002 \u53a6\u95e8\u914d\u7f6e\u5982\u4e0b\uff1a https://10.0.0.43:4430/ Python<pre><code>\u6838\u5fc3\u4ea4\u6362\u673a\u914d\u7f6e\uff1a\n192.168.1.0/24 Static 60 0 10.0.0.43 Vlan10 #\u6df1\u5733\n192.168.3.0/24 Static 60 0 10.0.0.43 Vlan10 #\u6210\u90fd\n\u6210\u90fd\u8def\u7531\u5668\u914d\u7f6e\u5982\u4e0b\uff1a\n</code></pre> \u9759\u6001\u8def\u7531  \u865a\u63a5\u53e3  IKE\u5b89\u5168\u63d0\u8bae  IKE\u5bf9\u7b49\u4f53  IPSec\u5b89\u5168\u63d0\u8bae  IPsec\u5b89\u5168\u7b56\u7565 </p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E7%AC%94%E8%AE%B0/%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E8%AE%A1%E7%AE%97/","title":"\u5b50\u7f51\u63a9\u7801\u8ba1\u7b97","text":"<p>218.17.233.246/255.255.255.248\u6709\u591a\u5c11\u4e2aIP\u53ef\u7528\uff0c\u5982\u4f55\u8ba1\u7b97\uff1f</p> <p>\u7ed9\u5b9a\u7684IP\u5730\u5740218.17.233.246\u548c\u5b50\u7f51\u63a9\u7801255.255.255.248\u8868\u793a\u8fd9\u662f\u4e00\u4e2a/29\u5b50\u7f51\u3002\u8981\u8ba1\u7b97\u8fd9\u4e2a\u5b50\u7f51\u4e2d\u6709\u591a\u5c11\u4e2a\u53ef\u7528\u7684IP\u5730\u5740\uff0c\u6211\u4eec\u9700\u8981\u4e86\u89e3\u5b50\u7f51\u63a9\u7801\u548c\u5b83\u662f\u5982\u4f55\u5f71\u54cdIP\u5730\u5740\u5206\u914d\u7684\u3002</p> <p>\u5b50\u7f51\u63a9\u7801255.255.255.248\u7b49\u4ef7\u4e8e/29\uff0c\u8fd9\u610f\u5473\u7740\u524d29\u4f4d\u662f\u7f51\u7edc\u90e8\u5206\uff0c\u800c\u6700\u540e3\u4f4d\u662f\u4e3b\u673a\u90e8\u5206\u3002\u56e0\u4e3a\u4e00\u4e2a\u5b57\u8282\uff08Byte\uff09\u67098\u4f4d\uff0c\u6240\u4ee53\u4f4d\u53ef\u4ee5\u63d0\u4f9b\u7684\u5730\u5740\u6570\u91cf\u662f2\u76843\u6b21\u65b9\uff0c\u53738\u4e2a\u5730\u5740\u3002</p> <p>\u5728\u4efb\u4f55\u7ed9\u5b9a\u7684\u5b50\u7f51\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u5730\u5740\u662f\u7f51\u7edc\u5730\u5740\uff0c\u6700\u540e\u4e00\u4e2a\u5730\u5740\u662f\u5e7f\u64ad\u5730\u5740\u3002\u8fd9\u4e24\u4e2a\u5730\u5740\u4e0d\u80fd\u5206\u914d\u7ed9\u4efb\u4f55\u8bbe\u5907\uff0c\u56e0\u6b64\u5b9e\u9645\u53ef\u7528\u7684IP\u5730\u5740\u6bd4\u603b\u6570\u5c112\u4e2a\u3002</p> <p>\u8ba9\u6211\u4eec\u8ba1\u7b97\u4e00\u4e0b\uff1a</p> <ul> <li>\u603bIP\u5730\u5740\u6570 = 23=823=8</li> <li>\u53ef\u7528IP\u5730\u5740\u6570 = \u603bIP\u5730\u5740\u6570 - 2 = 8 - 2 = 6</li> </ul> <p>\u56e0\u6b64\uff0c\u5bf9\u4e8e218.17.233.246/255.255.255.248\uff0c\u53ef\u7528\u7684IP\u5730\u5740\u6570\u91cf\u662f6\u4e2a\u3002</p> <p>\u53ef\u7528\u7684IP\u5730\u5740\u5206\u522b\u662f\uff1a</p> <ul> <li>218.17.233.240\uff08\u7f51\u7edc\u5730\u5740\uff09</li> <li>218.17.233.241</li> <li>218.17.233.242</li> <li>218.17.233.243</li> <li>218.17.233.244</li> <li>218.17.233.245</li> <li>218.17.233.246</li> <li>218.17.233.247\uff08\u5e7f\u64ad\u5730\u5740\uff09 </li> </ul>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E6%95%85%E9%9A%9C%E8%AE%B0%E5%BD%95/DNS%E6%B1%A1%E6%9F%93%E9%AA%8C%E8%AF%81/","title":"DNS\u6c61\u67d3\u9a8c\u8bc1","text":"<p>\u83b7\u53d6dig\u548cnc\u5de5\u5177</p> <p>\u5b89\u88c5dig</p> Text Only<pre><code>yum -y install bind-utils\n</code></pre> <p>\u5b89\u88c5nc</p> Text Only<pre><code>yum install -y nc\n</code></pre> <p>\u9a8c\u8bc1DNS\u6c61\u67d3</p> Text Only<pre><code># \u901a\u8fc7 114 \u89e3\u6790 google \u57df\u540d\ndig google.com @114.114.114.114 +short\n\n\n# \u68c0\u6d4b IP \u662f\u5426\u5c5e\u4e8e Google\n# \u4f8b\u5982 \u6211\u83b7\u53d6\u5230\u7684\u662f 142.251.42.238\n[root@k8s-master-30 ~]# echo -e 'begin\\n142.251.42.238\\nend' | nc bgp.tools 43\n15169   | 142.251.42.238   | 142.251.42.0/24     | US | ARIN     | 2000-03-30 | Google LLC\n\n\u5982\u679c\u8fd4\u56de\u7684\u8fd0\u8425\u5546\u540d\u975egoogle llc\uff0c\u5219\u53ef\u5224\u65adDNS\u88ab\u6c61\u67d3\n</code></pre> <p>\u53c2\u8003</p> <p>https://wener.me/notes/howto/network/dns-prevent-spoofing</p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E6%95%85%E9%9A%9C%E8%AE%B0%E5%BD%95/dnsmasq%E4%BC%98%E5%8C%96/","title":"dnsmasq\u4f18\u5316","text":"<p>\u5982\u679c\u7528\u56fd\u5185\u7684VPS\u6765\u642d\u5efa\u672c\u5730DNS\uff0c\u54cd\u5e94\u7684\u901f\u5ea6\u4f1a\u66f4\u5feb\uff0c\u4e5f\u66f4\u7a33\u5b9a\u3002</p> <p>\u4fee\u6539DNS\u914d\u7f6e\u53ca\u7f51\u7edc\u8bbe\u7f6e\uff0c\u4ee510.0.0.35\u4e3a\u4f8b\uff0c\u4fee\u6539\u5b8c\u7ecf\u9a8c\u8bc1\uff0c\u8bbf\u95ee\u56fd\u5185\u5916\u901f\u5ea6\u8fd8\u4e0d\u9519\uff0c\u4fee\u6539\u914d\u7f6e\u5982\u4e0b\uff0c\u4ec5\u4f9b\u53c2\u8003\u3002</p> <p>1\u3001vi /etc/sysconfig/network-scripts/ifcfg-em2 #\u4fee\u6539\u7f51\u5361\u914d\u7f6e</p> <p></p> <p>2\u3001vi /etc/resolv.conf   #\u4fee\u6539\u4e0a\u6e38DNS\u914d\u7f6e</p> <p>PS:\u4ee5\u8fd9\u4e2a\u987a\u5e8f\u6d4b\u8bd5\u662f\u5426\u56fd\u5185\u901f\u5ea6\u4e5f\u4f1a\u53d8\u5feb</p> <p>nameserver 8.8.8.8</p> <p>nameserver 223.5.5.5</p> <p>nameserver 8.8.4.4</p> <p>~</p> <p></p> <p>3\u3001vi /etc/dnsmasq.conf   #\u4fee\u6539dnsmasq\u914d\u7f6e</p> <p></p> <p>4\u3001vi /etc/dnsmasq/hosts   #hosts\u4fee\u6539   </p> <p>PS\uff1a\u572810.0.0.30\u6d4b\u8bd5\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4fee\u653910.0.0.35dnsmasq\u3001\u7f51\u5361\u53caros\u914d\u7f6e\u76f8\u540c\u60c5\u51b5\u4e0b\uff0c\u6253\u5f00\u9a8c\u8bc1http://ip111.cn/\uff0c\u4ecd\u7136\u65e0\u6cd5\u4ecegoogle\u6d4b\u8bd5\u83b7\u53d6\u5230IP\uff0c\u6700\u540e\u5c0610.0.0.30host\u590d\u5236\u523010.0.0.35\uff0c\u91cd\u542fdnsmasq\uff0c\u5b9e\u73b0\u6b63\u5e38\u8bbf\u95eegoogle\u3002\uff0810.0.0.30\u7684hosts\uff0c\u5220\u9664\u4e86\u6807#\u6ce8\u91ca\u7684dns\u6761\u4f8b\uff0c\u5c06\u6709\u5173\u4e8egoogle\u7b49\u5916\u7f51\u57df\u540d\u7684\u6240\u6709\u6761\u76ee\u5220\u9664\uff0c\u65b0\u589e\u4ee5\u4e0b\u914d\u7f6e\uff1a\uff09</p> <p>server=/cn/114.114.114.114</p> <p>server=/taobao.com/114.114.114.114</p> <p>#server=/taobaocdn.com/114.114.114.114</p> <p>#\u56fd\u5916\u6307\u5b9aDNS</p> <p>server=/google.com/8.8.8.8</p> <p>\uff08\u4ee5\u4e0a\u914d\u7f6e\u8fd8\u672a\u505a\u9a8c\u8bc1\uff0c\u4f46\u4e0d\u5f71\u54cd\u6b63\u5e38\u8bbf\u95ee\uff09</p> <p>5\u3001\u4fee\u6539ros\u7b56\u7565</p> <p>\u5728ros-ip-firewall-mangle\u5904\uff0c\u5c06dns\u670d\u52a1\u5668\u7684IP\u7ffb\u5899\u6253\u5f00\uff0c\u76ee\u524d\u56fd\u5185\u8d70fenliu2\uff0c\u56fd\u5916\u8d70fenliu10\uff08sdwan\uff09</p> <p></p> <p>6\u3001\u9a8c\u8bc1\uff1a</p> <p>http://ip111.cn/</p> <p>DNS\u89e3\u6790\u6b63\u5e38\u65f6\uff0c\u4f1a\u663e\u793a\u51fa\u4ecegoogle\u6d4b\u8bd5\u7684IP\uff08\u5982\u4e0d\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4ece\u8c37\u6b4c\u6d4b\u8bd5\u663e\u793a\u7a7a\u767d\uff0cgoogle.com\u4e5f\u65e0\u6cd5\u6253\u5f00\uff09</p> <p></p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E6%95%85%E9%9A%9C%E8%AE%B0%E5%BD%95/%E5%9F%9F%E5%90%8D%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE/","title":"\u57df\u540d\u65e0\u6cd5\u8bbf\u95ee","text":"<p>\u53cd\u9988appstoreconnect.apple.com\u57df\u540d\u9700\u8981\u901a\u8fc7astrill\u4ee3\u7406\u624d\u53ef\u8bbf\u95ee\uff0c\u6211\u8fd9\u8fb9\u901a\u8fc7\u4fee\u6539\u8def\u7531\u7b56\u7565\uff0c\u5c06\u6d41\u91cf\u8d70\u5230\u4e0d\u540c\u63a5\u53e3\u5747\u65e0\u6cd5\u8bbf\u95ee</p> <p>ping appstoreconnect.apple.com 59.56.26.126</p> <p></p> <p>tarcert appstoreconnect.apple.com \u8d85\u65f6</p> <p></p> <p>nslookup appstoreconnect.apple.com \u5f97\u5230\u7684\u9519\u8bef\u89e3\u6790\u5730\u574059.56.26.126 </p> <p>\u6307\u5b9adns  \u53ef\u4ee5\u5f97\u5230\u4e0d\u4e00\u6837\u7684\u89e3\u6790\u7ed3\u679c\uff0c\u5e94\u4e3a\u6b63\u5e38</p> <p></p> <p>\u901a\u8fc7\u57df\u540dping\u68c0\u6d4bhttps://ping.chinaz.com/astrill.com\uff0c\u6765ping\u57df\u540dappstoreconnect.apple.com\uff0c\u53d1\u73b0\u8be5\u7f51\u5740\u5e76\u4e0d\u9700\u8981\u4ee3\u7406\uff0c\u56fd\u5185\u5747\u53ef\u6b63\u5e38\u8bbf\u95ee</p> <p></p> <p>\u68c0\u6d4b\u540e\uff0c\u6211\u76f4\u63a5\u4f7f\u7528\u624b\u673a5G\u8bbf\u95ee\u6b63\u5e38\uff0c\u4f46\u662f\u5185\u7f51\u8bbf\u95ee\u5931\u8d25\uff0c\u6700\u540e\u5b9a\u4f4d\u5230\u95ee\u9898\u6240\u5728</p> <p>\u5f71\u54cd\u89e3\u6790\u7ed3\u679c\u7684\u95ee\u9898\u9664\u4e86DNS\u89e3\u6790\u548c\u8def\u7531\u7ebf\u8def\u5916\uff0c\u6700\u5148\u5f71\u54cd\u7684\u662fhosts\u6587\u4ef6\uff0c\u5305\u542b\u7535\u8111\u672c\u5730\u7684hosts\u3001\u8fd8\u6709dns\u670d\u52a1\u5668\u7684/etc/dnsmasq/hosts\u6587\u4ef6\u4e2d\uff0c</p> <p>\u6211\u5728DNS\u670d\u52a1\u5668\u53d1\u73b0\u4e86hosts\u6587\u4ef6\u6307\u5b9a\u4e86\u8be5\u57df\u540d\u7684IP\uff1a</p> <p>59.56.26.126    appstoreconnect.apple.com</p> <p>104.76.133.13   appstoreconnect.apple.com</p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E8%87%AA%E5%8A%A8%E5%8C%96/h3c/","title":"H3c","text":"Text Only<pre><code># \u5bfc\u5165 H3C \u4ea4\u6362\u673a\u6a21\u5757\nfrom h3c import Switch\n\n# \u5b9a\u4e49\u914d\u7f6e\u9009\u9879\nclass ConfigOptions:\n    def __init__(self):\n        self.ip_address = None\n        self.username = None\n        self.password = None\n        self.vlans = []\n        self.dhcp_pools = []\n\n# \u5b9a\u4e49\u914d\u7f6e\u51fd\u6570\ndef configure_switch(options):\n    # \u8fde\u63a5\u5230\u4ea4\u6362\u673a\n    switch = Switch(options.ip_address, options.username, options.password)\n\n    # \u914d\u7f6e\u57fa\u672c\u8bbe\u7f6e\n    switch.send_command(\"system-view\")\n    switch.send_command(\"user-interface vty 0 63\")\n    switch.send_command(\"authentication-mode scheme\")\n    switch.send_command(\"user-role level-15\")\n    switch.send_command(\"local-user mengjia network admin\")\n\n    # \u542f\u7528 SSH \u548c Telnet \u670d\u52a1\u5668\n    switch.send_command(\"ssh server enable\")\n    switch.send_command(\"telnet server enable\")\n\n    # \u914d\u7f6e\u5168\u5c40\u8bbe\u7f6e\n    switch.send_command(\"lldp global enable\")\n    switch.send_command(\"loopback-detection global enable vlan 1 to 4094\")\n    switch.send_command(\"system-working-mode standard\")\n    switch.send_command(\"xbar load-balance\")\n    switch.send_command(\"password-recovery enable\")\n\n    # \u914d\u7f6e VLAN\n    for vlan in options.vlans:\n        switch.send_command(\"vlan {}\".format(vlan))\n        switch.send_command(\"description {}\".format(vlan.description))\n        switch.send_command(\"interface vlan {}\".format(vlan))\n        switch.send_command(\"ip address {} {}\".format(vlan.ip_address, vlan.mask))\n\n    # \u914d\u7f6e DHCP\n    for dhcp_pool in options.dhcp_pools:\n        switch.send_command(\"dhcp server ip-pool {}\".format(dhcp_pool.name))\n        switch.send_command(\"gateway-list {}\".format(dhcp_pool.gateway))\n        switch.send_command(\"network {}\".format(dhcp_pool.network))\n        switch.send_command(\"dns-list {}\".format(dhcp_pool.dns))\n\n    # \u4fdd\u5b58\u914d\u7f6e\n    switch.save_config()\n\n# \u4e3b\u51fd\u6570\ndef main():\n    # \u521b\u5efa\u914d\u7f6e\u9009\u9879\n    options = ConfigOptions()\n    options.ip_address = \"192.168.1.1\"\n    options.username = \"admin\"\n    options.password = \"admin\"\n    options.vlans.append(VLAN(5, \"\u7814\u53d1\", \"10.0.0.1\", \"255.255.255.0\"))\n    options.vlans.append(VLAN(100, \"\u8d22\u52a1\", \"192.168.100.1\", \"255.255.255.0\"))\n    options.dhcp_pools.append(DHCPPool(\"\u5185\u7f51AP\", \"10.0.2.1\", \"10.0.2.254\"))\n    options.dhcp_pools.append(DHCPPool(\"\u5916\u7f51AP\", \"10.0.4.1\", \"10.0.4.254\"))\n\n    # \u914d\u7f6e\u4ea4\u6362\u673a\n    configure_switch(options)\n\n# \u8c03\u7528\u4e3b\u51fd\u6570\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E8%87%AA%E5%8A%A8%E5%8C%96/%E6%89%B9%E9%87%8F%E5%88%9B%E5%BB%BAvlan/","title":"\u6279\u91cf\u521b\u5efavlan","text":""},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/MEIYANG/","title":"MEIYANG","text":"<p>\u8bbe\u5907\u57fa\u7840\u914d\u7f6e</p> Text Only<pre><code>undo password-control aging enable\nundo password-control length enable\nundo password-control history enable\nundo password-control composition enable\nundo password-control complexity user-name check\nundo password-control change-password first-login enable \n\n\nip http enable\nip https enable\nssh server enable\ntelnet server enable \n\n\nuser-interface  vty 0 63\nauthentication-mode scheme \nuser-role level-15\n\n\nlocal-user meiyang class manage\npassword simple Meiyang123..\nservice-type telnet ssh terminal http https\nauthorization-attribute user-role network-admin\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/MEIYANG/#\u7f51\u6bb5\u89c4\u5212","title":"\u7f51\u6bb5\u89c4\u5212","text":"Text Only<pre><code>28F\u7f51\u6bb5\uff08\u6682\u672a\u914d\u7f6e\uff09\n192.168.0.0/24--Vlan10      192.168.0.1/24\n\n\n\u7fa4\u6656\u670d\u52a1\u5668IP--\u6392\u9664\uff0cdns\u8bbe\u7f6e\u4e24\u4e2a\n192.168.0.162\n\n\n29F\u7f51\u6bb5\n192.168.1.0/24--Vlan11      192.168.1.1/24\n\n30F\u7f51\u6bb5\n192.168.2.0/24--Vlan12      192.168.2.1/24  \n\n\n31F\u7f51\u6bb5\n192.168.3.0/24--Vlan13      192.168.3.1/24\n\n\n\n\u76d1\u63a7\u7f51\u6bb5\n192.168.6.0/24--Vlan16      192.168.6.1/24\n\n\u65e0\u7ebf\u7f51\u6bb5\n192.168.40.0/23--Vlan400        192.168.40.1/23\n\n\n\u8def\u7531\u7f51\u6bb5----VLAN100\n192.168.10.2 ---\u6838\u5fc3G1/0/1\u63a5\u8def\u7531\u5668g2/1\n\n\n\u8bbe\u5907\u7ba1\u7406\u7f51\u6bb5(VLAN1000)\n192.168.10.1   \u4e3b\u8def\u7531\u5730\u5740\n192.168.100.1 ---30F\u6838\u5fc3\u4ea4\u6362\u673a\u7ba1\u7406\u5730\u5740\n192.168.100.2 ---30F\u6838\u5fc3\u4ea4\u6362\u673a2\u7ba1\u7406\u5730\u5740\n192.168.100.3 ---ac\u65e0\u7ebf\u7ba1\u7406\u5730\u5740\n192.168.100.4 ---29F\u6838\u5fc3\u4ea4\u6362\u673a\u7ba1\u7406\u5730\u5740\n192.168.100.5 ----28F\u6838\u5fc3\n\n\n\nWiFi\u8d26\u6237\uff1aMEIYANG\n\u5bc6\u7801\uff1amy666888\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/MEIYANG/#\u4e3b\u8def\u7531\u63a5\u53e3","title":"\u4e3b\u8def\u7531\u63a5\u53e3","text":"Python<pre><code>&lt;Router-30F&gt;disp inter br\nBrief information on interfaces in route mode:\nLink: ADM - administratively down; Stby - standby\nProtocol: (s) - spoofing\nInterface            Link Protocol Primary IP      Description                \nDia0                 UP   UP       100.64.11.253   \nDia1                 UP   UP       100.64.123.122  \nDia2                 UP   UP       100.64.69.140   \nDia3                 UP   DOWN     --              \nGE0/0                UP   UP       --              Multiple_Line1\nGE0/1                UP   UP       --              Multiple_Line2\nGE0/2                UP   UP       --              Multiple_Line3\nGE0/3                UP   UP       --              Multiple_Line4\nGE0/4                DOWN DOWN     --              \nGE0/5                DOWN DOWN     --              \nInLoop0              UP   UP(s)    --              \nNULL0                UP   UP(s)    --              \nREG0                 UP   --       --              \nVlan1                DOWN DOWN     --              LAN-interface\nVlan100              UP   UP       192.168.10.1    \n\nBrief information on interfaces in bridge mode:\nLink: ADM - administratively down; Stby - standby\nSpeed: (a) - auto\nDuplex: (a)/A - auto; H - half; F - full\nType: A - access; T - trunk; H - hybrid\nInterface            Link Speed     Duplex Type PVID Description                \nGE2/0                DOWN auto      A      A    1    \nGE2/1                UP   1G(a)     F(a)   A    100  \nGE2/2                DOWN auto      A      A    1    \nGE2/3                DOWN auto      A      A    1 \n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/MEIYANG/#30f\u6838\u5fc3\u63a5\u53e3","title":"30F\u6838\u5fc3\u63a5\u53e3","text":"Python<pre><code>g1/0/1                  \u63a5\u4e3b\u8def\u7531\ng1/0/2                  \u63a529\u6838\u5fc3\ng1/0/3                  \u63a5ac\u65e0\u7ebf\u63a7\u5236\u5668\ng1/0/4                  \u63a530F\u6838\u5fc32\ng1/0/5 to g1/0/6        \u65e0\u7ebfWiFi\ng1/0/7                  \u76d1\u63a7\ng1/0/8 to g1/0/15       30\u697c\u529e\u516c\u7f51\u7edc\ng1/0/16 to g1/0/24      31\u697c\u529e\u516c\u7f51\u7edc\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/MEIYANG/#30f\u6838\u5fc32\u63a5\u53e3","title":"30F\u6838\u5fc32\u63a5\u53e3","text":"Python<pre><code>g1/0/1                  \u63a5\u6838\u5fc31\ng1/0/2                  \u7fa4\u6656\n\ng1/0/3 to g1/0/5        WiFi\n\n\n2024-01-17\u4fee\u6539\ng1/0/6-9                    \u76d1\u63a7\ng1/0/17-24              30\u697c\u5de5\u4f4d\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/MEIYANG/#29f\u6838\u5fc3\u63a5\u53e3","title":"29F\u6838\u5fc3\u63a5\u53e3","text":"Python<pre><code>Core_29F    G1/0/1  --- Core_30F    G1/0/2\n\nCore_29F    G1/0/2  --- Core_28F    \u6682\u672a\u914d\u7f6e\n\nCore_29F    G1/0/3 to G1/0/6    --- WLAN\uff08\u65e0\u7ebf\uff09\n\nCore_29F    G1/0/7 to G1/0/24   --- \u5de5\u4f4d      VLAN11\n\n\n\nCore_29F \u7ba1\u7406\u5730\u5740\uff1a192.168.100.4\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/MEIYANG/#ac\u63a7\u5236\u5668","title":"ac\u63a7\u5236\u5668","text":"<p>\u63a7\u5236\u5668\u6539\u672c\u5730\u8f6c\u53d1\uff0c\u4e1a\u52a1\u6d41\u91cf\u7531\u6838\u5fc3\u76f4\u63a5\u8f6c\u53d1</p> <p></p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/MEIYANG/#\u7f3a\u7701vlan-id\u6539\u6210vlan1","title":"\u7f3a\u7701vlan id\u6539\u6210vlan1","text":""},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/MEIYANG/#\u6838\u5fc3\u7f51\u6bb5\u4fee\u6539","title":"\u6838\u5fc3\u7f51\u6bb5\u4fee\u6539\uff1a","text":"Text Only<pre><code>Pool name: vlan400\n  Network: 192.168.40.0 mask 255.255.254.0 \n  dns-list 218.85.152.99 218.85.157.99 \n  expired day 1 hour 0 minute 0 second 0\n  gateway-list 192.168.40.1 \n  option 138 ip-address 192.168.100.3\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/MEIYANG/#ap\u7684poe\u4fee\u6539","title":"AP\u7684POE\u4fee\u6539","text":"Text Only<pre><code>interface GigabitEthernet1/0/3\n port link-mode bridge\n port link-type trunk\n port trunk permit vlan all\n port trunk pvid vlan 400\n</code></pre> <p>2.\u8bbe\u5907\u7ba1\u7406\u5730\u5740\u4e0e\u8d26\u53f7\u5bc6\u7801</p> <p>&lt;1&gt;\u8def\u7531\u5668 -192.168.10.1- admin Meiyang123..</p> <p>&lt;2&gt;30\u6838\u5fc31 -192.168.100.1-meiyang Meiyang123..</p> <p>&lt;3&gt; 30\u6838\u5fc32 \u2013 meiyang Meiyang123..</p> <p>&lt;4&gt;29\u6838\u5fc3 \u2013meiyang Meiyang123..</p> <p>&lt;5&gt;\u65e0\u7ebfac \u2013admin Meiyang123.. </p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/%E4%BA%91%E7%8E%BA/MEIYANG/","title":"MEIYANG","text":"<p>\u8bbe\u5907\u57fa\u7840\u914d\u7f6e</p> Text Only<pre><code>undo password-control aging enable\nundo password-control length enable\nundo password-control history enable\nundo password-control composition enable\nundo password-control complexity user-name check\nundo password-control change-password first-login enable \n\n\nip http enable\nip https enable\nssh server enable\ntelnet server enable \n\n\nuser-interface  vty 0 63\nauthentication-mode scheme \nuser-role level-15\n\n\nlocal-user meiyang class manage\npassword simple Meiyang123..\nservice-type telnet ssh terminal http https\nauthorization-attribute user-role network-admin\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/%E4%BA%91%E7%8E%BA/MEIYANG/#\u7f51\u6bb5\u89c4\u5212","title":"\u7f51\u6bb5\u89c4\u5212","text":"Text Only<pre><code>28F\u7f51\u6bb5\uff08\u6682\u672a\u914d\u7f6e\uff09\n192.168.0.0/24--Vlan10      192.168.0.1/24\n\n\n\u7fa4\u6656\u670d\u52a1\u5668IP--\u6392\u9664\uff0cdns\u8bbe\u7f6e\u4e24\u4e2a\n192.168.0.162\n\n\n29F\u7f51\u6bb5\n192.168.1.0/24--Vlan11      192.168.1.1/24\n\n30F\u7f51\u6bb5\n192.168.2.0/24--Vlan12      192.168.2.1/24  \n\n\n31F\u7f51\u6bb5\n192.168.3.0/24--Vlan13      192.168.3.1/24\n\n\n\n\u76d1\u63a7\u7f51\u6bb5\n192.168.6.0/24--Vlan16      192.168.6.1/24\n\n\u65e0\u7ebf\u7f51\u6bb5\n192.168.40.0/23--Vlan400        192.168.40.1/23\n\n\n\u8def\u7531\u7f51\u6bb5----VLAN100\n192.168.10.2 ---\u6838\u5fc3G1/0/1\u63a5\u8def\u7531\u5668g2/1\n\n\n\u8bbe\u5907\u7ba1\u7406\u7f51\u6bb5(VLAN1000)\n192.168.10.1   \u4e3b\u8def\u7531\u5730\u5740\n192.168.100.1 ---30F\u6838\u5fc3\u4ea4\u6362\u673a\u7ba1\u7406\u5730\u5740\n192.168.100.2 ---30F\u6838\u5fc3\u4ea4\u6362\u673a2\u7ba1\u7406\u5730\u5740\n192.168.100.3 ---ac\u65e0\u7ebf\u7ba1\u7406\u5730\u5740\n192.168.100.4 ---29F\u6838\u5fc3\u4ea4\u6362\u673a\u7ba1\u7406\u5730\u5740\n\n\n\nWiFi\u8d26\u6237\uff1aMEIYANG\n\u5bc6\u7801\uff1amy666888\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/%E4%BA%91%E7%8E%BA/MEIYANG/#\u4e3b\u8def\u7531\u63a5\u53e3","title":"\u4e3b\u8def\u7531\u63a5\u53e3","text":"Python<pre><code>&lt;Router-30F&gt;disp inter br\nBrief information on interfaces in route mode:\nLink: ADM - administratively down; Stby - standby\nProtocol: (s) - spoofing\nInterface            Link Protocol Primary IP      Description                \nDia0                 UP   UP       100.64.11.253   \nDia1                 UP   UP       100.64.123.122  \nDia2                 UP   UP       100.64.69.140   \nDia3                 UP   DOWN     --              \nGE0/0                UP   UP       --              Multiple_Line1\nGE0/1                UP   UP       --              Multiple_Line2\nGE0/2                UP   UP       --              Multiple_Line3\nGE0/3                UP   UP       --              Multiple_Line4\nGE0/4                DOWN DOWN     --              \nGE0/5                DOWN DOWN     --              \nInLoop0              UP   UP(s)    --              \nNULL0                UP   UP(s)    --              \nREG0                 UP   --       --              \nVlan1                DOWN DOWN     --              LAN-interface\nVlan100              UP   UP       192.168.10.1    \n\nBrief information on interfaces in bridge mode:\nLink: ADM - administratively down; Stby - standby\nSpeed: (a) - auto\nDuplex: (a)/A - auto; H - half; F - full\nType: A - access; T - trunk; H - hybrid\nInterface            Link Speed     Duplex Type PVID Description                \nGE2/0                DOWN auto      A      A    1    \nGE2/1                UP   1G(a)     F(a)   A    100  \nGE2/2                DOWN auto      A      A    1    \nGE2/3                DOWN auto      A      A    1 \n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/%E4%BA%91%E7%8E%BA/MEIYANG/#30f\u6838\u5fc3\u63a5\u53e3","title":"30F\u6838\u5fc3\u63a5\u53e3","text":"Python<pre><code>g1/0/1                  \u63a5\u4e3b\u8def\u7531\ng1/0/2                  \u63a529\u6838\u5fc3\ng1/0/3                  \u63a5ac\u65e0\u7ebf\u63a7\u5236\u5668\ng1/0/4                  \u63a530F\u6838\u5fc32\ng1/0/5 to g1/0/6        \u65e0\u7ebfWiFi\ng1/0/7                  \u76d1\u63a7\ng1/0/8 to g1/0/15       30\u697c\u529e\u516c\u7f51\u7edc\ng1/0/16 to g1/0/24      31\u697c\u529e\u516c\u7f51\u7edc\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/%E4%BA%91%E7%8E%BA/MEIYANG/#30f\u6838\u5fc32\u63a5\u53e3","title":"30F\u6838\u5fc32\u63a5\u53e3","text":"Python<pre><code>g1/0/1                  \u63a5\u6838\u5fc31\ng1/0/2                  \u7fa4\u6656\n\ng1/0/3 to g1/0/5        WiFi\ng1/0/6                  \u76d1\u63a7\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/%E4%BA%91%E7%8E%BA/MEIYANG/#29f\u6838\u5fc3\u63a5\u53e3","title":"29F\u6838\u5fc3\u63a5\u53e3","text":"Python<pre><code>Core_29F    G1/0/1  --- Core_30F    G1/0/2\n\nCore_29F    G1/0/2  --- Core_28F    \u6682\u672a\u914d\u7f6e\n\nCore_29F    G1/0/3 to G1/0/6    --- WLAN\uff08\u65e0\u7ebf\uff09\n\nCore_29F    G1/0/7 to G1/0/24   --- \u5de5\u4f4d      VLAN11\n\n\n\nCore_29F \u7ba1\u7406\u5730\u5740\uff1a192.168.100.4\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/%E4%BA%91%E7%8E%BA/MEIYANG/#ac\u63a7\u5236\u5668","title":"ac\u63a7\u5236\u5668","text":"<p>\u63a7\u5236\u5668\u6539\u672c\u5730\u8f6c\u53d1\uff0c\u4e1a\u52a1\u6d41\u91cf\u7531\u6838\u5fc3\u76f4\u63a5\u8f6c\u53d1</p> <p></p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/%E4%BA%91%E7%8E%BA/MEIYANG/#\u7f3a\u7701vlan-id\u6539\u6210vlan1","title":"\u7f3a\u7701vlan id\u6539\u6210vlan1","text":""},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/%E4%BA%91%E7%8E%BA/MEIYANG/#\u6838\u5fc3\u7f51\u6bb5\u4fee\u6539","title":"\u6838\u5fc3\u7f51\u6bb5\u4fee\u6539\uff1a","text":"Text Only<pre><code>Pool name: vlan400\n  Network: 192.168.40.0 mask 255.255.254.0 \n  dns-list 218.85.152.99 218.85.157.99 \n  expired day 1 hour 0 minute 0 second 0\n  gateway-list 192.168.40.1 \n  option 138 ip-address 192.168.100.3\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/MEIYANG/%E4%BA%91%E7%8E%BA/MEIYANG/#ap\u7684poe\u4fee\u6539","title":"AP\u7684POE\u4fee\u6539","text":"Text Only<pre><code>interface GigabitEthernet1/0/3\n port link-mode bridge\n port link-type trunk\n port trunk permit vlan all\n port trunk pvid vlan 400\n</code></pre> <p>2.\u8bbe\u5907\u7ba1\u7406\u5730\u5740\u4e0e\u8d26\u53f7\u5bc6\u7801</p> <p>&lt;1&gt;\u8def\u7531\u5668 -192.168.10.1- admin Meiyang123..</p> <p>&lt;2&gt;30\u6838\u5fc31 -192.168.100.1-meiyang Meiyang123..</p> <p>&lt;3&gt; 30\u6838\u5fc32 \u2013 meiyang Meiyang123..</p> <p>&lt;4&gt;29\u6838\u5fc3 \u2013meiyang Meiyang123..</p> <p>&lt;5&gt;\u65e0\u7ebfac \u2013admin Meiyang123.. </p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/1%20%E5%8D%81%E7%82%B9%E7%BD%91%E7%BB%9C-%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91%E8%A7%84%E5%88%92/","title":"1 \u5341\u70b9\u7f51\u7edc \u7f51\u7edc\u62d3\u6251\u89c4\u5212","text":"<p>\u7f51\u7edc\u62d3\u6251  \u7ec4\u7f51\u8bbe\u5907\uff08\u56fa\u4ef6\u7248\u672cversion 5.170\uff09\uff1a \u9632\u706b\u5899\u2013USG6306-AC \u201310.10.0.1:8443 admin/Shidian@123 \u6838\u5fc3\u2013S5720-36C-EI-AC \u201310.10.1.1 admin/admin@123 \u65e0\u7ebfAC\u2013AC6003-8-8AP \u201310.10.1.4 admin/Etrue@123 AP-POE\u2013S5720S-12TP-PWR-LI-AC \u201310.10.1.5 admin/admin@123 \u5185\u7f51VLAN\u5212\u5206 vlan 1 10.0.0.253 #AC\u5206\u914d\u7ed9AP\u7684\u7f51\u6bb5 vlan 10 10.10.1.1/24 #\u7ba1\u7406\u7f51\u6bb5 vlan 20 10.10.2.1/24 #\u6709\u7ebf\u5de5\u4f4d vlan 30 10.10.3.1/24 #\u76d1\u63a7 vlan 40 10.10.4.1/24 #Shidian_office-WiFi vlan 50 10.10.5.1/24 #Shidian_mobile-wifi vlan 60 10.10.6.1/24 #Shidian_guest-wifi vlan 70 10.10.7.1/24 #SHIDIAN_01-wifi vlan 100 10.10.0.2/24 \uff08\u9632\u706b\u5899-\u6838\u5fc3IP\uff09</p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/2%20%E3%80%8A%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6%E3%80%8B%E6%97%A0%E7%BA%BF%E7%BD%91%E8%B0%83%E4%BC%98/","title":"2 \u300a\u5341\u70b9\u8bfb\u4e66\u300b\u65e0\u7ebf\u7f51\u8c03\u4f18","text":"<p>SHIDIAN-NETWORK \u7f51\u7edc\u62d3\u6251\uff1a \u7ec4\u7f51\u8bbe\u5907\uff08\u56fa\u4ef6\u7248\u672cversion 5.170\uff09\uff1a \u9632\u706b\u5899\u2013USG6306-AC \u201310.10.0.1:8443 admin/Shidian@123 \u6838\u5fc3\u2013S5720-36C-EI-AC \u201310.10.1.1 admin/admin@123 \u65e0\u7ebfAC\u2013AC6003-8-8AP \u201310.10.1.4 admin/Etrue@123 AP-POE\u2013S5720S-12TP-PWR-LI-AC \u201310.10.1.5 admin/admin@123 \u5185\u7f51VLAN\u5212\u5206 vlan 1 10.0.0.253 #AC\u5206\u914d\u7ed9AP\u7684\u7f51\u6bb5 vlan 10 10.10.1.1/24 #\u7ba1\u7406\u7f51\u6bb5 vlan 20 10.10.2.1/24 #\u6709\u7ebf\u5de5\u4f4d vlan 30 10.10.3.1/24 #\u76d1\u63a7 vlan 40 10.10.4.1/24 #Shidian_office-WiFi vlan 50 10.10.5.1/24 #Shidian_mobile-wifi vlan 60 10.10.6.1/24 #Shidian_guest-wifi vlan 70 10.10.7.1/24 #SHIDIAN_01-wifi vlan 100 10.10.0.2/24 \uff08\u9632\u706b\u5899-\u6838\u5fc3IP\uff09 USG\u9632\u62a4\u5899\u63a5\u53e3\u914d\u7f6e WiFi\u8c03\u4f18\u7684\u601d\u8def\uff1a 1\u3001\u5065\u5eb7\u68c0\u67e5\u5ea6\u8fd8\u672a\u68c0\u6d4b\uff1f 2\u3001AP\u4e4b\u95f4\u8ddd\u79bb\u591a\u5c11\u7c73\uff1f\u95f4\u8ddd15-20\u7c73\u4e3a\u6b63\u5e38\u3002 3\u3001\u65e0\u7ebf\u7b56\u7565\u662f\u5426\u90fd\u57fa\u4e8edefault\u7b56\u7565\u914d\u7f6e\uff1f \u65e0\u7ebf\u8c03\u4f18\uff1a 1\u3001\u624b\u673a\u4e0b\u8f7d\u201dWiFi\u9b54\u76d2\u201c\uff0c\u770b\u5e72\u6270\uff0c2.4G 1 6 11 WiFi\u9b54\u76d2APP\u4f7f\u7528\u6f2b\u6e38\u6d4b\u8bd5\uff0c\u67e5\u770b\u6f2b\u6e38\u662f\u7ecf\u5e38\u57282.4G\u8fd8\u662f5G\uff0c \u8c03\u4f18\u7b2c\u4e00\u70b9\uff1aV200R800\uff0c\u7248\u672c\u8fc7\u4f4e\uff08\u53ef\u80fd\u6027\u6781\u5c0f\uff09\uff0cAP\u53caAC\u90fd\u5347\u7ea7\u7248\u672c\uff0c\u914d\u7f6e\u8f83\u4e71\uff0c\u6062\u590d\u51fa\u5382\u91cd\u65b0\u914d\u7f6e\u3002\u5347\u7ea7\u6ce8\u610f\u4e8b\u9879\uff1a\u5148\u5347\u7ea7AP\uff0c\u5728AC\u4e2d\u4e0b\u53d1\u4efb\u52a1\uff0c\u8fdb\u884c\u5347\u7ea7\uff0c\u518d\u5347\u7ea7AC\uff0c\u8fd9\u6837AP\u80fd\u81ea\u52a8\u4e0a\u7ebf\uff0c\u8282\u7ea6\u65f6\u95f4\u3002 \u8c03\u4f18\u7b2c\u4e8c\u70b9\uff1acalibrate sensitivity high\uff0c\u7075\u654f\u5ea6\u8c03\u6210\u4e86\u6700\u9ad8\uff0c\u6297\u5e72\u6270\u80fd\u529b\u53d8\u5dee\uff0c\u4f1a\u81ea\u52a8\u89e6\u53d1\u8c03\u4f18\uff0c\u8c03\u4f18\u8fc7\u7a0b\u4f1a\u4f7f\u4fe1\u9053\u3001\u4fe1\u53f7\u529f\u7387\u8fdb\u884c\u8c03\u6574\uff0c\u8fd9\u6837\u4f1a\u5bfc\u81f4\u5ba2\u6237\u7aef\u51fa\u73b0\u6389\u7ebf\u6216\u8fde\u4e0d\u4e0a\u3001\u7f51\u7edc\u6162\uff1b\u4fee\u6539calibrate enable auto interval 1440 start-time 00:00:00 #\u8bbe\u7f6e\u975e\u81ea\u52a8\u8c03\u4f18\uff0c\u4fee\u6539\u8c03\u4f18\u65f6\u95f4\u4e3a\u51cc\u66685-6\u70b9\u90fd\u884c\u3002 \u4fee\u6539\u4ee5\u4e0b\uff1a\u5c06\u7075\u654f\u5ea6\u8c03\u6574\u4e3a\u4e2d\u7b49 Python<pre><code>colibrate policy no-wifi\ncolibrate policy noise-floor\ncalibrate sensitivity high\n</code></pre> \u8c03\u4f18\u7b2c\u4e09\u70b9\uff1a5G\u901f\u5ea6\u6162\uff0c\u6f2b\u6e38\u6548\u679c\u5f88\u5dee\uff0c\u90fd\u662f\u56e0\u4e3aAP\u4e4b\u95f4\u7684\u5e72\u6270\uff0c\u8be5dca-channel 5g bandwidth 80m\u5bfc\u81f4\uff0c\u9891\u5bbd80M\u76f8\u5f53\u4e8e1\u4e2aAP\u8981\u5360\u75284\u4e2a\u4fe1\u9053\uff0c\u800c5G\u4e00\u5171\u53ea\u670913\u4e2a\u4fe1\u9053\u3002\u4e09\u53f0AP\u5c31\u5c06\u4fe1\u9053\u5360\u5b8c\u4e86\uff0c\u5269\u4e0b\u7684\u65e0\u8bba\u5982\u4f55\u8c03\u4f18\uff0c\u90fd\u662f\u7531\u5e72\u6270\u7684\u3002\u8c03\u4f18\u65b9\u5f0f\u662f\u5c0680m\u6539\u621040\u201cdca-channel 5g bandwidth 40m\u201d\uff0c40M\u53ea\u5360\u75282\u4e2a\u4fe1\u9053\uff0c\u5e72\u6270\u4f1a\u5c11\u5f88\u591a\uff0c\u800c\u8ddd\u79bb\u8fdc\u7684\u4f7f\u7528\u76f8\u540c\u4fe1\u9053\uff0c\u4e5f\u4e0d\u4f1a\u4ea7\u751f\u5e72\u6270\u3002\uff08\u4f01\u4e1a\u7f51\u4e2d\u4e0d\u8ffd\u6c42\u6700\u9ad8\u901f\u7387\uff0c\u800c\u4ee5\u7a33\u5b9a\u4e3a\u7b2c\u4e00\u524d\u63d0\uff09 \u8c03\u4f18\u7b2c\u56db\u70b9\uff1a\u914d\u7f6e\u4e2d\u57285G\u7ec4\u4e2d\u52a0\u4e86\u201dchannel 80mhz 52\u201d\uff0c\u8be5\u547d\u4ee4\u91ca\u4e49\uff1a\u8d7080Mhz\uff08\u9891\u5bbd\uff09 \u4fe1\u9053\u4e3a52\uff0c\u4e0e\u4e0a\u9762\u768480m\u9891\u5bbd\u4e5f\u662f\u51b2\u7a81\u7684\uff0cAP\u4e0a\u7ebf\u65f6\uff0c\u6240\u6709AP\u90fd\u572880m\uff0c52\u4fe1\u9053\uff0c\u4f1a\u9020\u6210\u51b2\u7a81\uff0cAP\u51b2\u7a81\u81ea\u52a8\u8c03\u4f18\uff0c\u8fd9\u4e2a\u914d\u7f6e\u53c8\u6062\u590d52\u4fe1\u9053 80m\uff0c\u5bfc\u81f4\u6b7b\u5faa\u73af\uff0c\u4e00\u76f4\u9700\u8981\u8c03\u4f18\u3002 \u8c03\u4f18\u7684\u7b2c\u4e94\u70b9\uff1a\u9759\u6001\u7684\u8d1f\u8f7d\u5747\u8861\uff08sta-load-balance static-group name default\uff09\uff0c\u5728\u5e38\u89c1\u7f51\u7edc\u4e2d\uff0cAP\u7684\u95f4\u8ddd15-20\u65f6\uff0c\u4e0d\u9700\u8981\u9759\u6001\u8d1f\u8f7d\u5747\u8861\uff0c\u53ea\u6709\u5728\u9ad8\u5bc6\u573a\u666f\uff08\u00be/5\u7c73\uff09\u7528\u8d1f\u8f7d\u5747\u8861\u4f1a\u6548\u679c\u597d\u3002\u8d1f\u8f7d\u5747\u8861\u4f1a\u5bfc\u81f4\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\uff0c\u5728\u4e24\u53f0AP\u95f4\u6765\u56de\u5207\u6362\u3002\u672c\u8eab\u4e0d\u9700\u8981\u6f2b\u6e38\u60c5\u51b5\u4e0b\uff0c\u6765\u56de\u5207\u6362\uff0c\u5bfc\u81f4\u5ba2\u6237\u7aef\u6389\u7ebf\u4e25\u91cd\u3002 \u8c03\u4f18\u7b2c\u516d\u70b9\uff1a\u5c06\u4f4e\u901f\u7387\u529f\u80fd\u53bb\u6389\uff0cAP\u5373\u4f7f\u652f\u6301\u57fa\u7840\u901f\u7387\uff081\u30012\u30017\u30019\uff09\u90fd\u53bb\u6389\uff0c\u8ba9AP\u5728\u9ad8\u901f\u7387\u5de5\u4f5c\u3002 \u5c065G\u81ea\u52a8\u8c03\u4f18\u529f\u7387\u5173\u95ed\uff0c\u8ba9\u5176\u5de5\u4f5c\u4e0e\u6700\u5927\u529f\u7387\uff0c\u8ba95G\u4fe1\u53f7\u6bd42.4G\u4fe1\u53f7\u5f3a\u3002 \u8c03\u4f18\u5b8c\u6210\uff0c\u5728\u8fdb\u884c\u6f2b\u6e38\u6d4b\u8bd5\uff0c\u662f\u5426\u4e22\u5305\u3002 \u672c\u6b21\u8c03\u6574 1\u3001\u7f51\u7edc\u62d3\u6251\u7ed8\u5236\uff0c\u6839\u636e\u73b0\u6709\u8bbe\u5907lldp\u7aef\u53e3\u8fde\u63a5\u65b9\u5f0f\u7ed8\u5236\u3002 2\u3001\u65b0\u5efaWLAN\u6a21\u677f\uff0cAP-Group\uff0cSSID\u9a8c\u8bc1\u65b9\u5f0f\u5747\u4fee\u6539\u4e3aWPA/WPA2-PSK\uff0c\u914d\u7f6eAP\u52a0\u5165AP-Group\uff08SHIDIAN_01\uff09\uff0c\u914d\u7f6eService VLAN-ID\u3002 2\u3001\u5c06AP\u76f4\u8fde\u7684POE\u4ea4\u6362\u673a\u914d\u7f6e\u7aef\u53e3\u9694\u79bb\uff0c\u56e0\u4e3a\u4e1a\u52a1\u6570\u636e\u4e3a\u76f4\u63a5\u8f6c\u53d1\uff0c\u4f1a\u5bfc\u81f4VLAN\u5185\u5f62\u6210\u5927\u91cf\u5e7f\u64ad\u62a5\u6587\uff0c\u5bfc\u81f4\u7f51\u7edc\u963b\u585e\uff0c\u5f71\u54cd\u4f53\u9a8c\u3002 _\u914d\u7f6e\uff08WLAN\uff09\u65c1\u6302\u4e09\u5c42\u7ec4\u7f51\u76f4\u63a5\u8f6c\u53d1 _</p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/2%20%E3%80%8A%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6%E3%80%8B%E6%97%A0%E7%BA%BF%E7%BD%91%E8%B0%83%E4%BC%98/#\u521b\u5efaap\u7ec4\u7528\u4e8e\u5c06\u76f8\u540c\u914d\u7f6e\u7684ap\u90fd\u52a0\u5165\u540c\u4e00ap\u7ec4\u4e2d","title":"\u521b\u5efaAP\u7ec4\uff0c\u7528\u4e8e\u5c06\u76f8\u540c\u914d\u7f6e\u7684AP\u90fd\u52a0\u5165\u540c\u4e00AP\u7ec4\u4e2d\u3002","text":"<p>[AC] wlan [AC-wlan-view] ap-group name ap-group1 [AC-wlan-ap-group-ap-group1] quit</p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/2%20%E3%80%8A%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6%E3%80%8B%E6%97%A0%E7%BA%BF%E7%BD%91%E8%B0%83%E4%BC%98/#\u521b\u5efa\u57df\u7ba1\u7406\u6a21\u677f\u5728\u57df\u7ba1\u7406\u6a21\u677f\u4e0b\u914d\u7f6eac\u7684\u56fd\u5bb6\u7801\u5e76\u5728ap\u7ec4\u4e0b\u5f15\u7528\u57df\u7ba1\u7406\u6a21\u677f","title":"\u521b\u5efa\u57df\u7ba1\u7406\u6a21\u677f\uff0c\u5728\u57df\u7ba1\u7406\u6a21\u677f\u4e0b\u914d\u7f6eAC\u7684\u56fd\u5bb6\u7801\u5e76\u5728AP\u7ec4\u4e0b\u5f15\u7528\u57df\u7ba1\u7406\u6a21\u677f\u3002","text":"<p>[AC-wlan-view] regulatory-domain-profile name default [AC-wlan-regulate-domain-default] country-code cn [AC-wlan-regulate-domain-default] quit [AC-wlan-view] ap-group name ap-group1 [AC-wlan-ap-group-ap-group1] regulatory-domain-profile default Warning: Modifying the country code will clear channel, power and antenna gain configurations of the radio and reset the AP. Continue?[Y/N]:y  [AC-wlan-ap-group-ap-group1] quit [AC-wlan-view] quit</p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/2%20%E3%80%8A%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6%E3%80%8B%E6%97%A0%E7%BA%BF%E7%BD%91%E8%B0%83%E4%BC%98/#\u914d\u7f6eac\u7684\u6e90\u63a5\u53e3vlan1-100025324","title":"\u914d\u7f6eAC\u7684\u6e90\u63a5\u53e3\u3002vlan1 10.0.0.253/24","text":"<p>[AC] capwap source interface vlanif 1 ** **ap auth-mode\u547d\u4ee4\u7f3a\u7701\u60c5\u51b5\u4e0b\u4e3aMAC\u8ba4\u8bc1\uff0c\u5982\u679c\u4e4b\u524d\u6ca1\u6709\u4fee\u6539\u5176\u7f3a\u7701\u914d\u7f6e\uff0c\u53ef\u4ee5\u4e0d\u7528\u6267\u884cap auth-mode mac-auth\u3002 [AC] wlan [AC-wlan-view] ap auth-mode mac-auth [AC-wlan-view]ap-id 8 ap-mac 60de-4476-e360 ap-sn xxxxxxxxxxx [AC-wlan-ap-0] ap-name area_1 [AC-wlan-ap-0] ap-group ap-group1</p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/2%20%E3%80%8A%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6%E3%80%8B%E6%97%A0%E7%BA%BF%E7%BD%91%E8%B0%83%E4%BC%98/#\u5c06ap\u4e0a\u7535\u540e\u5f53\u6267\u884c\u547d\u4ee4display-ap-all\u67e5\u770b\u5230ap\u7684state\u5b57\u6bb5\u4e3anor\u65f6\u8868\u793aap\u6b63\u5e38\u4e0a\u7ebf","title":"\u5c06AP\u4e0a\u7535\u540e\uff0c\u5f53\u6267\u884c\u547d\u4ee4display ap all\u67e5\u770b\u5230AP\u7684\u201cState\u201d\u5b57\u6bb5\u4e3a\u201cnor\u201d\u65f6\uff0c\u8868\u793aAP\u6b63\u5e38\u4e0a\u7ebf\u3002","text":"<p>\u914d\u7f6eWLAN\u4e1a\u52a1\u53c2\u6570</p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/2%20%E3%80%8A%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6%E3%80%8B%E6%97%A0%E7%BA%BF%E7%BD%91%E8%B0%83%E4%BC%98/#\u521b\u5efa\u540d\u4e3awlan-net\u7684\u5b89\u5168\u6a21\u677f\u5e76\u914d\u7f6e\u5b89\u5168\u7b56\u7565","title":"\u521b\u5efa\u540d\u4e3a\u201cwlan-net\u201d\u7684\u5b89\u5168\u6a21\u677f\uff0c\u5e76\u914d\u7f6e\u5b89\u5168\u7b56\u7565\u3002","text":"<p>[AC-wlan-view] security-profile name wlan-net [AC-wlan-sec-prof-wlan-net] security wpa-wpa2 psk pass-phrase a1234567 aes [AC-wlan-sec-prof-wlan-net] quit</p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/2%20%E3%80%8A%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6%E3%80%8B%E6%97%A0%E7%BA%BF%E7%BD%91%E8%B0%83%E4%BC%98/#\u521b\u5efa\u540d\u4e3awlan-net\u7684ssid\u6a21\u677f\u5e76\u914d\u7f6essid\u540d\u79f0\u4e3awlan-net","title":"\u521b\u5efa\u540d\u4e3a\u201cwlan-net\u201d\u7684SSID\u6a21\u677f\uff0c\u5e76\u914d\u7f6eSSID\u540d\u79f0\u4e3a\u201cwlan-net\u201d\u3002","text":"<p>[AC-wlan-view] ssid-profile name wlan-net [AC-wlan-ssid-prof-wlan-net] ssid wlan-net [AC-wlan-ssid-prof-wlan-net] quit</p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/2%20%E3%80%8A%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6%E3%80%8B%E6%97%A0%E7%BA%BF%E7%BD%91%E8%B0%83%E4%BC%98/#\u521b\u5efa\u540d\u4e3awlan-net\u7684vap\u6a21\u677f\u914d\u7f6e\u4e1a\u52a1\u6570\u636e\u8f6c\u53d1\u6a21\u5f0f\u4e1a\u52a1vlan\u5e76\u4e14\u5f15\u7528\u5b89\u5168\u6a21\u677f\u548cssid\u6a21\u677f","title":"\u521b\u5efa\u540d\u4e3a\u201cwlan-net\u201d\u7684VAP\u6a21\u677f\uff0c\u914d\u7f6e\u4e1a\u52a1\u6570\u636e\u8f6c\u53d1\u6a21\u5f0f\u3001\u4e1a\u52a1VLAN\uff0c\u5e76\u4e14\u5f15\u7528\u5b89\u5168\u6a21\u677f\u548cSSID\u6a21\u677f\u3002","text":"<p>[AC-wlan-view] vap-profile name wlan-net [AC-wlan-vap-prof-wlan-net] forward-mode direct-forward [AC-wlan-vap-prof-wlan-net] service-vlan vlan-pool sta-pool [AC-wlan-vap-prof-wlan-net] security-profile wlan-net [AC-wlan-vap-prof-wlan-net] ssid-profile wlan-net [AC-wlan-vap-prof-wlan-net] quit</p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/2%20%E3%80%8A%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6%E3%80%8B%E6%97%A0%E7%BA%BF%E7%BD%91%E8%B0%83%E4%BC%98/#\u914d\u7f6eap\u7ec4\u5f15\u7528vap\u6a21\u677fap\u4e0a\u5c04\u98910\u548c\u5c04\u98911\u90fd\u4f7f\u7528vap\u6a21\u677fwlan-net\u7684\u914d\u7f6e","title":"\u914d\u7f6eAP\u7ec4\u5f15\u7528VAP\u6a21\u677f\uff0cAP\u4e0a\u5c04\u98910\u548c\u5c04\u98911\u90fd\u4f7f\u7528VAP\u6a21\u677f\u201cwlan-net\u201d\u7684\u914d\u7f6e\u3002","text":"<p>[AC-wlan-view] ap-group name ap-group1 [AC-wlan-ap-group-ap-group1] vap-profile wlan-net wlan 1 radio 0 [AC-wlan-ap-group-ap-group1] vap-profile wlan-net wlan 1 radio 1 [AC-wlan-ap-group-ap-group1] quit</p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/2%20%E3%80%8A%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6%E3%80%8B%E6%97%A0%E7%BA%BF%E7%BD%91%E8%B0%83%E4%BC%98/#\u5173\u95edap\u5c04\u98910\u7684\u4fe1\u9053\u548c\u529f\u7387\u81ea\u52a8\u8c03\u4f18\u529f\u80fd\u5e76\u914d\u7f6eap\u5c04\u98910\u7684\u4fe1\u9053\u548c\u529f\u7387","title":"\u5173\u95edAP\u5c04\u98910\u7684\u4fe1\u9053\u548c\u529f\u7387\u81ea\u52a8\u8c03\u4f18\u529f\u80fd\uff0c\u5e76\u914d\u7f6eAP\u5c04\u98910\u7684\u4fe1\u9053\u548c\u529f\u7387\u3002","text":"<p>[AC-wlan-view] ap-id 0 [AC-wlan-ap-0] radio 0 [AC-wlan-radio-0/0] calibrate auto-channel-select disable [AC-wlan-radio-0/0] calibrate auto-txpower-select disable [AC-wlan-radio-0/0] channel 20mhz 6 Warning: This action may cause service interruption. Continue?[Y/N]y  [AC-wlan-radio-0/0] eirp 127[AC-wlan-radio-0/0] quit</p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/2%20%E3%80%8A%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6%E3%80%8B%E6%97%A0%E7%BA%BF%E7%BD%91%E8%B0%83%E4%BC%98/#\u5173\u95edap\u5c04\u98911\u7684\u4fe1\u9053\u548c\u529f\u7387\u81ea\u52a8\u8c03\u4f18\u529f\u80fd\u5e76\u914d\u7f6eap\u5c04\u98911\u7684\u4fe1\u9053\u548c\u529f\u7387","title":"\u5173\u95edAP\u5c04\u98911\u7684\u4fe1\u9053\u548c\u529f\u7387\u81ea\u52a8\u8c03\u4f18\u529f\u80fd\uff0c\u5e76\u914d\u7f6eAP\u5c04\u98911\u7684\u4fe1\u9053\u548c\u529f\u7387\u3002","text":"<p>[AC-wlan-ap-0] radio 1 [AC-wlan-radio-0/1] calibrate auto-channel-select disable [AC-wlan-radio-0/1] calibrate auto-txpower-select disable [AC-wlan-radio-0/1] channel 20mhz 149 Warning: This action may cause service interruption. Continue?[Y/N]y [AC-wlan-radio-0/1] eirp 127 [AC-wlan-radio-0/1] quit [AC-wlan-ap-0] quit \u9a8c\u8bc1\u914d\u7f6e\u7ed3\u679c WLAN\u4e1a\u52a1\u914d\u7f6e\u4f1a\u81ea\u52a8\u4e0b\u53d1\u7ed9AP\uff0c\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u901a\u8fc7\u6267\u884c\u547d\u4ee4display vap ssid wlan-net\u67e5\u770b\u5982\u4e0b\u4fe1\u606f\uff0c\u5f53\u201cStatus\u201d\u9879\u663e\u793a\u4e3a\u201cON\u201d\u65f6\uff0c\u8868\u793aAP\u5bf9\u5e94\u7684\u5c04\u9891\u4e0a\u7684VAP\u5df2\u521b\u5efa\u6210\u529f\u3002  STA\u641c\u7d22\u5230\u540d\u4e3a\u201cwlan-net\u201d\u7684\u65e0\u7ebf\u7f51\u7edc\uff0c\u8f93\u5165\u5bc6\u7801\u201ca1234567\u201d\u5e76\u6b63\u5e38\u5173\u8054\u540e\uff0c\u5728AC\u4e0a\u6267\u884cdisplay station ssid wlan-net\u547d\u4ee4\uff0c\u53ef\u4ee5\u67e5\u770b\u5230\u7528\u6237\u5df2\u7ecf\u63a5\u5165\u5230\u65e0\u7ebf\u7f51\u7edc\u201cwlan-net\u201d\u4e2d\u3002 </p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%85%8D%E7%BD%AE/","title":"\u4ea4\u6362\u673a\u914d\u7f6e","text":"<p>10.10.0.1 Python<pre><code>&lt;USG6300&gt;disp current-configuration\n2022-06-02 00:08:15.070 +08:00\n!Software Version V500R001C60SPC300\n\nsysname USG6300\n\nl2tp domain suffix-separator @\n\nvlan batch 123\n\nauthentication-profile name portal_authen_default\n\nipsec sha2 compatible enable\n\nundo factory-configuration prohibit\n\nundo telnet server enable\nundo telnet ipv6 server enable\n\nclock timezone Beijing add 08:00:00\n\nfirewall detect ftp\n\nfirewall defend action discard\n\nlog type traffic enable\nlog type syslog enable\nlog type policy enable\n\nundo dataflow enable\n\nundo sa force-detection enable\n\nlldp enable\n\nisp name \"china mobile\" set filename china-mobile.csv\nisp name \"china unicom\" set filename china-unicom.csv\nisp name \"china telecom\" set filename china-telecom.csv\nisp name \"china educationnet\" set filename china-educationnet.csv\n\nuser-manage web-authentication security port 8887\npassword-policy\nlevel high\nuser-manage single-sign-on ad\nuser-manage single-sign-on tsm\nuser-manage single-sign-on radius\nuser-manage auto-sync online-user\npage-setting\nuser-manage security version tlsv1.1 tlsv1.2\n\nfirewall ids authentication type  aes256\n\nundo firewall statistics system enable\n\nweb-manager security version tlsv1.1 tlsv1.2\nweb-manager enable\nweb-manager security enable\nundo web-manager config-guide enable\n\nfirewall dataplane to manageplane application-apperceive default-action drop\n\ndns resolve\ndns server 218.85.152.99\ndns server 218.85.157.99\ndns server 8.8.8.8\ndns server unnumbered interface Dialer2\ndns server unnumbered interface Dialer3\ndns server unnumbered interface Dialer4\ndns server unnumbered interface GigabitEthernet1/0/0\ndns proxy enable\n\ndhcp enable\n\nupdate schedule ips-sdb daily 02:24\nupdate schedule av-sdb daily 02:24\nupdate schedule sa-sdb daily 02:24\nupdate schedule ip-reputation daily 02:24\nupdate schedule cnc daily 02:24\nupdate schedule file-reputation daily 02:24\n\nset disk-scan parameter attach on\nset disk-scan parameter cycle 15\nset disk-scan parameter iostat 80\nset disk-scan parameter speed 10\nset disk-scan parameter switch on\nset disk-scan parameter parallel 50\ndisk-usage alarm threshold 95\n\nip vpn-instance default\nipv4-family\n\nip-link check enable\nip-link name office\ndestination www.baidu.com interface Dialer3 mode icmp\nip-link name mobileguest\ndestination www.baidu.com interface Dialer4 mode icmp\nip-link name ge1/0/0\ndestination www.baidu.com interface Dialer2 mode icmp\nip-link name ge1/0/3\ndestination www.baidu.com interface Dialer3 mode icmp\nip-link name pbr1\ndestination www.baidu.com interface Dialer4 mode icmp\n\nhealthcheck enable\nhealthcheck name isp1\ndestination 10.10.1.1 interface GigabitEthernet1/0/0  protocol tcp-simple destination-port 10001\ndestination 10.10.1.4 interface GigabitEthernet1/0/0  protocol tcp-simple destination-port 10002\nhealthcheck name isp2\ndestination 10.10.1.5 interface GigabitEthernet1/0/1  protocol tcp-simple destination-port 10003\ndestination 10.10.3.11 interface GigabitEthernet1/0/1  protocol tcp-simple destination-port 10004\n\nip address-set Lan-\u00bb\u00a5j type object\naddress 0 10.10.0.0 mask 21\n\nip address-set Lan-Office type object\naddress 0 10.10.2.0 mask 24\n\nip address-set Wifi-mobile type object\naddress 0 10.10.5.0 mask 24\n\nip address-set Wifi-Guest type object\naddress 0 10.10.6.0 mask 24\n\nip address-set \u041e\u05c6 type object\naddress 0 00e0-4c6f-78e6\n\nip address-set Lan-Jiankong type object\naddress 0 10.10.3.0 mask 24\n\nip address-set wifi-office type object\naddress 0 10.10.4.0 mask 24\n\nip address-set Wifi-SHIDIAN_01 type object\naddress 0 10.10.7.0 mask 24\n\nip address-set Privilege type group\naddress 0 982c-bc1d-f1d7\naddress 1 38f9-d328-e513\n\nip address-set Video type group\naddress 0 2c6e-8547-f310\naddress 1 f48e-38ef-e078\naddress 2 a44e-31dd-90f5\naddress 3 d8cb-8a9b-270a\naddress 4 48bf-6be5-fac4\naddress 5 1831-bfb9-053a\naddress 6 507b-9d97-a1e5\n\nip address-set Blacklist type group\n\nip address-set Whitelist type group\naddress 0 38f9-d328-e513\naddress 1 2816-a848-e0b4\naddress 2 083e-8ee0-3e1c\naddress 3 2477-03b0-5c39\naddress 4 3441-5d9f-f970\naddress 5 3441-5d9f-f971\n\nip address-set \u00bc\u1018lan type group\naddress 0 10.10.3.0 mask 255.255.255.0\n\nip address-set \u02d3\u01b5\u00bb\u24e9 type group\naddress 0 805e-c060-2cfd\naddress 1 805e-c060-2a83\n\nip address-set \u02d3\u01b5\u0629 type group\naddress 0 10.10.2.192 mask 10.10.2.225\naddress 1 10.10.4.168 mask 10.10.4.168\naddress 2 range 10.10.2.210 10.10.2.215\n\ntime-range worktime\nperiod-range 08:00:00 to 18:00:00 working-day\n\nike proposal default\nencryption-algorithm aes-256 aes-192 aes-128\ndh group14\nauthentication-algorithm sha2-512 sha2-384 sha2-256\nauthentication-method pre-share\nintegrity-algorithm hmac-sha2-256\nprf hmac-sha2-256\n\nweb-auth-server default\nport 50100\n\nportal-access-profile name default\n\naaa\nauthentication-scheme default\nauthentication-scheme admin_local\nauthentication-scheme admin_radius_local\nauthentication-scheme admin_hwtacacs_local\nauthentication-scheme admin_ad_local\nauthentication-scheme admin_ldap_local\nauthentication-scheme admin_radius\nauthentication-scheme admin_hwtacacs\nauthentication-scheme admin_ad\nauthentication-scheme admin_ldap\nauthorization-scheme default\naccounting-scheme default\ndomain default\nservice-type ssl-vpn\ninternet-access mode password\nreference user current-domain\nmanager-user audit-admin\npassword cipher @%@%k(W&gt;PoqDTBYh=P$7jui(3d7[7r$r9h18;Z&amp;,3EY%oYB)d7^3@%@%\nservice-type web terminal\nlevel 15\nmanager-user api-admin\npassword cipher @%@%U#R[(IK{ZTEf.n#+F-6(N{Vdt'meTJ'0=9;'[.V8(*Q6{VgN@%@%\nservice-type api\nlevel 15\nmanager-user admin\npassword cipher @%@%erB!R#WWs;NCcpVCUoaBJ-k877^O+o%n\\MHYvPR@ZhUA-k;J@%@%\nservice-type web terminal ssh\nlevel 15\nauthentication-scheme admin_local\nlock-authentication failed-count 5\nlock-authentication timeout 5\nrole system-admin\nrole device-admin\nrole device-admin(monitor)\nrole audit-admin\nbind manager-user audit-admin role audit-admin\nbind manager-user admin role system-admin\n\ninterface Dialer0\nlink-protocol ppp\nppp chap user 059297552008\nppp chap password cipher %$%$WUSQ#wNJQ*h,XpD604LH0f&amp;0%$%$\nppp pap local-user 059297552008 password cipher %$%$8tLLE`H@TNDqs&lt;JLk,_#hM+:%$%$\nppp ipcp dns admit-any\nip address ppp-negotiate\nundo service-manage enable\nbandwidth ingress 500000\nbandwidth egress 100000\n\ninterface Dialer1\nlink-protocol ppp\nppp chap user 059297552008\nppp chap password cipher %$%$$[0uN,AWX$J343AuD]B-'[#X%$%$\nppp pap local-user 059297552008 password cipher %$%$1`yb#q;8SOvp5&amp;1/[RF-68(k%$%$\nppp ipcp dns admit-any\nip address ppp-negotiate\nundo service-manage enable\nbandwidth ingress 20000\nbandwidth egress 20000\n\ninterface Dialer2\nlink-protocol ppp\nppp chap user 0592917756262\nppp chap password cipher %$%$7z&gt;[3uqgGQL8Q|0pIvEZV@UQ%$%$\nppp pap local-user 0592917756262 password cipher %$%$;{V;6q\\p|+I~Z.KHKe2/J@S&amp;%$%$\nppp ipcp dns admit-any\nip address ppp-negotiate\ndialer user 0592917756262\ndialer bundle 1\nundo service-manage enable\nbandwidth ingress 500000 threshold 90\nbandwidth egress 100000 threshold 90\n\ninterface Dialer3\nlink-protocol ppp\nppp chap user 0592917755745\nppp chap password cipher %$%$#.(\"*xo^528DPK\"w/!)3:ZP-%$%$\nppp pap local-user 0592917755745 password cipher %$%$wER#Sb{CJO0c!+(_-0k2r$eR%$%$\nppp ipcp dns admit-any\nip address ppp-negotiate\ndialer user 0592917755745\ndialer bundle 2\nundo service-manage enable\nbandwidth ingress 1000000 threshold 90\nbandwidth egress 30000 threshold 90\n\ninterface Dialer4\nlink-protocol ppp\nppp chap user 0592917715952\nppp chap password cipher %$%$IB37#v|Z=(NQ4(0y\\1[-'BV-%$%$\nppp pap local-user 0592917715952 password cipher %$%$xWtdB]\\PeO^9{s&amp;k}~@&lt;JUKd%$%$\nppp ipcp dns admit-any\nip address ppp-negotiate\ndialer user 0592917715952\ndialer bundle 3\nundo service-manage enable\nbandwidth ingress 1000000 threshold 90\nbandwidth egress 30000 threshold 90\n\nl2tp-group default-lns\n\ninterface GigabitEthernet0/0/0\nundo shutdown\nip binding vpn-instance default\nip address 192.168.0.1 255.255.255.0\nservice-manage http permit\nservice-manage https permit\nservice-manage ping permit\n\ninterface GigabitEthernet1/0/0\npppoe-client dial-bundle-number 1 ipv4\nundo shutdown\nhealthcheck isp1\ngateway 222.76.253.201\nundo service-manage enable\nbandwidth ingress 50000 threshold 90\nbandwidth egress 50000 threshold 90\n\ninterface GigabitEthernet1/0/1\npppoe-client dial-bundle-number 3 ipv4\nundo shutdown\nhealthcheck isp2\ngateway 218.6.77.57\nundo service-manage enable\nbandwidth ingress 50000 threshold 90\nbandwidth egress 50000 threshold 90\n\ninterface GigabitEthernet1/0/2\nundo shutdown\nip address 10.10.0.1 255.255.255.0\nservice-manage https permit\nservice-manage ping permit\nservice-manage ssh permit\nservice-manage snmp permit\n\ninterface GigabitEthernet1/0/3\npppoe-client dial-bundle-number 2 ipv4\nundo shutdown\nundo service-manage enable\n\ninterface GigabitEthernet1/0/4\nundo shutdown\n\ninterface GigabitEthernet1/0/5\nundo shutdown\n\ninterface Virtual-if0\n\ninterface Cellular0/0/0\nshutdown\ndialer enable-circular\nip address negotiate\n\ninterface NULL0\n\nfirewall zone local\nset priority 100\n\nfirewall zone trust\nset priority 85\nadd interface GigabitEthernet0/0/0\nadd interface Dialer1\nadd interface GigabitEthernet1/0/2\n\nfirewall zone untrust\nset priority 5\nadd interface Dialer0\nadd interface GigabitEthernet1/0/0\nadd interface GigabitEthernet1/0/1\nadd interface Dialer2\nadd interface GigabitEthernet1/0/3\nadd interface Dialer3\nadd interface Dialer4\n\nfirewall zone dmz\nset priority 50\n\napi\n\narp ip-conflict-detect enable\n\nip route-static 0.0.0.0 0.0.0.0 Dialer2\nip route-static 0.0.0.0 0.0.0.0 Dialer4\nip route-static 0.0.0.0 0.0.0.0 Dialer3\nip route-static 10.10.1.0 255.255.255.0 10.10.0.2\nip route-static 10.10.2.0 255.255.255.0 10.10.0.2\nip route-static 10.10.3.0 255.255.255.0 10.10.0.2\nip route-static 10.10.4.0 255.255.255.0 10.10.0.2\nip route-static 10.10.5.0 255.255.255.0 10.10.0.2\nip route-static 10.10.6.0 255.255.255.0 10.10.0.2\nip route-static 10.10.7.0 255.255.255.0 10.10.0.2\n\nsnmp-agent\nsnmp-agent local-engineid 800007DB03B4432653B2F3\nsnmp-agent community read cipher %^%#^:J#Mg^%31MV8Y8x{'UV&gt;}.z&amp;+,#sH4dq6&lt;rv=j'ny0Y!$KX6\"E(NT2zf-TZp$s/irA,Y+rY5D^A2)&gt;%^%#snmp-agent sys-info version v2c v3snmp-agent group v3 v3group privacy read-view v3view write-view v3view notify-view v3viewsnmp-agent target-host trap address udp-domain 10.10.4.86 params securityname 123 v3 privacysnmp-agent mib-view included v3view isosnmp-agent usm-user v3 sdireadsnmp-agent usm-user v3 sdiread group v3groupsnmp-agent usm-user v3 sdiread authentication-mode sha cipher %^%#0!R)77mqh'G$\"&amp;!l6-x\"7JGjNQ|jE&gt;|1XC#z(AZ&amp;%^%#snmp-agent usm-user v3 sdiread privacy-mode aes128 cipher %^%#!.17&lt;La1V.o];#/A(_Zvv&amp;nSpw~&gt;.k{O6%&lt;DVVF%^%#\nsnmp-agent trap enable\n\nundo ssh server compatible-ssh1x enable\nstelnet ipv4 server enable\nstelnet ipv6 server enable\nssh authentication-type default password\nssh user admin\nssh user admin authentication-type password\nssh user admin service-type all\nssh user admin sftp-directory hda1:\nssh client first-time enable\n\nfirewall mac-binding enable\n\nv-gateway public ssl version tlsv11 tlsv12\nv-gateway public ssl ciphersuit custom aes256-sha non-des-cbc3-sha aes128-sha\nv-gateway xm interface GigabitEthernet1/0/0 port 6688 private\nv-gateway xm alias xm\n\n\nsnmp-server arp-sync enable\nsnmp-server target-host arp-sync address 10.10.1.1 community %$%$!Sy=-=o9Q5dv4HE6Y5#M*!Y%$%$ v2c\n\nuser-interface con 0\nauthentication-mode aaa\nuser-interface vty 0 4\nauthentication-mode aaa\nprotocol inbound ssh\nuser-interface vty 16 20\n\npki realm default\nundo crl auto-update enable\n\nsa\n\nlocation\n\ninterface-group 0 isp \"china telecom\"\nadd interface Dialer2\nadd interface Dialer4\nadd interface Dialer3\n\nmulti-interface\nmode proportion-of-bandwidth\nadd interface-group isp \"china telecom\"\n\n#BEGINxm**1***#\nv-gateway xm\nbasic\nssl version tlsv12\nssl timeout 5\nssl lifecycle 1440\nssl ciphersuit custom aes256-sha non-des-cbc3-sha aes128-sha\nservice\nnetwork-extension enable\nnetwork-extension keep-alive enable\nnetwork-extension keep-alive interval 120\nnetwork-extension netpool 172.16.172.2 172.16.172.20 255.255.255.0\nnetpool 172.16.172.2 default\nnetwork-extension mode split\nsecurity\npolicy-default-action permit vt-src-ip\ncertification cert-anonymous cert-field user-filter subject cn group-filter subject cn\ncertification cert-anonymous filter-policy permit-all\ncertification cert-challenge cert-field user-filter subject cn\ncertification user-cert-filter key-usage any\nundo public-user enable\nhostchecker\ncachecleaner\nrole\nrole default\nrole default condition all\nrole default network-extension enable\n#END#\n\nlog custom-report policy 1\ncustom-report term daily\ncustom-report language chinese\ncustom-report type a01 a02 a03 a04 a05\ncustom-report time from 0:0:0 to 23:59:59\n\nright-manager server-group\n\nagile-network\n\ndevice-classification\ndevice-group pc\ndevice-group mobile-terminal\ndevice-group undefined-group\n\nuser-manage server-sync tsm\n\nsecurity-policy\ndefault action permit\n\nauth-policy\n\ntraffic-policy\n\npolicy-based-route\nrule name wifi-office\ndescription \u05ea\u00b7\u00a2\u00b3\udac1\ude30\nsource-zone trust\nsource-address address-set wifi-office\nsource-address address-set Wifi-SHIDIAN_01\ntrack ip-link ge1/0/0\naction pbr egress-interface Dialer2\nrule name monile-guest\ndescription \u05ea\u00b7\u00a2\u00b3\udac1\ude31\nsource-zone trust\nsource-address address-set Wifi-mobile\nsource-address address-set Wifi-Guest\ntrack ip-link mobileguest\naction pbr egress-interface Dialer4\nrule name lan\ndescription \u05ea\u00b7\u00a2\u00b3\udac1\ude33\nsource-zone trust\nsource-address address-set Lan-Office\nsource-address address-set Lan-Jiankong\ntrack ip-link ge1/0/3\naction pbr egress-interface Dialer3\n\nnat-policy\nrule name untrust_trust\nsource-zone trust\ndestination-zone untrust\naction nat easy-ip\n\nproxy-policy\n\nquota-policy\n\npcp-policy\n\ndns-transparent-policy\ndefault action tpdns\ndns server bind interface GigabitEthernet1/0/1 preferred 223.5.5.5 alternate 114.114.114.114\ndns server bind interface GigabitEthernet1/0/0 preferred 223.5.5.5 alternate 114.114.114.114\nmode proportion-of-bandwidth\nadd interface GigabitEthernet1/0/0\nadd interface GigabitEthernet1/0/1\nadd interface-group isp \"china telecom\"\n\nrightm-policy\n\nsms\n\nreturn\n</code></pre></p> <p>10.10.1.1 Python<pre><code>[Core]disp current-configuration\n!Software Version V200R010C00SPC600\n\nsysname Core\n\nvlan batch 10 20 30 40 50 60 70 to 100 200\n\nauthentication-profile name default_authen_profile\nauthentication-profile name dot1x_authen_profile\nauthentication-profile name mac_authen_profile\nauthentication-profile name portal_authen_profile\nauthentication-profile name dot1xmac_authen_profile\nauthentication-profile name multi_authen_profile\n\ntelnet server enable\n\nlldp enable\n\nclock timezone bj add 08:00:00\n\ndhcp enable\n\ndiffserv domain default\n\nradius-server template default\n\nfree-rule-template name default_free_rule\n\nportal-access-profile name portal_access_profile\n\ndrop-profile default\n\nip pool vlan50\ngateway-list 10.10.5.1\nnetwork 10.10.5.0 mask 255.255.255.0\nexcluded-ip-address 10.10.5.230 10.10.5.254\nlease day 0 hour 10 minute 0\ndns-list 10.10.0.1 223.5.5.5 114.114.114.114\nconflict auto-recycle interval day 0 hour 0 minute 5\n\nip pool vlan20\ngateway-list 10.10.2.1\nnetwork 10.10.2.0 mask 255.255.255.0\nexcluded-ip-address 10.10.2.230 10.10.2.254\nlease day 0 hour 10 minute 0\ndns-list 10.10.0.1 223.5.5.5 114.114.114.114\nconflict auto-recycle interval day 0 hour 0 minute 5\n\nip pool vlan40\ngateway-list 10.10.4.1\nnetwork 10.10.4.0 mask 255.255.255.0\nexcluded-ip-address 10.10.4.230 10.10.4.254\nlease day 0 hour 10 minute 0\ndns-list 10.10.0.1 223.5.5.5 114.114.114.114\nconflict auto-recycle interval day 0 hour 0 minute 5\n\nip pool vlan60\ngateway-list 10.10.6.1\nnetwork 10.10.6.0 mask 255.255.255.0\nexcluded-ip-address 10.10.6.240 10.10.6.245\nlease day 0 hour 10 minute 0\ndns-list 10.10.0.1 218.85.152.99 218.85.157.99\nconflict auto-recycle interval day 0 hour 0 minute 5\n\nip pool vlan30\ngateway-list 10.10.3.1\nnetwork 10.10.3.0 mask 255.255.255.0\nexcluded-ip-address 10.10.3.230 10.10.3.254\nlease day 0 hour 10 minute 0\ndns-list 10.10.0.1 223.5.5.5 114.114.114.114\nconflict auto-recycle interval day 0 hour 0 minute 5\n\nip pool vlan70\ngateway-list 10.10.7.1\nnetwork 10.10.7.0 mask 255.255.255.0\nexcluded-ip-address 10.10.7.2\ndns-list 218.85.152.99\n\nip pool vlan530\n\naaa\nauthentication-scheme default\nauthentication-scheme radius\nauthentication-mode radius\nauthorization-scheme default\naccounting-scheme default\nlocal-aaa-user password policy administrator\npassword expire 0\ndomain default\nauthentication-scheme radius\nradius-server default\ndomain default_admin\nauthentication-scheme default\nlocal-user admin password irreversible-cipher $1a${PcbMuqNFM$|UEi@d\"KGW03wPA;9S)1wd4+)t@t($EfmO]A![/$\nlocal-user admin privilege level 15\nlocal-user admin service-type terminal ssh http\n\ninterface Vlanif10\nip address 10.10.1.1 255.255.255.0\n\ninterface Vlanif20\nip address 10.10.2.1 255.255.255.0\ndhcp select global\n\ninterface Vlanif30\nip address 10.10.3.1 255.255.255.0\ndhcp select global\n\ninterface Vlanif40\nip address 10.10.4.1 255.255.255.0\ndhcp select global\n\ninterface Vlanif50\nip address 10.10.5.1 255.255.255.0\ndhcp select global\n\ninterface Vlanif60\nip address 10.10.6.1 255.255.255.0\ndhcp select global\n\ninterface Vlanif70\nip address 10.10.7.1 255.255.255.0\ndhcp select global\n\ninterface Vlanif100\nip address 10.10.0.2 255.255.255.0\n\ninterface Vlanif710\n\ninterface MEth0/0/1\n\ninterface GigabitEthernet0/0/1\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/2\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/3\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/4\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/5\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/6\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/7\nport link-type access\nport default vlan 20\n\ninterface GigabitEthernet0/0/8\n\ninterface GigabitEthernet0/0/9\n\ninterface GigabitEthernet0/0/10\n\ninterface GigabitEthernet0/0/11\n\ninterface GigabitEthernet0/0/12\n\ninterface GigabitEthernet0/0/13\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/14\n\ninterface GigabitEthernet0/0/15\n\ninterface GigabitEthernet0/0/16\n\ninterface GigabitEthernet0/0/17\n\ninterface GigabitEthernet0/0/18\n\ninterface GigabitEthernet0/0/19\n\ninterface GigabitEthernet0/0/20\nport link-type access\nport default vlan 10\n\ninterface GigabitEthernet0/0/21\n\ninterface GigabitEthernet0/0/22\n\ninterface GigabitEthernet0/0/23\nport link-type access\nport default vlan 30\n\ninterface GigabitEthernet0/0/24\nport link-type access\nport default vlan 30\n\ninterface GigabitEthernet0/0/25\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/26\n\ninterface GigabitEthernet0/0/27\n\ninterface GigabitEthernet0/0/28\nport link-type trunk\nport trunk pvid vlan 100\nport trunk allow-pass vlan 2 to 4094\n\ninterface XGigabitEthernet0/0/1\n\ninterface XGigabitEthernet0/0/2\n\ninterface XGigabitEthernet0/0/3\n\ninterface XGigabitEthernet0/0/4\n\ninterface NULL0\n\nip route-static 0.0.0.0 0.0.0.0 10.10.0.1\n\nsnmp-agent\nsnmp-agent local-engineid 800007DB03488EEF9E8CA0\nsnmp-agent community read cipher %^%#O4=HRr&amp;D]NU&amp;*1'$AP6U[1}j:\\ge]&amp;u1p(Em&lt;Zp@Lj:4,L/a5Q%6fq45f=XDiKiHU0Vyc)q,12+qp{rC%^%#\nsnmp-agent sys-info version v2c\nundo snmp-agent sys-info version v3\n\nstelnet server enable\nssh authentication-type default password\nssh user admin\nssh user admin authentication-type password\nssh user admin service-type stelnet\n\nuser-interface con 0\nauthentication-mode aaa\nuser-interface vty 0 4\nauthentication-mode aaa\nuser privilege level 15\nuser-interface vty 16 20\n\ndot1x-access-profile name dot1x_access_profile\n\nmac-access-profile name mac_access_profile\n\nreturn\n</code></pre></p> <p>10.10.1.4 Python<pre><code>[AC]disp current-configuration\n\ndefence engine enable\nsysname AC\n\nsa\n\nhttp secure-server ssl-policy default_policy\nhttp server enable\n\nssl renegotiation-rate 1\n\nupdate schedule ips-sdb daily 22:00\nupdate schedule av-sdb daily 22:00\nupdate schedule sa-sdb daily 22:00\nupdate schedule cnc daily 22:00\nupdate schedule apsa-sdb daily 22:00\n\nvlan batch 2 to 4094\n\nauthentication-profile name default_authen_profile\nauthentication-profile name dot1x_authen_profile\nauthentication-profile name mac_authen_profile\nauthentication-profile name portal_authen_profile\nauthentication-profile name macportal_authen_profile\n\nlldp enable\n\nvlan pool 500\nvlan 500\n\ndhcp enable\n\ndiffserv domain default\n\nradius-server template default\n\npki realm default\nrsa local-key-pair default\nenrollment self-signed\n\nssl policy default_policy type server\npki-realm default\nversion tls1.0 tls1.1 tls1.2\nciphersuite rsa_aes_128_cbc_sha rsa_aes_128_sha256 rsa_aes_256_sha256\n\nike proposal default\nencryption-algorithm aes-256\ndh group14\nauthentication-algorithm sha2-256\nauthentication-method pre-share\nintegrity-algorithm hmac-sha2-256\nprf hmac-sha2-256\n\nfree-rule-template name default_free_rule\n\nportal-access-profile name portal_access_profile\n\naaa\nauthentication-scheme default\nauthentication-scheme radius\nauthentication-mode radius\nauthorization-scheme default\naccounting-scheme default\ndomain default\nauthentication-scheme default\ndomain default_admin\nauthentication-scheme default\nlocal-user admin password irreversible-cipher $1a$@_1)$&gt;$O3$abwE77WVb90~+{0}Lh*U_8QRS}}agTX1H4Xf=uV@$\nlocal-user admin privilege level 15\nlocal-user admin service-type terminal ssh http\n\ninterface Vlanif1\nip address 10.0.0.253 255.255.255.0\ndhcp select interface\n\ninterface Vlanif10\nip address 10.10.1.4 255.255.255.0\n\ninterface Vlanif70\nip address 10.10.7.2 255.255.255.0\n\ninterface GigabitEthernet0/0/1\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/2\n\ninterface GigabitEthernet0/0/3\n\ninterface GigabitEthernet0/0/4\n\ninterface GigabitEthernet0/0/5\n\ninterface GigabitEthernet0/0/6\n\ninterface GigabitEthernet0/0/7\n\ninterface GigabitEthernet0/0/8\n\ninterface NULL0\n\ninfo-center timestamp log format-date\n\nundo snmp-agent\n\nstelnet server enable\nundo telnet ipv6 server enable\nssh server secure-algorithms cipher aes256_ctr aes128_ctr\nssh server secure-algorithms hmac sha2_256\nssh server key-exchange dh_group14_sha1\nssh client secure-algorithms cipher aes256_ctr aes128_ctr\nssh client secure-algorithms hmac sha2_256\nssh client key-exchange dh_group14_sha1\n\nip route-static 0.0.0.0 0.0.0.0 10.10.1.1\n\ncapwap source interface vlanif1\n\nuser-interface con 0\nauthentication-mode password\nset authentication password cipher %^%##sBg)Q&amp;JxC6~HY8*7fQ=UCV(X0U`+$ibws~;Q\\E$j0PLMM1/7#mvo6L58k-P%^%#\nuser-interface vty 0\nauthentication-mode aaa\nscreen-length 25\nprotocol inbound all\nuser-interface vty 1 4\nauthentication-mode aaa\nprotocol inbound all\nuser-interface vty 16 20\nprotocol inbound all\n\nwlan\ncalibrate enable auto interval 1440 start-time 03:00:00\ntraffic-profile name default\nrate-limit client up 1024000000\nrate-limit client down 1024000000\nuser-isolate l2\ntraffic-profile name Shidian\nrate-limit client up 1024000000\nrate-limit client down 1024000000\nuser-isolate l2\nsecurity-profile name LS\nsecurity wpa2 psk pass-phrase %^%#WTj#8:u2i'RrIZG3a./20k3@&amp;2M65/~KMFr9i_S%^%# aessecurity-profile name defaultsecurity-profile name Shidiansecurity wpa-wpa2 psk pass-phrase %^%#}~Qr'yb\"j2GE}&lt;bgDAY5/6f&amp;CV#h:uAJ503aX+Y%^%# aes-tkip  security-profile name SHIDIAN_01            security wpa-wpa2 psk pass-phrase %^%#9&amp;IQ/xQ5wLvb\"mW&gt;^zMBVkR6!&lt;{)0/~0=a@\"02%^%# aessecurity-profile name default-wdssecurity wpa2 psk pass-phrase %^%#qNfI(V#y8:b/W|/(mY81#Z\\D8~!8Y#IO1RwV);+%^%# aes\nsecurity-profile name default-mesh\nsecurity wpa2 psk pass-phrase %^%#o[7\"I\"t]\\4xd-e7_BV:3&amp;kdR~nCGO!El4DSuB&gt;~E%^%# aes\nsecurity-profile name Shidian_guest\nsecurity wpa-wpa2 psk pass-phrase %^%#\"gAgY7kW\\2:DE*'Y\"{|6YS3-85k=&lt;B}ch&lt;H7S(E%^%# aes-tkipsecurity-profile name Shidian_mobilesecurity wpa-wpa2 psk pass-phrase %^%#BlF##l@yuD&amp;=Q%&amp;m!zzUcJ-!!+rSF;q*[JWSbG0X%^%# aes-tkipsecurity-profile name Shidian_officesecurity wpa-wpa2 psk pass-phrase %^%#6V\"&amp;6t#ORK5p+GXR2H.:G=@MKV#TGDKx$-VD&amp;[*%^%# aes-tkip\nssid-profile name default\nssid-profile name Shidian\nssid Shidian\nbeacon-2g-rate 5.5\nbeacon-5g-rate 12\nssid-profile name SHIDIAN_01\nssid SHIDIAN_01\nssid-profile name Shidian_guest\nssid Shidian_guest\nbeacon-2g-rate 5.5\nbeacon-5g-rate 12\nssid-profile name Shidian_mobile\nssid Shidian_mobile\nbeacon-2g-rate 5.5\nbeacon-5g-rate 12\nssid-profile name Shidian_office\nssid Shidian_office\nlegacy-station disable\nbeacon-2g-rate 5.5\nbeacon-5g-rate 12\nvap-profile name default\nvap-profile name Shidian\nssid-profile Shidian\nsecurity-profile Shidian\ntraffic-profile Shidian\nvap-profile name SHIDIAN_01\nservice-vlan vlan-id 70\nssid-profile SHIDIAN_01\nsecurity-profile SHIDIAN_01\nvap-profile name Shidian_guest\nservice-vlan vlan-id 60\nssid-profile Shidian_guest\nsecurity-profile Shidian_guest\nvap-profile name Shidian_mobile\nservice-vlan vlan-id 50\nssid-profile Shidian_mobile\nsecurity-profile Shidian_mobile\nvap-profile name Shidian_office\nservice-vlan vlan-id 40\nssid-profile Shidian_office\nsecurity-profile Shidian_office\nwds-profile name default\nmesh-handover-profile name default\nmesh-profile name default\nregulatory-domain-profile name default\ndca-channel 2.4g channel-set 2,7,12\nregulatory-domain-profile name SHIDIAN\nair-scan-profile name default\nrrm-profile name default\nband-steer balance gap-threshold 25\nsmart-roam enable\nband-steer balance start-threshold 15\nsta-load-balance dynamic enable\nsta-load-balance dynamic sta-number start-threshold 15\nsta-load-balance dynamic sta-number gap-threshold 25\nradio-2g-profile name default\ndot11bg basic-rate 54\ndot11bg supported-rate 54\nsmart-antenna enable\nradio-5g-profile name default\ndot11a supported-rate 54\ndot11a basic-rate 54\nsmart-antenna enable\nwids-profile name default\nwireless-access-specification\nap-system-profile name default\nport-link-profile name default\nwired-port-profile name default\nserial-profile name preset-enjoyor-toeap\nap-group name default\nradio 0\nvap-profile default wlan 4\nradio 1\nvap-profile default wlan 4\nradio 2\nvap-profile default wlan 4\nap-group name SHIDIAN_01\nregulatory-domain-profile SHIDIAN\nradio 0\nvap-profile SHIDIAN_01 wlan 1\nvap-profile Shidian_mobile wlan 2\nvap-profile Shidian_office wlan 3\nvap-profile Shidian_guest wlan 4\nradio 1\nvap-profile SHIDIAN_01 wlan 1\nvap-profile Shidian_mobile wlan 2\nvap-profile Shidian_office wlan 3\nvap-profile Shidian_guest wlan 4\nradio 2\nvap-profile Shidian_mobile wlan 1\nvap-profile Shidian_guest wlan 2\nap-id 0 type-id 78 ap-mac 5c54-6d3d-30c0 ap-sn 21500831153GHB007540\nap-name area_1\nap-group SHIDIAN_01\nap-id 1 type-id 78 ap-mac f86e-ee80-42e0 ap-sn 21500831153GHB003713\nap-name area_2\nap-group SHIDIAN_01\nap-id 2 type-id 78 ap-mac f86e-ee80-1360 ap-sn 21500831153GHB003350\nap-name area_3\nap-group SHIDIAN_01\nap-id 3 type-id 78 ap-mac a4be-2bec-ba60 ap-sn 21500831153GJ7000178\nap-group SHIDIAN_01\nap-id 4 type-id 78 ap-mac a4be-2bed-c0a0 ap-sn 21500831153GJ7002786\nap-group SHIDIAN_01\nap-id 5 type-id 78 ap-mac a4be-2bed-bd80 ap-sn 21500831153GJ7002756\nap-group SHIDIAN_01\nap-id 6 type-id 78 ap-mac f86e-ee80-4800 ap-sn 21500831153GHB003757\nap-group SHIDIAN_01\nprovision-ap\n\ndevice-profile profile-name @default_device_profile\ndevice-type default_type_phone\nenable\nrule 0 user-agent sub-match Android\nrule 1 user-agent sub-match iPhone\nrule 2 user-agent sub-match iPad\nif-match rule 0 or rule 1 or rule 2\n\ndot1x-access-profile name dot1x_access_profile\n\nmac-access-profile name mac_access_profile\n\nundo ntp-service enable\n\nreturn\n</code></pre></p>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E5%8D%81%E7%82%B9%E8%AF%BB%E4%B9%A6/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%85%8D%E7%BD%AE/#101015","title":"10.10.1.5","text":"Python<pre><code>&lt;AP_POE&gt;disp current-configuration\n!Software Version V200R010C00SPC600\n\nsysname AP_POE\n\nvlan batch 2 to 4094\n\nauthentication-profile name default_authen_profile\nauthentication-profile name dot1x_authen_profile\nauthentication-profile name mac_authen_profile\nauthentication-profile name portal_authen_profile\nauthentication-profile name dot1xmac_authen_profile\nauthentication-profile name multi_authen_profile\n\ntelnet server enable\n\nlldp enable\n\nradius-server template default\n\nfree-rule-template name default_free_rule\n\nportal-access-profile name portal_access_profile\n\naaa\nauthentication-scheme default\nauthentication-scheme radius\nauthentication-mode radius\nauthorization-scheme default\naccounting-scheme default\nlocal-aaa-user password policy administrator\npassword expire 0\ndomain default\nauthentication-scheme radius\nradius-server default\ndomain default_admin\nauthentication-scheme default\nlocal-user admin password irreversible-cipher $1a$)}%/ILHD}B$`NG[(cIppNJK-}S[sZU.8+qc/}K]@&amp;-vb93:#KAR$\nlocal-user admin privilege level 15\nlocal-user admin service-type terminal ssh http\n\ninterface Vlanif10\nip address 10.10.1.5 255.255.255.0\n\ninterface GigabitEthernet0/0/1\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/2\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/3\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/4\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/5\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/6\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/7\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\nport-isolate enable group 1\n\ninterface GigabitEthernet0/0/8\n\ninterface GigabitEthernet0/0/9\n\ninterface GigabitEthernet0/0/10\nport link-type trunk\nport trunk allow-pass vlan 2 to 4094\n\ninterface GigabitEthernet0/0/11\n\ninterface GigabitEthernet0/0/12\n\ninterface NULL0\n\nip route-static 0.0.0.0 0.0.0.0 10.10.1.1\n\nstelnet server enable\nssh user admin\nssh user admin authentication-type password\nssh user admin service-type stelnet\n\nuser-interface con 0\nauthentication-mode aaa\nuser-interface vty 0 4\nauthentication-mode aaa\nprotocol inbound all\nuser-interface vty 16 20\n\ndot1x-access-profile name dot1x_access_profile\n\nmac-access-profile name mac_access_profile\n\nreturn\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E9%B9%AD%E5%9B%AD/%E7%BD%91%E7%BB%9C%E8%A7%84%E5%88%92/","title":"\u7f51\u7edc\u89c4\u5212","text":""},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E9%B9%AD%E5%9B%AD/%E7%BD%91%E7%BB%9C%E8%A7%84%E5%88%92/#\u7f51\u7edc\u89c4\u5212","title":"\u7f51\u7edc\u89c4\u5212","text":"Python<pre><code>\u4ea4\u6362\u673a\u63a5\u53e3\ng0/0/1    \u63a5\u8def\u7531\u5668\ng0/0/2    \u63a5\u9510\u6377ac\ng0/0/3 -g0/0/6  \u63a5\u76d1\u63a7\ng0/0/7- g0/0/24  \u63a5ap\n\u7f51\u6bb5\u5212\u5206\nvlan100       192.168.110.2\nvlan20      ap\u7f51\u5173\uff0c\u521b\u5efaap\u5730\u5740\u6c60     192.168.20.0/24\nvlan30      \u5ba2\u6237\u7aef\u7f51\u5173\uff0csta\u5730\u5740\u6c60     192.168.30.0/24     \u914d\u7f6edhcp\nvlan98      \u76d1\u63a7\u7f51\u6bb5\n3\u3001ap\n\u9510\u6377ac \u65c1\u6302\nAC\u5bc6\u7801\uff1aa1234567\nvlan20        wifi2     192.168.20.0/24     DHCP\nvlan30        wifi2     192.168.30.0/24     DHCP\n2\u3001\u6dfb\u52a0\u76d1\u63a7\u7f51\u6bb5   vlan 98        \u7f51\u6bb5192.168.98.0/24       \u5212\u52064\u4e2a\u63a5\u53e3\n\u914d\u7f6e\u8fdc\u7a0b\u7528\u6237ssh\uff1a\nlianwx\nlianwx2022\n</code></pre>"},{"location":"routeswitch/%E7%BD%91%E7%BB%9C%E9%A1%B9%E7%9B%AE/%E9%B9%AD%E5%9B%AD/%E7%BD%91%E7%BB%9C%E8%A7%84%E5%88%92/#\u4ea4\u6362\u673a\u914d\u7f6e","title":"\u4ea4\u6362\u673a\u914d\u7f6e","text":"Python<pre><code>&lt;HUAWEI&gt;disp current-configuration\n!Software Version V200R010C00SPC600\n\nsysname HUAWEI\n\nvlan batch 20 30 88 98 to 100 110\n\nauthentication-profile name default_authen_profile\nauthentication-profile name dot1x_authen_profile\nauthentication-profile name mac_authen_profile\nauthentication-profile name portal_authen_profile\nauthentication-profile name dot1xmac_authen_profile\nauthentication-profile name multi_authen_profile\n\ntelnet server enable\n\ndhcp enable\n\nradius-server template default\n\nfree-rule-template name default_free_rule\n\nportal-access-profile name portal_access_profile\n\nvlan 88\ndescription ap\nvlan 99\ndescription wifi_user\n\naaa\nauthentication-scheme default\nauthentication-scheme radius\nauthentication-mode radius\nauthorization-scheme default\naccounting-scheme default\nlocal-aaa-user password policy administrator\npassword expire 0\ndomain default\nauthentication-scheme radius\nradius-server default\ndomain default_admin\nauthentication-scheme default\nlocal-user admin password irreversible-cipher $1a$-/^h;bKAt8$E+i/UVVvx.folXV;S{-Qn3Q\\U&gt;Ee9TK%v&gt;3Eh&gt;EG$\nlocal-user admin privilege level 15\nlocal-user admin service-type terminal http\nlocal-user lianwx password irreversible-cipher $1a$eWr%%8[&lt;IO$(@]kTujw]Vcnv`&gt;y#sH\")Y/WY[|Yg0&amp;@_sOr/7'E$\nlocal-user lianwx privilege level 15\nlocal-user lianwx service-type telnet ssh\n\ninterface Vlanif1\nip address 192.168.10.1 255.255.255.0\n\ninterface Vlanif20\nip address 192.168.20.1 255.255.255.0\n\ninterface Vlanif30\nip address 192.168.30.1 255.255.255.0\ndhcp select interface\ndhcp server dns-list 218.85.152.99 218.85.157.99\n\ninterface Vlanif98\nip address 192.168.98.1 255.255.255.0\ndhcp select interface\ndhcp server dns-list 218.85.152.99\n\ninterface Vlanif100\nip address 192.168.110.2 255.255.255.0\n\ninterface GigabitEthernet0/0/1\ndescription To_RG-NBR1600G_Lan1\nport default vlan 100\n\ninterface GigabitEthernet0/0/2\ndescription To_RG-RAC64_G1\nport link-type trunk\nport trunk allow-pass vlan 20 30 88 99 to 100 200\n\ninterface GigabitEthernet0/0/3\nport link-type access\nport default vlan 98\nstp edged-port enable\n\ninterface GigabitEthernet0/0/4\nport link-type access\nport default vlan 98\nstp edged-port enable\n\ninterface GigabitEthernet0/0/5\nport link-type access\nport default vlan 98\nstp edged-port enable\n\ninterface GigabitEthernet0/0/6\nport link-type access\nport default vlan 98\nstp edged-port enable\n\ninterface GigabitEthernet0/0/7\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/8\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/9\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/10\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/11\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/12\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/13\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/14\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/15\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/16\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/17\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/18\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/19\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/20\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/21\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/22\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/23\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/24\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/25\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/26\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/27\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/28\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/29\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/30\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/31\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/32\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/33\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/34\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/35\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/36\nport link-type trunk\nport trunk pvid vlan 20\nport trunk allow-pass vlan 20 30\n\ninterface GigabitEthernet0/0/37\n\ninterface GigabitEthernet0/0/38\n\ninterface GigabitEthernet0/0/39\n\ninterface GigabitEthernet0/0/40\n\ninterface GigabitEthernet0/0/41\n\ninterface GigabitEthernet0/0/42\n\ninterface GigabitEthernet0/0/43\n\ninterface GigabitEthernet0/0/44\n\ninterface GigabitEthernet0/0/45\n\ninterface GigabitEthernet0/0/46\n\ninterface GigabitEthernet0/0/47\n\ninterface GigabitEthernet0/0/48\n\ninterface GigabitEthernet0/0/49\n\ninterface GigabitEthernet0/0/50\n\ninterface GigabitEthernet0/0/51\n\ninterface GigabitEthernet0/0/52\n\ninterface NULL0\n\nip route-static 0.0.0.0 0.0.0.0 192.168.110.1\nip route-static 1.1.1.1 255.255.255.255 192.168.200.254\nip route-static 192.168.88.0 255.255.255.0 192.168.200.254\nip route-static 192.168.98.0 255.255.254.0 192.168.200.254\n\nstelnet server enable\nssh user lianwx\nssh user lianwx authentication-type all\nssh user lianwx service-type all\n\nuser-interface con 0\nauthentication-mode none\nuser-interface vty 0 4\nauthentication-mode aaa\nuser privilege level 15\nuser-interface vty 16 20\n\ndot1x-access-profile name dot1x_access_profile\n\nmac-access-profile name mac_access_profile\n\nreturn\n</code></pre>"},{"location":"shell/","title":"Shell\u4ecb\u7ecd","text":"<p>\u5728\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u4e2d\uff0cShell\u6a21\u5757\u662f\u8bb0\u5f55\u65e5\u5e38\u4f7f\u7528\u7684Shell\u811a\u672c\u4e0e\u6280\u5de7\u7684\u5730\u65b9\u3002\u8fd9\u4e9b\u811a\u672c\u50cf\u662f\u751f\u6d3b\u4e2d\u7684\u5c0f\u52a9\u624b\uff0c\u5e2e\u52a9\u6211\u9ad8\u6548\u5730\u5b8c\u6210\u5404\u79cd\u4efb\u52a1\uff0c\u4ece\u6587\u4ef6\u7ba1\u7406\u5230\u7cfb\u7edf\u7ef4\u62a4\uff0c\u751a\u81f3\u81ea\u52a8\u5316\u65e5\u5e38\u64cd\u4f5c \u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84case%E9%80%89%E6%8B%A9/","title":"Shell\u7684case\u9009\u62e9","text":""},{"location":"shell/shell-note/shell%E7%9A%84case%E9%80%89%E6%8B%A9/#shell-\u7684case\u9009\u62e9","title":"shell \u7684case\u9009\u62e9","text":""},{"location":"shell/shell-note/shell%E7%9A%84case%E9%80%89%E6%8B%A9/#\u6982\u8ff0","title":"\u6982\u8ff0","text":"<p>case \u9009\u62e9\u8bed\u53e5\u662f shell \u7f16\u7a0b\u4e2d\u4e00\u79cd\u591a\u5206\u652f\u9009\u62e9\u7ed3\u6784\uff0c\u7c7b\u4f3c\u4e8e\u5176\u4ed6\u8bed\u8a00\u4e2d\u7684 switch\u00b7.case \u8bed\u53e5\u3002case \u9009\u62e9\u8bed\u53e5\u5339\u914d\u4e00\u4e2a\u503c\u6216\u4e00\u4e2a\u6a21\u5f0f\uff0c\u5982\u679c\u5339\u914d\u6210\u529f\uff0c\u6267\u884c\u76f8\u5339\u914d\u7684\u547d\u4ee4\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84case%E9%80%89%E6%8B%A9/#case-\u8bed\u6cd5\u7ed3\u6784","title":"case \u8bed\u6cd5\u7ed3\u6784","text":"<p>case \u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\uff1a</p> Text Only<pre><code>case expr in\n    pattern1)\n        commands1\n        ;;\n    pattern2)\n        commands2\n        ;;\n    ......\n    *)\n        commands\n        ;;\nesac\n</code></pre> <ul> <li>expr \u4e3a\u8868\u8fbe\u5f0f\uff0c\u5173\u952e\u8bcd in \u4e0d\u8981\u5fd8</li> <li>pattern1\u3001pattern2 \u7b49\u4e3a\u6a21\u5f0f\uff0c\u7528\u6765\u5339\u914d expr \u7684\u503c</li> <li>commands1\u3001commands2 \u7b49\u4e3a\u547d\u4ee4\u5757\uff0c\u5982\u679c expr \u4e0e pattern1 \u5339\u914d\uff0c\u5219\u6267\u884c commands1 \u547d\u4ee4\u5757\uff0c\u4ee5\u6b64\u7c7b\u63a8</li> <li>;; \u4e3a\u5206\u9694\u7b26\uff0c\u8868\u793a\u5339\u914d\u6210\u529f\u540e\u9000\u51fa case \u7ed3\u6784</li> </ul>"},{"location":"shell/shell-note/shell%E7%9A%84case%E9%80%89%E6%8B%A9/#case-\u9009\u62e9\u8bed\u53e5\u7684\u51e0\u70b9\u8bf4\u660e","title":"case \u9009\u62e9\u8bed\u53e5\u7684\u51e0\u70b9\u8bf4\u660e","text":"<p>\u5728\u4f7f\u7528 case \u9009\u62e9\u8bed\u53e5\u7684\u65f6\u5019\uff0c\u9700\u8981\u6ce8\u610f\u5982\u4e0b\u51e0\u70b9\uff1a</p> <ul> <li>expr \u6309\u987a\u5e8f\u5339\u914d\u6bcf\u4e2a\u6a21\u5f0f\uff0c\u4e00\u65e6\u6709\u4e00\u4e2a\u6a21\u5f0f\u5339\u914d\u6210\u529f\uff0c\u5219\u6267\u884c\u8be5\u6a21\u5f0f\u540e\u9762\u7684\u6240\u6709\u547d\u4ee4\uff0c\u7136\u540e\u9000\u51fa case\u3002</li> <li>\u5982\u679c expr \u6ca1\u6709\u627e\u5230\u5339\u914d\u7684\u6a21\u5f0f\uff0c\u5219\u6267\u884c\u9ed8\u8ba4\u503c ) \u540e\u9762\u7684\u547d\u4ee4\u5757(\u7c7b\u4f3c\u4e8e if \u4e2d\u7684 else)\u3002)\u53ef\u4ee5\u4e0d\u51fa\u73b0\u3002</li> <li>\u5339\u914d\u6a21\u5f0f pattern \u4e2d\u53ef\u4ee5\u542b\u6709\u901a\u914d\u7b26\u548c\u3002</li> <li>\u6bcf\u4e2a\u547d\u4ee4\u5757\u7684\u6700\u540e\u5fc5\u987b\u6709\u4e00\u4e2a\u53cc\u5206\u53f7\uff0c\u53ef\u4ee5\u72ec\u5360\u4e00\u884c\uff0c\u6216\u653e\u5728\u6700\u540e\u4e00\u4e2a\u547d\u4ee4\u7684\u540e\u9762\u3002</li> </ul>"},{"location":"shell/shell-note/shell%E7%9A%84case%E9%80%89%E6%8B%A9/#\u5b9e\u9a8c\u793a\u4f8b","title":"\u5b9e\u9a8c\u793a\u4f8b","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4f7f\u7528 case \u9009\u62e9\u8bed\u53e5\u7684\u5b9e\u9a8c\u793a\u4f8b\uff1a</p> <p>\u5b9e\u9a8c 1\uff1a\u6839\u636e\u7528\u6237\u8f93\u5165\u7684\u6570\u5b57\uff0c\u663e\u793a\u76f8\u5e94\u7684\u811a\u672c\u8bed\u8a00</p> Text Only<pre><code>#!/bin/bash\n\necho \"what is your preferred scripting language?\"\nread -p \"1)bash 2)perl 3)python 4)ruby:\" lang\n\ncase $lang in\n    1)  echo \"you selected bash\" ;;\n    2)  echo \"you selected perl\" ;;\n    3)  echo \"you selected python\" ;;\n    4)  echo \"you selected ruby\" ;;\nesac\n</code></pre> <p>\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Text Only<pre><code>1\n</code></pre> <p>\u5c06\u8f93\u51fa\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> Text Only<pre><code>you selected bash\n</code></pre> <p>\u5b9e\u9a8c 2\uff1a\u6839\u636e\u7528\u6237\u8f93\u5165\u7684\u6c34\u679c\uff0c\u663e\u793a\u76f8\u5e94\u7684\u63d0\u793a</p> Text Only<pre><code>#!/bin/bash\n\necho \"which is your preferred fruit?\"\nread -p \"Apple,Pear,Kiwi,Lemon,Orange,Banana:\" pi #\u8bfb\u53d6\u8f93\u5165\u5185\u5bb9\uff0c\u8d4b\u503c\u7ed9\u53d8\u91cfpi\n\ncase $pi in\n    [Aa]*|[Pp]*)    echo \"You selected Apple/Pear.\" ;;  #\u662fAa/Pp\u8f93\u51fa\"You selected Apple/Pear.\"\n    [Kk]*|[Ll]*)    echo \"You selected Kiwi/Lemon.\" ;;\n    [Oo]*|[Bb]*)    echo \"You selected Orange/Banana\" ;;\n    *) echo \"No fruit i like.\" ;;                       #\u8f93\u5165\u5185\u5bb9\u975e\u4ee5\u4e0a\u9009\u9879\uff0c\u5219\u8868\u793a\u6ca1\u6709\u559c\u6b22\u7684\u6c34\u679c\nesac\n</code></pre> <p>\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Text Only<pre><code>Apple\n</code></pre> <p>\u5c06\u8f93\u51fa\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> Text Only<pre><code>You selected Apple/Pear.\n</code></pre> <p>\u5b9e\u9a8c3\uff1a\u6839\u636e\u7528\u6237\u8f93\u5165\u7684\u5929\u6c14\u72b6\u51b5\uff0c\u663e\u793a\u76f8\u5e94\u7684\u63d0\u793a</p> Text Only<pre><code>#!/bin/bash\n\necho \"what is the weather today?\"\nread -p \"1)Sunny 2)Rainy 3)Snowy 4)Cloudy:\" weather\n\ncase $weather in\n    1)  echo \"It's a sunny day today. Have a nice day!\" ;;\n    2)  echo \"It's a rainy day today. Bring an umbrella.\" ;;\n    3)  echo \"It's a snowy day today. Be careful not to slip.\" ;;\n    4)  echo \"It's a cloudy day today. The sun is hiding.\" ;;\nesac\n</code></pre> <p>\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Text Only<pre><code>1\n</code></pre> <p>\u5c06\u8f93\u51fa\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> Python<pre><code>It's a sunny day today. Have a nice day!\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84case%E9%80%89%E6%8B%A9/#\u6269\u5c55\u77e5\u8bc6","title":"\u6269\u5c55\u77e5\u8bc6","text":"<ul> <li>case \u9009\u62e9\u8bed\u53e5\u7684\u5339\u914d\u6a21\u5f0f\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u3002</li> <li>case \u9009\u62e9\u8bed\u53e5\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u590d\u6742\u7684\u903b\u8f91\u5224\u65ad\u3002</li> </ul>"},{"location":"shell/shell-note/shell%E7%9A%84case%E9%80%89%E6%8B%A9/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>case \u9009\u62e9\u8bed\u53e5\u662f shell \u7f16\u7a0b\u4e2d\u4e00\u79cd\u5f3a\u5927\u7684\u591a\u5206\u652f\u9009\u62e9\u7ed3\u6784\uff0c\u53ef\u4ee5\u7528\u4e8e\u6839\u636e\u4e0d\u540c\u7684\u6761\u4ef6\u6267\u884c\u4e0d\u540c\u7684\u64cd\u4f5c\u3002\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u7075\u6d3b\u5730\u4f7f\u7528 case \u9009\u62e9\u8bed\u53e5\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/","title":"Shell\u7684for\u5faa\u73af","text":""},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#shell-\u7684-for-\u5faa\u73af","title":"shell \u7684 for \u5faa\u73af","text":""},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#\u6982\u8ff0","title":"\u6982\u8ff0","text":"<p>for \u5faa\u73af\u662f shell \u4e2d\u5e38\u7528\u7684\u5faa\u73af\u63a7\u5236\u7ed3\u6784\uff0c\u7528\u4e8e\u91cd\u590d\u6267\u884c\u4e00\u6bb5\u4ee3\u7801\u3002for \u5faa\u73af\u7684\u8bed\u6cd5\u5982\u4e0b\uff1a</p> Text Only<pre><code>for variable in list\ndo\n    commands\ndone\n</code></pre> <p>\u5176\u4e2d\uff1a</p> <ul> <li>variable \u662f\u5faa\u73af\u53d8\u91cf\uff0c\u6bcf\u6b21\u5faa\u73af\u4f1a\u4ece list \u4e2d\u53d6\u51fa\u4e00\u4e2a\u503c\u8d4b\u7ed9 variable\u3002</li> <li>list \u662f\u5faa\u73af\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u3001\u6587\u4ef6\u540d\u3001\u6570\u5b57\u5e8f\u5217\u7b49\u3002</li> <li>commands \u662f\u5faa\u73af\u4f53\uff0c\u5faa\u73af\u4f1a\u91cd\u590d\u6267\u884c commands \u6307\u5b9a\u7684\u4ee3\u7801\u3002</li> </ul>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#\u5217\u8868-for-\u5faa\u73af","title":"\u5217\u8868 for \u5faa\u73af","text":"<p>\u5217\u8868 for \u5faa\u73af\u662f for \u5faa\u73af\u6700\u5e38\u89c1\u7684\u4e00\u79cd\u5f62\u5f0f\uff0clist \u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u3001\u6587\u4ef6\u540d\u3001\u6570\u5b57\u5e8f\u5217\u7b49\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#\u4f8b1\u8f93\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6","title":"\u4f8b1\uff1a\u8f93\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6","text":"Text Only<pre><code>#!/bin/bash\n\nfor file in *\ndo\n    echo \"$file\"\ndone\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#\u4f8b2\u8bfb\u53d6etcpasswd\u6587\u4ef6\u83b7\u53d6\u7528\u6237\u540d","title":"\u4f8b2\uff1a\u8bfb\u53d6/etc/passwd\u6587\u4ef6\uff0c\u83b7\u53d6\u7528\u6237\u540d","text":"Text Only<pre><code>#!/bin/bash\n\nfor username in `awk -F: '{print $1}' /etc/passwd`\ndo\n    echo \"$username\"\ndone\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#\u4e0d\u5e26\u5217\u8868\u7684-for-\u5faa\u73af","title":"\u4e0d\u5e26\u5217\u8868\u7684 for \u5faa\u73af","text":"<p>\u4e0d\u5e26\u5217\u8868\u7684 for \u5faa\u73af\u662f\u6307\u5faa\u73af\u53d8\u91cf variable \u7684\u503c\u7531\u547d\u4ee4\u884c\u53c2\u6570\u6307\u5b9a\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#\u4f8b1\u8f93\u51fa\u547d\u4ee4\u884c\u53c2\u6570","title":"\u4f8b1\uff1a\u8f93\u51fa\u547d\u4ee4\u884c\u53c2\u6570","text":"Text Only<pre><code>#!/bin/bash\n\nfor arg\ndo\n    echo \"$arg\"\ndone\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#break-\u548c-continue","title":"break \u548c continue","text":"<p>break \u548c continue \u662f shell \u4e2d\u7528\u4e8e\u63a7\u5236 for \u5faa\u73af\u7684\u4e24\u4e2a\u5173\u952e\u5b57\u3002</p> <ul> <li>break \u7528\u4e8e\u5f3a\u884c\u9000\u51fa\u5f53\u524d\u5faa\u73af\u3002</li> <li>continue \u7528\u4e8e\u5ffd\u7565\u672c\u6b21\u5faa\u73af\u7684\u5269\u4f59\u90e8\u5206\uff0c\u56de\u5230\u5faa\u73af\u7684\u9876\u90e8\uff0c\u7ee7\u7eed\u4e0b\u4e00\u6b21\u5faa\u73af\u3002</li> </ul>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#\u4f8b1\u4f7f\u7528-break-\u9000\u51fa\u5faa\u73af","title":"\u4f8b1\uff1a\u4f7f\u7528 break \u9000\u51fa\u5faa\u73af","text":"Text Only<pre><code>#!/bin/bash\n\ni=1\nfor day in Mon Tue Wed Thu Fri\ndo\n    echo \"Weekday $((i++)) : $day\"\n    if [ $i -eq 3 ]; then\n        break\n    fi\ndone\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#\u4f8b2\u4f7f\u7528-continue-\u8df3\u8fc7\u5468\u672b","title":"\u4f8b2\uff1a\u4f7f\u7528 continue \u8df3\u8fc7\u5468\u672b","text":"Text Only<pre><code>#!/bin/bash\n\ni=1\nfor day in Mon Tue Wed Thu Fri Sat Sun\ndo\n    echo -n \"Day $((i++)) : $day\"\n    if [ $i -eq 7 -o $i -eq 8 ]; then\n        echo \"(WEEKEND)\"\n        continue\n    fi\n    echo \"(weekday)\"\ndone\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#\u7c7bc\u8bed\u8a00for\u5faa\u73af","title":"\u7c7bC\u8bed\u8a00for\u5faa\u73af","text":"<p>shell \u7684\u7c7b C \u8bed\u8a00 for \u8bed\u6cd5\u4e0e C \u8bed\u8a00\u7684 for \u8bed\u6cd5\u76f8\u4f3c\uff0c\u90fd\u662f\u7528\u4e8e\u91cd\u590d\u6267\u884c\u4e00\u6bb5\u4ee3\u7801\u7684\u7ed3\u6784\u3002shell \u7684\u7c7b C \u8bed\u8a00 for \u8bed\u6cd5\u7684\u8bed\u6cd5\u5982\u4e0b\uff1a</p> Text Only<pre><code>for (( variable = start; condition; increment ))\ndo\n    commands\ndone\n</code></pre> <p>\u5176\u4e2d\uff1a</p> <ul> <li>variable \u662f\u5faa\u73af\u53d8\u91cf\uff0c\u6bcf\u6b21\u5faa\u73af\u4f1a\u4ece start \u7684\u503c\u5f00\u59cb\uff0c\u6839\u636e condition \u7684\u5224\u65ad\u8fdb\u884c\u5faa\u73af\u3002</li> <li>start \u662f\u5faa\u73af\u53d8\u91cf\u7684\u521d\u59cb\u503c\u3002</li> <li>condition \u662f\u5faa\u73af\u7684\u6761\u4ef6\uff0c\u5982\u679c\u6761\u4ef6\u4e3a\u771f\uff0c\u5219\u7ee7\u7eed\u5faa\u73af\uff0c\u5426\u5219\u9000\u51fa\u5faa\u73af\u3002</li> <li>increment \u662f\u5faa\u73af\u53d8\u91cf\u7684\u6b65\u8fdb\u503c\uff0c\u6bcf\u6b21\u5faa\u73af\u540e\uff0c\u5faa\u73af\u53d8\u91cf\u4f1a\u589e\u52a0 increment \u7684\u503c\u3002</li> </ul>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#\u6f14\u793a\u793a\u4f8b","title":"\u6f14\u793a\u793a\u4f8b","text":"<p>1. 10\u79d2\u5012\u8ba1\u65f6</p> Text Only<pre><code>#!/bin/bash\n\necho \"10\u79d2\u5012\u8ba1\u65f6:\"\necho\n\nfor (( i=10; i&gt;0; i-- ))\ndo\n    echo $i\n    sleep 1\ndone\n</code></pre> <p>\u8be5\u811a\u672c\u8f93\u51fa\uff1a</p> Text Only<pre><code>10\u79d2\u5012\u8ba1\u65f6:\n\n10\n9\n8\n7\n6\n5\n4\n3\n2\n1\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#\u6269\u5c55\u77e5\u8bc6","title":"\u6269\u5c55\u77e5\u8bc6","text":"<ul> <li>for \u5faa\u73af\u4e5f\u53ef\u4ee5\u5d4c\u5957\u4f7f\u7528\uff0c\u5373\u5728 for \u5faa\u73af\u4e2d\u5d4c\u5957\u53e6\u4e00\u4e2a for \u5faa\u73af\u3002</li> <li>for \u5faa\u73af\u8fd8\u53ef\u4ee5\u4f7f\u7528 range \u51fd\u6570\uff0crange \u51fd\u6570\u53ef\u4ee5\u751f\u6210\u4e00\u4e2a\u6570\u5b57\u5e8f\u5217\u3002</li> </ul>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>shell \u7684\u7c7b C \u8bed\u8a00 for \u8bed\u6cd5\u53ef\u4ee5\u7b80\u5316 for \u5faa\u73af\u7684\u8bed\u6cd5\uff0c\u4f7f\u5176\u66f4\u52a0\u63a5\u8fd1 C \u8bed\u8a00\u7684\u8bed\u6cd5\u3002\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u5408\u9002\u7684\u8bed\u6cd5\u3002</p> <p>for \u5faa\u73af\u662f shell \u4e2d\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2a\u5faa\u73af\u63a7\u5236\u7ed3\u6784\uff0c\u638c\u63e1 for \u5faa\u73af\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u66f4\u52a0\u9ad8\u6548\u5730\u7f16\u5199 shell \u811a\u672c\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#_1","title":"Shell\u7684for\u5faa\u73af","text":""},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#\u5176\u4ed6\u4e3e\u4f8b","title":"\u5176\u4ed6\u4e3e\u4f8b","text":""},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#1\u4f8b1-\u6240\u6709\u6587\u4ef6\u540d\u5927\u5199\u66ff\u6362\u4e3a\u5c0f\u5199","title":"1.\u4f8b1 \u6240\u6709\u6587\u4ef6\u540d\u5927\u5199\u66ff\u6362\u4e3a\u5c0f\u5199","text":"<p>\u811a\u672c\u7684\u529f\u80fd\u662f\u5c06\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u7684\u5927\u5199\u6587\u4ef6\u540d\u6539\u4e3a\u5c0f\u5199\u6587\u4ef6\u540d</p> Bash<pre><code>#!/bin/bash\n##filename:for5.sh\nfor fname in * ;do\nfn=$(echo $fname | tr A-Z a-z)\nif [[ $fname != $fn ]] ; then mv $fname $fn ; fi\ndone\n</code></pre> <p>\u6280\u5de7\uff1a\u811a\u672c\u4e2d\u7684*\u8868\u793a\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u3002\u9996\u5148\u4f7f\u7528\u547d\u4ee4\u66ff\u6362\u751f\u6210\u5c0f\u5199\u7684\u6587\u4ef6\u540d\uff0c\u8d4b\u4e88\u65b0\u7684\u53d8\u91cff\uff0c\u5982\u679c\u65b0\u751f\u6210\u7684\u5c0f\u5199\u6587\u4ef6\u540d\u4e0e\u539f\u6587\u4ef6\u540d\u4e0d\u540c\uff0c\u5219\u6539\u4e3a\u5c0f\u5199\u7684\u6587\u4ef6\u540d\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#2-\u4f8b2-\u8bfb\u53d6etcpasswd\u6587\u4ef6\u4f9d\u6b21\u8f93\u51faip\u6bb5","title":"2. \u4f8b2 \u8bfb\u53d6/etc/passwd\u6587\u4ef6\uff0c\u4f9d\u6b21\u8f93\u51faip\u6bb5","text":"Bash<pre><code>#!/bin/bash\n##filename:for6.sh\ni=1\nfor username in `awk -F: '{print $1}' /etc/passwd`\ndo\n    echo \"Username $((i++)) : $username\"\ndone\n\nfor suffix in $(seq 10)\ndo\n    echo \"192.168.0.${suffix}\"\ndone\n</code></pre> <p>\u811a\u672c\u5b9e\u73b0\u4e24\u4e2a\u529f\u80fd:  1\u3001\u8bfb\u53d6/etc/passwd \u6587\u4ef6\uff0c\u901a\u8fc7awk \u83b7\u53d6\u7b2c1\u5217\u7684\u5185\u5bb9\u4f5c\u4e3a list\uff0c\u6ce8\u610fin\u540e\u9762\u547d\u4ee4\u7684\u5199\u6cd5\uff0c\u662f\u4e2a\u53cd\u5f15\u53f7\uff0c\u4e5f\u5c31\u662f\u952e\u76d8(Esc)\u4e0b\u9762\u7684\u90a3\u4e2a\u952e\uff0c 2\u3001\u901a\u8fc7seq \u6307\u5b9a\u6570\u5b57list\uff0c\u4ece1~10\uff0c\u7136\u540e\u4f9d\u6b21\u8f93\u51fa\u4e00\u4e2aIP\u8303\u56f4\u6bb5</p> <p></p>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#3-\u4f8b3-\u8bfb\u53d6etchosts\u5185\u5bb9for\u5faa\u73af\u6267\u884cping","title":"3. \u4f8b3 \u8bfb\u53d6/etc/hosts\u5185\u5bb9for\u5faa\u73af\uff0c\u6267\u884cping","text":"<p>Bash<pre><code>#!/bin/bash\n#filename:for7_host.sh\n\nfor host in $(cat /etc/hosts)\ndo\n    if ping -c1 -w2 $host &amp;&gt;/dev/null\n    then\n        echo \"host ($host) is active.\"\n    else\n        echo \"host ($host) is down.\"\n    fi\ndone\n</code></pre> \u8fd9\u4e2a\u811a\u672c\u7684\u529f\u80fd\u662f\u901a\u8fc7\u8bfb\u53d6/etc/hosts \u7684\u5185\u5bb9\u4f5c\u4e3a for\u5faa\u73af\u7684list\uff0c\u7136\u540e\u5bf9\u8bfb\u53d6\u5230\u7684\u5185\u5bb9\u8fdb\u884cping \u64cd\u4f5c\uff0c\u5982\u679c\u80fd\u591fping\u901a\uff0c\u663e\u793aactive\uff0c\u5426\u5219\u663e\u793aDOWN\u3002 </p>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#4-\u4f8b4-\u5faa\u73afip\u5217\u8868\u8f93\u51fa\u5bf9\u5e94\u7f16\u53f7","title":"4. \u4f8b4 \u5faa\u73afip\u5217\u8868\uff0c\u8f93\u51fa\u5bf9\u5e94\u7f16\u53f7","text":"Bash<pre><code>#!/bin/bash\n#filename:for8.sh\nmynet=\"192.168.0\"\nfor num in {1..6}\ndo\necho \"IP Address $num: $mynet.$num\"\ndone\n\nfor num in {1..10..2}\ndo\necho \"Number: $num\"\ndone\n</code></pre> <p>\u8fd9\u4e2a\u811a\u672c\u662f\u901a\u8fc7\u6570\u503c\u8303\u56f4\u4f5c\u4e3a for \u5faa\u73af\u7684 lit \u5217\u8868\uff0c1.6\u8868\u793a\u4ece1~6\uff0c\u800c110..2\u662f\u4f7f\u7528\u5305\u542b\u6b65\u957f(increment)\u7684\u6570\u503c\u8303\u56f4\u4f5c\u4e3afor \u5faa\u73af\u7684list\uff0c\u8868\u793a\u4ece1~10\uff0c\u6bcf\u96942\u4e2a\u6b65\u957f\uff0c\u6267\u884c\u811a\u672c\uff0c\u8f93\u51fa\u5982\u4e0b: </p>"},{"location":"shell/shell-note/shell%E7%9A%84for%E5%BE%AA%E7%8E%AF/#5-\u4f8b5-\u6279\u91cf\u6dfb\u52a0\u7528\u6237","title":"5. \u4f8b5 \u6279\u91cf\u6dfb\u52a0\u7528\u6237","text":"<p>Bash<pre><code>#\uff01/bin/bash\n#filename:for9.sh\nfor x in {1..10}\ndo\nuseradd user${x}\necho \"centos\"|passwd --stdin user${x}\nchage -d 0 user${x}\ndone\n</code></pre> \u8fd9\u4e2a\u811a\u672c\u529f\u80fd\u662f\u6279\u91cf\u6dfb\u52a010\u4e2aLinux\u7cfb\u7edf\u7528\u6237\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cstdin \u662f\u63a5\u53d7echo\u540e\u9762\u7684\u5b57\u7b26\u4e32\u4f5c\u4e3a\u5bc6\u7801\uff0cstdin \u8868\u793a\u975e\u4ea4\u4e92\uff0c\u76f4\u63a5\u4f20\u5165\u5bc6\u7801\uff0cpasswd \u9ed8\u8ba4\u662f\u8981\u7528\u7ec8\u7aef\u4f5c\u4e3a\u6807\u51c6\u8f93\u5165\uff0c\u52a0\u4e0a\u2013stdin \u8868\u793a\u53ef\u4ee5\u7528\u4efb\u610f\u6587\u4ef6\u505a\u6807\u51c6\u8f93\u5165\uff0c\u4e8e\u662f\u8fd9\u91cc\u7528\u7ba1\u9053\u4f5c\u4e3a\u6807\u51c6\u8f93\u5165\u3002\u6700\u540e\u7684chage\u547d\u4ee4\u662f\u5f3a\u5236\u65b0\u5efa\u7528\u6237\u7b2c1\u6b21\u767b\u5f55\u65f6\u4fee\u6539\u5bc6\u7801\u3002 </p>"},{"location":"shell/shell-note/shell%E7%9A%84if%E5%88%A4%E6%96%AD/","title":"Shell\u7684if\u5224\u65ad","text":""},{"location":"shell/shell-note/shell%E7%9A%84if%E5%88%A4%E6%96%AD/#shell-\u7684if\u5224\u65ad","title":"shell \u7684if\u5224\u65ad","text":""},{"location":"shell/shell-note/shell%E7%9A%84if%E5%88%A4%E6%96%AD/#\u6982\u8ff0","title":"\u6982\u8ff0","text":"<p>if \u5224\u65ad\u662f shell \u7f16\u7a0b\u4e2d\u4f7f\u7528\u9891\u7387\u6700\u9ad8\u7684\u8bed\u6cd5\u7ed3\u6784\uff0c\u7528\u4e8e\u6839\u636e\u6761\u4ef6\u6267\u884c\u4e0d\u540c\u7684\u64cd\u4f5c\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84if%E5%88%A4%E6%96%AD/#\u7b80\u5355if\u7ed3\u6784","title":"\u7b80\u5355if\u7ed3\u6784","text":"<p>\u6700\u7b80\u5355\u7684 if \u6267\u884c\u7ed3\u6784\u5982\u4e0b\u6240\u793a:</p> Text Only<pre><code>if expression\nthen\n    command\n    command\n    ...\nfi\n</code></pre> <p>expression \u8868\u793a\u6d4b\u8bd5\u6761\u4ef6\uff0c\u5982\u679c expression \u7684\u503c\u4e3a\u771f\uff0c\u5219\u6267\u884c then \u8bed\u53e5\u5757\u4e2d\u7684\u547d\u4ee4\uff0c\u5426\u5219\u4e0d\u6267\u884c\u3002</p> <p>\u4f8b\u5982\uff0c\u4ee5\u4e0b\u811a\u672c\u4f1a\u8be2\u95ee\u7528\u6237\u4eca\u5929\u7684\u5fc3\u60c5\u5982\u4f55\uff0c\u7136\u540e\u6839\u636e\u7528\u6237\u7684\u56de\u7b54\u505a\u51fa\u4e0d\u540c\u7684\u56de\u5e94\uff1a</p> Text Only<pre><code>#!/bin/bash\n\necho \"\u4f60\u597d\uff01\u4f60\u4eca\u5929\u5fc3\u60c5\u5982\u4f55\uff1f\uff08\u8bf7\u8f93\u5165 '\u597d' \u6216 '\u4e0d\u597d'\uff09\"\nread mood\n\nif [[ $mood == [\u597d\u597d]* ]]; then\n  echo \"\u5f88\u9ad8\u5174\u542c\u5230\u4f60\u5fc3\u60c5\u4e0d\u9519\uff01\"\nelse\n  echo \"\u62b1\u6b49\u542c\u5230\u4f60\u5fc3\u60c5\u4e0d\u597d\uff0c\u6709\u4ec0\u4e48\u6211\u53ef\u4ee5\u5e2e\u52a9\u4f60\u7684\u5417\uff1f\"\nfi\n</code></pre> <p>\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u8f93\u5165 \u201c\u597d\u201d\uff0c\u4f1a\u5f97\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a</p> Text Only<pre><code>\u4f60\u597d\uff01\u4f60\u4eca\u5929\u5fc3\u60c5\u5982\u4f55\uff1f\uff08\u8bf7\u8f93\u5165 '\u597d' \u6216 '\u4e0d\u597d'\uff09\n\u597d\n\u5f88\u9ad8\u5174\u542c\u5230\u4f60\u5fc3\u60c5\u4e0d\u9519\uff01\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84if%E5%88%A4%E6%96%AD/#ifelse\u7ed3\u6784","title":"if/else\u7ed3\u6784","text":"<p>if/else \u7ed3\u6784\u4e5f\u662f\u7ecf\u5e38\u4f7f\u7528\u7684\uff0c\u8fd9\u4e2a\u7ed3\u6784\u662f\u53cc\u5411\u9009\u62e9\u8bed\u53e5\uff0c\u5982\u679c\u7528\u6237\u6267\u884c\u811a\u672c\u65f6\u5982\u679c\u4e0d\u6ee1\u8db3 if \u540e\u7684\u8868\u8fbe\u5f0f\uff0c\u5c31\u4f1a\u6267\u884c else \u540e\u7684\u547d\u4ee4\uff0c\u6240\u4ee5\u6709\u5f88\u597d\u7684\u4ea4\u4e92\u6027\u3002</p> Text Only<pre><code>if  expression1\nthen\n    command\n    ...\n    command\nelse\n    command\n    ...\n    command\nfi\n</code></pre> <p>\u4f8b\u5982\uff0c\u4ee5\u4e0b\u811a\u672c\u4f1a\u5224\u65ad\u7528\u6237\u662f\u5426\u8f93\u5165\u4e86\u53c2\u6570\uff0c\u5982\u679c\u6ca1\u6709\u8f93\u5165\u53c2\u6570\uff0c\u5219\u663e\u793a\u4f7f\u7528\u8bf4\u660e\uff1a</p> Text Only<pre><code>#!/bin/bash\n\nif [ $# -eq 0 ]; then\n  echo \"Usage:$0&lt;username&gt;\"\n  exit\nelse\n  echo \"Hello, $1!\"\nfi\n</code></pre> <p>\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u4e0d\u8f93\u5165\u53c2\u6570\uff0c\u4f1a\u5f97\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a</p> Text Only<pre><code>Usage:$0&lt;username&gt;\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84if%E5%88%A4%E6%96%AD/#ifelifelse-\u7ed3\u6784","title":"if/elif/else \u7ed3\u6784","text":"<p>if/elif/else \u7ed3\u6784\u7528\u4e8e\u66f4\u590d\u6742\u7684\u5224\u65ad\uff0c\u5b83\u9488\u5bf9\u591a\u4e2a\u6761\u4ef6\u6267\u884c\u4e0d\u540c\u64cd\u4f5c\uff0c\u8bed\u6cd5\u7ed3\u6784\u5982\u4e0b\uff1a</p> Text Only<pre><code>if  expr1\nthen\n    commands1\nelif expr2\nthen\n    commands2\n......\nelse\n    commands4\nfi\n</code></pre> <p>\u4f8b\u5982\uff0c\u4ee5\u4e0b\u811a\u672c\u4f1a\u6839\u636e\u7528\u6237\u7684\u8f93\u5165\uff0c\u663e\u793a\u4e0d\u540c\u7684\u63d0\u793a\uff1a</p> Text Only<pre><code>#!/bin/bash\n\nread -p \"What's your name? \" name\n\nif [[ $name == \"Bard\" ]]; then\n  echo \"Hello, Bard!\"\nelif [[ $name == \"Alice\" ]]; then\n  echo \"Hello, Alice!\"\nelse\n  echo \"Hello, stranger!\"\nfi\n</code></pre> <p>\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u8f93\u5165 \u201cBard\u201d\uff0c\u4f1a\u5f97\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a</p> Text Only<pre><code>What's your name? Bard\nHello, Bard!\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84if%E5%88%A4%E6%96%AD/#\u4f7f\u7528\u6ce8\u610f\u4e8b\u9879","title":"\u4f7f\u7528\u6ce8\u610f\u4e8b\u9879","text":"<p>if/else \u8bed\u53e5\u4f7f\u7528\u65f6\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u51e0\u70b9\uff1a</p> <ul> <li>if \u8bed\u53e5\u5fc5\u987b\u4ee5 if \u5f00\u5934\uff0c\u4ee5 fi \u7ed3\u675f\u3002</li> <li>elif \u53ef\u4ee5\u6709\u4efb\u610f\u591a\u4e2a (0 \u4e2a\u6216\u591a\u4e2a)\u3002</li> <li>else \u6700\u591a\u53ea\u80fd\u6709\u4e00\u4e2a (0 \u4e2a\u6216 1 \u4e2a)\u3002</li> <li>commands \u4e3a\u53ef\u6267\u884c\u8bed\u53e5\u5757\uff0c\u5982\u679c\u4e3a\u7a7a\uff0c\u9700\u4f7f\u7528 shell \u63d0\u4f9b\u7684\u7a7a\u547d\u4ee4 :\uff0c\u5373\u5192\u53f7\u3002\u8be5\u547d\u4ee4\u4e0d\u505a\u4efb\u4f55\u4e8b\u60c5\uff0c\u53ea\u8fd4\u56de\u4e00\u4e2a\u9000\u51fa\u72b6\u6001 0\u3002</li> <li>expr \u901a\u5e38\u4e3a\u6761\u4ef6\u6d4b\u8bd5\u8868\u8fbe\u5f0f\uff1b\u4e5f\u53ef\u4ee5\u662f\u591a\u4e2a\u547d\u4ee4\uff0c\u4ee5\u6700\u540e\u4e00\u4e2a\u547d\u4ee4\u7684\u9000\u51fa\u72b6\u6001\u4e3a\u6761\u4ef6\u503c\u3002</li> <li>if \u8bed\u53e5\u53ef\u4ee5\u5d4c\u5957\u4f7f\u7528\u3002</li> </ul>"},{"location":"shell/shell-note/shell%E7%9A%84if%E5%88%A4%E6%96%AD/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>if \u5224\u65ad\u662f shell \u7f16\u7a0b\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u8bed\u6cd5\u7ed3\u6784\uff0c\u53ef\u4ee5\u7528\u4e8e\u6839\u636e\u6761\u4ef6\u6267\u884c\u4e0d\u540c\u7684\u64cd\u4f5c\u3002\u901a\u8fc7\u638c\u63e1 if \u5224\u65ad\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u53ef\u4ee5\u7f16\u5199\u51fa\u66f4\u7075\u6d3b\u3001\u66f4\u9ad8\u6548\u7684 shell \u811a\u672c\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%8F%98%E9%87%8F/","title":"Shell\u7684\u53d8\u91cf","text":"<p>Linux \u7cfb\u7edf\u4e2d shell \u53d8\u91cf\u7684\u4f7f\u7528</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%8F%98%E9%87%8F/#\u7b80\u4ecb","title":"\u7b80\u4ecb","text":"<p>\u53d8\u91cf\u662f shell \u4e2d\u7528\u6765\u5b58\u50a8\u6570\u636e\u7684\u4e00\u79cd\u7279\u6b8a\u6807\u8bc6\u7b26\u3002\u53d8\u91cf\u53ef\u4ee5\u7528\u6765\u4fdd\u5b58\u7528\u6237\u8f93\u5165\u7684\u503c\uff0c\u4e5f\u53ef\u4ee5\u7528\u6765\u4fdd\u5b58\u8ba1\u7b97\u7ed3\u679c\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%8F%98%E9%87%8F/#\u53d8\u91cf\u5206\u7c7b","title":"\u53d8\u91cf\u5206\u7c7b","text":"<p>shell \u4e2d\u7684\u53d8\u91cf\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a</p> <ul> <li>\u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf\uff1a\u7531\u7528\u6237\u81ea\u5df1\u5b9a\u4e49\u3001\u4fee\u6539\u3001\u4f7f\u7528\u3002</li> <li>\u73af\u5883\u53d8\u91cf\uff1a\u7531\u7cfb\u7edf\u7ef4\u62a4\uff0c\u7528\u4e8e\u5b58\u50a8\u6709\u5173\u7cfb\u7edf\u548c\u7528\u6237\u7684\u4fe1\u606f\u3002</li> <li>\u4f4d\u7f6e\u53c2\u6570\u53d8\u91cf\uff1a\u901a\u8fc7\u547d\u4ee4\u884c\u7ed9\u7a0b\u5e8f\u4f20\u9012\u6267\u884c\u53c2\u6570\u3002</li> <li>\u5185\u90e8\u53c2\u6570\u53d8\u91cf\uff1a\u662f bash \u9884\u5b9a\u4e49\u7684\u7279\u6b8a\u53d8\u91cf\uff0c\u7528\u6237\u4e0d\u80fd\u4fee\u6539\u3002</li> </ul>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%8F%98%E9%87%8F/#\u53d8\u91cf\u8d4b\u503c","title":"\u53d8\u91cf\u8d4b\u503c","text":"<p>\u53d8\u91cf\u8d4b\u503c\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> Text Only<pre><code>\u53d8\u91cf\u540d=\u503c\n</code></pre> <p>\u4f8b\u5982\uff1a</p> Text Only<pre><code>name=\"Josh\"\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%8F%98%E9%87%8F/#\u53d8\u91cf\u547d\u540d","title":"\u53d8\u91cf\u547d\u540d","text":"<p>\u53d8\u91cf\u540d\u7684\u547d\u540d\u89c4\u5219\u5982\u4e0b\uff1a</p> <ul> <li>\u53d8\u91cf\u540d\u53ea\u80fd\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u7ec4\u6210\u3002</li> <li>\u53d8\u91cf\u540d\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\u3002</li> <li>\u53d8\u91cf\u540d\u4e0d\u80fd\u662f\u5173\u952e\u5b57\u548c\u7279\u6b8a\u5b57\u7b26\u3002</li> </ul>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%8F%98%E9%87%8F/#\u53d8\u91cf\u5f15\u7528","title":"\u53d8\u91cf\u5f15\u7528","text":"<p>\u53d8\u91cf\u5f15\u7528\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> Text Only<pre><code>$\u53d8\u91cf\u540d\n</code></pre> <p>\u4f8b\u5982\uff1a</p> Text Only<pre><code>echo $name\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>Josh\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%8F%98%E9%87%8F/#\u53d8\u91cf\u6e05\u9664","title":"\u53d8\u91cf\u6e05\u9664","text":"<p>\u53d8\u91cf\u6e05\u9664\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> Text Only<pre><code>unset \u53d8\u91cf\u540d\n</code></pre> <p>\u4f8b\u5982\uff1a</p> Text Only<pre><code>unset name\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%8F%98%E9%87%8F/#\u53d8\u91cf\u53ea\u8bfb","title":"\u53d8\u91cf\u53ea\u8bfb","text":"<p>\u53d8\u91cf\u8bbe\u7f6e\u4e3a\u53ea\u8bfb\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> Text Only<pre><code>readonly \u53d8\u91cf\u540d\n</code></pre> <p>\u4f8b\u5982\uff1a</p> Text Only<pre><code>readonly name\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%8F%98%E9%87%8F/#\u5185\u90e8\u53c2\u6570\u53d8\u91cf","title":"\u5185\u90e8\u53c2\u6570\u53d8\u91cf","text":"<p>shell \u5185\u90e8\u53c2\u6570\u53d8\u91cf\u662f\u4e00\u7ec4\u7279\u6b8a\u7684\u53d8\u91cf\uff0c\u5b83\u4eec\u7531 shell \u81ea\u52a8\u8bbe\u7f6e\u548c\u7ef4\u62a4\uff0c\u7528\u4e8e\u5b58\u50a8\u6709\u5173 shell \u548c\u6b63\u5728\u8fd0\u884c\u7684\u547d\u4ee4\u7684\u4fe1\u606f\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684 shell \u5185\u90e8\u53c2\u6570\u53d8\u91cf\u53ca\u5176\u7528\u9014\uff1a</p> \u53d8\u91cf\u540d \u542b\u4e49 $0 \u4fdd\u5b58\u5f53\u524d\u811a\u672c\u6216\u547d\u4ee4\u7684\u540d\u79f0\u3002 $1, $2, $3, \u2026 \u4fdd\u5b58\u4f20\u9012\u7ed9\u811a\u672c\u6216\u51fd\u6570\u7684\u4f4d\u7f6e\u53c2\u6570\u3002 $# \u4fdd\u5b58\u4f20\u9012\u7ed9\u811a\u672c\u6216\u51fd\u6570\u7684\u4f4d\u7f6e\u53c2\u6570\u7684\u6570\u91cf\u3002 $@ \u4fdd\u5b58\u6240\u6709\u4f20\u9012\u7ed9\u811a\u672c\u6216\u51fd\u6570\u7684\u4f4d\u7f6e\u53c2\u6570\u7684\u5217\u8868\u3002 $* \u4fdd\u5b58\u6240\u6709\u4f20\u9012\u7ed9\u811a\u672c\u6216\u51fd\u6570\u7684\u4f4d\u7f6e\u53c2\u6570\u7684\u5217\u8868\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684\u5b57\u7b26\u4e32\u3002 $$ \u4fdd\u5b58\u5f53\u524d shell \u8fdb\u7a0b\u7684\u8fdb\u7a0b ID\uff08PID\uff09\u3002 $? \u4fdd\u5b58\u4e0a\u4e00\u4e2a\u547d\u4ee4\u7684\u9000\u51fa\u72b6\u6001\uff08\u8fd4\u56de\u503c\uff09\u3002\u901a\u5e38\uff0c0 \u8868\u793a\u6210\u529f\uff0c\u975e\u96f6\u503c\u8868\u793a\u51fa\u73b0\u4e86\u9519\u8bef\u3002 $! \u4fdd\u5b58\u5728\u540e\u53f0\u8fd0\u884c\u7684\u6700\u540e\u4e00\u4e2a\u547d\u4ee4\u7684 PID\u3002 $_ $ \u8868\u793a\u5728\u6b64\u4e4b\u524d\u6267\u884c\u7684\u547d\u4ee4\u6216\u811a\u672c\u7684\u6700\u540e\u4e00\u4e2a\u53c2\u6570 \\ <p>\u793a\u4f8b\uff1a</p> Text Only<pre><code>#!/bin/bash\necho \"\u8fd9\u4e2a\u811a\u672c\u7684\u540d\u5b57\u662f: $0\"\necho \"\u53c2\u6570\u4e00\u5171\u6709: $#\"\necho \"\u53c2\u6570\u7684\u5217\u8868\u662f: $@\"\necho \"\u53c2\u6570\u7684\u5217\u8868\u662f: $*\"\necho \"\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u53c2\u6570\u662f: $1\"\necho \"\u7b2c\u4e8c\u4e2a\u4f4d\u7f6e\u53c2\u6570\u662f: $2\"\necho \"\u7b2c\u4e09\u4e2a\u4f4d\u7f6e\u53c2\u6570\u662f: $3\"\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> Text Only<pre><code>[root@localhost shell]# sh 1.sh 1 2 3 4 5 6\n\u8fd9\u4e2a\u811a\u672c\u7684\u540d\u5b57\u662f: 1.sh\n\u53c2\u6570\u4e00\u5171\u6709: 6\n\u53c2\u6570\u7684\u5217\u8868\u662f: 1 2 3 4 5 6\n\u53c2\u6570\u7684\u5217\u8868\u662f: 1 2 3 4 5 6\n\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u53c2\u6570\u662f: 1\n\u7b2c\u4e8c\u4e2a\u4f4d\u7f6e\u53c2\u6570\u662f: 2\n\u7b2c\u4e09\u4e2a\u4f4d\u7f6e\u53c2\u6570\u662f: 3\n</code></pre> \u6807\u9898 Linux \u7cfb\u7edf\u4e2d shell \u53d8\u91cf\u7684\u4f7f\u7528 \u7b80\u4ecb \u53d8\u91cf\u662f shell \u4e2d\u7528\u6765\u5b58\u50a8\u6570\u636e\u7684\u4e00\u79cd\u7279\u6b8a\u6807\u8bc6\u7b26\u3002\u53d8\u91cf\u53ef\u4ee5\u7528\u6765\u4fdd\u5b58\u7528\u6237\u8f93\u5165\u7684\u503c\uff0c\u4e5f\u53ef\u4ee5\u7528\u6765\u4fdd\u5b58\u8ba1\u7b97\u7ed3\u679c\u3002 \u5206\u7c7b \u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf\u3001\u73af\u5883\u53d8\u91cf\u3001\u4f4d\u7f6e\u53c2\u6570\u53d8\u91cf\u3001\u5185\u90e8\u53c2\u6570\u53d8\u91cf \u8d4b\u503c \u53d8\u91cf\u540d=\u503c \u547d\u540d \u53ea\u80fd\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u7ec4\u6210\uff1b\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff1b\u4e0d\u80fd\u662f\u5173\u952e\u5b57\u548c\u7279\u6b8a\u5b57\u7b26 \u5f15\u7528 $\u53d8\u91cf\u540d \u6e05\u9664 unset \u53d8\u91cf\u540d \u53ea\u8bfb readonly \u53d8\u91cf\u540d \u5185\u90e8\u53c2\u6570\u53d8\u91cf \\(0\u3001\\)1\u30012\u3001\u2026\u3001#\u3001@\u3001*\u3001\\(\u3001?\u3001\\)!\u3001$_ \u5e38\u89c1\u73af\u5883\u53d8\u91cf PWD\u3001PATH\u3001USER\u3001LOGNAME\u3001SHELL\u3001HOME \u5e94\u7528 \u4fdd\u5b58\u7528\u6237\u8f93\u5165\u7684\u503c\u3001\u4fdd\u5b58\u8ba1\u7b97\u7ed3\u679c\u3001\u4f20\u9012\u53c2\u6570\u7ed9\u547d\u4ee4\u6216\u811a\u672c\u3001\u63a7\u5236\u547d\u4ee4\u6216\u811a\u672c\u7684\u6267\u884c \u9000\u51fa\u8fd4\u56de\u72b6\u6001 \u4fdd\u5b58\u5728\u53d8\u91cf <code>?</code> \u4e2d <p>\u901a\u5e38\uff0c0 \u8868\u793a\u6210\u529f\uff0c\u975e\u96f6\u503c\u8868\u793a\u51fa\u73b0\u4e86\u9519\u8bef\u3002\u4f8b\u5982\uff1a</p> Text Only<pre><code>[root@localhost ~]# echo \"Hello, world!\"\nHello, world!\n[root@localhost ~]# echo $?\n0\n</code></pre> <p>shell \u547d\u4ee4\u7684\u9000\u51fa\u72b6\u6001\uff08\u8fd4\u56de\u503c\uff09\u4fdd\u5b58\u5728\u53d8\u91cf <code>?</code> \u4e2d\u3002</p> <ul> <li>0 \u8868\u793a\u6210\u529f</li> <li>1 \u8868\u793a\u901a\u7528\u9519\u8bef\u6216\u6267\u884c\u5931\u8d25</li> <li>126 \u8868\u793a\u547d\u4ee4\u6216\u811a\u672c\u6ca1\u6743\u9650</li> <li>127 \u8868\u793a\u547d\u4ee4\u6ca1\u627e\u5230</li> </ul> <p>\u793a\u4f8b</p> Text Only<pre><code>[root@localhost]# echo $$       #\u663e\u793a\u5f53\u524d\u8fdb\u7a0b\u7684pid\n2163\n[root@localhost]# echo $?       #\u663e\u793a\u4e0a\u4e00\u6761\u547d\u4ee4\u7684\u8fd4\u56de\u503c\n0\n[root@localhost ]# bash         #\u8c03\u7528\u5b50shell\n[root@localhost]# echo $$\n4539\n[root@localhost]# exit 1        #\u6307\u5b9a\u8fd4\u56de\u503c\u5e76\u8fd4\u56de\u7236shell\nexit\n[root@localhost]# echo $?   \n1\n\n[root@localhost]# display       #\u6267\u884c\u4e0d\u5b58\u5728\u7684\u547d\u4ee4\n-bash: display: \u672a\u627e\u5230\u547d\u4ee4\n[root@localhost]# echo $?       #\u67e5\u770b\u8fd4\u56de\u503c\n127\n[root@localhost]# touch test.sh \n[root@localhost]# ./test.sh #\u6267\u884c\u4e0d\u5177\u6743\u9650\u7684\u547d\u4ee4\n-bash: ./test.sh: \u6743\u9650\u4e0d\u591f\n[root@localhost]# echo $?       #\u67e5\u770b\u8fd4\u56de\u503c\n126\n</code></pre> <p>\u7ed3\u8bba\uff1a\u9000\u51fa\u8fd4\u56de\u72b6\u6001\u53ef\u4ee5\u7528\u4e8e\u5224\u65ad\u547d\u4ee4\u7684\u6267\u884c\u7ed3\u679c\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%8F%98%E9%87%8F/#\u73af\u5883\u53d8\u91cf","title":"\u73af\u5883\u53d8\u91cf","text":"<p>\u73af\u5883\u53d8\u91cf\u662f\u4fdd\u5b58\u5728\u7cfb\u7edf\u5185\u5b58\u4e2d\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u88ab\u6240\u6709\u7a0b\u5e8f\u8bbf\u95ee\u3002\u73af\u5883\u53d8\u91cf\u53ef\u4ee5\u7528\u4e8e\u5b58\u50a8\u5404\u79cd\u4fe1\u606f\uff0c\u4f8b\u5982\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3001\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u641c\u7d22\u8def\u5f84\u3001\u7528\u6237\u7684\u540d\u79f0\u7b49\u3002</p> <p>\u5e38\u89c1\u73af\u5883\u53d8\u91cf</p> \u53d8\u91cf\u540d \u542b\u4e49 PWD \u4fdd\u5b58\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002 PATH \u4fdd\u5b58\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u641c\u7d22\u8def\u5f84\u3002 USER \u4fdd\u5b58\u5f53\u524d\u7528\u6237\u7684\u540d\u79f0\u3002 LOGNAME \u4fdd\u5b58\u5f53\u524d\u7528\u6237\u7684\u767b\u5f55\u540d\u3002 SHELL \u4fdd\u5b58\u5f53\u524d shell \u7684\u7c7b\u578b\u3002 HOME \u4fdd\u5b58\u5f53\u524d\u7528\u6237\u7684\u4e3b\u76ee\u5f55\u3002 <p>\u4f7f\u7528</p> <p>\u73af\u5883\u53d8\u91cf\u53ef\u4ee5\u901a\u8fc7 <code>echo</code> \u547d\u4ee4\u6765\u67e5\u770b\uff1a</p> <p>Bash</p> Text Only<pre><code>echo $PWD\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>/home/user\n</code></pre> <p>\u73af\u5883\u53d8\u91cf\u4e5f\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528\uff0c\u4f8b\u5982\uff1a</p> <p>Bash</p> Text Only<pre><code>cd $HOME\n</code></pre> <p>\u8fd9\u6761\u547d\u4ee4\u5c06\u5207\u6362\u5230\u5f53\u524d\u7528\u6237\u7684\u4e3b\u76ee\u5f55\u3002</p> <p>\u8865\u5145</p> <p>\u9664\u4e86\u4e0a\u8ff0\u5e38\u89c1\u73af\u5883\u53d8\u91cf\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u7684\u73af\u5883\u53d8\u91cf\uff0c\u4f8b\u5982\uff1a</p> \u53d8\u91cf\u540d \u542b\u4e49 HISTSIZE \u4fdd\u5b58\u5386\u53f2\u547d\u4ee4\u7684\u6570\u91cf\u3002 HISTFILESIZE \u4fdd\u5b58\u5386\u53f2\u547d\u4ee4\u7684\u6587\u4ef6\u5927\u5c0f\u3002 LANG \u4fdd\u5b58\u7cfb\u7edf\u8bed\u8a00\u73af\u5883\u3002 LC_ALL \u4fdd\u5b58\u7cfb\u7edf\u7684\u533a\u57df\u8bbe\u7f6e\u3002 TERM \u4fdd\u5b58\u7ec8\u7aef\u7c7b\u578b\u3002 EDITOR \u4fdd\u5b58\u9ed8\u8ba4\u7f16\u8f91\u5668\u3002 <p>\u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u53ef\u4ee5\u7528\u4e8e\u63a7\u5236 shell \u7684\u884c\u4e3a\u6216\u63d0\u4f9b\u7ed9\u7a0b\u5e8f\u4f7f\u7528\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%8F%98%E9%87%8F/#\u6570\u7ec4","title":"\u6570\u7ec4","text":"<p>shell \u4e2d\u7684\u6570\u7ec4\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u53d8\u91cf\uff0c\u53ef\u4ee5\u4fdd\u5b58\u591a\u4e2a\u503c\u3002\u6570\u7ec4\u7684\u5143\u7d20\u53ef\u4ee5\u662f\u4efb\u4f55\u6570\u636e\u7c7b\u578b\uff0c\u5305\u62ec\u5b57\u7b26\u4e32\u3001\u6570\u5b57\u3001\u5e03\u5c14\u503c\u7b49\u3002</p> <p>\u6570\u7ec4\u7684\u5b9a\u4e49\u683c\u5f0f\u5982\u4e0b\uff1a</p> Text Only<pre><code>\u53d8\u91cf\u540d=(\u5143\u7d201 \u5143\u7d202 ... \u5143\u7d20n)\n</code></pre> <p>1\u3001\u4f8b\u5982\uff0c\u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3a <code>numbers</code> \u7684\u6570\u7ec4\uff0c\u5176\u4e2d\u5305\u542b 1\u30012\u30013 \u4e09\u4e2a\u5143\u7d20\uff1a</p> Text Only<pre><code>numbers=(1 2 3)\n</code></pre> <p>\u6570\u7ec4\u7684\u5143\u7d20\u53ef\u4ee5\u901a\u8fc7\u7d22\u5f15\u6765\u8bbf\u95ee\u3002\u7d22\u5f15\u4ece 0 \u5f00\u59cb\uff0c\u4f8b\u5982\uff1a</p> Text Only<pre><code>echo ${numbers[0]}\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>1\n</code></pre> <p>\u8bfb\u53d6\u5168\u90e8\u5143\u7d20\uff1a</p> Text Only<pre><code>echo ${numbers[@]}\n</code></pre> <p>\u8f93\u51fa</p> Text Only<pre><code>1 2 3\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>for</code> \u5faa\u73af\u6765\u904d\u5386\u6570\u7ec4\uff1a</p> Text Only<pre><code>for i in \"${numbers[@]}\"\ndo\n    echo \"$i\"\ndone\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>1\n2\n3\n</code></pre> <p>\u5b9e\u9a8c\u793a\u4f8b</p> Text Only<pre><code># \u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3a `fruits` \u7684\u6570\u7ec4\uff0c\u5176\u4e2d\u5305\u542b \"apple\"\u3001\"banana\"\u3001\"orange\" \u4e09\u4e2a\u5143\u7d20\nfruits=(apple banana orange)\n\n# \u904d\u5386\u6570\u7ec4\nfor fruit in \"${fruits[@]}\"\ndo\n    echo \"$fruit\"\ndone\n\n# \u83b7\u53d6\u6570\u7ec4\u7684\u957f\u5ea6\necho ${#fruits[@]}\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>apple\nbanana\norange\n3\n</code></pre> <p>shell \u6570\u7ec4\u53ef\u4ee5\u7528\u4e8e\u5b58\u50a8\u591a\u4e2a\u503c\uff0c\u53ef\u4ee5\u7528\u4e8e\u5404\u79cd\u573a\u666f\u3002\u638c\u63e1 shell \u6570\u7ec4\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u66f4\u597d\u5730\u4f7f\u7528 shell\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/","title":"Shell\u7684\u57fa\u672c\u77e5\u8bc6","text":"<p>Linux \u7cfb\u7edf\u4e2d shell \u7684\u57fa\u672c\u77e5\u8bc6</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#1-\u4ec0\u4e48\u662f-shell","title":"1 \u4ec0\u4e48\u662f shell","text":"<p>Shell \u662f\u4e00\u79cd\u547d\u4ee4\u884c\u89e3\u91ca\u5668\uff0c\u5b83\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5411 Linux \u5185\u6838\u53d1\u9001\u8bf7\u6c42\u4ee5\u4fbf\u8fd0\u884c\u7a0b\u5e8f\u7684\u754c\u9762\u7cfb\u7edf\u7ea7\u7a0b\u5e8f\u3002\u7528\u6237\u53ef\u4ee5\u7528 shell \u6765\u542f\u52a8\u3001\u6302\u8d77\u3001\u505c\u6b62\u751a\u81f3\u662f\u7f16\u5199\u4e00\u4e9b\u7a0b\u5e8f\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#2-linux-\u542f\u52a8\u8fc7\u7a0b","title":"2 Linux \u542f\u52a8\u8fc7\u7a0b","text":"<p>Linux \u7cfb\u7edf\u7684\u542f\u52a8\u8fc7\u7a0b\u53ef\u4ee5\u6982\u62ec\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li>BIOS \u81ea\u68c0</li> <li>MBR \u52a0\u8f7d BootLoader</li> <li>BootLoader \u52a0\u8f7d\u5185\u6838</li> <li>\u5185\u6838\u521d\u59cb\u5316</li> <li>\u7cfb\u7edf\u521d\u59cb\u5316</li> <li>\u767b\u5f55 shell</li> </ol> <p>shell \u4f4d\u4e8e\u7cfb\u7edf\u521d\u59cb\u5316\u9636\u6bb5\uff0c\u7531 init \u8fdb\u7a0b\u8c03\u7528\u3002shell \u63a5\u6536\u7528\u6237\u7684\u547d\u4ee4\uff0c\u5e76\u5c06\u5176\u9001\u5165\u5185\u6838\u53bb\u6267\u884c\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#3-shell-\u7f16\u7a0b","title":"3 shell \u7f16\u7a0b","text":"<p>shell \u4e5f\u662f\u4e00\u4e2a\u529f\u80fd\u76f8\u5f53\u5f3a\u5927\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u5b83\u6613\u7f16\u5199\u3001\u6613\u8c03\u8bd5\u3001\u7075\u6d3b\u6027\u8f83\u5f3a\u3002shell \u662f\u89e3\u91ca\u6267\u884c\u7684\u811a\u672c\u8bed\u8a00\uff0c\u5728 shell \u4e2d\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528 Linux \u7cfb\u7edf\u547d\u4ee4\u3002</p> <p>shell \u811a\u672c\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> Text Only<pre><code>#!/bin/bash\n\n# \u811a\u672c\u5185\u5bb9\n</code></pre> <p>\u7b2c\u4e00\u884c\u662f\u6ce8\u91ca\u884c\uff0c\u7528\u4e8e\u6307\u5b9a shell \u89e3\u91ca\u5668\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#4-\u5b9e\u9a8c\u793a\u4f8b","title":"4 \u5b9e\u9a8c\u793a\u4f8b","text":""},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#1-\u5217\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6","title":"1 \u5217\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6","text":"Text Only<pre><code>#!/bin/bash\n\nls\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#2-\u6253\u5370\u5f53\u524d\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84","title":"2 \u6253\u5370\u5f53\u524d\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84","text":"Text Only<pre><code>#!/bin/bash\n\npwd\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#3-\u67e5\u770b\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u5927\u5c0f","title":"3 \u67e5\u770b\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u5927\u5c0f","text":"Text Only<pre><code>#!/bin/bash\n\ndu -sh *\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#5-\u6269\u5c55\u77e5\u8bc6","title":"5 \u6269\u5c55\u77e5\u8bc6","text":""},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#\u5185\u7f6e\u547d\u4ee4\u548c\u5916\u90e8\u547d\u4ee4","title":"\u5185\u7f6e\u547d\u4ee4\u548c\u5916\u90e8\u547d\u4ee4","text":"<p>\u5185\u7f6e\u547d\u4ee4\u662f shell \u5185\u7f6e\u7684\u547d\u4ee4\uff0c\u4e0d\u9700\u8981\u901a\u8fc7\u5176\u4ed6\u7a0b\u5e8f\u6765\u6267\u884c\u3002\u5916\u90e8\u547d\u4ee4\u662f\u9700\u8981\u901a\u8fc7\u5176\u4ed6\u7a0b\u5e8f\u6765\u6267\u884c\u7684\u547d\u4ee4\u3002</p> <p>\u5185\u7f6e\u547d\u4ee4\u548c\u5916\u90e8\u547d\u4ee4\u7684\u533a\u522b\u5982\u4e0b\uff1a</p> \u533a\u522b \u5185\u7f6e\u547d\u4ee4 \u5916\u90e8\u547d\u4ee4 \u662f\u5426\u9700\u8981\u5176\u4ed6\u7a0b\u5e8f \u4e0d\u9700\u8981 \u9700\u8981 \u662f\u5426\u4ea7\u751f\u5b50\u8fdb\u7a0b \u4e0d\u4f1a\u4ea7\u751f \u4f1a\u4ea7\u751f \u662f\u5426\u5bf9\u5f53\u524d shell \u751f\u6548 \u4f1a\u751f\u6548 \u4e0d\u4f1a\u751f\u6548"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#\u53d8\u91cf","title":"\u53d8\u91cf","text":"<p>\u53d8\u91cf\u662f shell \u4e2d\u7528\u6765\u5b58\u50a8\u6570\u636e\u7684\u4e00\u79cd\u7279\u6b8a\u6807\u8bc6\u7b26\u3002\u53d8\u91cf\u53ef\u4ee5\u7528\u6765\u4fdd\u5b58\u7528\u6237\u8f93\u5165\u7684\u503c\uff0c\u4e5f\u53ef\u4ee5\u7528\u6765\u4fdd\u5b58\u8ba1\u7b97\u7ed3\u679c\u3002</p> <p>\u53d8\u91cf\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> Text Only<pre><code>\u53d8\u91cf\u540d=\u503c\n</code></pre> <p>\u53d8\u91cf\u7684\u547d\u540d\u89c4\u5219\u5982\u4e0b\uff1a</p> <ul> <li>\u53d8\u91cf\u540d\u53ef\u4ee5\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u7ec4\u6210\u3002</li> <li>\u53d8\u91cf\u540d\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\u3002</li> <li>\u53d8\u91cf\u540d\u4e0d\u80fd\u662f\u5173\u952e\u5b57\u3002</li> </ul>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#\u8fd0\u7b97\u7b26","title":"\u8fd0\u7b97\u7b26","text":"<p>shell \u4e2d\u652f\u6301\u7684\u8fd0\u7b97\u7b26\u5982\u4e0b\uff1a</p> \u8fd0\u7b97\u7b26 \u63cf\u8ff0 + \u52a0 - \u51cf * \u4e58 / \u9664 % \u53d6\u4f59 = \u8d4b\u503c == \u7b49\u4e8e != \u4e0d\u7b49\u4e8e &gt;= \u5927\u4e8e\u7b49\u4e8e &lt;= \u5c0f\u4e8e\u7b49\u4e8e &amp;&amp; \u903b\u8f91\u4e0e"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#\u6d41\u7a0b\u63a7\u5236","title":"\u6d41\u7a0b\u63a7\u5236","text":"<p>shell \u4e2d\u652f\u6301\u7684\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5\u5982\u4e0b\uff1a</p> \u8bed\u53e5 \u63cf\u8ff0 if \u6761\u4ef6\u5224\u65ad for \u5faa\u73af while \u5faa\u73af until \u5faa\u73af case \u6761\u4ef6\u5224\u65ad break \u8df3\u51fa\u5faa\u73af continue \u8df3\u8fc7\u672c\u6b21\u5faa\u73af return \u8fd4\u56de"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#\u51fd\u6570","title":"\u51fd\u6570","text":"<p>shell \u4e2d\u53ef\u4ee5\u4f7f\u7528\u51fd\u6570\u6765\u7ec4\u7ec7\u4ee3\u7801\u3002\u51fd\u6570\u7684\u5b9a\u4e49\u683c\u5f0f\u5982\u4e0b\uff1a</p> Text Only<pre><code>function \u51fd\u6570\u540d() {\n    # \u51fd\u6570\u4f53\n}\n</code></pre> <p>\u51fd\u6570\u7684\u8c03\u7528\u683c\u5f0f\u5982\u4e0b\uff1a</p> Text Only<pre><code>\u51fd\u6570\u540d()\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#\u5982\u4f55\u7f16\u5199\u4e00\u4e2a\u811a\u672c","title":"\u5982\u4f55\u7f16\u5199\u4e00\u4e2a\u811a\u672c","text":"<ul> <li>shell \u811a\u672c\u7684\u547d\u540d\u89c4\u8303\uff0c\u80fd\u591f\u5feb\u901f\u5b9a\u4f4d\u5230\u9700\u8981\u6267\u884c\u7684\u811a\u672c\u3002</li> <li>shell\u811a\u672c\u4e2d\u586b\u5199\u201d\u811a\u672c\u4fe1\u606f\u201d\uff0c\u65b9\u4fbf\u540e\u7eed\u4fee\u6539\uff0c\u8054\u7cfb\u7b49\u3002</li> </ul> Text Only<pre><code># Author:\n# Created Time:\n# Version:\n# Script Description:\n//\u4ee5\u4e0a\u5206\u522b\u5bf9\u5e94\u4e2d\u6587\n# \u4f5c\u8005\u4fe1\u606f\n# \u521b\u5efa\u65f6\u95f4\n# \u7248\u672c\n# \u811a\u672c\u63cf\u8ff0\n</code></pre> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u5b8c\u7f8e\u811a\u672c\u7684\u5185\u5bb9\uff1a</p> Text Only<pre><code>#!/bin/bash\n# \u5b9a\u4e49\u811a\u672c\u6267\u884c\u73af\u5883\n##\u811a\u672c\u4fe1\u606f##\n# Author: Josh\n# Created Time: 2023/11/21\n# Version: v1\n# Script Description: create file\nread -p \"\u8f93\u5165\u9700\u8981\u521b\u5efa\u7684\u6587\u4ef6\u540d:\" file\ntouch $file\nif [ $? -ne 0 ];then\necho \"\u6587\u4ef6\u521b\u5efa\u9519\u8bef\"\nelse\necho \"\u6210\u529f\u521b\u5efa $file \u6587\u4ef6\"\nfi\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#\u8fd0\u884c\u811a\u672c","title":"\u8fd0\u884c\u811a\u672c","text":"<p>\u7b2c\u4e00\u79cd\u65b9\u5f0f\uff1a\u811a\u672c\u8d4b\u4e88\u6267\u884c\u6743\u9650\u8fd0\u884c\uff0c\u90a3\u4e0a\u9762\u7684\u811a\u672c\u4e3e\u4f8b\uff1a</p> Text Only<pre><code>root@shell shells]# chmod +x test.sh\n[root@shell shells]# ./test.sh\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/#\u7ed3\u8bed","title":"\u7ed3\u8bed","text":"<p>shell \u662f Linux \u7cfb\u7edf\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2a\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u5b8c\u6210\u5404\u79cd\u4efb\u52a1\uff0c\u5305\u62ec\u7cfb\u7edf\u7ba1\u7406\u3001\u8f6f\u4ef6\u5f00\u53d1\u3001\u811a\u672c\u7f16\u5199\u7b49\u3002\u638c\u63e1 shell \u7684\u57fa\u672c\u77e5\u8bc6\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u66f4\u597d\u5730\u4f7f\u7528 Linux \u7cfb\u7edf\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95/","title":"Shell\u7684\u6761\u4ef6\u6d4b\u8bd5","text":""},{"location":"shell/shell-note/shell%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95/#shell-\u7684\u6761\u4ef6\u6d4b\u8bd5","title":"shell \u7684\u6761\u4ef6\u6d4b\u8bd5","text":""},{"location":"shell/shell-note/shell%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95/#\u6982\u8ff0","title":"\u6982\u8ff0","text":"<p>\u6761\u4ef6\u6d4b\u8bd5\u662f shell \u7f16\u7a0b\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2a\u6982\u5ff5\uff0c\u5b83\u5141\u8bb8\u6211\u4eec\u6839\u636e\u67d0\u4e2a\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\uff0c\u6765\u9009\u62e9\u6267\u884c\u76f8\u5e94\u7684\u4efb\u52a1\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95/#\u6761\u4ef6\u6d4b\u8bd5\u7684\u8bed\u6cd5","title":"\u6761\u4ef6\u6d4b\u8bd5\u7684\u8bed\u6cd5","text":"<p>shell \u4e2d\u7684\u6761\u4ef6\u6d4b\u8bd5\u8bed\u6cd5\u5982\u4e0b\uff1a</p> Text Only<pre><code>[ \u6761\u4ef6\u8868\u8fbe\u5f0f ]\n</code></pre> <p>\u5982\u679c\u6761\u4ef6\u8868\u8fbe\u5f0f\u4e3a\u771f\uff0c\u5219\u8fd4\u56de 0\uff0c\u8868\u793a\u6d4b\u8bd5\u6210\u529f\uff1b\u5982\u679c\u6761\u4ef6\u8868\u8fbe\u5f0f\u4e3a\u5047\uff0c\u5219\u8fd4\u56de\u975e 0 \u503c\uff0c\u8868\u793a\u6d4b\u8bd5\u5931\u8d25\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95/#\u6761\u4ef6\u8868\u8fbe\u5f0f","title":"\u6761\u4ef6\u8868\u8fbe\u5f0f","text":"<p>\u6761\u4ef6\u8868\u8fbe\u5f0f\u53ef\u4ee5\u662f\u4efb\u4f55\u53ef\u4ee5\u8868\u793a\u771f\u503c\u6216\u5047\u503c\u7684\u8868\u8fbe\u5f0f\uff0c\u5305\u62ec\u5b57\u7b26\u4e32\u6bd4\u8f83\u3001\u7b97\u672f\u6bd4\u8f83\u3001\u6587\u4ef6\u6d4b\u8bd5\u3001\u903b\u8f91\u8fd0\u7b97\u7b49\u3002</p>"},{"location":"shell/shell-note/shell%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95/#\u5b57\u7b26\u4e32\u6bd4\u8f83","title":"\u5b57\u7b26\u4e32\u6bd4\u8f83","text":"<p>\u5b57\u7b26\u4e32\u6bd4\u8f83\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u64cd\u4f5c\u7b26\uff1a</p> \u64cd\u4f5c\u7b26 \u542b\u4e49 -z str str \u4e3a\u7a7a\u65f6\uff0c\u8fd4\u56de\u771f -n str str \u4e0d\u4e3a\u7a7a\u65f6\uff0c\u8fd4\u56de\u771f str1 = str2 str1 \u7b49\u4e8e str2 \u65f6\uff0c\u8fd4\u56de\u771f str1 != str2 str1 \u4e0d\u7b49\u4e8e str2 \u65f6\uff0c\u8fd4\u56de\u771f"},{"location":"shell/shell-note/shell%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95/#\u7b97\u672f\u6bd4\u8f83","title":"\u7b97\u672f\u6bd4\u8f83","text":"<p>\u7b97\u672f\u6bd4\u8f83\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u64cd\u4f5c\u7b26\uff1a</p> \u64cd\u4f5c\u7b26 \u542b\u4e49 -eq \u7b49\u4e8e -ne \u4e0d\u7b49\u4e8e -gt \u5927\u4e8e -ge \u5927\u4e8e\u6216\u7b49\u4e8e -lt \u5c0f\u4e8e -le \u5c0f\u4e8e\u6216\u7b49\u4e8e"},{"location":"shell/shell-note/shell%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95/#\u6587\u4ef6\u6d4b\u8bd5","title":"\u6587\u4ef6\u6d4b\u8bd5","text":"<p>\u6587\u4ef6\u6d4b\u8bd5\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u64cd\u4f5c\u7b26\uff1a</p> \u64cd\u4f5c\u7b26 \u542b\u4e49 -f file file \u5b58\u5728\u4e14\u662f\u4e00\u4e2a\u666e\u901a\u6587\u4ef6\u65f6\uff0c\u8fd4\u56de\u771f -d file file \u5b58\u5728\u4e14\u662f\u4e00\u4e2a\u76ee\u5f55\u65f6\uff0c\u8fd4\u56de\u771f -e file file \u5b58\u5728\u65f6\uff0c\u8fd4\u56de\u771f -s file file \u5b58\u5728\u4e14\u5927\u5c0f\u5927\u4e8e 0 \u65f6\uff0c\u8fd4\u56de\u771f -r file file \u5b58\u5728\u4e14\u53ef\u8bfb\u65f6\uff0c\u8fd4\u56de\u771f -w file file \u5b58\u5728\u4e14\u53ef\u5199\u65f6\uff0c\u8fd4\u56de\u771f -x file file \u5b58\u5728\u4e14\u53ef\u6267\u884c\u65f6\uff0c\u8fd4\u56de\u771f"},{"location":"shell/shell-note/shell%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95/#\u903b\u8f91\u8fd0\u7b97","title":"\u903b\u8f91\u8fd0\u7b97","text":"<p>\u903b\u8f91\u8fd0\u7b97\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u64cd\u4f5c\u7b26\uff1a</p> \u64cd\u4f5c\u7b26 \u542b\u4e49 &amp;&amp; \u903b\u8f91\u4e0e\uff0c\u90fd\u4e3a\u771f\u65f6\uff0c\u8fd4\u56de\u771f \\ \\ ! \u903b\u8f91\u975e"},{"location":"shell/shell-note/shell%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95/#\u6269\u5c55\u77e5\u8bc6","title":"\u6269\u5c55\u77e5\u8bc6","text":"<ul> <li>\u6761\u4ef6\u6d4b\u8bd5\u7684\u8fd4\u56de\u503c\u53ef\u4ee5\u88ab\u7528\u4f5c\u53d8\u91cf\u7684\u503c\uff0c\u6216\u8005\u4f5c\u4e3a\u5224\u65ad\u8bed\u53e5\u7684\u6761\u4ef6\u3002</li> <li>\u6761\u4ef6\u6d4b\u8bd5\u53ef\u4ee5\u5d4c\u5957\u4f7f\u7528\uff0c\u4ee5\u5b9e\u73b0\u66f4\u590d\u6742\u7684\u903b\u8f91\u5224\u65ad\u3002</li> <li>\u6761\u4ef6\u6d4b\u8bd5\u53ef\u4ee5\u4e0e case \u9009\u62e9\u8bed\u53e5\u914d\u5408\u4f7f\u7528\uff0c\u4ee5\u5b9e\u73b0\u66f4\u7075\u6d3b\u7684\u6761\u4ef6\u5224\u65ad\u3002</li> </ul>"},{"location":"shell/shell-note/shell%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95/#\u5b9e\u9a8c\u793a\u4f8b","title":"\u5b9e\u9a8c\u793a\u4f8b","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4f7f\u7528\u6761\u4ef6\u6d4b\u8bd5\u7684\u5b9e\u9a8c\u793a\u4f8b\uff1a</p> <p>\u5224\u65ad\u53d8\u91cf\u662f\u5426\u4e3a\u7a7a</p> Text Only<pre><code>#!/bin/bash\n\nname=\"Josh\"\n\nif [ -z \"$name\" ]; then\n    echo \"\u53d8\u91cf\u4e3a\u7a7a\"\nelse\n    echo \"\u53d8\u91cf\u4e0d\u4e3a\u7a7a\"\nfi\n</code></pre> <p>\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u5c06\u8f93\u51fa\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> Text Only<pre><code>\u53d8\u91cf\u4e0d\u4e3a\u7a7a\n</code></pre> <p>\u5224\u65ad\u6587\u4ef6\u662f\u5426\u5b58\u5728</p> Text Only<pre><code>#!/bin/bash\n\nfile=\"/etc/passwd\"\n\nif [ -e \"$file\" ]; then\n    echo \"\u6587\u4ef6\u5b58\u5728\"\nelse\n    echo \"\u6587\u4ef6\u4e0d\u5b58\u5728\"\nfi\n</code></pre> <p>\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u5c06\u8f93\u51fa\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> Text Only<pre><code>\u6587\u4ef6\u5b58\u5728\n</code></pre> <p>\u5224\u65ad\u5b57\u7b26\u4e32\u662f\u5426\u76f8\u7b49</p> Text Only<pre><code>#!/bin/bash\n\nstr1=\"hello\"\nstr2=\"world\"\n\nif [ \"$str1\" == \"$str2\" ]; then\n    echo \"\u5b57\u7b26\u4e32\u76f8\u7b49\"\nelse\n    echo \"\u5b57\u7b26\u4e32\u4e0d\u76f8\u7b49\"\nfi\n</code></pre> <p>\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u5c06\u8f93\u51fa\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> Text Only<pre><code>\u5b57\u7b26\u4e32\u4e0d\u76f8\u7b49\n</code></pre>"},{"location":"shell/shell-note/shell%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>\u6761\u4ef6\u6d4b\u8bd5\u662f shell \u7f16\u7a0b\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2a\u6982\u5ff5\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5b9e\u73b0\u590d\u6742\u7684\u903b\u8f91\u5224\u65ad\u3002</p>"},{"location":"shell/shell-note/shell%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6/","title":"Shell\u7b97\u672f\u8fd0\u7b97\u7b26","text":""},{"location":"shell/shell-note/shell%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6/#shell-\u7684\u7b97\u672f\u8fd0\u7b97\u7b26","title":"shell \u7684\u7b97\u672f\u8fd0\u7b97\u7b26","text":""},{"location":"shell/shell-note/shell%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6/#\u6982\u8ff0","title":"\u6982\u8ff0","text":"<p>\u5728 shell \u7f16\u7a0b\u4e2d\uff0c\u7b97\u672f\u8fd0\u7b97\u7b26\u7528\u4e8e\u5bf9\u6570\u5b57\u8fdb\u884c\u8fd0\u7b97\u3002\u7b97\u672f\u8fd0\u7b97\u7b26\u7684\u8fd0\u7b97\u987a\u5e8f\u4e0e\u6570\u5b66\u8fd0\u7b97\u7684\u987a\u5e8f\u76f8\u540c\u3002</p>"},{"location":"shell/shell-note/shell%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6/#\u7b97\u672f\u8fd0\u7b97\u7b26","title":"\u7b97\u672f\u8fd0\u7b97\u7b26","text":"<p>shell \u652f\u6301\u4ee5\u4e0b\u7b97\u672f\u8fd0\u7b97\u7b26\uff1a</p> \u8fd0\u7b97\u7b26 \u63cf\u8ff0 + \u52a0 - \u51cf * \u4e58 / \u9664 % \u53d6\u4f59 ** \u5e42"},{"location":"shell/shell-note/shell%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6/#\u7b97\u672f\u8fd0\u7b97\u6269\u5c55","title":"\u7b97\u672f\u8fd0\u7b97\u6269\u5c55","text":"<p>\u7b97\u672f\u8fd0\u7b97\u6269\u5c55\u662f shell \u63d0\u4f9b\u7684\u4e00\u79cd\u7b80\u4fbf\u7684\u7b97\u672f\u8fd0\u7b97\u65b9\u6cd5\u3002\u7b97\u672f\u8fd0\u7b97\u6269\u5c55\u7684\u8bed\u6cd5\u4e3a\uff1a</p> Text Only<pre><code>$(( \u8868\u8fbe\u5f0f ))\n</code></pre> <p>\u8868\u8fbe\u5f0f\u53ef\u4ee5\u662f\u4efb\u4f55\u7b97\u672f\u8868\u8fbe\u5f0f\uff0c\u5305\u62ec\u53d8\u91cf\u3001\u6570\u5b57\u3001\u8fd0\u7b97\u7b26\u7b49\u3002</p> <p>\u4f8b\u5982\uff0c\u4ee5\u4e0b\u811a\u672c\u4f7f\u7528\u7b97\u672f\u8fd0\u7b97\u6269\u5c55\u8ba1\u7b97 5 + 2 \u7684\u7ed3\u679c\uff1a</p> Text Only<pre><code>#!/bin/bash\n\necho $((5 + 2))\n</code></pre> <p>\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u5c06\u8f93\u51fa\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> Text Only<pre><code>7\n</code></pre>"},{"location":"shell/shell-note/shell%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6/#\u7b97\u672f\u8fd0\u7b97\u6307\u4ee4-expr","title":"\u7b97\u672f\u8fd0\u7b97\u6307\u4ee4 expr","text":"<p>expr \u662f shell \u63d0\u4f9b\u7684\u53e6\u4e00\u79cd\u7b97\u672f\u8fd0\u7b97\u6307\u4ee4\u3002expr \u7684\u8bed\u6cd5\u4e3a\uff1a</p> Text Only<pre><code>expr \u8868\u8fbe\u5f0f\n</code></pre> <p>\u8868\u8fbe\u5f0f\u53ef\u4ee5\u662f\u4efb\u4f55\u7b97\u672f\u8868\u8fbe\u5f0f\uff0c\u5305\u62ec\u53d8\u91cf\u3001\u6570\u5b57\u3001\u8fd0\u7b97\u7b26\u7b49\u3002</p> <p>\u4f8b\u5982\uff0c\u4ee5\u4e0b\u811a\u672c\u4f7f\u7528 expr \u8ba1\u7b97 5 + 2 \u7684\u7ed3\u679c\uff1a</p> Text Only<pre><code>#!/bin/bash\n\nexpr 5 + 2\n</code></pre> <p>\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u5c06\u8f93\u51fa\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> Text Only<pre><code>7\n</code></pre>"},{"location":"shell/shell-note/shell%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6/#\u7b97\u672f\u8fd0\u7b97\u6307\u4ee4-let","title":"\u7b97\u672f\u8fd0\u7b97\u6307\u4ee4 let","text":"<p>let \u662f shell \u63d0\u4f9b\u7684\u53e6\u4e00\u79cd\u7b97\u672f\u8fd0\u7b97\u6307\u4ee4\u3002let \u7684\u8bed\u6cd5\u4e3a\uff1a</p> Text Only<pre><code>let \u8868\u8fbe\u5f0f\n</code></pre> <p>\u8868\u8fbe\u5f0f\u53ef\u4ee5\u662f\u4efb\u4f55\u7b97\u672f\u8868\u8fbe\u5f0f\uff0c\u5305\u62ec\u53d8\u91cf\u3001\u6570\u5b57\u3001\u8fd0\u7b97\u7b26\u7b49\u3002</p> <p>\u4f8b\u5982\uff0c\u4ee5\u4e0b\u811a\u672c\u4f7f\u7528 let \u8ba1\u7b97 5 + 2 \u7684\u7ed3\u679c\uff1a</p> Text Only<pre><code>#!/bin/bash\n\nlet a=5\nlet b=2\nlet c=a+b\necho $c\n</code></pre> <p>\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u5c06\u8f93\u51fa\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> Text Only<pre><code>7\n</code></pre>"},{"location":"shell/shell-note/shell%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6/#\u81ea\u589e\u81ea\u51cf\u8fd0\u7b97\u7b26","title":"\u81ea\u589e\u81ea\u51cf\u8fd0\u7b97\u7b26","text":"<p>self \u589e\u81ea\u51cf\u8fd0\u7b97\u7b26\u7528\u4e8e\u5bf9\u53d8\u91cf\u8fdb\u884c\u81ea\u589e\u6216\u81ea\u51cf\u64cd\u4f5c\u3002</p> \u8fd0\u7b97\u7b26 \u63cf\u8ff0 var++ \u53d8\u91cf var \u81ea\u589e 1 var\u2013 \u53d8\u91cf var \u81ea\u51cf 1 <p>\u4f8b\u5982\uff0c\u4ee5\u4e0b\u811a\u672c\u4f7f\u7528\u81ea\u589e\u8fd0\u7b97\u7b26\u5c06\u53d8\u91cf x \u7684\u503c\u589e\u52a0 1\uff1a</p> Text Only<pre><code>#!/bin/bash\n\nx=5\nx++\necho $x\n</code></pre> <p>\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u5c06\u8f93\u51fa\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> Text Only<pre><code>6\n</code></pre>"},{"location":"shell/shell-note/shell%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6/#\u5b9e\u9a8c\u793a\u4f8b","title":"\u5b9e\u9a8c\u793a\u4f8b","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4f7f\u7528 shell \u7b97\u672f\u8fd0\u7b97\u7b26\u7684\u5b9e\u9a8c\u793a\u4f8b\uff1a</p> <p>\u5b9e\u9a8c 1\uff1a\u8ba1\u7b97 5 + 2 \u7684\u7ed3\u679c</p> Text Only<pre><code>#!/bin/bash\n\n# \u4f7f\u7528\u7b97\u672f\u8fd0\u7b97\u6269\u5c55\necho $((5 + 2))\n\n# \u4f7f\u7528 expr\nexpr 5 + 2\n\n# \u4f7f\u7528 let\nlet a=5\nlet b=2\nlet c=a+b\necho $c\n</code></pre> <p>\u5b9e\u9a8c 2\uff1a\u8ba1\u7b97 10 \u7684\u5e73\u65b9\u6839</p> Text Only<pre><code>#!/bin/bash\n\n# \u4f7f\u7528\u7b97\u672f\u8fd0\u7b97\u6269\u5c55\necho $((sqrt(10)))\n\n# \u4f7f\u7528 expr\nexpr sqrt(10)\n\n# \u4f7f\u7528 let\nlet a=10\nlet b=sqrt(a)\necho $b\n</code></pre> <p>\u5b9e\u9a8c 3\uff1a\u8ba1\u7b97 100 \u7684\u9636\u4e58</p> Text Only<pre><code>#!/bin/bash\n\n# \u4f7f\u7528\u7b97\u672f\u8fd0\u7b97\u6269\u5c55\necho $((factorial(100)))\n\n# \u4f7f\u7528 expr\nexpr factorial(100)\n\n# \u4f7f\u7528 let\nlet a=100\nlet b=factorial(a)\necho $b\n</code></pre>"},{"location":"shell/shell-note/shell%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6/#\u6269\u5c55\u77e5\u8bc6","title":"\u6269\u5c55\u77e5\u8bc6","text":"<ul> <li> <p>\u7b97\u672f\u8fd0\u7b97\u7b26\u7684\u8fd0\u7b97\u987a\u5e8f\u4e0e\u6570\u5b66\u8fd0\u7b97</p> </li> <li> <p>\u7b97\u672f\u8fd0\u7b97\u7b26\u7684\u8fd0\u7b97\u987a\u5e8f</p> </li> </ul> <p>\u7b97\u672f\u8fd0\u7b97\u7b26\u7684\u8fd0\u7b97\u987a\u5e8f\u4e0e\u6570\u5b66\u8fd0\u7b97\u7684\u987a\u5e8f\u76f8\u540c\uff0c\u5373\uff1a</p> <ol> <li>\u7b97\u672f\u8868\u8fbe\u5f0f\u4e2d\u7684\u62ec\u53f7\u5185\u8fd0\u7b97\u4f18\u5148\u3002</li> <li>\u4e58\u3001\u9664\u3001\u53d6\u4f59\u8fd0\u7b97\u4f18\u5148\u4e8e\u52a0\u3001\u51cf\u8fd0\u7b97\u3002</li> <li>\u5e42\u8fd0\u7b97\u4f18\u5148\u4e8e\u6240\u6709\u5176\u4ed6\u8fd0\u7b97\u3002</li> </ol> <p>\u4f8b\u5982\uff0c\u8868\u8fbe\u5f0f <code>5 + 2 * 3</code> \u7684\u8ba1\u7b97\u987a\u5e8f\u4e3a\uff1a</p> <ol> <li>\u5148\u8ba1\u7b97 <code>2 * 3</code> \u7684\u503c\uff0c\u5f97\u5230 6\u3002</li> <li>\u518d\u8ba1\u7b97 <code>5 + 6</code> \u7684\u503c\uff0c\u5f97\u5230 11\u3002</li> </ol> <p>\u56e0\u6b64\uff0c\u8868\u8fbe\u5f0f <code>5 + 2 * 3</code> \u7684\u503c\u4e3a 11\u3002</p> <ul> <li>\u7b97\u672f\u8fd0\u7b97\u6269\u5c55\u7684\u6ce8\u610f\u4e8b\u9879</li> </ul> <p>\u7b97\u672f\u8fd0\u7b97\u6269\u5c55\u7684\u6ce8\u610f\u4e8b\u9879\u5982\u4e0b\uff1a</p> <ul> <li>\u7b97\u672f\u8fd0\u7b97\u6269\u5c55\u7684\u8fd0\u7b97\u6570\u53ea\u80fd\u662f\u6574\u6570\u3002</li> <li>\u7b97\u672f\u8fd0\u7b97\u6269\u5c55\u4e0d\u80fd\u7528\u4e8e\u5b57\u7b26\u4e32\u3002</li> <li>\u7b97\u672f\u8fd0\u7b97\u6269\u5c55\u4e0d\u80fd\u7528\u4e8e\u6587\u4ef6\u540d\u3002</li> <li>expr \u6307\u4ee4\u7684\u6ce8\u610f\u4e8b\u9879</li> </ul> <p>expr \u6307\u4ee4\u7684\u6ce8\u610f\u4e8b\u9879\u5982\u4e0b\uff1a</p> <ul> <li>expr \u6307\u4ee4\u53ef\u4ee5\u7528\u4e8e\u8ba1\u7b97\u4efb\u4f55\u7c7b\u578b\u7684\u8fd0\u7b97\u8868\u8fbe\u5f0f\uff0c\u5305\u62ec\u6574\u6570\u3001\u6d6e\u70b9\u6570\u3001\u5b57\u7b26\u4e32\u7b49\u3002</li> <li>expr \u6307\u4ee4\u7684\u7ed3\u679c\u662f\u5b57\u7b26\u4e32\u3002</li> <li>let \u6307\u4ee4\u7684\u6ce8\u610f\u4e8b\u9879</li> </ul> <p>let \u6307\u4ee4\u7684\u6ce8\u610f\u4e8b\u9879\u5982\u4e0b\uff1a</p> <ul> <li>let \u6307\u4ee4\u53ef\u4ee5\u7528\u4e8e\u8ba1\u7b97\u4efb\u4f55\u7c7b\u578b\u7684\u8fd0\u7b97\u8868\u8fbe\u5f0f\uff0c\u5305\u62ec\u6574\u6570\u3001\u6d6e\u70b9\u6570\u3001\u5b57\u7b26\u4e32\u7b49\u3002</li> <li>let \u6307\u4ee4\u7684\u7ed3\u679c\u662f\u53d8\u91cf\u7684\u503c\u3002</li> </ul> <p>\u603b\u7ed3</p> <p>shell \u7684\u7b97\u672f\u8fd0\u7b97\u7b26\u63d0\u4f9b\u4e86\u591a\u79cd\u65b9\u5f0f\u6765\u5bf9\u6570\u5b57\u8fdb\u884c\u8fd0\u7b97\u3002\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u9009\u62e9\u5408\u9002\u7684\u7b97\u672f\u8fd0\u7b97\u65b9\u6cd5\u3002</p>"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/","title":"\u6b63\u5219\u8868\u8fbe\u5f0f","text":""},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#\u6b63\u5219\u8868\u8fbe\u5f0f\u6982\u5ff5","title":"\u6b63\u5219\u8868\u8fbe\u5f0f\u6982\u5ff5","text":"<p>\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u7531\u4e00\u7cfb\u5217\u7279\u6b8a\u5b57\u7b26\u7ec4\u6210\u7684\u5b57\u7b26\u4e32\uff0c\u6bcf\u4e2a\u7279\u6b8a\u5b57\u7b26\u90fd\u88ab\u79f0\u4e3a\u5143\u5b57\u7b26\uff0c\u5143\u5b57\u7b26\u5e76\u4e0d\u8868\u793a\u5b57\u9762\u4e0a\u7684\u542b\u4e49\uff0c\u800c\u90fd\u6709\u7279\u5b9a\u7684\u542b\u4e49\u3002</p> <p>\u4f8b\u5982a\u3001b\u30011\u30012\u7b49\u5b57\u7b26\u5c5e\u4e8e\u666e\u901a\u5b57\u7b26\uff0c\u666e\u901a\u5b57\u7b26\u53ef\u4ee5\u6309\u7167\u5b57\u9762\u7406\u89e3\uff0c\u800c\u3001^\u3001[]\u7b49\u5143\u5b57\u7b26\uff0cshell\u8d4b\u4e88\u4e86\u4ed6\u4eec\u8d85\u8d8a\u5b57\u9762\u610f\u601d\u7684\u610f\u4e49\uff0c\u5982\u5b57\u9762\u610f\u601d\u662f\u7b26\u53f7\uff0c\u5b9e\u9645\u5374\u8868\u793a\u91cd\u590d\u524d\u9762\u7684\u5b57\u7b260\u6b21\u6216\u591a\u6b21\u7684\u9690\u85cf\u542b\u4e49</p> <p>\u6b63\u5219\u8868\u8fbe\u5f0f\u4e5f\u662f\u5f3a\u5927\u7684\u6587\u672c\u5339\u914d\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u4e8e\u5404\u79cd\u573a\u666f\uff0c\u4f8b\u5982\u6587\u4ef6\u641c\u7d22\u3001\u6587\u672c\u5904\u7406\u3001\u6570\u636e\u5206\u6790\u7b49\u3002\u5728Linux\u8fd0\u7ef4\u4e2d\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u66f4\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a</p> <ul> <li>\u67e5\u627e\u548c\u66ff\u6362\u6587\u672c</li> <li>\u9a8c\u8bc1\u8f93\u5165\u6570\u636e</li> <li>\u63d0\u53d6\u6587\u672c\u4fe1\u606f</li> <li>\u7f16\u5199\u811a\u672c</li> </ul>"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#\u6b63\u5219\u8868\u8fbe\u5f0f\u7ec4\u6210","title":"\u6b63\u5219\u8868\u8fbe\u5f0f\u7ec4\u6210","text":"<p>\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7531\u4e0b\u52171\u9879\u6216\u591a\u9879\u7ec4\u6210\uff1a</p> <ul> <li>\u4e00\u4e2a\u5b57\u7b26\u96c6\uff1a\u666e\u901a\u5b57\u7b26</li> <li>\u951a\uff1a\u6307\u5b9a\u4e86\u6b63\u5219\u8868\u8fbe\u5f0f\u8981\u5339\u914d\u7684\u6587\u672c\u5728\u6587\u672c\u884c\u4e2d\u6240\u5904\u7684\u4f4d\u7f6e</li> <li>\u4fee\u9970\u7b26\uff1a\u6269\u5927\u6216\u7f29\u5c0f\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u6587\u672c\u7684\u8303\u56f4</li> </ul>"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#\u6b63\u5219\u8868\u8fbe\u5f0f","title":"\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<p>\u6b63\u5219\u8868\u8fbe\u5f0f\u7531\u4e00\u7cfb\u5217\u7279\u6b8a\u5b57\u7b26\u7ec4\u6210\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5b57\u7b26\u90fd\u6709\u7279\u5b9a\u7684\u542b\u4e49\u548c\u529f\u80fd\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5b57\u7b26\u548c\u529f\u80fd\uff1a</p> \u5b57\u7b26 \u8bf4\u660e \\ \u8f6c\u4e49\uff0c\u5c06\u4e0b\u4e00\u5b57\u7b26\u6807\u8bb0\u4e3a\u7279\u6b8a\u5b57\u7b26 ^ \u5339\u914d\u8f93\u5165\u5b57\u7b26\u5f00\u5934\uff08\u5982\u2019^a\u2019\uff0c\u5339\u914da\u5f00\u5934\uff09 $ \u5339\u914d\u8f93\u5165\u5b57\u7b26\u4e32\u7ed3\u5c3e\uff08\u5982\u2019$a\u2019\uff0c\u5339\u914da\u7ed3\u5c3e\uff09 * \u5339\u914d\u4e00\u4e2a\u5b57\u7b26\u51fa\u73b0n\u6b21 + \u4e00\u6b21\u6216\u591a\u6b21\u5339\u914d\u524d\u9762\u7684\u5b57\u7b26\u6216\u5b50\u8868\u8fbe\u5f0f\u3002\u4f8b\u5982\uff0c\u201dzo+\u201d\u4e0e\u201dzo\u201d\u548c\u201dzoo\u201d\u5339\u914d\uff0c\u4f46\u4e0e\u201dz\u201d\u4e0d\u5339\u914d\u3002+ \u7b49\u6548\u4e8e {1,}\u3002 ? \u96f6\u6b21\u6216\u4e00\u6b21\u5339\u914d\u524d\u9762\u7684\u5b57\u7b26\u6216\u5b50\u8868\u8fbe\u5f0f\u3002\u4f8b\u5982\uff0c\u201ddo(es)?\u201d\u5339\u914d\u201ddo\u201d\u6216\u201ddoes\u201d\u4e2d\u7684\u201ddo\u201d\u3002? \u7b49\u6548\u4e8e {0,1}\u3002 {n} n \u662f\u975e\u8d1f\u6574\u6570\u3002\u6b63\u597d\u5339\u914d n \u6b21\u3002\u4f8b\u5982\uff0c\u201do{2}\u201d\u4e0e\u201dBob\u201d\u4e2d\u7684\u201do\u201d\u4e0d\u5339\u914d\uff0c\u4f46\u4e0e\u201dfood\u201d\u4e2d\u7684\u4e24\u4e2a\u201do\u201d\u5339\u914d\u3002 {n,} n \u662f\u975e\u8d1f\u6574\u6570\u3002\u81f3\u5c11\u5339\u914d n \u6b21\u3002\u4f8b\u5982\uff0c\u201do{2,}\u201d\u4e0d\u5339\u914d\u201dBob\u201d\u4e2d\u7684\u201do\u201d\uff0c\u800c\u5339\u914d\u201dfoooood\u201d\u4e2d\u7684\u6240\u6709 o\u3002\u201do{1,}\u201d\u7b49\u6548\u4e8e\u201do+\u201d\u3002\u201do{0,}\u201d\u7b49\u6548\u4e8e\u201do*\u201d\u3002 {n,m} M \u548c n \u662f\u975e\u8d1f\u6574\u6570\uff0c\u5176\u4e2d n &lt;= m\u3002\u5339\u914d\u81f3\u5c11 n \u6b21\uff0c\u81f3\u591a m \u6b21\u3002\u4f8b\u5982\uff0c\u201do{1,3}\u201d\u5339\u914d\u201dfooooood\u201d\u4e2d\u7684\u5934\u4e09\u4e2a o\u3002\u2019o{0,1}\u2019 \u7b49\u6548\u4e8e \u2018o?\u2019\u3002\u6ce8\u610f\uff1a\u60a8\u4e0d\u80fd\u5c06\u7a7a\u683c\u63d2\u5165\u9017\u53f7\u548c\u6570\u5b57\u4e4b\u95f4\u3002 ? \u5f53\u6b64\u5b57\u7b26\u7d27\u968f\u4efb\u4f55\u5176\u4ed6\u9650\u5b9a\u7b26\uff08\u3001+\u3001?\u3001{n}\u3001{n,}\u3001{n,m*}\uff09\u4e4b\u540e\u65f6\uff0c\u5339\u914d\u6a21\u5f0f\u662f\u201d\u975e\u8d2a\u5fc3\u7684\u201d\u3002\u201d\u975e\u8d2a\u5fc3\u7684\u201d\u6a21\u5f0f\u5339\u914d\u641c\u7d22\u5230\u7684\u3001\u5c3d\u53ef\u80fd\u77ed\u7684\u5b57\u7b26\u4e32\uff0c\u800c\u9ed8\u8ba4\u7684\u201d\u8d2a\u5fc3\u7684\u201d\u6a21\u5f0f\u5339\u914d\u641c\u7d22\u5230\u7684\u3001\u5c3d\u53ef\u80fd\u957f\u7684\u5b57\u7b26\u4e32\u3002\u4f8b\u5982\uff0c\u5728\u5b57\u7b26\u4e32\u201doooo\u201d\u4e2d\uff0c\u201do+?\u201d\u53ea\u5339\u914d\u5355\u4e2a\u201do\u201d\uff0c\u800c\u201do+\u201d\u5339\u914d\u6240\u6709\u201do\u201d\u3002 . \u5339\u914d\u9664\u201d\\r\\n\u201d\u4e4b\u5916\u7684\u4efb\u4f55\u5355\u4e2a\u5b57\u7b26\u3002\u82e5\u8981\u5339\u914d\u5305\u62ec\u201d\\r\\n\u201d\u5728\u5185\u7684\u4efb\u610f\u5b57\u7b26\uff0c\u8bf7\u4f7f\u7528\u8bf8\u5982\u201d[\\s\\S]\u201d\u4e4b\u7c7b\u7684\u6a21\u5f0f\u3002 (pattern) \u5339\u914d pattern \u5e76\u6355\u83b7\u8be5\u5339\u914d\u7684\u5b50\u8868\u8fbe\u5f0f\u3002\u53ef\u4ee5\u4f7f\u7528 \\(0\u2026\\)9 \u5c5e\u6027\u4ece\u7ed3\u679c\u201d\u5339\u914d\u201d\u96c6\u5408\u4e2d\u68c0\u7d22\u6355\u83b7\u7684\u5339\u914d\u3002\u82e5\u8981\u5339\u914d\u62ec\u53f7\u5b57\u7b26 ( )\uff0c\u8bf7\u4f7f\u7528\u201d\\(\"\u6216\u8005\"\\)\u201c\u3002 (?:pattern) \u5339\u914d pattern \u4f46\u4e0d\u6355\u83b7\u8be5\u5339\u914d\u7684\u5b50\u8868\u8fbe\u5f0f\uff0c\u5373\u5b83\u662f\u4e00\u4e2a\u975e\u6355\u83b7\u5339\u914d\uff0c\u4e0d\u5b58\u50a8\u4f9b\u4ee5\u540e\u4f7f\u7528\u7684\u5339\u914d\u3002\u8fd9\u5bf9\u4e8e\u7528\u201dor\u201d\u5b57\u7b26 (|) \u7ec4\u5408\u6a21\u5f0f\u90e8\u4ef6\u7684\u60c5\u51b5\u5f88\u6709\u7528\u3002\u4f8b\u5982\uff0c\u2019industr(?:y|ies)  \u662f\u6bd4  \u2018industry|industries\u2019 \u66f4\u7ecf\u6d4e\u7684\u8868\u8fbe\u5f0f\u3002 (?=pattern) \u6267\u884c\u6b63\u5411\u9884\u6d4b\u5148\u884c\u641c\u7d22\u7684\u5b50\u8868\u8fbe\u5f0f\uff0c\u8be5\u8868\u8fbe\u5f0f\u5339\u914d\u5904\u4e8e\u5339\u914d pattern \u7684\u5b57\u7b26\u4e32\u7684\u8d77\u59cb\u70b9\u7684\u5b57\u7b26\u4e32\u3002\u5b83\u662f\u4e00\u4e2a\u975e\u6355\u83b7\u5339\u914d\uff0c\u5373\u4e0d\u80fd\u6355\u83b7\u4f9b\u4ee5\u540e\u4f7f\u7528\u7684\u5339\u914d\u3002\u4f8b\u5982\uff0c\u2019Windows (?=95|98|NT|2000)\u2019 \u5339\u914d\u201dWindows 2000\u201d\u4e2d\u7684\u201dWindows\u201d\uff0c\u4f46\u4e0d\u5339\u914d\u201dWindows 3.1\u201d\u4e2d\u7684\u201dWindows\u201d\u3002\u9884\u6d4b\u5148\u884c\u4e0d\u5360\u7528\u5b57\u7b26\uff0c\u5373\u53d1\u751f\u5339\u914d\u540e\uff0c\u4e0b\u4e00\u5339\u914d\u7684\u641c\u7d22\u7d27\u968f\u4e0a\u4e00\u5339\u914d\u4e4b\u540e\uff0c\u800c\u4e0d\u662f\u5728\u7ec4\u6210\u9884\u6d4b\u5148\u884c\u7684\u5b57\u7b26\u540e\u3002 (?!pattern) \u6267\u884c\u53cd\u5411\u9884\u6d4b\u5148\u884c\u641c\u7d22\u7684\u5b50\u8868\u8fbe\u5f0f\uff0c\u8be5\u8868\u8fbe\u5f0f\u5339\u914d\u4e0d\u5904\u4e8e\u5339\u914d pattern \u7684\u5b57\u7b26\u4e32\u7684\u8d77\u59cb\u70b9\u7684\u641c\u7d22\u5b57\u7b26\u4e32\u3002\u5b83\u662f\u4e00\u4e2a\u975e\u6355\u83b7\u5339\u914d\uff0c\u5373\u4e0d\u80fd\u6355\u83b7\u4f9b\u4ee5\u540e\u4f7f\u7528\u7684\u5339\u914d\u3002\u4f8b\u5982\uff0c\u2019Windows (?!95|98|NT|2000)\u2019 \u5339\u914d\u201dWindows 3.1\u201d\u4e2d\u7684 \u201cWindows\u201d\uff0c\u4f46\u4e0d\u5339\u914d\u201dWindows 2000\u201d\u4e2d\u7684\u201dWindows\u201d\u3002\u9884\u6d4b\u5148\u884c\u4e0d\u5360\u7528\u5b57\u7b26\uff0c\u5373\u53d1\u751f\u5339\u914d\u540e\uff0c\u4e0b\u4e00\u5339\u914d\u7684\u641c\u7d22\u7d27\u968f\u4e0a\u4e00\u5339\u914d\u4e4b\u540e\uff0c\u800c\u4e0d\u662f\u5728\u7ec4\u6210\u9884\u6d4b\u5148\u884c\u7684\u5b57\u7b26\u540e\u3002 x|y \u5339\u914d x \u6216 y\u3002\u4f8b\u5982\uff0c\u2019z|food\u2019 \u5339\u914d\u201dz\u201d\u6216\u201dfood\u201d\u3002\u2019(z|f)ood\u2019 \u5339\u914d\u201dzood\u201d\u6216\u201dfood\u201d\u3002 [xyz] \u5b57\u7b26\u96c6\u3002\u5339\u914d\u5305\u542b\u7684\u4efb\u4e00\u5b57\u7b26\u3002\u4f8b\u5982\uff0c\u201d[abc]\u201d\u5339\u914d\u201dplain\u201d\u4e2d\u7684\u201da\u201d\u3002 [^xyz] \u53cd\u5411\u5b57\u7b26\u96c6\u3002\u5339\u914d\u672a\u5305\u542b\u7684\u4efb\u4f55\u5b57\u7b26\u3002\u4f8b\u5982\uff0c\u201d[^abc]\u201d\u5339\u914d\u201dplain\u201d\u4e2d\u201dp\u201d\uff0c\u201dl\u201d\uff0c\u201di\u201d\uff0c\u201dn\u201d\u3002 [a-z] \u5b57\u7b26\u8303\u56f4\u3002\u5339\u914d\u6307\u5b9a\u8303\u56f4\u5185\u7684\u4efb\u4f55\u5b57\u7b26\u3002\u4f8b\u5982\uff0c\u201d[a-z]\u201d\u5339\u914d\u201da\u201d\u5230\u201dz\u201d\u8303\u56f4\u5185\u7684\u4efb\u4f55\u5c0f\u5199\u5b57\u6bcd\u3002 [^a-z] \u53cd\u5411\u8303\u56f4\u5b57\u7b26\u3002\u5339\u914d\u4e0d\u5728\u6307\u5b9a\u7684\u8303\u56f4\u5185\u7684\u4efb\u4f55\u5b57\u7b26\u3002\u4f8b\u5982\uff0c\u201d[^a-z]\u201d\u5339\u914d\u4efb\u4f55\u4e0d\u5728\u201da\u201d\u5230\u201dz\u201d\u8303\u56f4\u5185\u7684\u4efb\u4f55\u5b57\u7b26\u3002 \\b \u5339\u914d\u4e00\u4e2a\u5b57\u8fb9\u754c\uff0c\u5373\u5b57\u4e0e\u7a7a\u683c\u95f4\u7684\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u201der\\b\u201d\u5339\u914d\u201dnever\u201d\u4e2d\u7684\u201der\u201d\uff0c\u4f46\u4e0d\u5339\u914d\u201dverb\u201d\u4e2d\u7684\u201der\u201d\u3002 \\B \u975e\u5b57\u8fb9\u754c\u5339\u914d\u3002\u201der\\B\u201d\u5339\u914d\u201dverb\u201d\u4e2d\u7684\u201der\u201d\uff0c\u4f46\u4e0d\u5339\u914d\u201dnever\u201d\u4e2d\u7684\u201der\u201d\u3002 \\cx \u5339\u914d x \u6307\u793a\u7684\u63a7\u5236\u5b57\u7b26\u3002\u4f8b\u5982\uff0c\\cM \u5339\u914d Control-M \u6216\u56de\u8f66\u7b26\u3002x \u7684\u503c\u5fc5\u987b\u5728 A-Z \u6216 a-z \u4e4b\u95f4\u3002\u5982\u679c\u4e0d\u662f\u8fd9\u6837\uff0c\u5219\u5047\u5b9a c \u5c31\u662f\u201dc\u201d\u5b57\u7b26\u672c\u8eab\u3002 \\d \u6570\u5b57\u5b57\u7b26\u5339\u914d\u3002\u7b49\u6548\u4e8e [0-9]\u3002 \\D \u975e\u6570\u5b57\u5b57\u7b26\u5339\u914d\u3002\u7b49\u6548\u4e8e [^0-9]\u3002 \\f \u6362\u9875\u7b26\u5339\u914d\u3002\u7b49\u6548\u4e8e \\x0c \u548c \\cL\u3002 \\n \u6362\u884c\u7b26\u5339\u914d\u3002\u7b49\u6548\u4e8e \\x0a \u548c \\cJ\u3002 \\r \u5339\u914d\u4e00\u4e2a\u56de\u8f66\u7b26\u3002\u7b49\u6548\u4e8e \\x0d \u548c \\cM\u3002 \\s \u5339\u914d\u4efb\u4f55\u7a7a\u767d\u5b57\u7b26\uff0c\u5305\u62ec\u7a7a\u683c\u3001\u5236\u8868\u7b26\u3001\u6362\u9875\u7b26\u7b49\u3002\u4e0e  [ \\f\\n\\r\\t\\v] \u7b49\u6548\u3002 \\S \u5339\u914d\u4efb\u4f55\u975e\u7a7a\u767d\u5b57\u7b26\u3002\u4e0e  [^ \\f\\n\\r\\t\\v] \u7b49\u6548\u3002 \\t \u5236\u8868\u7b26\u5339\u914d\u3002\u4e0e \\x09 \u548c \\cI \u7b49\u6548\u3002 \\v \u5782\u76f4\u5236\u8868\u7b26\u5339\u914d\u3002\u4e0e \\x0b \u548c \\cK \u7b49\u6548\u3002 \\w \u5339\u914d\u4efb\u4f55\u5b57\u7c7b\u5b57\u7b26\uff0c\u5305\u62ec\u4e0b\u5212\u7ebf\u3002\u4e0e\u201d[A-Za-z0-9_]\u201d\u7b49\u6548\u3002 \\W \u4e0e\u4efb\u4f55\u975e\u5355\u8bcd\u5b57\u7b26\u5339\u914d\u3002\u4e0e\u201d[^A-Za-z0-9_]\u201d\u7b49\u6548\u3002 \\xn \u5339\u914d n\uff0c\u6b64\u5904\u7684 n \u662f\u4e00\u4e2a\u5341\u516d\u8fdb\u5236\u8f6c\u4e49\u7801\u3002\u5341\u516d\u8fdb\u5236\u8f6c\u4e49\u7801\u5fc5\u987b\u6b63\u597d\u662f\u4e24\u4f4d\u6570\u957f\u3002\u4f8b\u5982\uff0c\u201d\\x41\u201d\u5339\u914d\u201dA\u201d\u3002\u201d\\x041\u201d\u4e0e\u201d\\x04\u201d&amp;\u201d1\u201d\u7b49\u6548\u3002\u5141\u8bb8\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528 ASCII \u4ee3\u7801\u3002 *num* \u5339\u914d num\uff0c\u6b64\u5904\u7684 num \u662f\u4e00\u4e2a\u6b63\u6574\u6570\u3002\u5230\u6355\u83b7\u5339\u914d\u7684\u53cd\u5411\u5f15\u7528\u3002\u4f8b\u5982\uff0c\u201d(.)\\1\u201d\u5339\u914d\u4e24\u4e2a\u8fde\u7eed\u7684\u76f8\u540c\u5b57\u7b26\u3002 *n* \u6807\u8bc6\u4e00\u4e2a\u516b\u8fdb\u5236\u8f6c\u4e49\u7801\u6216\u53cd\u5411\u5f15\u7528\u3002\u5982\u679c *n* \u524d\u9762\u81f3\u5c11\u6709 n \u4e2a\u6355\u83b7\u5b50\u8868\u8fbe\u5f0f\uff0c\u90a3\u4e48 n \u662f\u53cd\u5411\u5f15\u7528\u3002\u5426\u5219\uff0c\u5982\u679c n \u662f\u516b\u8fdb\u5236\u6570 (0-7)\uff0c\u90a3\u4e48 n \u662f\u516b\u8fdb\u5236\u8f6c\u4e49\u7801\u3002 *nm* \u6807\u8bc6\u4e00\u4e2a\u516b\u8fdb\u5236\u8f6c\u4e49\u7801\u6216\u53cd\u5411\u5f15\u7528\u3002\u5982\u679c *nm* \u524d\u9762\u81f3\u5c11\u6709 nm \u4e2a\u6355\u83b7\u5b50\u8868\u8fbe\u5f0f\uff0c\u90a3\u4e48 nm \u662f\u53cd\u5411\u5f15\u7528\u3002\u5982\u679c *nm\u524d\u9762\u81f3\u5c11\u6709 *n \u4e2a\u6355\u83b7\uff0c\u5219 n \u662f\u53cd\u5411\u5f15\u7528\uff0c\u540e\u9762\u8ddf\u6709\u5b57\u7b26 m\u3002\u5982\u679c\u4e24\u79cd\u524d\u9762\u7684\u60c5\u51b5\u90fd\u4e0d\u5b58\u5728\uff0c\u5219 *nm* \u5339\u914d\u516b\u8fdb\u5236\u503c nm\uff0c\u5176\u4e2d n \u548c m \u662f\u516b\u8fdb\u5236\u6570\u5b57 (0-7)\u3002 \\nml \u5f53 n \u662f\u516b\u8fdb\u5236\u6570 (0-3)\uff0cm \u548c l \u662f\u516b\u8fdb\u5236\u6570 (0-7) \u65f6\uff0c\u5339\u914d\u516b\u8fdb\u5236\u8f6c\u4e49\u7801 nml\u3002 \\un \u5339\u914d n\uff0c\u5176\u4e2d n \u662f\u4ee5\u56db\u4f4d\u5341\u516d\u8fdb\u5236\u6570\u8868\u793a\u7684 Unicode \u5b57\u7b26\u3002\u4f8b\u5982\uff0c\\u00A9 \u5339\u914d\u7248\u6743\u7b26\u53f7 (\u00a9)\u3002"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#\u5e38\u7528\u793a\u4f8b","title":"\u5e38\u7528\u793a\u4f8b","text":"<p>\u590d\u5236/etc/passwd\u4f5c\u4e3a\u6d4b\u8bd5\u6587\u4ef6</p> Text Only<pre><code>cat /etc/passwd &gt;&gt; /tmp/test.txt\n</code></pre>"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#1\u7b5b\u9009\u51fa\u4ee5r\u5f00\u5934\u7684\u884c","title":"1\u3001\u7b5b\u9009\u51fa\u4ee5r\u5f00\u5934\u7684\u884c","text":"Text Only<pre><code>grep -i -n '^r' test.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>1:root:x:0:0:root:/root:/bin/bash\n</code></pre>"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#2\u7b5b\u9009\u51fan\u7ed3\u5c3e\u7684\u884c","title":"2\u3001\u7b5b\u9009\u51fan\u7ed3\u5c3e\u7684\u884c","text":"Text Only<pre><code>grep -i -n 'n$' test.txt \n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>2:bin:x:1:1:bin:/bin:/sbin/nologin\n3:daemon:x:2:2:daemon:/sbin:/sbin/nologin\n...\n</code></pre>"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#3\u7b5b\u9009\u51fa\u4ee5\u5c0f\u6570\u70b9\u7ed3\u5c3e\u7684\u884c\u5c0f\u6570\u70b9\u4f5c\u4e3a\u7279\u6b8a\u7b26\u53f7\u9700\u8981\u7528\u8f6c\u4e49\u5b57\u7b26","title":"3\u3001\u7b5b\u9009\u51fa\u4ee5\u5c0f\u6570\u70b9\u7ed3\u5c3e\u7684\u884c\uff0c\u5c0f\u6570\u70b9\u4f5c\u4e3a\u7279\u6b8a\u7b26\u53f7\uff0c\u9700\u8981\u7528\u8f6c\u4e49\u5b57\u7b26<code>\\</code>","text":"Text Only<pre><code>#echo\u5199\u5165\u5c0f\u6570\u70b9\u5230\u6587\u4ef6\uff0c\u518d\u7b5b\u9009\necho '...' &gt;&gt; test.txt | grep -i '\\.$' test.txt \n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>...\n</code></pre>"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#4\u7b5b\u9009\u51fa\u6587\u4ef6\u4e2d\u7684\u7a7a\u884c\u5f00\u5934\u548c\u7ed3\u5c3e\u4e24\u8005\u7ed3\u5408\u5c31\u662f\u7a7a\u767d\u884c-n\u8f93\u51fa\u884c\u53f7\u6807\u8bc6\u53c82324\u4e24\u884c\u7a7a\u767d","title":"4\u3001\u7b5b\u9009\u51fa\u6587\u4ef6\u4e2d\u7684\u7a7a\u884c\uff08^\u5f00\u5934\u548c$\u7ed3\u5c3e\uff0c\u4e24\u8005\u7ed3\u5408\u5c31\u662f\u7a7a\u767d\u884c\uff0c-n\u8f93\u51fa\u884c\u53f7\uff0c\u6807\u8bc6\u53c823\u300124\u4e24\u884c\u7a7a\u767d\uff09","text":"Text Only<pre><code>grep -n '^$' test.txt \n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>23:\n24:\n</code></pre>"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#5\u7b5b\u9009\u51fa\u5305\u542broo\u7684\u884c","title":"5\u3001\u7b5b\u9009\u51fa\u5305\u542broo\u7684\u884c","text":"Text Only<pre><code>echo \"ROOT\" &gt;&gt; test.txt | grep -i -n 'root*' test.txt                   \n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>1:root:x:0:0:root:/root:/bin/bash\n10:operator:x:11:0:operator:/root:/sbin/nologin\n27:ROOT\n</code></pre>"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#6\u627e\u51fa\u6587\u4e2dr\u51fa\u73b0\u7684\u6b21\u6570","title":"6\u3001\u627e\u51fa\u6587\u4e2d\uff0cr\u51fa\u73b0\u7684\u6b21\u6570","text":"Text Only<pre><code>grep -i -n 'r*' test.txt | wc -l \n25\n</code></pre>"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#7\u627e\u51fa\u6587\u4e2d\u5305\u542b\u5c0f\u5199\u5b57\u6bcd\u5927\u5199\u5b57\u6bcd\u6570\u5b57\u7684\u5b57\u7b26","title":"7\u3001\u627e\u51fa\u6587\u4e2d\uff0c\u5305\u542b\u5c0f\u5199\u5b57\u6bcd\u3001\u5927\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u7684\u5b57\u7b26","text":"<p>\u4e5f\u53ef\u4ee5\u5355\u72ec\u7b5b\u9009[a-f]\u6216\u8005[1-5]\uff0c\u6570\u5b57\u5927\u5c0f\u5199\uff0c\u53ef\u968f\u610f\u7ec4\u5408</p> Text Only<pre><code>grep -i -n '[a-zA-Z0-9]' test.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>1:root:x:0:0:root:/root:/bin/bash\n...\u7701\u7565\n</code></pre> <p>\u5176\u4e2d\uff0c\u8f93\u51fa\u7684\u5185\u5bb9\uff0c\u5b57\u6bcd\u548c\u6570\u5b57\u6807\u7ea2\uff0c\u7528\u4e8e\u6807\u8bc6\uff0c\u800c\u5192\u53f7<code>:</code>\u5219\u662f\u767d\u8272\u5b57\u4f53\u663e\u793a</p>"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#8\u5c06\u6587\u4ef6\u7684root\u5168\u90e8\u66ff\u6362\u4e3aadmin","title":"8\u3001\u5c06\u6587\u4ef6\u7684root\u5168\u90e8\u66ff\u6362\u4e3aadmin","text":"Text Only<pre><code>sed 's/root/admin/g' test.txt \n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>admin:x:0:0:admin:/admin:/bin/bash\nbin:x:1:1:bin:/bin:/sbin/nologin\n...\n</code></pre>"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#9\u5220\u9664\u6587\u7ae023\u884c\u5185\u5bb9","title":"9\u3001\u5220\u9664\u6587\u7ae02~3\u884c\u5185\u5bb9","text":"Text Only<pre><code>sed '2,3d' test.txt \n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>root:x:0:0:root:/root:/bin/bash\nadm:x:3:4:adm:/var/adm:/sbin/nologin\n...\n</code></pre> <p>\u51c6\u5907\u6587\u4ef6\uff0c\u5e76\u5199\u5165\u5185\u5bb9\uff0c\u4f7f\u7528\u547d\u4ee4<code>vim \u6587\u4ef6\u540d</code></p> <p><code>vim josh.txt</code></p> Text Only<pre><code>josh josh1 josh2\njosh josh1 josh2\njosh josh1 josh2\n</code></pre>"},{"location":"shell/shell-note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#10\u8f93\u51fa1-2\u5217\u5185\u5bb9","title":"10\u3001\u8f93\u51fa1-2\u5217\u5185\u5bb9","text":"Text Only<pre><code>awk '{print $1,$2}' josh.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>josh josh1\njosh josh1\njosh josh1\n</code></pre> <p>\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u4e00\u79cd\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u4e8e\u5404\u79cd\u5b9e\u9645\u5e94\u7528\u3002\u638c\u63e1\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u53ef\u4ee5\u63d0\u9ad8\u5de5\u4f5c\u6548\u7387\u548c\u4ee3\u7801\u8d28\u91cf\u3002</p>"},{"location":"shell/shell-note/%E9%80%9A%E9%85%8D%E7%AC%A6%E7%94%A8%E6%B3%95/","title":"\u901a\u914d\u7b26\u7528\u6cd5","text":"<p>\u6b22\u8fce\u9605\u8bfb\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\u7cfb\u5217 \uff01\u5728\u672c\u7bc7\u6587\u7ae0\u4e2d\uff0c\u672c\u6587\u5c06\u8bf4\u660e\u901a\u914d\u7b26\u7528\u6cd5\u3002</p>"},{"location":"shell/shell-note/%E9%80%9A%E9%85%8D%E7%AC%A6%E7%94%A8%E6%B3%95/#1\u6982\u8ff0","title":"\uff081\uff09\u6982\u8ff0","text":"<p>\u901a\u914d\u7b26\u662f\u5728Linux\u547d\u4ee4\u4e2d\u7528\u4e8e\u5339\u914d\u6587\u4ef6\u540d\u7684\u7279\u6b8a\u5b57\u7b26\u3002\u5b83\u4eec\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5feb\u901f\u5b9a\u4f4d\u548c\u64cd\u4f5c\u6587\u4ef6\u3002\u672c\u6587\u5c06\u4ecb\u7ecd\u4e00\u4e9b\u5e38\u7528\u7684\u901a\u914d\u7b26\u53ca\u5176\u793a\u4f8b\u7528\u6cd5\u3002</p> <p>\u901a\u914d\u7b26\u662f\u4e00\u79cd\u7528\u4e8e\u6a21\u5f0f\u5339\u914d\u7684\u7279\u6b8a\u5b57\u7b26\u3002\u5728\u8ba1\u7b97\u673a\u9886\u57df\u4e2d\uff0c\u901a\u914d\u7b26\u901a\u5e38\u7528\u4e8e\u6587\u4ef6\u540d\u5339\u914d\u548c\u641c\u7d22\u64cd\u4f5c\u4e2d\u3002\u5b83\u4eec\u5141\u8bb8\u4f60\u6839\u636e\u7279\u5b9a\u7684\u6a21\u5f0f\u6765\u5339\u914d\u6587\u4ef6\u540d\u6216\u5b57\u7b26\u4e32\uff0c\u4ece\u800c\u8fdb\u884c\u66f4\u7075\u6d3b\u548c\u65b9\u4fbf\u7684\u5339\u914d\u64cd\u4f5c\u3002</p>"},{"location":"shell/shell-note/%E9%80%9A%E9%85%8D%E7%AC%A6%E7%94%A8%E6%B3%95/#2\u5e38\u89c1\u7684\u901a\u914d\u7b26\u53ca\u4f5c\u7528","title":"\uff082\uff09\u5e38\u89c1\u7684\u901a\u914d\u7b26\u53ca\u4f5c\u7528\uff1a","text":"\u7b26\u53f7 \u4f5c\u7528 <code>*</code> \u5339\u914d\u4efb\u610f\u957f\u5ea6\u7684\u4efb\u610f\u5b57\u7b26\u5e8f\u5217\u3002\u4f8b\u5982\uff0c<code>file*</code>\u53ef\u4ee5\u5339\u914d<code>file1</code>\u3001<code>file2</code>\u3001<code>file123</code>\u7b49\u3002 <code>?</code> \u5339\u914d\u5355\u4e2a\u5b57\u7b26\u3002\u4f8b\u5982\uff0c<code>file?.txt</code>\u53ef\u4ee5\u5339\u914d<code>file1.txt</code>\u3001<code>file2.txt</code>\u7b49\u3002 <code>[ ]</code> \u5339\u914d\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5b57\u7b26\u3002\u53ef\u4ee5\u4f7f\u7528\u5355\u4e2a\u5b57\u7b26\u6216\u5b57\u7b26\u8303\u56f4\u3002\u4f8b\u5982\uff0c<code>[abc]</code>\u53ef\u4ee5\u5339\u914d<code>a</code>\u3001<code>b</code>\u6216<code>c</code>\uff0c<code>[0-9]</code>\u53ef\u4ee5\u5339\u914d\u4efb\u610f\u6570\u5b57\u3002 <code>[^ ]</code> \u5339\u914d\u4e0d\u5728\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5b57\u7b26\u3002\u4f8b\u5982\uff0c<code>[^abc]</code>\u53ef\u4ee5\u5339\u914d\u9664\u4e86<code>a</code>\u3001<code>b</code>\u548c<code>c</code>\u4e4b\u5916\u7684\u4efb\u4f55\u5b57\u7b26\u3002 <code>{ }</code> \u521b\u5efa\u591a\u4e2a\u6a21\u5f0f\u7684\u7ec4\u5408\u3002\u53ef\u4ee5\u4f7f\u7528\u9017\u53f7\u5206\u9694\u591a\u4e2a\u6a21\u5f0f\u3002\u4f8b\u5982\uff0c<code>{file1,file2}.txt</code>\u53ef\u4ee5\u5339\u914d<code>file1.txt</code>\u548c<code>file2.txt</code>\u3002 <code>~</code> \u5339\u914d\u7528\u6237\u7684\u4e3b\u76ee\u5f55\u3002\u4f8b\u5982\uff0c<code>~/Documents</code>\u8868\u793a\u5f53\u524d\u7528\u6237\u7684<code>Documents</code>\u76ee\u5f55\u3002 <code>.</code> \u5339\u914d\u4efb\u610f\u5355\u4e2a\u5b57\u7b26\u3002\u5728\u6587\u4ef6\u540d\u4e2d\u4f7f\u7528<code>.</code>\u9700\u8981\u8fdb\u884c\u8f6c\u4e49\uff0c\u5373\u4f7f\u7528<code>\\.</code>\u3002\u4f8b\u5982\uff0c<code>file\\.txt</code>\u53ef\u4ee5\u5339\u914d<code>file.txt</code>\u3002 <code>+</code> \u5339\u914d\u524d\u4e00\u4e2a\u5b57\u7b26\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u5b9e\u4f8b\u3002\u4f8b\u5982\uff0c<code>file+</code>\u53ef\u4ee5\u5339\u914d<code>file</code>\u3001<code>filee</code>\u3001<code>fileee</code>\u7b49\u3002 <code>|</code> \u5339\u914d\u591a\u4e2a\u6a21\u5f0f\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u3002\u4f8b\u5982\uff0c<code>file1.txt\\|file2.txt</code>\u53ef\u4ee5\u5339\u914d<code>file1.txt</code>\u6216<code>file2.txt</code>\u3002 `` \u7528\u4e8e\u5f15\u7528\u547d\u4ee4\u7ed3\u679c <code>()</code> \u521b\u5efa\u5b50\u6a21\u5f0f\u3002\u53ef\u4ee5\u4f7f\u7528\u62ec\u53f7\u5c06\u6a21\u5f0f\u7ec4\u5408\u5728\u4e00\u8d77\u3002\u4f8b\u5982\uff0c<code>(file|folder).txt</code>\u53ef\u4ee5\u5339\u914d<code>file.txt</code>\u6216<code>folder.txt</code>\u3002 <p>\u8fd9\u4e9b\u901a\u914d\u7b26\u7b26\u53f7\u5728Linux\u7cfb\u7edf\u4e2d\u7ecf\u5e38\u7528\u4e8e\u6587\u4ef6\u540d\u5339\u914d\u548c\u6a21\u5f0f\u5339\u914d\u3002</p>"},{"location":"shell/shell-note/%E9%80%9A%E9%85%8D%E7%AC%A6%E7%94%A8%E6%B3%95/#3\u5e38\u7528\u793a\u4f8b","title":"\uff083\uff09\u5e38\u7528\u793a\u4f8b","text":""},{"location":"shell/shell-note/%E9%80%9A%E9%85%8D%E7%AC%A6%E7%94%A8%E6%B3%95/#1-\u4f7f\u7528\u901a\u914d\u7b26\u5339\u914d\u6587\u4ef6\u540d","title":"1. \u4f7f\u7528\u901a\u914d\u7b26\u5339\u914d\u6587\u4ef6\u540d","text":"<p>\u901a\u914d\u7b26\u5728\u547d\u4ee4\u884c\u4e2d\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5339\u914d\u6587\u4ef6\u540d\u3002\u4f8b\u5982\uff0c\u8981\u5217\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u4ee5<code>.txt</code>\u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>ls *.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>1.txt  test1.txt  test2.txt  test.txt\n</code></pre> <p>\u8fd9\u5c06\u8f93\u51fa\u6240\u6709\u4ee5<code>.txt</code>\u7ed3\u5c3e\u7684\u6587\u4ef6\u540d\u3002</p>"},{"location":"shell/shell-note/%E9%80%9A%E9%85%8D%E7%AC%A6%E7%94%A8%E6%B3%95/#2-\u4f7f\u7528\u53cd\u5f15\u53f7\u6267\u884c\u547d\u4ee4\u66ff\u6362","title":"2. \u4f7f\u7528\u53cd\u5f15\u53f7\u6267\u884c\u547d\u4ee4\u66ff\u6362","text":"<p>\u53cd\u5f15\u53f7\u53ef\u4ee5\u7528\u4e8e\u6267\u884c\u547d\u4ee4\u66ff\u6362\u3002\u4f8b\u5982\uff0c\u8981\u521b\u5efa\u4ee5\u5f53\u524d\u65e5\u671f\u547d\u540d\u7684<code>.txt</code>\u6587\u4ef6\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>touch `date +%F`.txt\n\nls *.txt\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>1.txt  2023-12-12.txt  test1.txt  test2.txt  test.txt\n</code></pre> <p>\u8fd9\u5c06\u521b\u5efa\u4e00\u4e2a\u4ee5\u5f53\u524d\u65e5\u671f\u547d\u540d\u7684<code>.txt</code>\u6587\u4ef6\u3002</p>"},{"location":"shell/shell-note/%E9%80%9A%E9%85%8D%E7%AC%A6%E7%94%A8%E6%B3%95/#3-\u7ed3\u5408find\u547d\u4ee4\u641c\u7d22\u6307\u5b9a\u6df1\u5ea6\u7684\u6587\u4ef6\u5939","title":"3. \u7ed3\u5408find\u547d\u4ee4\u641c\u7d22\u6307\u5b9a\u6df1\u5ea6\u7684\u6587\u4ef6\u5939","text":"<p>\u8981\u641c\u7d22\u6307\u5b9a\u6df1\u5ea6\u7684\u6587\u4ef6\u5939\uff0c\u53ef\u4ee5\u4f7f\u7528<code>find</code>\u547d\u4ee4\u7684<code>-maxdepth</code>\u53c2\u6570\u3002\u4f8b\u5982\uff0c\u8981\u5728<code>/tmp/tmp1/tmp2</code>\u76ee\u5f55\u4e0b\u641c\u7d22\u6df1\u5ea6\u4e3a3\u7684\u6587\u4ef6\u5939\u5185\u6240\u6709\u6587\u4ef6\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>mkdir -p /tmp/tmp1/tmp2\n\ntouch /tmp/tmp1/tmp2/666.txt\n\n\nfind /tmp/tmp1/tmp2 -maxdepth 3 -type f -name \"*\"  \n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>/tmp/tmp1/tmp2/666.txt\n</code></pre>"},{"location":"shell/shell-note/%E9%80%9A%E9%85%8D%E7%AC%A6%E7%94%A8%E6%B3%95/#4-\u7ed3\u5408find\u547d\u4ee4\u5339\u914d\u7279\u5b9a\u6a21\u5f0f\u7684\u6587\u4ef6","title":"4. \u7ed3\u5408find\u547d\u4ee4\u5339\u914d\u7279\u5b9a\u6a21\u5f0f\u7684\u6587\u4ef6","text":"<p><code>find</code>\u547d\u4ee4\u8fd8\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7279\u5b9a\u6a21\u5f0f\u7684\u6587\u4ef6\u3002\u4f8b\u5982\uff0c\u8981\u627e\u51fa<code>/tmp</code>\u76ee\u5f55\u4e0b\u4ee5\u4efb\u610f\u4e00\u4f4d\u6570\u5b57\u5f00\u5934\u4e14\u4ee5\u975e\u6570\u5b57\u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>find /tmp -type f -regex '.*/[0-9][^0-9]*'\n</code></pre> <p>\u8f93\u51fa\uff1a</p> Text Only<pre><code>/tmp/1.txt\n/tmp/tmpp1/2\n/tmp/tmpp1/3\n/tmp/tmpp1/1.sh\n/tmp/tmpp1/2.sh\n/tmp/tmpp1/3.sh\n/tmp/tmpp1/4.sh\n</code></pre> <ul> <li><code>[0-9]</code>\u5339\u914d\u4efb\u610f\u4e00\u4f4d\u6570\u5b57\uff0c</li> <li><code>[^0-9]</code>\u5339\u914d\u4efb\u610f\u975e\u6570\u5b57\u5b57\u7b26\uff0c</li> <li><code>*</code>\u8868\u793a\u884c\u5c3e\u3002</li> </ul> <p>\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u627e\u5230\u4ee5\u6570\u5b57\u5f00\u5934\u4e14\u4ee5\u975e\u6570\u5b57\u7ed3\u5c3e\u7684\u6587\u4ef6\u3002</p>"},{"location":"shell/shell-note/%E9%80%9A%E9%85%8D%E7%AC%A6%E7%94%A8%E6%B3%95/#5-\u7ed3\u5408find\u547d\u4ee4\u590d\u5236\u7279\u5b9a\u6a21\u5f0f\u7684\u6587\u4ef6","title":"5. \u7ed3\u5408find\u547d\u4ee4\u590d\u5236\u7279\u5b9a\u6a21\u5f0f\u7684\u6587\u4ef6","text":"<p>\u8981\u590d\u5236\u4ee5\u975e\u5b57\u6bcd\u5f00\u5934\u7684\u6587\u4ef6\u5230\u6307\u5b9a\u76ee\u5f55\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528<code>find</code>\u547d\u4ee4\u7ed3\u5408<code>-exec</code>\u53c2\u6570\u3002\u4f8b\u5982\uff0c\u8981\u5c06<code>/usr/local</code>\u76ee\u5f55\u4e0b\u4ee5\u975e\u5b57\u6bcd\u5f00\u5934\u7684\u6587\u4ef6\u590d\u5236\u5230<code>/tmp/tmpp1/</code>\u76ee\u5f55\u4e0b\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>find /usr/local -type f ! -name '[a-zA-Z]*' -exec cp {} /tmp/tmpp1/ \\;\n</code></pre> <p>\u8fd9\u4e2a\u547d\u4ee4\u4f7f\u7528<code>find</code>\u547d\u4ee4\u67e5\u627e<code>/usr/local</code>\u76ee\u5f55\u4e0b\u4e0d\u4ee5\u5b57\u6bcd\u5f00\u5934\u7684\u6587\u4ef6\uff0c\u5e76\u4f7f\u7528<code>-exec</code>\u53c2\u6570\u5c06\u5b83\u4eec\u9010\u4e2a\u590d\u5236\u5230<code>/tmp/tmpp1/</code>\u76ee\u5f55\u4e0b\u3002</p>"},{"location":"shell/shell-note/%E9%80%9A%E9%85%8D%E7%AC%A6%E7%94%A8%E6%B3%95/#4\u603b\u7ed3","title":"\uff084\uff09\u603b\u7ed3","text":"<p>\u672c\u6587\u4ecb\u7ecd\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u901a\u914d\u7b26\u53ca\u5176\u793a\u4f8b\u7528\u6cd5\u3002\u638c\u63e1\u8fd9\u4e9b\u901a\u914d\u7b26\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u66f4\u9ad8\u6548\u5730\u5728Linux\u7cfb\u7edf\u4e2d\u5b9a\u4f4d\u548c\u64cd\u4f5c\u6587\u4ef6\u3002\u5e0c\u671b\u8fd9\u4e9b\u793a\u4f8b\u5bf9\u4f60\u6709\u6240\u5e2e\u52a9\uff01</p>"},{"location":"shell/shell-scripts/git_pull/","title":"3.git_pull.sh","text":"Text Only<pre><code>#!/bin/bash\n\n\nfunction echo_log() {\n    local color=\"$1\"\n    shift\n    echo -e \"$(date +'%F %T') -[${color}] $* \\033[0m\"\n}\n\nfunction echo_log_info() {\n    echo_log \"\\033[32mINFO\" \"$*\"\n}\n\nfunction echo_log_warn() {\n    echo_log \"\\033[33mWARN\" \"$*\"\n}\n\nfunction echo_log_error() {\n    echo_log \"\\033[31mERROR\" \"$*\"\n    exit 1\n}\n\nfunction git_pull(){\n    cd /data/Mkdocs/Josh-Mkdocs\n    if ! git pull origin master &gt;/dev/null 2&gt;&amp;1; then\n        # \u5982\u679c\u62c9\u53d6\u5931\u8d25\uff0c\u53d1\u9001 webhook \u901a\u77e5\n        curl -X POST -H 'Content-type: application/json' \\\n        '{\"text\":\"Git pull failed on /data/Mkdocs/Josh-Mkdocs\"}' \\\n        https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=d575ce0e-6af6-4176-af18-56491df6b2e7\n\n        echo_log_error \"Code pull failed\" &gt;&gt; /data/Mkdocs/Josh-Mkdocs/pull_code.log\n    else\n        echo_log_info \"Code pulled successfully\" &gt;&gt; /data/Mkdocs/Josh-Mkdocs/pull_code.log\n    fi\n}\n\n\n\nmain() {\n    git_pull\n}\n\n\nmain\n</code></pre>"},{"location":"shell/shell-scripts/rename_files/","title":"1.rename_files.sh","text":"Text Only<pre><code>#!/bin/bash\n\n# \u904d\u5386\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709 Markdown \u6587\u4ef6\nfor file in *.md; do\n  # \u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u63d0\u53d6\u6587\u4ef6\u540d\u4e2d\u7684\u7f16\u53f7\u548c\u6807\u9898\n  if [[ $file =~ ^\u300a\u6bcf\u5929\u4e00\u4e2aLinux\u547d\u4ee4\u300b\\ --\\ \\(([0-9]+)\\)\\ (.*)\\.md$ ]]; then\n    # \u63d0\u53d6\u6587\u4ef6\u540d\u4e2d\u7684\u7f16\u53f7\n    number=\"${BASH_REMATCH[1]}\"\n\n    # \u63d0\u53d6\u6587\u4ef6\u540d\u4e2d\u7684\u6807\u9898\n    title=\"${BASH_REMATCH[2]}\"\n\n    # \u751f\u6210\u65b0\u6587\u4ef6\u540d\n    new_name=\"${number}.${title}.md\"\n\n    # \u91cd\u547d\u540d\u6587\u4ef6\n    mv \"$file\" \"$new_name\"\n\n    echo \"Renamed '$file' to '$new_name'\"\n  else\n    echo \"Skipped '$file' (already renamed or no match)\"\n  fi\ndone\n</code></pre>"},{"location":"shell/shell-scripts/update_headers/","title":"2.update_headers.sh","text":"Text Only<pre><code>#!/bin/bash\n\n# \u904d\u5386\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709 Markdown \u6587\u4ef6\nfor file in *.md; do\n  # \u4ece\u6587\u4ef6\u540d\u4e2d\u63d0\u53d6\u7f16\u53f7\u548c\u6807\u9898\n  if [[ $file =~ ^([0-9]+)\\.(.*)\\.md$ ]]; then\n    number=\"${BASH_REMATCH[1]}\"\n    title=\"${BASH_REMATCH[2]}\"\n\n    # \u751f\u6210\u65b0\u7684\u7b2c\u4e00\u884c\u5185\u5bb9\n    new_header=\"# ${number}. ${title}\"\n\n    # \u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u6587\u4ef6\n    tmp_file=$(mktemp)\n\n    # \u5c06\u65b0\u7684\u7b2c\u4e00\u884c\u5199\u5165\u4e34\u65f6\u6587\u4ef6\n    echo \"$new_header\" &gt; \"$tmp_file\"\n\n    # \u8df3\u8fc7\u539f\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\uff0c\u5e76\u5c06\u5269\u4f59\u5185\u5bb9\u8ffd\u52a0\u5230\u4e34\u65f6\u6587\u4ef6\u4e2d\n    tail -n +2 \"$file\" &gt;&gt; \"$tmp_file\"\n\n    # \u5c06\u4e34\u65f6\u6587\u4ef6\u8986\u76d6\u539f\u6587\u4ef6\n    mv \"$tmp_file\" \"$file\"\n\n    echo \"Updated '$file' with new header '$new_header'\"\n  else\n    echo \"Skipped '$file' (no match for the pattern)\"\n  fi\ndone\n</code></pre>"},{"location":"sql/","title":"\u6570\u636e\u5e93\u4ecb\u7ecd","text":"<p>\u5728\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u4e2d\uff0c\u6570\u636e\u5e93\u6a21\u5757\u662f\u8bb0\u5f55\u6211\u5728\u6570\u636e\u5b58\u50a8\u4e0e\u7ba1\u7406\u65b9\u9762\u7684\u5b9e\u8df5\u4e0e\u7ecf\u9a8c\u7684\u5730\u65b9\u3002\u6570\u636e\u5e93\u662f\u652f\u6491\u73b0\u4ee3\u5e94\u7528\u7a0b\u5e8f\u7684\u6838\u5fc3\u7ec4\u4ef6\uff0c\u5e2e\u52a9\u6211\u9ad8\u6548\u5730\u5b58\u50a8\u3001\u67e5\u8be2\u548c\u5206\u6790\u6570\u636e\u3002\u65e0\u8bba\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93\u5982 MySQL \u548c PostgreSQL\uff0c\u8fd8\u662f NoSQL \u6570\u636e\u5e93\u5982 MongoDB \u548c Redis\uff0c\u5b83\u4eec\u5728\u4e0d\u540c\u7684\u5e94\u7528\u573a\u666f\u4e0b\u5404\u5c55\u6240\u957f\uff0c\u4e3a\u6211\u7684\u9879\u76ee\u63d0\u4f9b\u4e86\u53ef\u9760\u7684\u6570\u636e\u652f\u6301\u3002\u4ece\u6570\u636e\u7684\u7ed3\u6784\u5316\u5b58\u50a8\u5230\u590d\u6742\u7684\u67e5\u8be2\u4f18\u5316\uff0c\u6570\u636e\u5e93\u7684\u8fd0\u7528\u8ba9\u6211\u7684\u5f00\u53d1\u5de5\u4f5c\u53d8\u5f97\u66f4\u52a0\u9ad8\u6548\u548c\u7cbe\u51c6\u3002</p>"},{"location":"sql/PostgreSQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/","title":"PostgreSQL \u6570\u636e\u5e93\u64cd\u4f5c","text":""},{"location":"sql/PostgreSQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/#postgresql-\u6570\u636e\u5e93\u64cd\u4f5c","title":"PostgreSQL \u6570\u636e\u5e93\u64cd\u4f5c","text":""},{"location":"sql/PostgreSQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/#1-\u521b\u5efa\u7528\u6237","title":"1. \u521b\u5efa\u7528\u6237","text":"<p>\u521b\u5efa\u4e00\u4e2a\u65b0\u7528\u6237\uff1a</p> SQL<pre><code>CREATE USER username WITH PASSWORD 'password';\n</code></pre>"},{"location":"sql/PostgreSQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/#2-\u4fee\u6539\u7528\u6237\u5bc6\u7801","title":"2. \u4fee\u6539\u7528\u6237\u5bc6\u7801","text":"<p>\u4fee\u6539\u73b0\u6709\u7528\u6237\u7684\u5bc6\u7801\uff1a</p> SQL<pre><code>ALTER USER username WITH PASSWORD 'new_password';\n</code></pre>"},{"location":"sql/PostgreSQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/#3-\u5220\u9664\u7528\u6237","title":"3. \u5220\u9664\u7528\u6237","text":"<p>\u5220\u9664\u4e00\u4e2a\u7528\u6237\uff1a</p> SQL<pre><code>DROP USER username;\n</code></pre>"},{"location":"sql/PostgreSQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/#4-\u6388\u4e88\u6743\u9650","title":"4. \u6388\u4e88\u6743\u9650","text":"<p>\u6388\u4e88\u7528\u6237\u5bf9\u67d0\u4e2a\u6570\u636e\u5e93\u7684\u8bbf\u95ee\u6743\u9650\uff1a</p> SQL<pre><code>GRANT ALL PRIVILEGES ON DATABASE dbname TO username;\n</code></pre>"},{"location":"sql/PostgreSQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/#5-\u64a4\u9500\u6743\u9650","title":"5. \u64a4\u9500\u6743\u9650","text":"<p>\u64a4\u9500\u7528\u6237\u5bf9\u67d0\u4e2a\u6570\u636e\u5e93\u7684\u8bbf\u95ee\u6743\u9650\uff1a</p> SQL<pre><code>REVOKE ALL PRIVILEGES ON DATABASE dbname FROM username;\n</code></pre>"},{"location":"sql/PostgreSQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/#6-\u6388\u4e88\u89d2\u8272","title":"6. \u6388\u4e88\u89d2\u8272","text":"<p>\u6388\u4e88\u7528\u6237\u4e00\u4e2a\u89d2\u8272\uff08\u4f8b\u5982\u8d85\u7ea7\u7528\u6237\u6743\u9650\uff09\uff1a</p> SQL<pre><code>ALTER USER username WITH SUPERUSER;\n</code></pre>"},{"location":"sql/PostgreSQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/#7-\u5217\u51fa\u7528\u6237\u7684\u6743\u9650","title":"7. \u5217\u51fa\u7528\u6237\u7684\u6743\u9650","text":"<p>\u67e5\u770b\u67d0\u4e2a\u7528\u6237\u7684\u6743\u9650\uff1a</p> SQL<pre><code>\\du username\n</code></pre> <p>\u5728 PostgreSQL \u547d\u4ee4\u884c\u4e2d\u4f7f\u7528 <code>\\du</code> \u53ef\u4ee5\u5217\u51fa\u6240\u6709\u7528\u6237\u53ca\u5176\u6743\u9650\u3002\u5982\u679c\u4f60\u60f3\u67e5\u770b\u7279\u5b9a\u7528\u6237\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528\uff1a</p> SQL<pre><code>\\du+ username\n</code></pre>"},{"location":"sql/PostgreSQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/#8-\u9501\u5b9a\u7528\u6237","title":"8. \u9501\u5b9a\u7528\u6237","text":"<p>\u9501\u5b9a\u4e00\u4e2a\u7528\u6237\u5e10\u6237\uff1a</p> SQL<pre><code>ALTER USER username WITH NOLOGIN;\n</code></pre>"},{"location":"sql/PostgreSQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/#9-\u89e3\u9501\u7528\u6237","title":"9. \u89e3\u9501\u7528\u6237","text":"<p>\u89e3\u9501\u4e00\u4e2a\u7528\u6237\u5e10\u6237\uff1a</p> SQL<pre><code>ALTER USER username WITH LOGIN;\n</code></pre>"},{"location":"sql/PostgreSQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/#10-\u66f4\u6539\u7528\u6237\u7684\u5c5e\u6027","title":"10. \u66f4\u6539\u7528\u6237\u7684\u5c5e\u6027","text":"<p>\u4f8b\u5982\uff0c\u5c06\u7528\u6237\u8bbe\u7f6e\u4e3a\u4e0d\u80fd\u521b\u5efa\u6570\u636e\u5e93\uff1a</p> SQL<pre><code>ALTER USER username WITH NOCREATEDB;\n</code></pre>"},{"location":"sql/PostgreSQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/#11\u67e5\u8be2\u6570\u636e\u5e93\u7528\u6237","title":"11.\u67e5\u8be2\u6570\u636e\u5e93\u7528\u6237","text":"Text Only<pre><code>SELECT usename FROM pg_user;\n</code></pre> Text Only<pre><code>create table tsetbs (name varchar(50));\ninsert into tsetbs values('\u767e\u5ea6');\ninsert into tsetbs values('\u963f\u91cc');\ninsert into tsetbs values('\u817e\u8baf');\ninsert into tsetbs values('www.baidu.com');\ninsert into tsetbs values('wx');\ninsert into tsetbs values('yone-com');\ninsert into tsetbs values('wx-gzh');\ninsert into tsetbs values('yone_com');\ninsert into tsetbs values('oracle');\ninsert into tsetbs values('mysql');\ninsert into tsetbs values('nosql');\ninsert into tsetbs values('pgsql');\ninsert into tsetbs values('\u6df1\u5733');\ninsert into tsetbs values('\u5e7f\u5dde');\nselect * from tsetbs;\n</code></pre>"},{"location":"synology/","title":"Synology\u4ecb\u7ecd","text":"<p>\u5728\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u4e2d\uff0cSynology \u6a21\u5757\u662f\u8bb0\u5f55\u6211\u5728\u6570\u636e\u5b58\u50a8\u4e0e\u7f51\u7edc\u5b58\u50a8\u8bbe\u5907 (NAS) \u7ba1\u7406\u65b9\u9762\u7684\u4f7f\u7528\u5fc3\u5f97\u7684\u5730\u65b9\u3002Synology \u662f\u4e00\u6b3e\u5e7f\u53d7\u6b22\u8fce\u7684 NAS \u8bbe\u5907\uff0c\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u6570\u636e\u7ba1\u7406\u3001\u5907\u4efd\u4e0e\u5171\u4eab\u529f\u80fd\u3002\u901a\u8fc7 Synology\uff0c\u6211\u53ef\u4ee5\u96c6\u4e2d\u7ba1\u7406\u5927\u91cf\u6587\u4ef6\uff0c\u786e\u4fdd\u6570\u636e\u7684\u5b89\u5168\u6027\u4e0e\u53ef\u8bbf\u95ee\u6027\u3002\u65e0\u8bba\u662f\u5bb6\u5ead\u591a\u5a92\u4f53\u5b58\u50a8\uff0c\u8fd8\u662f\u4f01\u4e1a\u7ea7\u7684\u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d\uff0cSynology \u90fd\u4e3a\u6211\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7a33\u5b9a\u4e14\u6613\u4e8e\u4f7f\u7528\u7684\u5e73\u53f0\uff0c\u4f7f\u5f97\u6570\u636e\u7ba1\u7406\u53d8\u5f97\u66f4\u52a0\u4fbf\u6377\u548c\u9ad8\u6548\u3002</p>"},{"location":"synology/VSP%20%E5%AE%89%E8%A3%85%E9%BB%91%E7%BE%A4%E6%99%96/","title":"VSP \u5b89\u88c5\u9ed1\u7fa4\u6656","text":"<p> \u4f7f\u7528UEFI.  </p> <p></p> <p></p> <p></p> <p>\u865a\u62df\u673a\u914d\u7f6e\u95ee\u9898 </p>"},{"location":"synology/install%20ipkg/","title":"Install ipkg","text":""},{"location":"synology/install%20ipkg/#\u521d\u8877","title":"\u521d\u8877\uff1a","text":"<p>\u7fa4\u6656\u4e0a\u6ca1\u6709yum\uff0c\u53ea\u80fd\u7528ipkg\u4f5c\u4e3a\u4e0b\u8f7d\u3002</p>"},{"location":"synology/install%20ipkg/#1\u521b\u5efa\u76ee\u5f55","title":"\uff081\uff09\u521b\u5efa\u76ee\u5f55","text":"Python<pre><code>mkdir /volume2/data/ipkg\ncd /volume2/data/ipkg\n</code></pre>"},{"location":"synology/install%20ipkg/#2\u4e0b\u8f7d\u811a\u672c","title":"\uff082\uff09\u4e0b\u8f7d\u811a\u672c","text":"Text Only<pre><code>wget http://ipkg.nslu2-linux.org/feeds/optware/syno-i686/cross/unstable/syno-i686-bootstrap_1.2-7_i686.xsh\n</code></pre> <p>\u20132024-05-12 16:47:19\u2013  http://ipkg.nslu2-linux.org/feeds/optware/syno-i686/cross/unstable/syno-i686-bootstrap_1.2-7_i686.xsh Resolving ipkg.nslu2-linux.org\u2026 23.141.224.193, 2620:139:a000::c1 Connecting to ipkg.nslu2-linux.org|23.141.224.193|:80\u2026 connected. HTTP request sent, awaiting response\u2026 200 OK Length: 249507 (244K) [text/plain] Saving to: \u2018syno-i686-bootstrap_1.2-7_i686.xsh\u2019</p> <p>syno-i686-bootstrap_1.2-7_i686 100%[==================================================&gt;] 243.66K   297KB/s    in 0.8s    </p> <p>2024-05-12 16:47:21 (297 KB/s) - \u2018syno-i686-bootstrap_1.2-7_i686.xsh\u2019 saved [249507/249507]</p>"},{"location":"synology/install%20ipkg/#3\u8d4b\u6743","title":"\uff083\uff09\u8d4b\u6743","text":"Text Only<pre><code>chmod +x syno-i686-bootstrap_1.2-7_i686.xsh\n</code></pre>"},{"location":"synology/install%20ipkg/#4\u6267\u884c\u5b89\u88c5","title":"\uff084\uff09\u6267\u884c\u5b89\u88c5","text":"Text Only<pre><code> sh syno-i686-bootstrap_1.2-7_i686.xsh\n</code></pre> <p>Optware Bootstrap for syno-i686. Extracting archive\u2026 please wait 1216+1 records in 1216+1 records out 249302 bytes (249 kB, 243 KiB) copied, 0.002228 s, 112 MB/s bootstrap/ bootstrap/bootstrap.sh bootstrap/ipkg-opt.ipk bootstrap/ipkg.sh bootstrap/optware-bootstrap.ipk bootstrap/wget.ipk Creating temporary ipkg repository\u2026 Installing optware-bootstrap package\u2026 Unpacking optware-bootstrap.ipk\u2026Done. Configuring optware-bootstrap.ipk\u2026Modifying /etc/rc.local Done. Installing ipkg\u2026 Unpacking ipkg-opt.ipk\u2026Done. Configuring ipkg-opt.ipk\u2026Done. Removing temporary ipkg repository\u2026 Installing wget\u2026 Installing wget (1.12-2) to root\u2026 Configuring wget Successfully terminated. Creating /opt/etc/ipkg/cross-feed.conf\u2026 Setup complete. root@Could:/volume2/data/ipkg# ipkg ipkg: ipkg must have one sub-command argument ipkg version 0.99.163 usage: ipkg [options\u2026] sub-command [arguments\u2026] where sub-command is one of:</p>"},{"location":"synology/install%20ipkg/#5ipkg\u5b89\u88c5\u8f6f\u4ef6","title":"\uff085\uff09ipkg\u5b89\u88c5\u8f6f\u4ef6","text":"Text Only<pre><code>#\u66f4\u65b0\u53ef\u7528\u7684\u5305\u5217\u8868\nipkg update\n\n#\u66f4\u65b0\u53ef\u80fd\u5df2\u5b89\u88c5\u7684\u5305\u5230\u6700\u65b0\u7248\u672c\nipkg upgrade\n\n#\u67e5\u627e\u8981\u5b89\u88c5\u7684\u5305\nipkg list *\u5305\u540d*\n\n#\u67e5\u770b\u5df2\u5b89\u88c5\u7684\u5305\nipkg list_installed\n\n#\u4e00\u822c\u4f1a\u5b89\u88c5\u4ee5\u4e0b\u7684\u5305\nipkg install lrzsz lsof mlocate less man netcat\n\n#\u8bbe\u7f6e\u5e76\u6d4b\u8bd5mlocate\u5305\n#\u66f4\u65b0\u6570\u636e\u5e93\ntime updatedb\n#\u67e5\u770b\u6570\u636e\u5e93\u4fe1\u606f\nlocate -S\n#\u67e5\u627e\u6587\u4ef6nginx.conf\nlocate nginx.conf\n</code></pre>"},{"location":"synology/install%20ipkg/#6\u5b89\u88c5lrzsz","title":"\uff086\uff09\u5b89\u88c5lrzsz\uff0c","text":"Text Only<pre><code>#\u5b89\u88c5lrzsz\nipkg install lrzsz\n\n\n#\u8bbe\u7f6elrzsz\nln -s /opt/bin/lrz /opt/bin/rz\nln -s /opt/bin/lsz /opt/bin/sz\n</code></pre>"},{"location":"synology/install%20ipkg/#\u9ed8\u8ba4\u8def\u5f84-optbin","title":"\u9ed8\u8ba4\u8def\u5f84\uff08 /opt/bin/\uff09","text":""},{"location":"synology/nas%E9%83%A8%E7%BD%B2clash/","title":"Nas\u90e8\u7f72clash","text":""},{"location":"synology/nas%E9%83%A8%E7%BD%B2clash/#1\u5b89\u88c5\u542f\u52a8docker","title":"\uff081\uff09\u5b89\u88c5\u542f\u52a8docker","text":"<p>\u5957\u4ef6\u4e2d\u5fc3\u5b89\u88c5docker\u542f\u52a8  </p>"},{"location":"synology/nas%E9%83%A8%E7%BD%B2clash/#2\u5b89\u88c5clash--yacd","title":"\uff082\uff09\u5b89\u88c5clash &amp; yacd","text":"<p>\u5f00\u542fnas\u7684ssh\uff0c\u901a\u8fc7\u547d\u4ee4\u8bbf\u95ee\uff1a ssh admin@192.168.3.79 -p 22 \u767b\u5f55\u540e\uff0c\u901a\u8fc7\u547d\u4ee4\u83b7\u53d6root\u6743\u9650\uff1a sudo -i </p> <p>&lt;1&gt;\u5b89\u88c5clash\uff1a docker pull dreamacro/clash</p> <p>&lt;2&gt;\u5b89\u88c5yacd\uff1a docker pull haishanh/yacd  \u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5728web\u540e\u53f0\u5904\u663e\u793a\u5982\u4e0b\uff1a </p>"},{"location":"synology/nas%E9%83%A8%E7%BD%B2clash/#3clash\u914d\u7f6e","title":"\uff083\uff09Clash\u914d\u7f6e","text":"<p>&lt;1&gt;\u914d\u7f6eclash\u7684config\u542f\u52a8\u6587\u4ef6\u53ca\u76ee\u5f55 \u5728docker\u6587\u4ef6\u5939\u4e0b\u521b\u5efaclash\u6587\u4ef6\u5939\u7528\u4e8e\u5b58\u653eclash\u7684config\u914d\u7f6e\u6587\u4ef6  &lt;2&gt;clash \u7684config.yaml\u6587\u4ef6\u83b7\u53d6\u53ca\u6dfb\u52a0\u3001\u66f4\u65b0 \u5982\u65b0\u8bbe\u5907\u3001\u66f4\u6362\u673a\u573a\uff0c\u9700\u8981\u66f4\u65b0clash.yaml\u6309\u5982\u4e0b\u64cd\u4f5c\u5373\u53ef\u3002 \u5c06\u914d\u7f6e\u6587\u4ef6\u5bfc\u5165windows\u7684clash\u5ba2\u6237\u7aef  \u6253\u5f00clash\u5ba2\u6237\u7aef\uff0c\u5728\u914d\u7f6e\u680f\u9009\u62e9\u5bf9\u5e94\u7684\u673a\u573a\u9f20\u6807\u53f3\u51fb\u663e\u793a\u6587\u4ef6\u5939   \u590d\u5236\u8be5\u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539\u6587\u4ef6\u540d\u79f0\u4e3aconfig.yaml\uff0c\u4f7f\u7528\u8bb0\u4e8b\u672c\u8fdb\u884c\u4fee\u6539  ** Config.yaml\u57fa\u7840\u914d\u7f6e\u6587\u4ef6\uff1a** Bash<pre><code>port: 7890\nsocks-port: 7891\nredir-port: 7892\nallow-lan: true\nbind-address: '*'\nmode: rule\nlog-level: info\nexternal-controller: '0.0.0.0:9090'\ndns:\n    enable: true\n    ipv6: false\n    default-nameserver: [223.5.5.5, 119.29.29.29]\n    fake-ip-range: 198.18.0.1/16\n    use-hosts: true\n    nameserver: ['https://doh.pub/dns-query', 'https://dns.alidns.com/dns-query']\n    fallback: ['tls://1.0.0.1:853', 'https://cloudflare-dns.com/dns-query', 'https://dns.google/dns-query']\n    fallback-filter: { geoip: true, ipcidr: [240.0.0.0/4, 0.0.0.0/32] }\n</code></pre></p> <p>&lt;3&gt;\u4e0a\u4f20config.yaml\u914d\u7f6e\u6587\u4ef6</p> <p>\u4fee\u6539\u5b8c\u7684\u6587\u4ef6config.yaml\uff0c\u4e0a\u4f20\u5230dockerclash\u6587\u4ef6\u5939\u4e0b </p> <p>\u914d\u7f6eclash &lt;1&gt;\u6253\u5f00docker\uff0c\u5728\u6620\u50cf\u4e2d\uff0c\u53cc\u51fb\u542f\u52a8\u201cdreamacro/clash:latest\u201d </p> <p></p> <p> &lt;2&gt;\u7aef\u53e3\u8bbe\u7f6e(\u5bf9\u5e94congig.yaml\u914d\u7f6e\u5373\u53ef)\uff1a</p> <p> &lt;3&gt;\u8bbe\u7f6e\u6587\u4ef6\u8def\u5f84\uff1a/docker/clash/config.yaml \u6620\u5c04\u5230\u5bb9\u5668\u7684/root/.config/clash/config.yaml</p> <p></p> <p></p> <p></p> <p> &lt;3&gt;\u4e0b\u4e00\u6b65\u2026\u76f4\u81f3\u5b8c\u6210\uff0c\u4e0d\u9700\u8981\u8bbe\u7f6e\u6587\u4ef6\u53ca\u6587\u4ef6\u5939\u7684\u8def\u5f84  &lt;4&gt;\u6dfb\u52a0yacd\u7ba1\u7406\u9875\u9762 \u901a\u8fc7http://10.0.0.42:8081/   #IP+yacd\u7684\u7aef\u53e38081\u6253\u5f00\uff0c\u5728api base url\u4e2d\uff0c\u8f93\u5165http://10.0.0.42:9090\uff0c\u70b9\u51fbadd,\u4e0b\u56fe\u6846\u8d77\u6765\u7684\u4e3a\u6210\u529f\u6807\u8bc6          &lt;5&gt;\u8282\u70b9\u5207\u6362  &lt;6&gt;windows\u4f7f\u7528clash\u4ee3\u7406 \u6253\u5f00nas\u7684clash\u5730\u5740\uff0chttp://10.0.0.42:8081/#/configs\uff0c\u5728\u914d\u7f6e\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230http\u7684\u5730\u5740\u7aef\u53e3  \u6253\u5f00\u7cfb\u7edf\u4ee3\u7406\uff0c\u914d\u7f6eIP\u53ca\u7aef\u53e3  \u8bbf\u95ee\u6d4b\u8bd5\uff1ahttp://ip111.cn/ </p> <p>&lt;7&gt;\u81ea\u52a8\u66f4\u65b0\u811a\u672c</p>"},{"location":"synology/nas%E9%83%A8%E7%BD%B2clash/#\u811a\u672c\u5b58\u653e\u4f4d\u7f6evolume1dockerclashreload-clashsh","title":"\u811a\u672c\u5b58\u653e\u4f4d\u7f6e\uff1a/volume1/docker/clash/reload-clash.sh","text":""},{"location":"synology/nas%E9%83%A8%E7%BD%B2clash/#nas\u6267\u884c\u811a\u672c\u5b9a\u4e49bash-volume1dockerclashreload-clashsh","title":"nas\u6267\u884c\u811a\u672c\u5b9a\u4e49\uff1abash /volume1/docker/clash/reload-clash.sh","text":""},{"location":"synology/nas%E9%83%A8%E7%BD%B2clash/#\u4e0b\u8f7d\u8282\u70b9\u914d\u7f6e\u6587\u4ef6\u6839\u636e\u5b9e\u9645\u7684\u8ba2\u9605\u5730\u5740\u586b\u5199","title":"\u4e0b\u8f7d\u8282\u70b9\u914d\u7f6e\u6587\u4ef6\uff0c\u6839\u636e\u5b9e\u9645\u7684\u8ba2\u9605\u5730\u5740\u586b\u5199","text":"<p>wget -O /volume1/docker/clash/config.yaml https://www.v2fast.site/api/v1/client/subscribe?token=113e6672a91d1c603c00b3fea8c7df3e</p>"},{"location":"synology/nas%E9%83%A8%E7%BD%B2clash/#external-controller\u5730\u5740\u4e3a00009090\u65b9\u4fbfui\u8bbf\u95ee\u53ef\u9009","title":"external-controller\u5730\u5740\u4e3a0.0.0.0:9090\uff0c\u65b9\u4fbfUI\u8bbf\u95ee\uff08\u53ef\u9009\uff09","text":"<p>sed -i \u2018s/127.0.0.1:9090/0.0.0.0:9090/g\u2019 /volume1/docker/clash/config.yaml</p>"},{"location":"synology/nas%E9%83%A8%E7%BD%B2clash/#\u589e\u52a0\u5b89\u5168\u6027\u914d\u7f6e\u4f7f\u7528\u4ee3\u7406\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u53ef\u9009","title":"\u589e\u52a0\u5b89\u5168\u6027\uff0c\u914d\u7f6e\u4f7f\u7528\u4ee3\u7406\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\uff08\u53ef\u9009\uff09","text":"<p>sed -i \u2018s/allow-lan: true/allow-lan: true\\r\\nauthentication:\\r\\n - \u201cjosh:josh123456\u201d\\r\\n - \u201cpino:pino123456\u201d/g\u2019 /volume1/docker/clash/config.yaml</p>"},{"location":"synology/nas%E9%83%A8%E7%BD%B2clash/#\u91cd\u542f-clash-\u5bb9\u5668\u540d\u5b57\u4e3a\u5b9e\u9645\u7684\u5bb9\u5668\u540d\u5b57","title":"\u91cd\u542f clash \u5bb9\u5668\uff0c\u540d\u5b57\u4e3a\u5b9e\u9645\u7684\u5bb9\u5668\u540d\u5b57","text":"<p>docker container restart dreamarco-clash1</p> <p>&lt;8&gt;win10\u542f\u7528\u4ee3\u7406\u811a\u672c @echo off</p> <p>REM \u8bbe\u7f6e\u4ee3\u7406\u670d\u52a1\u5668\u5730\u5740\u548c\u7aef\u53e3 set \u201cproxyServer=192.168.3.79:7890\u201d</p> <p>REM \u542f\u7528\u4ee3\u7406\u670d\u52a1\u5668 reg add \u201cHKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings\u201d /v ProxyEnable /t REG_DWORD /d 1 /f</p> <p>REM \u8bbe\u7f6e\u4ee3\u7406\u670d\u52a1\u5668\u5730\u5740\u548c\u7aef\u53e3 reg add \u201cHKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings\u201d /v ProxyServer /d \u201c%proxyServer%\u201d /f</p> <p>REM \u5237\u65b0\u4ee3\u7406\u8bbe\u7f6e netsh winhttp import proxy source=ie</p> <p>echo \u4ee3\u7406\u8bbe\u7f6e\u5df2\u4fee\u6539\u4e3a\uff1a%proxyServer% &lt;9&gt;win10\u5173\u95ed\u4ee3\u7406\u811a\u672c @echo off</p> <p>REM \u5173\u95ed\u4ee3\u7406\u670d\u52a1\u5668 reg add \u201cHKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings\u201d /v ProxyEnable /t REG_DWORD /d 0 /f</p> <p>REM \u5237\u65b0\u4ee3\u7406\u8bbe\u7f6e netsh winhttp reset proxy</p> <p>echo \u4ee3\u7406\u5df2\u5173\u95ed\u3002</p> <p>\u65e5\u5e38\u7ef4\u62a4\uff1a &lt;1&gt;\u8ba2\u9605\u5730\u5740\u66f4\u65b0\uff08\u673a\u573a\u5931\u6548\u3001\u66f4\u6362\u673a\u573a\uff09\uff0c\u767b\u5f55nas\uff0c\u66ff\u6362docker\u6587\u4ef6\u5939\u4e0b\u7684config.yaml\u6587\u4ef6\uff0c\u66ff\u6362\u5b8c\u6210\uff0c\u91cd\u542fclash\u5373\u53ef\u3002 &lt;2&gt;\u8282\u70b9\u5207\u6362\uff0c\u901a\u8fc7yacd\u7ba1\u7406\u9875\u9762\u6253\u5f00\uff0c\u70b9\u51fb\u9700\u8981\u5207\u6362\u7684\u8282\u70b9\u5373\u53ef</p>"},{"location":"synology/nas%E9%87%8D%E5%86%99%E5%BC%95%E5%AF%BC/","title":"Nas\u91cd\u5199\u5f15\u5bfc","text":"<p>\u5199\u5165\u5b8c\uff0c\u63a5\u5165\u4e3b\u673a</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p> </p> <p>\u53c2\u8003\uff1ahttp://nas.zwbcc.cn:8090/archives/1700807434007</p>"},{"location":"synology/vsphere%E5%AE%89%E8%A3%85%E9%BB%91%E7%BE%A4%E6%99%96/","title":"Vsphere\u5b89\u88c5\u9ed1\u7fa4\u6656","text":"<p>\u5f85\u5220\u9664 </p> <p>\u914d\u7f6e\u7f51\u5361\u4e34\u65f6IP\uff0c\u7528\u4e8e\u8bbf\u95ee Python<pre><code>ifconfig eth0 10.22.51.64 netmask 255.255.255.0\nroute add default gw 10.22.51.254 eth0\nnano /etc/resolv.conf\nnameserver 223.5.5.5\n</code></pre></p> <p>\u5f15\u5bfc\u62a5\u9519  \u8bbe\u7f6eSTAT</p> <p>\u4e0d\u914d\u7f6eDNS\u7f16\u8bd1\u5f15\u5bfc\u4f1a\u62a5\u9519  </p> <p>\u7f16\u8bd1\u5b8c\u6210\uff0c\u70b9\u51fb\u542f\u52a8\uff0c\u52a0\u8f7d\u7684\u754c\u9762 </p>"},{"location":"vmware/","title":"VMware\u4ecb\u7ecd","text":"<p>\u5728\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u4e2d\uff0cVMware \u6a21\u5757\u662f\u8bb0\u5f55\u6211\u5728\u865a\u62df\u5316\u6280\u672f\u548c\u865a\u62df\u673a\u7ba1\u7406\u65b9\u9762\u7684\u5b9e\u8df5\u7ecf\u9a8c\u7684\u5730\u65b9\u3002VMware \u662f\u4e00\u5bb6\u9886\u5148\u7684\u865a\u62df\u5316\u6280\u672f\u63d0\u4f9b\u5546\uff0c\u5176\u4ea7\u54c1\u5e2e\u52a9\u6211\u9ad8\u6548\u5730\u521b\u5efa\u3001\u7ba1\u7406\u548c\u4f18\u5316\u865a\u62df\u73af\u5883\u3002\u901a\u8fc7 VMware \u7684\u89e3\u51b3\u65b9\u6848\uff0c\u6211\u53ef\u4ee5\u5728\u5355\u4e00\u7269\u7406\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u591a\u4e2a\u865a\u62df\u673a\uff0c\u4f18\u5316\u8d44\u6e90\u4f7f\u7528\uff0c\u5e76\u7b80\u5316\u7cfb\u7edf\u7ba1\u7406\u3002\u65e0\u8bba\u662f\u5728\u5f00\u53d1\u548c\u6d4b\u8bd5\u73af\u5883\u7684\u642d\u5efa\uff0c\u8fd8\u662f\u5728\u751f\u4ea7\u73af\u5883\u7684\u8d44\u6e90\u865a\u62df\u5316\uff0cVMware \u90fd\u4e3a\u6211\u63d0\u4f9b\u4e86\u7075\u6d3b\u800c\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u4f7f\u5f97\u865a\u62df\u5316\u64cd\u4f5c\u53d8\u5f97\u66f4\u52a0\u9ad8\u6548\u548c\u53ef\u9760\u3002</p>"},{"location":"vmware/Esxi6.7%E5%AE%89%E8%A3%85MacOS%2010.15.6/","title":"Esxi6.7 \u5b89\u88c5MacOS 10.15.6","text":"<p>\u652f\u6301Esxi6.7\u548cEsxi7.0</p>"},{"location":"vmware/Esxi6.7%E5%AE%89%E8%A3%85MacOS%2010.15.6/#1\u4e0b\u8f7d\u5b89\u88c5\u6587\u4ef6","title":"1\u3001\u4e0b\u8f7d\u5b89\u88c5\u6587\u4ef6","text":"<p>Unlocker 3.0.0Github\u5730\u5740\uff1ahttps://github.com/Tonnp/esxi-unlocker/releases/tag/3.0</p> <p>\u5b89\u88c5\u53c2\u8003\uff1ahttps://www.youtube.com/watch?app=desktop&amp;v=ZUbrIDkKWjU</p> <p>\u66f4\u591amac\u4e0b\u8f7d\uff1ahttps://macoshome.com/macos/7947.html</p> <p>mac_iso\u4e0b\u8f7d\u5730\u5740\uff1a</p> Text Only<pre><code>\u901a\u8fc7\u767e\u5ea6\u7f51\u76d8\u5206\u4eab\u7684\u6587\u4ef6\uff1amacOS.Catalina.iso\n\u94fe\u63a5\uff1ahttps://pan.baidu.com/s/1DWcNCgG_jIZzyDSm6-WyrA \n\u63d0\u53d6\u7801\uff1aenoj \n</code></pre>"},{"location":"vmware/Esxi6.7%E5%AE%89%E8%A3%85MacOS%2010.15.6/#2\u4e0a\u4f20\u6587\u4ef6","title":"2\u3001\u4e0a\u4f20\u6587\u4ef6","text":""},{"location":"vmware/Esxi6.7%E5%AE%89%E8%A3%85MacOS%2010.15.6/#1\u4e0a\u8f7d\u6587\u4ef6unlocker\u5230esxi","title":"1.\u4e0a\u8f7d\u6587\u4ef6Unlocker\u5230esxi","text":""},{"location":"vmware/Esxi6.7%E5%AE%89%E8%A3%85MacOS%2010.15.6/#2\u4e0a\u4f20mac\u955c\u50cf\u6587\u4ef6\u5230esxi","title":"2.\u4e0a\u4f20mac\u955c\u50cf\u6587\u4ef6\u5230esxi","text":""},{"location":"vmware/Esxi6.7%E5%AE%89%E8%A3%85MacOS%2010.15.6/#3\u5b89\u88c5unlocker-300","title":"3\u3001\u5b89\u88c5Unlocker 3.0.0","text":"Text Only<pre><code>[root@localhost:~] find / -name esxi-unlocker-3.0*\n/vmfs/volumes/66af22a6-ea55e212-86a7-d45d6406a2f3/unlocker_300/esxi-unlocker-3.0.zip\n[root@localhost:~] cd /vmfs/volumes/66af22a6-ea55e212-86a7-d45d6406a2f3/unlocker_300/\n[root@localhost:/vmfs/volumes/66af22a6-ea55e212-86a7-d45d6406a2f3/unlocker_300] ls\nesxi-unlocker-3.0.zip\n\n\nunzip esxi-unlocker-3.0.zip &amp;&amp; cd unzip esxi-unlocker-3.0\ncd esxi-unlocker-3.0\nchmod +x esxi-install.sh\n</code></pre> <p>\u91cd\u542fesxi</p> Text Only<pre><code>reboot\n</code></pre>"},{"location":"vmware/Esxi6.7%E5%AE%89%E8%A3%85MacOS%2010.15.6/#vmware-unlocker-300","title":"VMware Unlocker 3.0.0","text":"<p>Copyright: Dave Parsons 2011-18 Installing unlocker.tgz Acquiring lock /tmp/bootbank.lck Copying unlocker.tgz to /bootbank/unlocker.tgz Editing /bootbank/boot.cfg to add module unlocker.tgz Success - please now restart the server!</p>"},{"location":"vmware/Esxi6.7%E5%AE%89%E8%A3%85MacOS%2010.15.6/#4\u5b89\u88c5mac","title":"4\u3001\u5b89\u88c5mac","text":"<p>\u540d\u79f0\uff1a\u53ef\u81ea\u5b9a\u4e49</p> <p>\u517c\u5bb9\u6027\uff1a\u9ed8\u8ba4</p> <p>\u5ba2\u6237\u673a\u64cd\u4f5c\u7cfb\u7edf\u7cfb\u5217\uff1aMac OS</p> <p>\u5ba2\u6237\u673a\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\uff1a\u6309mac\u7248\u672c\u8fdb\u884c\u9009\u62e9\uff08\u598210.15.6\uff09</p> <p></p> <p>\u9009\u62e9\u5b89\u88c5\u4f4d\u7f6e\uff0c\u5c3d\u91cf\u5b89\u88c5\u5728\u56fa\u6001\u786c\u76d8\uff0c\u901f\u5ea6\u76f8\u5bf9\u5feb\u4e00\u4e9b</p> <p></p> <p>1.\u9009\u62e9\u786c\u76d8\u914d\u7f6e\uff0c\u6839\u636e\u4e2a\u4eba\u9700\u6c42\uff0c\u4e0d\u5efa\u8bae\u592a\u4f4e</p> <p>2.CD/DVD\u9009\u62e9\u521a\u521a\u4e0a\u4f20\u7684\u955c\u50cf\u6587\u4ef6</p> <p></p> <p>\u9009\u62e9\u955c\u50cf\u6587\u4ef6\u5939\u8def\u5f84\u548c\u6587\u4ef6\u540d\u79f0</p> <p></p> <p>\u521b\u5efa\u5b8c\u6210\u9875\u9762</p> <p></p> <p></p> <p>\u5f00\u542f\u865a\u62df\u673a\u7535\u6e90\uff0c\u5728\u65b0\u7a97\u53e3\u6253\u5f00\u865a\u62df\u673a</p> <p></p> <p>\u6253\u5f00\u865a\u62df\u673a\u753b\u9762\u51fa\u73b0mac\u6807\u8bc6\uff0c\u53ef\u4ee5\u8fdb\u884c\u5b89\u88c5\u3002</p> <p></p> <p>\u9009\u62e9\u8bed\u8a00<code>\u4e2d\u6587</code></p> <p></p> <p>\u9009\u62e9<code>\u78c1\u76d8\u5de5\u5177</code>\uff0c\u70b9\u51fb<code>\u7ee7\u7eed</code></p> <p></p> <p>\u70b9\u51fb\u5de6\u4e0a\u89d2<code>\u663e\u793a</code></p> <p></p> <p>\u70b9\u51fb<code>\u663e\u793a\u6240\u6709\u8bbe\u5907</code>\uff0c\u4f1a\u663e\u793a\u51fa\u5b89\u88c5\u786c\u76d8</p> <p></p> <p>\u9009\u62e9\u8be5\u786c\u76d8\uff0c\u70b9\u51fb<code>\u62b9\u6389</code></p> <p></p> <p>1- mac\uff08\u636e\u8bf4\u540d\u79f0\u8981\u76f4\u901a\u8fdb\u53bb\u624d\u80fd\u6539\uff09</p> <p>2- \u683c\u5f0f\u4e3aAPFS</p> <p>3- GUID\u5206\u533a\u56fe</p> <p>\u70b9\u51fb\u62b9\u6389</p> <p></p> <p>\u5b8c\u6210\u753b\u9762</p> <p></p> <p>\u5173\u6389\u78c1\u76d8\u5de5\u5177</p> <p></p> <p>\u5b89\u88c5macos \uff0c\u70b9\u51fb\u7ee7\u7eed</p> <p></p> <p>\u4e0b\u4e00\u6b65\uff0c\u540c\u610f\u534f\u8bae-&gt;\u9009\u62e9\u78c1\u76d8-&gt;\u5b89\u88c5</p> <p></p> <p>\u7b49\u5f85ing....</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>\u7cfb\u7edf\u7248\u672c</p> <p></p> <p>\u5982\u679c\u9700\u8981\u76f4\u901a\u663e\u5361\u53ef\u4ee5\u4f7f\u7528</p> <p>gtx660</p> <p>AMD rx590</p> <p>AMD rx5700xt</p>"},{"location":"vmware/Esxi%E5%AE%89%E8%A3%85win10/","title":"Esxi\u5b89\u88c5win10","text":""},{"location":"vmware/Esxi%E5%AE%89%E8%A3%85win10/#esxi\u5b89\u88c5win10","title":"Esxi\u5b89\u88c5win10","text":"<p>\u6ce8\u610f\u4e8b\u9879\u5c31\u4e24\u70b9\uff1a</p> <p>1.\u4e0a\u4f20\u955c\u50cf\u6587\u4ef6\u5230\u5b58\u50a8</p> <p></p> <p>2.\u521b\u5efa\u597d\u865a\u62df\u673a\uff0c\u9700\u8981\u8bbe\u7f6e\u5f15\u5bfc\u542f\u52a8</p> <p></p>"},{"location":"vmware/Vcenter%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/","title":"Vcenter\u4f7f\u7528\u6ce8\u610f\u4e8b\u9879","text":""},{"location":"vmware/Vcenter%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/#1vcenter\u5b89\u88c5centos7\u6ce8\u610f\u4e8b\u9879","title":"1\u3001vcenter\u5b89\u88c5centos7\u6ce8\u610f\u4e8b\u9879","text":"<p>\u521b\u5efa\u865a\u62df\u673a\u65f6\uff0c\u9009\u62e9\u597d\u5bf9\u5e94\u7684\u955c\u50cf\u6587\u4ef6\uff0c\u9700\u8981\u52fe\u9009<code>\u5df2\u8fde\u63a5</code>\uff0c\u8fd9\u6837\u7cfb\u7edf\u955c\u50cf\u624d\u80fd\u88ab\u8bc6\u522b\u5230</p> <p></p> <p></p>"},{"location":"vmware/Vcenter%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/#2\u5236\u4f5c\u865a\u62df\u673a\u6a21\u677f","title":"2\u3001\u5236\u4f5c\u865a\u62df\u673a\u6a21\u677f","text":""},{"location":"vmware/Vcenter%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/#1\u5173\u95ed\u865a\u62df\u673a\u7535\u6e90","title":"1\u3001\u5173\u95ed\u865a\u62df\u673a\u7535\u6e90","text":""},{"location":"vmware/Vcenter%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/#2\u5236\u4f5c\u865a\u62df\u673a\u6a21\u677f_1","title":"2\u3001\u5236\u4f5c\u865a\u62df\u673a\u6a21\u677f","text":""},{"location":"vmware/Vcenter%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/#3vmware-vcenter-\u4e0a\u4f20\u6587\u4ef6\u81f3\u5b58\u50a8\u5377\u63d0\u793a\u4e0d\u4fe1\u4efb\u8bc1\u4e66\u5bfc\u81f4\u65e0\u6cd5\u4e0a\u4f20","title":"3\u3001Vmware vCenter \u4e0a\u4f20\u6587\u4ef6\u81f3\u5b58\u50a8\u5377\uff1a\u63d0\u793a\u4e0d\u4fe1\u4efb\u8bc1\u4e66\uff0c\u5bfc\u81f4\u65e0\u6cd5\u4e0a\u4f20","text":"<p>\u62a5\u9519\uff1a</p> <p>\u7531\u4e8e\u4e0d\u786e\u5b9a\u7684\u539f\u56e0\uff0c\u64cd\u4f5c\u5931\u8d25\u3002\u901a\u5e38\uff0c\u6b64\u95ee\u9898\u662f\u7531\u4e8e\u6d4f\u89c8\u5668\u4e0d\u4fe1\u4efb\u8bc1\u4e66\u5f15\u8d77\u7684\u3002\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f\u81ea\u7b7e\u540d\u8bc1\u4e66\u6216\u81ea\u5b9a\u4e49\u8bc1\u4e66\uff0c\u8bf7\u5728\u4e00\u4e2a\u65b0\u7684\u6d4f\u89c8\u5668\u9009\u9879\u5361\u4e2d\u6253\u5f00\u4ee5\u4e0b URL \u5e76\u63a5\u53d7\u8bc1\u4e66\uff0c\u7136\u540e\u91cd\u8bd5\u6b64\u64cd\u4f5c\u3002</p> <p>\u4ee5\u4e0a\u62a5\u9519\u9700\u8981\u6211\u4eec\u81ea\u5df1\u5bfc\u5165\u8bc1\u4e66\u5e76\u4fe1\u4efb\u5373\u53ef\u3002\u8bc1\u4e66\u4e0b\u8f7d\u5730\u5740\uff1a\u4f60\u7684\u57df\u540d\u540e\u9762\u52a0<code>/certs/download.zip</code>\uff0c\u4e0b\u8f7d\u5b8c\u6210\u540e\u4f1a\u6709\u4e00\u4e2a\u4e09\u4e2a\u6587\u4ef6\u3002</p> <p>\u5982\uff1a<code>https://10.22.51.45/certs/download.zip</code></p> <p>win\u53cc\u51fb\u5b89\u88c5\u8bc1\u4e66\u5373\u53ef\uff0c</p> <p></p> <p>\u5b8c\u6210\u540e\uff0c\u5237\u65b0\u6d4f\u89c8\u5668\u518d\u91cd\u65b0\u4e0a\u4f20</p> <p>\u53c2\u8003\uff1ahttps://www.cnblogs.com/98record/p/14346342.html</p>"},{"location":"vmware/%E6%99%AE%E9%80%9Apc%E9%83%A8%E7%BD%B2esxi/","title":"\u666e\u901apc\u90e8\u7f72esxi","text":"<p>\u6b63\u5e38\u666e\u901a\u7535\u8111\u5b89\u88c5\u90fd\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\u7f3a\u5931\u7f51\u5361\u9a71\u52a8</p> <p>\u53c2\u8003\u535a\u5ba2\uff1ahttps://www.cnblogs.com/Sunzz/p/11438066.html</p> <p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5982\u679c\u6b64\u524d\u78c1\u76d8\u662f\u5176\u4ed6\u683c\u5f0f\u7684\u5206\u533a\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u914d\u7f6e</p>"},{"location":"vmware/%E6%99%AE%E9%80%9Apc%E9%83%A8%E7%BD%B2esxi/#1\u67e5\u770b\u6587\u4ef6\u7cfb\u7edf","title":"1.\u67e5\u770b\u6587\u4ef6\u7cfb\u7edf","text":"<p>1.<code>df -lh</code> \u547d\u4ee4\u663e\u793a\u5f53\u524d\u6302\u8f7d\u7684\u6587\u4ef6\u7cfb\u7edf</p> Text Only<pre><code>Filesystem   Size   Used Available Use% Mounted on\nVMFS-6     216.0G   1.4G    214.6G   1% /vmfs/volumes/datastore1\nvfat       285.8M 173.8M    112.0M  61% /vmfs/volumes/66af2284-2a97d1ec-5741-d45d6406a2f3\nvfat         4.0G   3.5M      4.0G   0% /vmfs/volumes/66af22a6-0d91df8d-8823-d45d6406a2f3\nvfat       249.7M   4.0K    249.7M   0% /vmfs/volumes/95e0617d-4d6a7d3b-2468-2c90dc852dca\nvfat       249.7M 149.5M    100.2M  60% /vmfs/volumes/ddfcf874-0af85ec7-f29d-d137b9bbb102\n</code></pre>"},{"location":"vmware/%E6%99%AE%E9%80%9Apc%E9%83%A8%E7%BD%B2esxi/#2\u67e5\u770b\u786c\u76d8\u603b\u6570","title":"2.\u67e5\u770b\u786c\u76d8\u603b\u6570","text":"<p>\u6267\u884c<code>esxcli storage core device list</code> \u547d\u4ee4\uff0c\u67e5\u770besxi\u4e3b\u673a\u5b58\u50a8\u786c\u76d8\u603b\u6570</p> Text Only<pre><code>#\u663e\u793a\u4e86\u4e09\u4e2a\u5b58\u50a8\u8bbe\u5907\uff1a\nt10.ATA_____WD40EFRX2D2D2D68W320NO0__________________________PL2331LAH5184J\nt10.ATA_____Colorful_SL500_240G_____________________AA000000000000001787\nt10.ATA_____WD40EFRX2D2D68W320NO____1_________________PBKATDHS____________\n</code></pre> <ol> <li>\u663e\u793a\u76ee\u524desxi\u4f7f\u7528\u7684\u5b58\u50a8\uff08\u5982\u679c\u4f60\u53ea\u88c5\u5176\u4e2d\u4e00\u5757\u7834\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6b63\u5e38\u4e5f\u5c31\u662f\u7cfb\u7edf\u5b89\u88c5\u76d8\uff09</li> </ol> <p>\u6267\u884c\u547d\u4ee4<code>esxcli storage vmfs extent list</code> </p> Text Only<pre><code>#\u663e\u793a\u73b0\u6709\u7684\u6570\u636e\u5b58\u50a8\uff1a\nVolume Name  VMFS UUID                            Extent Number  Device Name                                                               Partition\n-----------  -----------------------------------  -------------  ------------------------------------------------------------------------  ---------\ndatastore1   66af22a6-ea55e212-86a7-d45d6406a2f3              0  t10.ATA_____Colorful_SL500_240G_____________________AA000000000000001787          3\n</code></pre> <p>\u89e3\u91ca\uff1a</p> <ul> <li>\u5f53\u524d\u5df2\u7ecf\u6709\u4e00\u4e2a\u6570\u636e\u5b58\u50a8 <code>datastore1</code>\uff0c\u6302\u8f7d\u5728 <code>Colorful_SL500_240G</code> \u8bbe\u5907\u4e0a\u3002</li> <li>\u53e6\u5916\u4e24\u4e2a\u8bbe\u5907 <code>WD40EFRX-68W320NO0</code> \u548c <code>WD40EFRX-68W320NO1</code> \u6ca1\u6709\u6302\u8f7d\u3002</li> </ul>"},{"location":"vmware/%E6%99%AE%E9%80%9Apc%E9%83%A8%E7%BD%B2esxi/#3\u67e5\u770b\u672a\u683c\u5f0f\u5316\u7684\u78c1\u76d8","title":"3.\u67e5\u770b\u672a\u683c\u5f0f\u5316\u7684\u78c1\u76d8","text":"<p>\u67e5\u770b\u672a\u683c\u5f0f\u5316\u7684\u78c1\u76d8 \u786e\u4fdd\u8fd9\u4e24\u5757\u76d8\u6ca1\u6709\u73b0\u6709\u7684\u5206\u533a\uff1a</p> Text Only<pre><code>[root@localhost:~] partedUtil getptbl /vmfs/devices/disks/t10.ATA_____WD40EFRX2D2D2D68W320NO0__________________________PL2331LAH5184J\ngpt\n486401 255 63 7814037168\n1 8192 16785407 A19D880F05FC4D3BA006743F0F84911E unknown 0\n2 16785408 20979711 A19D880F05FC4D3BA006743F0F84911E unknown 0\n3 21241856 7813832351 A19D880F05FC4D3BA006743F0F84911E unknown 0\n[root@localhost:~] partedUtil getptbl /vmfs/devices/disks/t10.ATA_____WD40EFRX2D2D68W320NO____1_________________PBKATDHS____________\ngpt\n486401 255 63 7814037168\n1 8192 16785407 A19D880F05FC4D3BA006743F0F84911E unknown 0\n2 16785408 20979711 A19D880F05FC4D3BA006743F0F84911E unknown 0\n3 21241856 7813832351 A19D880F05FC4D3BA006743F0F84911E unknown 0\n</code></pre>"},{"location":"vmware/%E6%99%AE%E9%80%9Apc%E9%83%A8%E7%BD%B2esxi/#4\u5220\u9664\u73b0\u6709\u5206\u533a","title":"4.\u5220\u9664\u73b0\u6709\u5206\u533a","text":"<p>\u4f7f\u7528 <code>partedUtil</code> \u5220\u9664\u73b0\u6709\u5206\u533a\u3002</p> Text Only<pre><code>#\u5bf9\u4e8e t10.ATA_____WD40EFRX2D2D2D68W320NO0__________________________PL2331LAH5184J\uff1a\n\npartedUtil delete /vmfs/devices/disks/t10.ATA_____WD40EFRX2D2D2D68W320NO0__________________________PL2331LAH5184J 1\npartedUtil delete /vmfs/devices/disks/t10.ATA_____WD40EFRX2D2D2D68W320NO0__________________________PL2331LAH5184J 2\npartedUtil delete /vmfs/devices/disks/t10.ATA_____WD40EFRX2D2D2D68W320NO0__________________________PL2331LAH5184J 3\n\n\n\n#\u5bf9\u4e8e t10.ATA_____WD40EFRX2D2D68W320NO____1_________________PBKATDHS____________\uff1a\n\npartedUtil delete /vmfs/devices/disks/t10.ATA_____WD40EFRX2D2D68W320NO____1_________________PBKATDHS____________ 1\npartedUtil delete /vmfs/devices/disks/t10.ATA_____WD40EFRX2D2D68W320NO____1_________________PBKATDHS____________ 2\npartedUtil delete /vmfs/devices/disks/t10.ATA_____WD40EFRX2D2D68W320NO____1_________________PBKATDHS____________ 3\n</code></pre>"},{"location":"vmware/%E6%99%AE%E9%80%9Apc%E9%83%A8%E7%BD%B2esxi/#5\u6302\u8f7d\u5b58\u50a8","title":"5.\u6302\u8f7d\u5b58\u50a8","text":"<p>\u4e00\u822c\u5230esxi\u7684web\u540e\u53f0\u64cd\u4f5c\u66f4\u65b9\u4fbf\uff0c\u7136\uff0c\u5982\u679c\u4e0d\u628a\u8fd9\u4e9b\u786c\u76d8\u4ee5\u53ca\u5b58\u5728\u7684\u6570\u636e\u683c\u5f0f\u5316\uff0c\u6302\u8f7d\u4e0d\u4e86\uff0c\u6240\u4ee5\u7528\u547d\u4ee4\u5408\u9002\u3002</p>"},{"location":"vmware/%E7%BD%91%E7%BB%9C%E9%80%82%E9%85%8D%E5%99%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F/","title":"\u7f51\u7edc\u9002\u914d\u5668\u7684\u4e09\u79cd\u6a21\u5f0f","text":"<p>\u200b       \u5728 VMware \u865a\u62df\u673a\u4e2d\uff0c\u7f51\u7edc\u9002\u914d\u5668\u7684\u6a21\u5f0f\u4e3b\u8981\u6709\u4e09\u79cd\uff1a\u6865\u63a5\u6a21\u5f0f\uff08Bridged\uff09\u3001NAT \u6a21\u5f0f\uff08Network Address Translation\uff09\u548c\u4ec5\u4e3b\u673a\u6a21\u5f0f\uff08Host-Only\uff09\u3002\u6bcf\u79cd\u6a21\u5f0f\u7684\u7279\u70b9\u548c\u9002\u7528\u573a\u666f\u5982\u4e0b\uff1a</p>"},{"location":"vmware/%E7%BD%91%E7%BB%9C%E9%80%82%E9%85%8D%E5%99%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F/#\u4e00\u6865\u63a5\u6a21\u5f0fbridged","title":"\u4e00\u3001\u6865\u63a5\u6a21\u5f0f\uff08Bridged\uff09","text":"<ul> <li> <p>\u7279\u70b9\uff1a\u865a\u62df\u673a\u76f4\u63a5\u8fde\u63a5\u5230\u7269\u7406\u7f51\u7edc\uff0c\u5c31\u50cf\u4e00\u53f0\u72ec\u7acb\u7684\u7269\u7406\u8ba1\u7b97\u673a\u4e00\u6837\u3002\u865a\u62df\u673a\u4f1a\u4ece\u7269\u7406\u7f51\u7edc\u7684 DHCP \u670d\u52a1\u5668\u83b7\u53d6 IP \u5730\u5740\u3002</p> </li> <li> <p>\u9002\u7528\u573a\u666f\uff1a\u9700\u8981\u865a\u62df\u673a\u5728\u7f51\u7edc\u4e2d\u6709\u72ec\u7acb IP \u5730\u5740\uff0c\u4e0e\u7269\u7406\u7f51\u7edc\u8bbe\u5907\u76f4\u63a5\u901a\u4fe1\u3002</p> </li> <li> <p>\u64cd\u4f5c\u6b65\u9aa4\uff1a</p> </li> <li> <p>\u6253\u5f00 VMware\uff0c\u9009\u62e9\u9700\u8981\u8bbe\u7f6e\u7684\u865a\u62df\u673a\u3002</p> </li> <li> <p>\u70b9\u51fb\u201c\u7f16\u8f91\u865a\u62df\u673a\u8bbe\u7f6e\u201d\u3002</p> </li> <li> <p>\u9009\u62e9\u201c\u7f51\u7edc\u9002\u914d\u5668\u201d\u3002</p> </li> <li> <p>\u9009\u62e9\u201c\u6865\u63a5\u6a21\u5f0f\uff08Bridged\uff09\u201d\u3002</p> </li> <li> <p>\u786e\u8ba4\u8bbe\u7f6e\u5e76\u542f\u52a8\u865a\u62df\u673a\u3002</p> </li> </ul>"},{"location":"vmware/%E7%BD%91%E7%BB%9C%E9%80%82%E9%85%8D%E5%99%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F/#\u4e8cnat-\u6a21\u5f0fnetwork-address-translation","title":"\u4e8c\u3001NAT \u6a21\u5f0f\uff08Network Address Translation\uff09","text":"<ul> <li>\u7279\u70b9\uff1a\u865a\u62df\u673a\u901a\u8fc7\u4e3b\u673a\u7684 IP \u5730\u5740\u548c\u5916\u90e8\u7f51\u7edc\u901a\u4fe1\uff0c\u4e3b\u673a\u4f1a\u4e3a\u865a\u62df\u673a\u5206\u914d\u4e00\u4e2a\u79c1\u6709 IP \u5730\u5740\u3002\u865a\u62df\u673a\u8bbf\u95ee\u5916\u90e8\u7f51\u7edc\u65f6\uff0c\u901a\u8fc7\u4e3b\u673a\u7684 NAT \u529f\u80fd\u8f6c\u53d1\u6d41\u91cf\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u9700\u8981\u865a\u62df\u673a\u8bbf\u95ee\u5916\u90e8\u7f51\u7edc\uff0c\u4f46\u4e0d\u9700\u8981\u865a\u62df\u673a\u6709\u72ec\u7acb\u7684 IP \u5730\u5740\u3002</li> <li>\u64cd\u4f5c\u6b65\u9aa4\uff1a</li> <li>\u6253\u5f00 VMware\uff0c\u9009\u62e9\u9700\u8981\u8bbe\u7f6e\u7684\u865a\u62df\u673a\u3002</li> <li>\u70b9\u51fb\u201c\u7f16\u8f91\u865a\u62df\u673a\u8bbe\u7f6e\u201d\u3002</li> <li>\u9009\u62e9\u201c\u7f51\u7edc\u9002\u914d\u5668\u201d\u3002</li> <li>\u9009\u62e9\u201cNAT \u6a21\u5f0f\uff08NAT\uff09\u201d\u3002</li> <li>\u786e\u8ba4\u8bbe\u7f6e\u5e76\u542f\u52a8\u865a\u62df\u673a\u3002</li> </ul>"},{"location":"vmware/%E7%BD%91%E7%BB%9C%E9%80%82%E9%85%8D%E5%99%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F/#\u4e09\u4ec5\u4e3b\u673a\u6a21\u5f0fhost-only","title":"\u4e09\u3001\u4ec5\u4e3b\u673a\u6a21\u5f0f\uff08Host-Only\uff09","text":"<ul> <li>\u7279\u70b9\uff1a\u865a\u62df\u673a\u53ea\u80fd\u4e0e\u4e3b\u673a\u548c\u5176\u4ed6\u914d\u7f6e\u4e3a\u4ec5\u4e3b\u673a\u6a21\u5f0f\u7684\u865a\u62df\u673a\u901a\u4fe1\u3002\u865a\u62df\u673a\u4e4b\u95f4\u4ee5\u53ca\u865a\u62df\u673a\u548c\u4e3b\u673a\u4e4b\u95f4\u53ef\u4ee5\u4e92\u76f8\u901a\u4fe1\uff0c\u4f46\u65e0\u6cd5\u8bbf\u95ee\u5916\u90e8\u7f51\u7edc\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u9700\u8981\u865a\u62df\u673a\u4e4b\u95f4\u8fdb\u884c\u7f51\u7edc\u901a\u4fe1\uff0c\u4f46\u4e0d\u9700\u8981\u8bbf\u95ee\u5916\u90e8\u7f51\u7edc\u3002</li> <li>\u64cd\u4f5c\u6b65\u9aa4\uff1a</li> <li>\u6253\u5f00 VMware\uff0c\u9009\u62e9\u9700\u8981\u8bbe\u7f6e\u7684\u865a\u62df\u673a\u3002</li> <li>\u70b9\u51fb\u201c\u7f16\u8f91\u865a\u62df\u673a\u8bbe\u7f6e\u201d\u3002</li> <li>\u9009\u62e9\u201c\u7f51\u7edc\u9002\u914d\u5668\u201d\u3002</li> <li>\u9009\u62e9\u201c\u4ec5\u4e3b\u673a\u6a21\u5f0f\uff08Host-Only\uff09\u201d\u3002</li> <li>\u786e\u8ba4\u8bbe\u7f6e\u5e76\u542f\u52a8\u865a\u62df\u673a\u3002</li> </ul>"},{"location":"vmware/%E7%BD%91%E7%BB%9C%E9%80%82%E9%85%8D%E5%99%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F/#\u56db\u63a8\u8350\u6a21\u5f0f","title":"\u56db\u3001\u63a8\u8350\u6a21\u5f0f","text":"<ul> <li>\u5982\u679c\u9700\u8981\u865a\u62df\u673a\u5728\u7f51\u7edc\u4e2d\u6709\u72ec\u7acb IP \u5730\u5740\u5e76\u76f4\u63a5\u4e0e\u5176\u4ed6\u7f51\u7edc\u8bbe\u5907\u901a\u4fe1\uff0c\u63a8\u8350\u4f7f\u7528\u6865\u63a5\u6a21\u5f0f\u3002</li> <li>\u5982\u679c\u4ec5\u9700\u865a\u62df\u673a\u8bbf\u95ee\u5916\u90e8\u7f51\u7edc\uff0c\u4e0d\u9700\u8981\u72ec\u7acb IP \u5730\u5740\uff0c\u63a8\u8350\u4f7f\u7528 NAT \u6a21\u5f0f\u3002</li> </ul>"},{"location":"vmware/%E7%BD%91%E7%BB%9C%E9%80%82%E9%85%8D%E5%99%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F/#\u4e94\u64cd\u4f5c\u603b\u7ed3","title":"\u4e94\u3001\u64cd\u4f5c\u603b\u7ed3","text":"<ul> <li>\u8fdb\u5165 VMware \u8f6f\u4ef6\uff0c\u9009\u62e9\u8981\u914d\u7f6e\u7684\u865a\u62df\u673a\u3002</li> <li>\u7f16\u8f91\u865a\u62df\u673a\u8bbe\u7f6e\uff0c\u9009\u62e9\u7f51\u7edc\u9002\u914d\u5668\u3002</li> <li>\u6839\u636e\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u7f51\u7edc\u6a21\u5f0f\uff08\u6865\u63a5\u3001NAT\u3001\u4ec5\u4e3b\u673a\uff09\u3002</li> <li>\u4fdd\u5b58\u8bbe\u7f6e\u5e76\u542f\u52a8\u865a\u62df\u673a\u3002</li> </ul> <p>\u8fd9\u6837\u8bbe\u7f6e\u540e\uff0c\u865a\u62df\u673a\u5c31\u53ef\u4ee5\u6839\u636e\u9009\u62e9\u7684\u6a21\u5f0f\u4e0e\u672c\u673a\u548c\u5916\u90e8\u7f51\u7edc\u901a\u4fe1\u4e86\u3002</p>"}]}