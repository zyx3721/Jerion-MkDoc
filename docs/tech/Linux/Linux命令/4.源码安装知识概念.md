# 4. 源码安装知识概念



> 欢迎阅读《每天一个Linux命令》系列！在本篇文章中，将说明源码安装知识概念。
>

## 一、注意事项

1、源码包是从官方网站上下载来的，下载的文件常见格式一般是`.tar.gz`或`.tar.bz2`。

2、源代码下载后的保存位置："`/usr/src`保存内核源代码，`/usr/local/src`保存用户下载的源代码"。

3、软件安装位置默认目录是`/usr/local/软件名`，为方便管理与卸载，需要单独规划安装目录。

4、软件安装报错一出现`error`或`warning`字样，其二是安装过程停止，如没停止只是出现警告信息，则只是软件部分功能无法使用，并非报错。



## 二、安装步骤

### 1.下载软件包

### 2.解压缩

### 3.进入解压目录

### 4.`./configure`软件配置与检查

（1）安装前需要检测系统环境是否符合安装需求；

（2）`./configure --help`查询其支持功能，一般是通过`./configure--prefix=安装路径`来指定安装路径；

（3）把系统环境检测结果、定义好的功能选项写入Makefile文件，后续编译和安装需要依赖该文件内容。

### 5.`make`编译

make编译会调用gcc编译器，并读取Makefile文件中信息进行系统软件编译，编译目的是把源码程序转变为Linux识别的可执行文件，编译会比较费时。

### 6.`make clean`清空编译内容（非必须步骤）

如果`./configure`或`make`编译中报错，那么重新执行命令前一定要执行`make clean`命令，它会清空`Makefile`文件或编译产生的`.o`头文件。

### 7.`make install`安装

真正的安装过程，一般会写清楚程序的安装位置，如果未指定安装目录，则可以把这个命令执行过程保存下来，以备将来删除使用。

### 8.备注

`linux`编译安装都需要依赖安装包 `gcc`、`gcc-c++`、`make`、`mysql 5.5以上版本(包含mysql 5.5版本)`都需要使用`cmake`工具进行编译，不能使用`./configure`编译)，`mysql 5.7以上版本(包含 mysql 5.7版本)`在使用`cmake`进行编译时会提示错误需要`boost`软件包支持。